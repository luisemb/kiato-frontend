{"remainingRequest":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\wamp64\\www\\crm\\frontend\\src\\views\\prospects\\prospectlist.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\wamp64\\www\\crm\\frontend\\src\\views\\prospects\\prospectlist.vue","mtime":1697051798995},{"path":"C:\\wamp64\\www\\crm\\frontend\\babel.config.js","mtime":1645939880000},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1668443304941},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1652458135842},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1668443313146}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L3dhbXA2NC93d3cvY3JtL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOi93YW1wNjQvd3d3L2NybS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50ZXN0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgZmxhdFBpY2tyIGZyb20gInZ1ZS1mbGF0cGlja3ItY29tcG9uZW50IjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgImZsYXRwaWNrci9kaXN0L2ZsYXRwaWNrci5jc3MiOwppbXBvcnQgTGF5b3V0IGZyb20gIi4uLy4uL2xheW91dHMvbWFpbi52dWUiOwppbXBvcnQgUGFnZUhlYWRlciBmcm9tICJAL2NvbXBvbmVudHMvcGFnZS1oZWFkZXIiOwppbXBvcnQgYXBwQ29uZmlnIGZyb20gIi4uLy4uLy4uL2FwcC5jb25maWciOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBMb3R0aWUgZnJvbSAiQC9jb21wb25lbnRzL3dpZGdldHMvbG90dGllLnZ1ZSI7CmltcG9ydCBhbmltYXRpb25EYXRhIGZyb20gIkAvY29tcG9uZW50cy93aWRnZXRzL21zb2Vhd3FtLmpzb24iOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgTXVsdGlzZWxlY3QgZnJvbSAiQHZ1ZWZvcm0vbXVsdGlzZWxlY3QiOwppbXBvcnQgIkB2dWVmb3JtL211bHRpc2VsZWN0L3RoZW1lcy9kZWZhdWx0LnNjc3MiOyAvLyBjb21wb25lbnRzCgppbXBvcnQgbm90ZXMgZnJvbSAnLi4vLi4vY29tcG9uZW50cy91c2Vycy9ub3Rlcyc7CmltcG9ydCBDbGFzc2ljRWRpdG9yIGZyb20gIkBja2VkaXRvci9ja2VkaXRvcjUtYnVpbGQtY2xhc3NpYyI7CmltcG9ydCBQYXBhIGZyb20gInBhcGFwYXJzZSI7CmltcG9ydCB7IHJlZiwgd2F0Y2ggfSBmcm9tICJ2dWUiOwppbXBvcnQgdXNlVnVlbGlkYXRlIGZyb20gIkB2dWVsaWRhdGUvY29yZSI7CmltcG9ydCBqd3RfZGVjb2RlIGZyb20gImp3dC1kZWNvZGUiOyAvL09wdGlvbmFsIGRlZmF1bHQgQ1NTCgppbXBvcnQgU2ltcGxlVHlwZWFoZWFkIGZyb20gInZ1ZTMtc2ltcGxlLXR5cGVhaGVhZCI7CmltcG9ydCAndnVlMy1zaW1wbGUtdHlwZWFoZWFkL2Rpc3QvdnVlMy1zaW1wbGUtdHlwZWFoZWFkLmNzcyc7IC8vT3B0aW9uYWwgZGVmYXVsdCBDU1MKCmV4cG9ydCBkZWZhdWx0IHsKICBwYWdlOiB7CiAgICB0aXRsZTogIlByb3NwZWN0IExpc3QiLAogICAgbWV0YTogW3sKICAgICAgbmFtZTogImRlc2NyaXB0aW9uIiwKICAgICAgY29udGVudDogYXBwQ29uZmlnLmRlc2NyaXB0aW9uCiAgICB9XQogIH0sCiAgY29tcG9uZW50czogewogICAgTGF5b3V0OiBMYXlvdXQsCiAgICBQYWdlSGVhZGVyOiBQYWdlSGVhZGVyLAogICAgZmxhdFBpY2tyOiBmbGF0UGlja3IsCiAgICBNdWx0aXNlbGVjdDogTXVsdGlzZWxlY3QsCiAgICBMb3R0aWU6IExvdHRpZSwKICAgIG5vdGVzOiBub3RlcywKICAgIFNpbXBsZVR5cGVhaGVhZDogU2ltcGxlVHlwZWFoZWFkCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6ICJQcm9zcGVjdCBMaXN0IiwKICAgICAgaXRlbXM6IFt7CiAgICAgICAgdGV4dDogIlByb3NwZWN0cyIsCiAgICAgICAgaHJlZjogIi8iCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiUHJvc3BlY3QgTGlzdCIsCiAgICAgICAgYWN0aXZlOiB0cnVlCiAgICAgIH1dLAogICAgICBwYWdlOiAxLAogICAgICBwZXJQYWdlOiAxMDAsCiAgICAgIHBhZ2VzOiBbXSwKICAgICAgc2VhcmNoUXVlcnk6IG51bGwsCiAgICAgIHRpbWVDb25maWc6IHsKICAgICAgICBlbmFibGVUaW1lOiBmYWxzZSwKICAgICAgICBkYXRlRm9ybWF0OiAiZCBNLCBZIgogICAgICB9LAogICAgICBkYXRlVGltZUNvbmZpZzogewogICAgICAgIGVuYWJsZVRpbWU6IHRydWUsCiAgICAgICAgZGF0ZUZvcm1hdDogIkYgaiwgWSBIOmkgSyIKICAgICAgfSwKICAgICAgaHVtYW5mcmllbmRseUNvbmZpZzogewogICAgICAgIGRhdGVGb3JtYXQ6ICJGIGosIFkiCiAgICAgIH0sCiAgICAgIHR5cGVMaXN0OiB7fSwKICAgICAgY2xpZW50RGF0YTogW10sCiAgICAgIGRhdGE6IHsKICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgIHNlYXJjaFZhbHVlczogewogICAgICAgICAgdHlwZTogJzAnLAogICAgICAgICAgbm90ZVNlYXJjaDogJycsCiAgICAgICAgICBrZXl3b3JkOiAnJywKICAgICAgICAgIGxhbmd1YWdlOiAnMycsCiAgICAgICAgICBjbGllbnRzOiAxLAogICAgICAgICAgc3RhdHVzOiAnMCcsCiAgICAgICAgICBzb3J0Qnk6ICduYW1lJywKICAgICAgICAgIG9yZGVyQnk6ICdBU0MnLAogICAgICAgICAgZGF0ZVJhbmdlOiAnMCcsCiAgICAgICAgICBkZXBhcnRtZW50OiAnMCcsCiAgICAgICAgICB0b0RhdGU6IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi11cycsIHsKICAgICAgICAgICAgeWVhcjogIm51bWVyaWMiLAogICAgICAgICAgICBtb250aDogImxvbmciLAogICAgICAgICAgICBkYXk6ICJudW1lcmljIgogICAgICAgICAgfSksCiAgICAgICAgICBmcm9tRGF0ZTogbmV3IERhdGUobmV3IERhdGUoKS5zZXRGdWxsWWVhcihuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgLSAxKSkudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi11cycsIHsKICAgICAgICAgICAgeWVhcjogIm51bWVyaWMiLAogICAgICAgICAgICBtb250aDogImxvbmciLAogICAgICAgICAgICBkYXk6ICJudW1lcmljIgogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlZmF1bHRPcHRpb25zOiB7CiAgICAgICAgYW5pbWF0aW9uRGF0YTogYW5pbWF0aW9uRGF0YQogICAgICB9LAogICAgICBsaXN0OiBbXSwKICAgICAgYWdlbnREYXRhOiB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIGVtYWlsOiAnJywKICAgICAgICBmaXJzdE5hbWU6ICcnLAogICAgICAgIGxhc3ROYW1lOiAnJywKICAgICAgICBsYW5ndWFnZTogJycsCiAgICAgICAgc3RhdHVzOiAnJywKICAgICAgICBwaG9uZTogJycsCiAgICAgICAgZGVwYXJ0bWVudDogJycsCiAgICAgICAgc3RhdGU6ICcnLAogICAgICAgIGJpcnRoRGF0ZTogJycsCiAgICAgICAgYWRkcmVzczogJycsCiAgICAgICAgY291bnRyeTogJycsCiAgICAgICAgemlwQ29kZTogJycsCiAgICAgICAgaW50ZXJ2aWV3OiAnJywKICAgICAgICBhZ2VudE51bWJlcjogJycsCiAgICAgICAgY3JlYXRlZEJ5OiAnJywKICAgICAgICBpbnN1cmFuY2VMaWNlbnNlOiAnJywKICAgICAgICBsaWNlbnNlTnVtYmVyOiAnJwogICAgICB9LAogICAgICBkZXBhcnRtZW50TGlzdDoge30sCiAgICAgIHN0YXR1c0xpc3Q6IHt9LAogICAgICBub3Rlc0RhdGE6IFtdLAogICAgICBwcm9zcGVjdFN0YXR1c0xpc3Q6IHt9LAogICAgICBkYXRlMTogbnVsbCwKICAgICAgZGF0ZXRpbWVDb25maWc6IHsKICAgICAgICBlbmFibGVUaW1lOiB0cnVlLAogICAgICAgIGRhdGVGb3JtYXQ6ICJkLm0ueSIsCiAgICAgICAgdGltZV8yNGhyOiB0cnVlCiAgICAgIH0sCiAgICAgIGVkaXRvcjogQ2xhc3NpY0VkaXRvciwKICAgICAgZmlsZTogW10sCiAgICAgIGNvbnRlbnQ6IFtdLAogICAgICBwYXJzZWQ6IGZhbHNlLAogICAgICBpdGVtc1NlYXJjaDogW10sCiAgICAgIHNwZWN0ZWRDb2x1bW5zOiBbIkxhc3QgTmFtZSIsICJGaXJzdCBOYW1lIiwgIkFkZHJlc3MiLCAiQ2l0eSIsICJTdGF0ZSIsICJaaXAiLCAiRGF5dGltZSBQaG9uZSIsICJFdmVuaW5nIFBob25lIiwgIkFnZSIsICJNZWRpYSIsICJMYW5ndWFnZSIsICJSZWNlaXZlZCIsICJBc3NpZ25lZCIsICJTZWNvbmQgUHJlLUFwcHJvYWNoIExldHRlciJdLAogICAgICBhZ2VudFZpc2libGU6IHRydWUKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgY29tcGFuaWVzOiBmdW5jdGlvbiBjb21wYW5pZXMoKSB7CiAgICAgIHRoaXMuc2V0UGFnZXMoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNldFBhZ2VzKCk7CiAgfSwKICBmaWx0ZXJzOiB7CiAgICB0cmltV29yZHM6IGZ1bmN0aW9uIHRyaW1Xb3Jkcyh2YWx1ZSkgewogICAgICByZXR1cm4gdmFsdWUuc3BsaXQoIiAiKS5zcGxpY2UoMCwgMjApLmpvaW4oIiAiKSArICIuLi4iOwogICAgfQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIGZpbGVzID0gcmVmKFtdKTsKICAgIHZhciBkcm9wem9uZUZpbGUgPSByZWYoIiIpOwoKICAgIHZhciBkcm9wID0gZnVuY3Rpb24gZHJvcChlKSB7CiAgICAgIGRyb3B6b25lRmlsZS52YWx1ZSA9IGUuZGF0YVRyYW5zZmVyLmZpbGVzWzBdOwogICAgICBmaWxlcy52YWx1ZS5wdXNoKGRyb3B6b25lRmlsZS52YWx1ZSk7CiAgICB9OwoKICAgIHZhciBzZWxlY3RlZEZpbGUgPSBmdW5jdGlvbiBzZWxlY3RlZEZpbGUoKSB7CiAgICAgIGRyb3B6b25lRmlsZS52YWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXN0RmlsZScpLmZpbGVzWzBdOwogICAgICBmaWxlcy52YWx1ZS5wdXNoKGRyb3B6b25lRmlsZS52YWx1ZSk7CiAgICB9OwoKICAgIHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIF90b0NvbnN1bWFibGVBcnJheShmaWxlcy52YWx1ZSk7CiAgICB9LCBmdW5jdGlvbiAoY3VycmVudFZhbHVlKSB7CiAgICAgIHJldHVybiBjdXJyZW50VmFsdWU7CiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIGRyb3B6b25lRmlsZTogZHJvcHpvbmVGaWxlLAogICAgICBkcm9wOiBkcm9wLAogICAgICBzZWxlY3RlZEZpbGU6IHNlbGVjdGVkRmlsZSwKICAgICAgdiQ6IHVzZVZ1ZWxpZGF0ZSgpLAogICAgICBmaWxlczogZmlsZXMKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBlZGl0ZGF0YTogZnVuY3Rpb24gZWRpdGRhdGEoZGF0YSkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQnKS52YWx1ZSA9IGRhdGEuaWQ7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXN0b21lcm5hbWUnKS52YWx1ZSA9IGRhdGEubmFtZTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBhbnluYW1lJykudmFsdWUgPSBkYXRhLmNvbXBhbnk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWFkc3Njb3JlJykudmFsdWUgPSBkYXRhLnNjb3JlOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGhvbmUnKS52YWx1ZSA9IGRhdGEucGhvbmU7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2NhdGlvbicpLnZhbHVlID0gZGF0YS5sb2NhdGlvbjsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGUnKS52YWx1ZSA9IGRhdGEuZGF0ZTsKICAgIH0sCiAgICB1cGRhdGVDbGllbnQ6IGZ1bmN0aW9uIHVwZGF0ZUNsaWVudCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBkYXRhLCBsaXN0LCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMgPSBbXTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmNsaWVudERhdGEuZmlyc3ROYW1lKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdGaXJzdCBOYW1lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMuY2xpZW50RGF0YS5sYXN0TmFtZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnTGFzdCBOYW1lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jbGllbnREYXRhLmdlbmRlciAhPT0gJ00nICYmIF90aGlzLmNsaWVudERhdGEuZ2VuZGVyICE9PSAnRicpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ0dlbmRlciBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY2xpZW50RGF0YS5sYW5ndWFnZS50b1N0cmluZygpICE9PSAnMScgJiYgX3RoaXMuY2xpZW50RGF0YS5sYW5ndWFnZS50b1N0cmluZygpICE9PSAnMicpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ0xhbmd1YWdlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMuY2xpZW50RGF0YS5zdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ1N0YXR1cyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmNsaWVudERhdGEucGhvbmVOdW1iZXIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ1Bob25lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy52YWxpZFBob25lKF90aGlzLmNsaWVudERhdGEucGhvbmVOdW1iZXIpID09PSBmYWxzZSAmJiBfdGhpcy5jbGllbnREYXRhLnBob25lTnVtYmVyICE9PSAnJykgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnUGxlYXNlLCB3cml0ZSBhIHZhbGlkIHBob25lIG51bWJlciEnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmNsaWVudERhdGEuZGVwYXJ0bWVudElEKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdEZXBhcnRtZW50IGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jbGllbnREYXRhLmxlYWRUeXBlID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnTGVhZC9jbGllbnQgU291cmNlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5lcnJvcnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICAgICAgICAgICAgZW1haWw6IF90aGlzLmNsaWVudERhdGEuZW1haWwsCiAgICAgICAgICAgICAgICAgIGNpdHk6IF90aGlzLmNsaWVudERhdGEuY2l0eSwKICAgICAgICAgICAgICAgICAgZmlyc3ROYW1lOiBfdGhpcy5jbGllbnREYXRhLmZpcnN0TmFtZSwKICAgICAgICAgICAgICAgICAgbGFzdE5hbWU6IF90aGlzLmNsaWVudERhdGEubGFzdE5hbWUsCiAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBfdGhpcy5jbGllbnREYXRhLmxhbmd1YWdlLAogICAgICAgICAgICAgICAgICBzdGF0dXM6IF90aGlzLmNsaWVudERhdGEuc3RhdHVzLAogICAgICAgICAgICAgICAgICBsZWFkVHlwZTogX3RoaXMuY2xpZW50RGF0YS5sZWFkVHlwZSwKICAgICAgICAgICAgICAgICAgZ2VuZGVyOiBfdGhpcy5jbGllbnREYXRhLmdlbmRlciwKICAgICAgICAgICAgICAgICAgcGhvbmVOdW1iZXI6IF90aGlzLmNsaWVudERhdGEucGhvbmVOdW1iZXIsCiAgICAgICAgICAgICAgICAgIGRlcGFydG1lbnRJRDogX3RoaXMuY2xpZW50RGF0YS5kZXBhcnRtZW50SUQsCiAgICAgICAgICAgICAgICAgIHN0YXRlOiBfdGhpcy5jbGllbnREYXRhLnN0YXRlLAogICAgICAgICAgICAgICAgICBiaXJ0aERhdGU6IF90aGlzLmZvcm1hdERhdGUoX3RoaXMuY2xpZW50RGF0YS5iaXJ0aGRheSwgJ0REIE1NTSwgWVlZWScpLAogICAgICAgICAgICAgICAgICBhZGRyZXNzOiBfdGhpcy5jbGllbnREYXRhLmFkZHJlc3MsCiAgICAgICAgICAgICAgICAgIGNvdW50cnk6IF90aGlzLmNsaWVudERhdGEuY291bnRyeSwKICAgICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogX3RoaXMuY2xpZW50RGF0YS5wb3N0YWxDb2RlLAogICAgICAgICAgICAgICAgICBpbnRlcnZpZXdEYXRlOiBfdGhpcy5jbGllbnREYXRhLmludGVydmlldywKICAgICAgICAgICAgICAgICAgY3JlYXRlZEJ5OiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgbGljZW5zZU51bWJlcjogX3RoaXMuY2xpZW50RGF0YS5saWNlbnNlTnVtYmVyLAogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICBjbGllbnRJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoJy9hcGkvY2xpZW50L3VwZGF0ZUNsaWVudCcsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlLW1vZGFsJykuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0NsaWVudCB1cGRhdGUgc3VjY2Vzc2Z1bGx5IScKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpLmNhdGNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QsIHByb3BlcnR5OwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNoZWNrIHRoZSBmb2xsb3dpbmc6ICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgX3RoaXMuZXJyb3JzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgX3RoaXMuZXJyb3JzW2ldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY29tcGxldGUgdGhlIGZvcm0hICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZE5ld0FnZW50TW9kYWw6IGZ1bmN0aW9uIGFkZE5ld0FnZW50TW9kYWwoKSB7CiAgICAgIHRoaXMucmVzZXRBZ2VudERhdGEoKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZGZvcm0iKS5yZXNldCgpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWdlbnRNb2RhbExhYmVsJykuaW5uZXJIVE1MID0gIkFkZCBQcm9zcGVjdCI7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Tm90ZU9wZW4nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLWJ0bicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC1idG4nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdE5vdGVzJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICB9LAogICAgY3JlYXRlQ2xpZW50OiBmdW5jdGlvbiBjcmVhdGVDbGllbnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIGJlbmVmaWNpYXJpZXMsIGVtZXJnZW5jeUNvbnRhY3RzLCBhZGRlZENoaWxkcywgbm90ZSwgZm9ybVZhbHVlcywgdmFsdWVzLCBkYXRhLCBsaXN0LCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzID0gW107CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuY2xpZW50RGF0YS5maXJzdE5hbWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdGaXJzdCBOYW1lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmNsaWVudERhdGEubGFzdE5hbWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdMYXN0IE5hbWUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuY2xpZW50RGF0YS5zdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdTdGF0dXMgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuY2xpZW50RGF0YS5waG9uZU51bWJlcikgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ1Bob25lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIudmFsaWRQaG9uZShfdGhpczIuY2xpZW50RGF0YS5waG9uZSkgPT09IGZhbHNlICYmIF90aGlzMi5jbGllbnREYXRhLnBob25lID09PSAnJykgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ1BsZWFzZSwgd3JpdGUgYSB2YWxpZCBwaG9uZSBudW1iZXIhJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuY2xpZW50RGF0YS5kZXBhcnRtZW50SUQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdEZXBhcnRtZW50IGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIuY2xpZW50RGF0YS50eXBlID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0xlYWQvQ2xpZW50IFNvdXJjZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmNsaWVudERhdGEuZ2VuZGVyICE9PSAnTScgJiYgX3RoaXMyLmNsaWVudERhdGEuZ2VuZGVyICE9PSAnRicpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdHZW5kZXIgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi5jbGllbnREYXRhLmxhbmd1YWdlICE9PSAnMScgJiYgX3RoaXMyLmNsaWVudERhdGEubGFuZ3VhZ2UgIT09ICcyJykgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0xhbmd1YWdlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIuY2xpZW50RGF0YS5sZWFkVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdMZWFkL2NsaWVudCBTb3VyY2UgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi5lcnJvcnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJlbmVmaWNpYXJpZXMgPSBbXTsKICAgICAgICAgICAgICAgIGVtZXJnZW5jeUNvbnRhY3RzID0gW107CiAgICAgICAgICAgICAgICBhZGRlZENoaWxkcyA9IFtdOwogICAgICAgICAgICAgICAgbm90ZSA9IHsKICAgICAgICAgICAgICAgICAgJ25vdGUnOiBfdGhpczIuY2xpZW50RGF0YS5ub3RlCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIuY2xpZW50RGF0YS5pbnRlcnZpZXcgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuY2xpZW50RGF0YS5pbnRlcnZpZXcgPSAnJzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmb3JtVmFsdWVzID0gewogICAgICAgICAgICAgICAgICAnYWRkcmVzcyc6IF90aGlzMi5jbGllbnREYXRhLmFkZHJlc3MsCiAgICAgICAgICAgICAgICAgICdiaXJ0aGRheSc6IF90aGlzMi5mb3JtYXREYXRlKF90aGlzMi5jbGllbnREYXRhLmJpcnRoZGF5LCAnREQgTU1NLCBZWVlZJyksCiAgICAgICAgICAgICAgICAgICdjaXR5JzogX3RoaXMyLmNsaWVudERhdGEuY2l0eSwKICAgICAgICAgICAgICAgICAgJ2NvdW50cnknOiBfdGhpczIuY2xpZW50RGF0YS5jb3VudHJ5LAogICAgICAgICAgICAgICAgICAnZGVwYXJ0bWVudCc6IF90aGlzMi5jbGllbnREYXRhLmRlcGFydG1lbnRJRCwKICAgICAgICAgICAgICAgICAgJ2VtYWlsJzogX3RoaXMyLmNsaWVudERhdGEuZW1haWwsCiAgICAgICAgICAgICAgICAgICdmaXJzdE5hbWUnOiBfdGhpczIuY2xpZW50RGF0YS5maXJzdE5hbWUsCiAgICAgICAgICAgICAgICAgICdpbnRlcnZpZXcnOiBfdGhpczIuY2xpZW50RGF0YS5pbnRlcnZpZXcsCiAgICAgICAgICAgICAgICAgICdsYW5ndWFnZSc6IF90aGlzMi5jbGllbnREYXRhLmxhbmd1YWdlLAogICAgICAgICAgICAgICAgICAnbGFzdE5hbWUnOiBfdGhpczIuY2xpZW50RGF0YS5sYXN0TmFtZSwKICAgICAgICAgICAgICAgICAgJ2xlYWRUeXBlJzogX3RoaXMyLmNsaWVudERhdGEubGVhZFR5cGUsCiAgICAgICAgICAgICAgICAgICdub3RlJzogX3RoaXMyLmNsaWVudERhdGEubm90ZSwKICAgICAgICAgICAgICAgICAgJ3Bob25lTnVtYmVyJzogX3RoaXMyLmNsaWVudERhdGEucGhvbmVOdW1iZXIsCiAgICAgICAgICAgICAgICAgICdwb3N0YWxDb2RlJzogX3RoaXMyLmNsaWVudERhdGEucG9zdGFsQ29kZSwKICAgICAgICAgICAgICAgICAgJ3N0YXRlJzogX3RoaXMyLmNsaWVudERhdGEuc3RhdGUsCiAgICAgICAgICAgICAgICAgICdzdGF0dXMnOiBfdGhpczIuY2xpZW50RGF0YS5zdGF0dXMsCiAgICAgICAgICAgICAgICAgICdsZW5ndGgnOiBfdGhpczIuY2xpZW50RGF0YS5sZW5ndGgsCiAgICAgICAgICAgICAgICAgICdnZW5kZXInOiBfdGhpczIuY2xpZW50RGF0YS5nZW5kZXIKICAgICAgICAgICAgICAgIH07IC8vIGxldCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZGZvcm0iKTsKICAgICAgICAgICAgICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgZm9ybS5lbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgLy8gICBsZXQgZSA9IGZvcm0uZWxlbWVudHNbaV07CiAgICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhlKQogICAgICAgICAgICAgICAgLy8gaWYoZS5uYW1lICE9PSAnJykgewogICAgICAgICAgICAgICAgLy8gICBmb3JtVmFsdWVzW2UubmFtZV0gPSBlLnZhbHVlOwogICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgLy8gZm9ybVZhbHVlc1snZWRpdEdlbmRlciddID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbdHlwZT0ncmFkaW8nXVtuYW1lPWVkaXRHZW5kZXJdOmNoZWNrZWQiKS52YWx1ZTsKICAgICAgICAgICAgICAgIC8vCiAgICAgICAgICAgICAgICAvLyBpZih0aGlzLmlzQ2xpZW50TGlzdCl7CiAgICAgICAgICAgICAgICAvLyAgIGZvcm1WYWx1ZXNbJ2VkaXRUeXBlJ10gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjZWRpdFR5cGUiKS52YWx1ZTsKICAgICAgICAgICAgICAgIC8vIH1lbHNlewogICAgICAgICAgICAgICAgLy8gICBmb3JtVmFsdWVzWydlZGl0VHlwZSddID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2VkaXRUeXBlMSIpLnZhbHVlOwogICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgLy8gfQoKICAgICAgICAgICAgICAgIHZhbHVlcyA9IHsKICAgICAgICAgICAgICAgICAgMDogewogICAgICAgICAgICAgICAgICAgIGZvcm1WYWx1ZXM6IGZvcm1WYWx1ZXMsCiAgICAgICAgICAgICAgICAgICAgYmVuZWZpY2lhcmllczogYmVuZWZpY2lhcmllcywKICAgICAgICAgICAgICAgICAgICBlbWVyZ2VuY3lDb250YWN0czogZW1lcmdlbmN5Q29udGFjdHMsCiAgICAgICAgICAgICAgICAgICAgYWRkZWRDaGlsZHM6IGFkZGVkQ2hpbGRzLAogICAgICAgICAgICAgICAgICAgIG5vdGU6IG5vdGUKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIGNsaWVudHNJbmZvOiB2YWx1ZXMsCiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgICAgICAgIHVzZXJFbWFpbDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgICAgICAgIGlzUHJvc3BlY3Q6IDEsCiAgICAgICAgICAgICAgICAgIHRvdGFsQ2xpZW50czogMQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9jbGllbnQvY3JlYXRlQ2xpZW50TGlzdCcsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2UuZGF0YVsnSUQnXSAhPT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2Vtb2RhbCcpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkZm9ybSIpLnJlc2V0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnQ2xpZW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5IScKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKS5jYXRjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNShlcnJvcikgewogICAgICAgICAgICAgICAgICAgIHZhciBsaXN0LCBwcm9wZXJ0eTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjogIikuY29uY2F0KGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjaGVjayB0aGUgZm9sbG93aW5nOiAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g0KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBfdGhpczIuZXJyb3JzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgX3RoaXMyLmVycm9yc1tpXSArICc8L2I+JzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNvbXBsZXRlIHRoZSBmb3JtISAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXREZXBhcnRtZW50czogZnVuY3Rpb24gZ2V0RGVwYXJ0bWVudHMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2dldERlcGFydG1lbnRzJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0VXNlckluZm86IGZ1bmN0aW9uIGdldFVzZXJJbmZvKGlkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgdmFyIGRhdGEsIGFnZW50SW5mbzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXQtYnRuJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLWJ0bicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWdlbnRNb2RhbExhYmVsJykuaW5uZXJIVE1MID0gIkVkaXQgQWdlbnQiOwogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgSUQ6IGlkCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvZ2V0VXNlcicsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGFnZW50SW5mbyA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICAgICAgICBfdGhpczQuc2V0QWdlbnREYXRhKGFnZW50SW5mbyk7CgogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQnKS52YWx1ZSA9IGFnZW50SW5mby5JRDsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRFbWFpbCcpLnZhbHVlID0gYWdlbnRJbmZvLmVtYWlsOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEZpcnN0TmFtZScpLnZhbHVlID0gYWdlbnRJbmZvLmZpcnN0TmFtZTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYXN0TmFtZScpLnZhbHVlID0gYWdlbnRJbmZvLmxhc3ROYW1lOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExhbmd1YWdlJykudmFsdWUgPSBhZ2VudEluZm8ubGFuZ3VhZ2U7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdHVzJykudmFsdWUgPSBhZ2VudEluZm8uc3RhdHVzOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBob25lTnVtYmVyJykudmFsdWUgPSBhZ2VudEluZm8ucGhvbmVOdW1iZXI7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RGVwYXJ0bWVudCcpLnZhbHVlID0gYWdlbnRJbmZvLmRlcGFydG1lbnRJRDsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRCaXJ0aERhdGUnKS52YWx1ZSA9IGFnZW50SW5mby5kYXRlT2ZCaXJ0aDsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRBZGRyZXNzJykudmFsdWUgPSBhZ2VudEluZm8uYWRkcmVzczsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0ZScpLnZhbHVlID0gYWdlbnRJbmZvLnN0YXRlOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdENvdW50cnknKS52YWx1ZSA9IGFnZW50SW5mby5jb3VudHJ5OwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBvc3RhbENvZGUnKS52YWx1ZSA9IGFnZW50SW5mby5wb3N0YWxDb2RlOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEFnZW50TnVtYmVyJykudmFsdWUgPSBhZ2VudEluZm8uYWdlbnROdW1iZXI7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Q3JlYXRlZEJ5JykudmFsdWUgPSBhZ2VudEluZm8uY3JlYXRlZEJ5OwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExpY2Vuc2VkJykudmFsdWUgPSBhZ2VudEluZm8uaXNMaWNlbnNlZDsgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRJbnRlcnZpZXcnKS52YWx1ZT1hZ2VudEluZm8uaW50ZXJ2aWV3RGF0ZTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldENsaWVudEluZm86IGZ1bmN0aW9uIGdldENsaWVudEluZm8oaWQpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgICB2YXIgZGF0YSwgY2xpZW50SW5mbzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXQtYnRuJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLWJ0bicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWdlbnRNb2RhbExhYmVsJykuaW5uZXJIVE1MID0gIkVkaXQgQ2xpZW50IjsKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIElEOiBpZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Tm90ZU9wZW4nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Tm90ZXMnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5nZXROb3RlcyhpZCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9jbGllbnQvZ2V0Q2xpZW50JywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgY2xpZW50SW5mbyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5jbGllbnREYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmNsaWVudERhdGEuYmlydGhkYXkgPSBfdGhpczUuZm9ybWF0RGF0ZShjbGllbnRJbmZvLmRhdGVPZkJpcnRoLCAnREQgTU1NLCBZWVlZJyk7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5jbGllbnREYXRhLmludGVydmlldyA9IF90aGlzNS5mb3JtYXREYXRlKGNsaWVudEluZm8uaW50ZXJ2aWV3RGF0ZSwgJ01NTU0gRCwgWVlZWSBoOm1tIEEnKTsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3NlbGVjdGVkVXNlcicsIGNsaWVudEluZm8uSUQpOwogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc2VsZWN0ZWRVc2VyTmFtZScsIGNsaWVudEluZm8uZmlyc3ROYW1lICsgJyAnICsgY2xpZW50SW5mby5sYXN0TmFtZSk7CgogICAgICAgICAgICAgICAgICBfdGhpczUuZ2V0TWFwc0xpbmsoKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB2YWxpZEVtYWlsOiBmdW5jdGlvbiB2YWxpZEVtYWlsKGVtYWlsKSB7CiAgICAgIHZhciByZSA9IC9eKChbXjw+KClbXF1cXC4sOzpcc0AiXSsoXC5bXjw+KClbXF1cXC4sOzpcc0AiXSspKil8KCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVxdKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsfSkpJC87CiAgICAgIHJldHVybiByZS50ZXN0KGVtYWlsLnRyaW0oKSk7CiAgICB9LAogICAgdmFsaWRQaG9uZTogZnVuY3Rpb24gdmFsaWRQaG9uZShwaG9uZSkgewogICAgICB2YXIgaXNwaG9uZSA9IC9eKFwrezAsfSkoXGR7MCx9KShbKF17MX1cZHsxLDN9WyldezAsfSl7MCx9KFxzP1xkK3xcK1xkezIsM31cc3sxfVxkK3xcZCspezF9W1xzfC1dP1xkKyhbXHN8LV0/XGQrKXsxLDJ9KFxzKXswLH0kL2dtLnRlc3QocGhvbmUpOwogICAgICByZXR1cm4gaXNwaG9uZTsKICAgIH0sCiAgICBmb3JtYXREYXRlOiBmdW5jdGlvbiBmb3JtYXREYXRlKGRhdGUsIGZvcm1hdCkgewogICAgICBkYXRlID0gbW9tZW50KGRhdGUpLmZvcm1hdChmb3JtYXQpOwogICAgICByZXR1cm4gZGF0ZTsKICAgIH0sCiAgICBmb3JtYXRQaG9uZTogZnVuY3Rpb24gZm9ybWF0UGhvbmUocGhvbmUpIHsKICAgICAgdmFyIGZsYWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7CiAgICAgIC8vIGlmIGZsYWcgPT0gMSBwdXQgdmFsdWUgaW4gcGhvbmUgRWRpdAogICAgICBwaG9uZSA9IHBob25lLnJlcGxhY2UoL1xEL2csICcnKTsKCiAgICAgIGlmIChwaG9uZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaWYgKHBob25lLmxlbmd0aCA+IDEwKSB7CiAgICAgICAgICBwaG9uZSA9IHBob25lLnN1YnN0cmluZygxKTsKICAgICAgICB9CgogICAgICAgIHZhciB4ID0gcGhvbmUubWF0Y2goLyhcZHswLDN9KShcZHswLDN9KShcZHswLDR9KS8pOwogICAgICAgIHBob25lID0gIXhbMl0gPyB4WzFdIDogJygnICsgeFsxXSArICcpICcgKyB4WzJdICsgKHhbM10gPyAnLScgKyB4WzNdIDogJycpOwogICAgICB9IGVsc2UgewogICAgICAgIHBob25lID0gJyc7CiAgICAgIH0KCiAgICAgIGlmIChmbGFnICE9PSAxKSB7CiAgICAgICAgcmV0dXJuIHBob25lOwogICAgICB9IGVsc2UgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UGhvbmVOdW1iZXInKS52YWx1ZSA9IHBob25lOwogICAgICB9CiAgICB9LAogICAgc2V0QWdlbnREYXRhOiBmdW5jdGlvbiBzZXRBZ2VudERhdGEoZGF0YSkgewogICAgICB0aGlzLmFnZW50RGF0YS5lbWFpbCA9IGRhdGEuZW1haWw7CiAgICAgIHRoaXMuYWdlbnREYXRhLmZpcnN0TmFtZSA9IGRhdGEuZmlyc3ROYW1lOwogICAgICB0aGlzLmFnZW50RGF0YS5sYXN0TmFtZSA9IGRhdGEubGFzdE5hbWU7CiAgICAgIHRoaXMuYWdlbnREYXRhLmxhbmd1YWdlID0gZGF0YS5sYW5ndWFnZTsKICAgICAgdGhpcy5hZ2VudERhdGEuc3RhdHVzID0gZGF0YS5zdGF0dXM7CiAgICAgIHRoaXMuYWdlbnREYXRhLnBob25lID0gZGF0YS5waG9uZU51bWJlcjsKICAgICAgdGhpcy5hZ2VudERhdGEuZGVwYXJ0bWVudCA9IGRhdGEuZGVwYXJ0bWVudElEOwogICAgICB0aGlzLmFnZW50RGF0YS5iaXJ0aERhdGUgPSB0aGlzLmZvcm1hdERhdGUoZGF0YS5kYXRlT2ZCaXJ0aCwgJ0REIE1NLCBZWVlZJyk7CiAgICAgIHRoaXMuYWdlbnREYXRhLmludGVydmlldyA9IHRoaXMuZm9ybWF0RGF0ZShkYXRhLmludGVydmlld0RhdGUsICdtLWQteSBIOmkgSycpOwogICAgICB0aGlzLmFnZW50RGF0YS5hZGRyZXNzID0gZGF0YS5hZGRyZXNzOwogICAgICB0aGlzLmFnZW50RGF0YS5zdGF0ZSA9IGRhdGEuc3RhdGU7CiAgICAgIHRoaXMuYWdlbnREYXRhLmNvdW50cnkgPSBkYXRhLmNvdW50cnk7CiAgICAgIHRoaXMuYWdlbnREYXRhLnppcENvZGUgPSBkYXRhLnBvc3RhbENvZGU7CiAgICAgIHRoaXMuYWdlbnREYXRhLmFnZW50TnVtYmVyID0gZGF0YS5hZ2VudE51bWJlcjsKICAgICAgdGhpcy5hZ2VudERhdGEuY3JlYXRlZEJ5ID0gZGF0YS5jcmVhdGVkQnk7CiAgICAgIHRoaXMuYWdlbnREYXRhLmluc3VyYW5jZUxpY2Vuc2UgPSBkYXRhLmlzTGljZW5zZWQ7CiAgICB9LAogICAgcmVzZXRBZ2VudERhdGE6IGZ1bmN0aW9uIHJlc2V0QWdlbnREYXRhKCkgewogICAgICB0aGlzLmFnZW50RGF0YSA9IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIGZpcnN0TmFtZTogJycsCiAgICAgICAgbGFzdE5hbWU6ICcnLAogICAgICAgIGxhbmd1YWdlOiAnJywKICAgICAgICBzdGF0dXM6ICcnLAogICAgICAgIHBob25lOiAnJywKICAgICAgICBkZXBhcnRtZW50OiAnJywKICAgICAgICBzdGF0ZTogJycsCiAgICAgICAgYmlydGhEYXRlOiAnJywKICAgICAgICBhZGRyZXNzOiAnJywKICAgICAgICBjb3VudHJ5OiAnJywKICAgICAgICB6aXBDb2RlOiAnJywKICAgICAgICBpbnRlcnZpZXc6ICcnLAogICAgICAgIGFnZW50TnVtYmVyOiAnJywKICAgICAgICBjcmVhdGVkQnk6ICcnLAogICAgICAgIGluc3VyYW5jZUxpY2Vuc2U6ICcnLAogICAgICAgIGxpY2Vuc2VOdW1iZXI6ICcnCiAgICAgIH07CiAgICAgIHRoaXMuY2xpZW50RGF0YSA9IFtdOwogICAgfSwKICAgIHVwZGF0ZUNsaWVudExpc3Q6IGZ1bmN0aW9uIHVwZGF0ZUNsaWVudExpc3QoKSB7CiAgICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzLAogICAgICAgICAgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICB2YXIgc3RhdHVzLCB2YWxpZGF0ZSwgZXJyb3JzLCBmaWx0ZXJMYW5ndWFnZSwgZmlsdGVyS2V5d29yZCwgZmlsdGVyVHlwZSwgZmlsdGVyTm90ZXMsIGZpbHRlckZyb21EYXRlLCBmaWx0ZXJUb0RhdGUsIHN0YXJ0LCBlbmQsIGRheXMsIHR5cGVBaGVhZCwgZGF0YSwgbGlzdCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXR1cyA9IF9hcmd1bWVudHMubGVuZ3RoID4gMCAmJiBfYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzWzBdIDogX3RoaXM2LmRhdGEuc2VhcmNoVmFsdWVzLnN0YXR1czsKICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGVycm9ycyA9IFtdOwogICAgICAgICAgICAgICAgZmlsdGVyTGFuZ3VhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyTGFuZ3VhZ2UiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlcktleXdvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyS2V5d29yZCIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyVHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJUeXBlIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJOb3RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJOb3RlcyIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyRnJvbURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyRnJvbURhdGUiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlclRvRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJUb0RhdGUiKS52YWx1ZTsKICAgICAgICAgICAgICAgIF90aGlzNi5kYXRhLnNlYXJjaFZhbHVlcy5zdGF0dXMgPSBzdGF0dXM7CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlckxhbmd1YWdlICE9PSAnJyAmJiAoZmlsdGVyTGFuZ3VhZ2UgPT09ICcxJyB8fCBmaWx0ZXJMYW5ndWFnZSA9PT0gJzInKSkgewogICAgICAgICAgICAgICAgICBfdGhpczYuZGF0YS5zZWFyY2hWYWx1ZXMubGFuZ3VhZ2UgPSBmaWx0ZXJMYW5ndWFnZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyS2V5d29yZCAhPT0gJycgJiYgZmlsdGVyS2V5d29yZC5sZW5ndGggPj0gMykgewogICAgICAgICAgICAgICAgICBfdGhpczYuZGF0YS5zZWFyY2hWYWx1ZXMua2V5d29yZCA9IGZpbHRlcktleXdvcmQ7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlcktleXdvcmQgIT09ICcnICYmIGZpbHRlcktleXdvcmQubGVuZ3RoIDwgMykgewogICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCgnS2V5d29yZCBzZWFyY2ggc2hvdWxkIGhhdmUgMyBvciBtb3JlIGNoYXJhY3RlcnMhJyk7CiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlclR5cGUgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5kYXRhLnNlYXJjaFZhbHVlcy50eXBlID0gZmlsdGVyVHlwZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyTm90ZXMgIT09ICcnICYmIGZpbHRlck5vdGVzLmxlbmd0aCA+PSAzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5kYXRhLnNlYXJjaFZhbHVlcy5ub3RlU2VhcmNoID0gZmlsdGVyTm90ZXM7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlck5vdGVzICE9PSAnJyAmJiBmaWx0ZXJOb3Rlcy5sZW5ndGggPCAzKSB7CiAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCdOb3RlcyBzZWFyY2ggc2hvdWxkIGhhdmUgMyBvciBtb3JlIGNoYXJhY3RlcnMhJyk7CiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc3RhcnQgPSBtb21lbnQoX3RoaXM2LmZvcm1hdERhdGUoZmlsdGVyRnJvbURhdGUsICdZWVlZLU1NLUREJykpOwogICAgICAgICAgICAgICAgZW5kID0gbW9tZW50KF90aGlzNi5mb3JtYXREYXRlKGZpbHRlclRvRGF0ZSwgJ1lZWVktTU0tREQnKSk7CiAgICAgICAgICAgICAgICBkYXlzID0gZW5kLmRpZmYoc3RhcnQsICJkYXlzIik7CgogICAgICAgICAgICAgICAgaWYgKGRheXMgPD0gMzY1KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5kYXRhLnNlYXJjaFZhbHVlcy5mcm9tRGF0ZSA9IGZpbHRlckZyb21EYXRlOwogICAgICAgICAgICAgICAgICBfdGhpczYuZGF0YS5zZWFyY2hWYWx1ZXMudG9EYXRlID0gZmlsdGVyVG9EYXRlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goIkZyb20gRGF0ZSBhbmQgVG8gRGF0ZSAocmFuZ2UpIGNvdWxkbid0IGJlIGxhcmdlciB0aGFuIGEgeWVhciAoMzY1IGRheXMpISIpOwogICAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHR5cGVBaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0eXBlYWhlYWRfaWQnKTsKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIGlzUHJvc3BlY3Q6IDEsCiAgICAgICAgICAgICAgICAgIHNlYXJjaFZhbHVlczogX3RoaXM2LmRhdGEuc2VhcmNoVmFsdWVzLAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICBkZWxldGVkOiAwLAogICAgICAgICAgICAgICAgICBhZ2VudFNlYXJjaDogdHlwZUFoZWFkICE9IG51bGwgJiYgdHlwZW9mIHR5cGVBaGVhZCAhPSAndW5kZWZpbmVkJyA/IHR5cGVBaGVhZC52YWx1ZSA6IFtdCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY2xpZW50L2xpc3RDbGllbnRzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2Lmxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgICBfdGhpczYucGFnZSA9IDE7CgogICAgICAgICAgICAgICAgICBfdGhpczYuc2V0UGFnZXMoKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAvKiBlbHNlIGlmIChlcnJvci5tZXNzYWdlKSB7DQogICAgICAgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpDQogICAgICAgICAgICAgICAgICB9Ki8KCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGVycm9ycy5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgICAgICAgICAgICBsaXN0ICs9IGVycm9yc1tpXSArICcgXG4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSgiIiArIGxpc3QsICcnLCAnaW5mbycpOwoKICAgICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTApOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVBZ2VudExpc3Q6IGZ1bmN0aW9uIHVwZGF0ZUFnZW50TGlzdCgpIHsKICAgICAgdmFyIF9hcmd1bWVudHMyID0gYXJndW1lbnRzLAogICAgICAgICAgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICB2YXIgc3RhdHVzLCB2YWxpZGF0ZSwgZXJyb3JzLCBmaWx0ZXJMYW5ndWFnZSwgZmlsdGVyS2V5d29yZCwgZmlsdGVyTGljZW5zZWQsIGZpbHRlck5vdGVzLCBmaWx0ZXJGcm9tRGF0ZSwgZmlsdGVyVG9EYXRlLCBzdGFydCwgZW5kLCBkYXlzLCB0eXBlQWhlYWQsIGRhdGEsIGxpc3QsIGk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0dXMgPSBfYXJndW1lbnRzMi5sZW5ndGggPiAwICYmIF9hcmd1bWVudHMyWzBdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzMlswXSA6IDA7CiAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IHRydWU7CiAgICAgICAgICAgICAgICBlcnJvcnMgPSBbXTsKICAgICAgICAgICAgICAgIGZpbHRlckxhbmd1YWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlckxhbmd1YWdlIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJLZXl3b3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlcktleXdvcmQiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlckxpY2Vuc2VkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlckxpY2Vuc2VkIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJOb3RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJOb3RlcyIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyRnJvbURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyRnJvbURhdGUiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlclRvRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJUb0RhdGUiKS52YWx1ZTsKICAgICAgICAgICAgICAgIF90aGlzNy5kYXRhLnNlYXJjaFZhbHVlcy5zdGF0dXMgPSBzdGF0dXM7CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlckxhbmd1YWdlICE9PSAnJyAmJiAoZmlsdGVyTGFuZ3VhZ2UgPT09ICcxJyB8fCBmaWx0ZXJMYW5ndWFnZSA9PT0gJzInKSkgewogICAgICAgICAgICAgICAgICBfdGhpczcuZGF0YS5zZWFyY2hWYWx1ZXMubGFuZ3VhZ2UgPSBmaWx0ZXJMYW5ndWFnZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyS2V5d29yZCAhPT0gJycgJiYgZmlsdGVyS2V5d29yZC5sZW5ndGggPj0gMykgewogICAgICAgICAgICAgICAgICBfdGhpczcuZGF0YS5zZWFyY2hWYWx1ZXMua2V5d29yZCA9IGZpbHRlcktleXdvcmQ7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlcktleXdvcmQgIT09ICcnICYmIGZpbHRlcktleXdvcmQubGVuZ3RoIDwgMykgewogICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCgnS2V5d29yZCBzZWFyY2ggc2hvdWxkIGhhdmUgMyBvciBtb3JlIGNoYXJhY3RlcnMhJyk7CiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlckxpY2Vuc2VkICE9PSAnJykgewogICAgICAgICAgICAgICAgICBfdGhpczcuZGF0YS5zZWFyY2hWYWx1ZXMubGljZW5zZWQgPSBmaWx0ZXJMaWNlbnNlZDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyTm90ZXMgIT09ICcnICYmIGZpbHRlck5vdGVzLmxlbmd0aCA+PSAzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5kYXRhLnNlYXJjaFZhbHVlcy5ub3RlU2VhcmNoID0gZmlsdGVyTm90ZXM7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlck5vdGVzICE9PSAnJyAmJiBmaWx0ZXJOb3Rlcy5sZW5ndGggPCAzKSB7CiAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCdOb3RlcyBzZWFyY2ggc2hvdWxkIGhhdmUgMyBvciBtb3JlIGNoYXJhY3RlcnMhJyk7CiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc3RhcnQgPSBtb21lbnQoX3RoaXM3LmZvcm1hdERhdGUoZmlsdGVyRnJvbURhdGUsICdZWVlZLU1NLUREJykpOwogICAgICAgICAgICAgICAgZW5kID0gbW9tZW50KF90aGlzNy5mb3JtYXREYXRlKGZpbHRlclRvRGF0ZSwgJ1lZWVktTU0tREQnKSk7CiAgICAgICAgICAgICAgICBkYXlzID0gZW5kLmRpZmYoc3RhcnQsICJkYXlzIik7CgogICAgICAgICAgICAgICAgaWYgKGRheXMgPD0gMzY1KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5kYXRhLnNlYXJjaFZhbHVlcy5mcm9tRGF0ZSA9IGZpbHRlckZyb21EYXRlOwogICAgICAgICAgICAgICAgICBfdGhpczcuZGF0YS5zZWFyY2hWYWx1ZXMudG9EYXRlID0gZmlsdGVyVG9EYXRlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goIkZyb20gRGF0ZSBhbmQgVG8gRGF0ZSAocmFuZ2UpIGNvdWxkbid0IGJlIGxhcmdlciB0aGFuIGEgeWVhciAoMzY1IGRheXMpISIpOwogICAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHR5cGVBaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0eXBlYWhlYWRfaWQnKTsKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIGlzUHJvc3BlY3Q6IDEsCiAgICAgICAgICAgICAgICAgIHNlYXJjaFZhbHVlczogX3RoaXM3LmRhdGEuc2VhcmNoVmFsdWVzLAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICBhZ2VudFNlYXJjaDogdHlwZUFoZWFkICE9IG51bGwgJiYgdHlwZW9mIHR5cGVBaGVhZCAhPSAndW5kZWZpbmVkJyA/IHR5cGVBaGVhZC52YWx1ZSA6IFtdCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QoJy9hcGkvbGlzdENsaWVudHMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpczcubGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgfSAvLyBmb3IgKGNvbnN0IHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmVycm9ycy5wdXNoKGAke3Byb3BlcnR5fTogJHtlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XX1gKQogICAgICAgICAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNy5lcnJvcnMucHVzaCgnU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4nKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAyODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBlcnJvcnMubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICAgICAgICAgICAgbGlzdCArPSBlcnJvcnNbaV0gKyAnIFxuJzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAyODsKICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoIiIgKyBsaXN0LCAnJywgJ2luZm8nKTsKCiAgICAgICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2V0UGFnZXM6IGZ1bmN0aW9uIHNldFBhZ2VzKCkgewogICAgICB2YXIgbnVtYmVyT2ZQYWdlcyA9IE1hdGguY2VpbCh0aGlzLmxpc3QubGVuZ3RoIC8gdGhpcy5wZXJQYWdlKTsKICAgICAgdGhpcy5wYWdlcyA9IFtdOwoKICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8PSBudW1iZXJPZlBhZ2VzOyBpbmRleCsrKSB7CiAgICAgICAgdGhpcy5wYWdlcy5wdXNoKGluZGV4KTsKICAgICAgfQogICAgfSwKICAgIHBhZ2luYXRlOiBmdW5jdGlvbiBwYWdpbmF0ZShjb21wYW5pZXMpIHsKICAgICAgdmFyIHBhZ2UgPSB0aGlzLnBhZ2U7CiAgICAgIHZhciBwZXJQYWdlID0gdGhpcy5wZXJQYWdlOwogICAgICB2YXIgZnJvbSA9IHBhZ2UgKiBwZXJQYWdlIC0gcGVyUGFnZTsKICAgICAgdmFyIHRvID0gcGFnZSAqIHBlclBhZ2U7CiAgICAgIHJldHVybiBjb21wYW5pZXMuc2xpY2UoZnJvbSwgdG8pOwogICAgfSwKICAgIGFkZEJlbmVmaWNpYXJ5OiBmdW5jdGlvbiBhZGRCZW5lZmljaWFyeSgpIHsKICAgICAgdmFyIGJlbkxpc3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdOwogICAgICB0aGlzLmJlbmVmaWNpYXJ5UXR5ID0gdGhpcy5iZW5lZmljaWFyeVF0eSArIDE7CiAgICAgIHZhciBpID0gdGhpcy5iZW5lZmljaWFyeVF0eTsKICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRCZW5lZmljaWFyeScpOwogICAgICB2YXIgc2VwYXJhdG9yID0gJyc7CiAgICAgIHZhciBjaGVja0lERXhpc3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJlbkZpcnN0TmFtZS0xIik7CiAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgogICAgICBpZiAoYmVuTGlzdC5sZW5ndGggPD0gMCkgewogICAgICAgIGJlbkxpc3QucHVzaChiZW5MaXN0WydmaXJzdE5hbWUnXSA9ICcnLCBiZW5MaXN0WydsYXN0TmFtZSddID0gJycsIGJlbkxpc3RbJ2FkZHJlc3MnXSA9ICcnLCBiZW5MaXN0WydwaG9uZU51bWJlciddID0gJycsIGJlbkxpc3RbJ3N0YXRlJ10gPSAnJywgYmVuTGlzdFsncG9zdGFsQ29kZSddID0gJycsIGJlbkxpc3RbJ3JlbGF0aW9uc2hpcCddID0gJycsIGJlbkxpc3RbJ2FnZSddID0gJycpOwogICAgICB9CgogICAgICBpZiAoY2hlY2tJREV4aXN0cykgewogICAgICAgIHNlcGFyYXRvciA9ICc8aHIgc3R5bGU9ImJvcmRlci10b3A6IDFweCBzb2xpZCAjMmM5YTJhOyI+JzsKICAgICAgfQoKICAgICAgZWxlbWVudC5pbm5lckhUTUwgKz0gJzxkaXYgY2xhc3M9InJvdyIgaWQ9InJvd0JlbicgKyBpICsgJyI+XG4nICsgc2VwYXJhdG9yICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iYmVuRmlyc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPkZpcnN0IE5hbWU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJiZW5GaXJzdE5hbWUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBGaXJzdCBOYW1lIiBuYW1lPSJiZW5GaXJzdE5hbWVbXSIgcmVxdWlyZWQgdmFsdWU9IicgKyBiZW5MaXN0WydmaXJzdE5hbWUnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImJlbkxhc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPkxhc3QgTmFtZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImJlbkxhc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgTGFzdCBOYW1lIiAgbmFtZT0iYmVuTGFzdE5hbWVbXSIgcmVxdWlyZWQgdmFsdWU9IicgKyBiZW5MaXN0WydsYXN0TmFtZSddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iYmVuQWRkcmVzcy0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5BZGRyZXNzPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iYmVuQWRkcmVzcy0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIEFkZHJlc3MiICBuYW1lPSJiZW5BZGRyZXNzW10iIHJlcXVpcmVkIHZhbHVlPSInICsgYmVuTGlzdFsnYWRkcmVzcyddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iYmVuUGhvbmUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+UGhvbmU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJiZW5QaG9uZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIFBob25lIiAgbmFtZT0iYmVuUGhvbmVbXSIgcmVxdWlyZWQgdmFsdWU9IicgKyBiZW5MaXN0WydwaG9uZU51bWJlciddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iYmVuU3RhdGUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+U3RhdGU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJiZW5TdGF0ZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIFN0YXRlIiAgbmFtZT0iYmVuU3RhdGVbXSIgIHJlcXVpcmVkIHZhbHVlPSInICsgYmVuTGlzdFsnc3RhdGUnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImJlblBvc3RhbENvZGUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+UG9zdGFsIENvZGU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJiZW5Qb3N0YWxDb2RlLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgUG9zdGFsIENvZGUiICBuYW1lPSJiZW5Qb3N0YWxDb2RlW10iIHJlcXVpcmVkIHZhbHVlPSInICsgYmVuTGlzdFsncG9zdGFsQ29kZSddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iYmVuUmVsYXRpb24tJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+UmVsYXRpb25zaGlwPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iYmVuUmVsYXRpb24tJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBSZWxhdGlvbnNoaXAiICBuYW1lPSJiZW5SZWxhdGlvbltdIiAgcmVxdWlyZWQgdmFsdWU9IicgKyBiZW5MaXN0WydyZWxhdGlvbnNoaXAnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImJlbkFnZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5BZ2U8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJiZW5BZ2UtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBBZ2UiICBuYW1lPSJiZW5BZ2VbXSIgcmVxdWlyZWQgdmFsdWU9IicgKyBiZW5MaXN0WydhZ2UnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgPGRpdiBjbGFzcz0iY29sLW1kLTYiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOyI+XG4nICsgJyA8L2Rpdj5cbicgKyAnIDxkaXYgY2xhc3M9ImNvbC1tZC02IiBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsiPlxuJyArICcgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSInICsgaSArICciIGNsYXNzPSJidG4gYnRuLWRhbmdlciByZW1vdmVJdGVtQmVuIiB0aXRsZT0iRGVsZXRlIj48aSBjbGFzcz0icmktY2xvc2UtY2lyY2xlLWxpbmUiPjwvaT48L2J1dHRvbj5cbicgKyAnIDwvZGl2PlxuJyArICc8L2Rpdj4nOwogICAgICBkaXYuYXBwZW5kQ2hpbGQoZWxlbWVudCk7CiAgICB9LAogICAgYWRkRWNvbnRhY3Q6IGZ1bmN0aW9uIGFkZEVjb250YWN0KCkgewogICAgICB2YXIgZUNvbnRhY3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdOwogICAgICB0aGlzLmVDb250YWN0UXR5ID0gdGhpcy5lQ29udGFjdFF0eSArIDE7CiAgICAgIHZhciBpID0gdGhpcy5lQ29udGFjdFF0eTsKICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRFY29udGFjdCcpOwogICAgICB2YXIgc2VwYXJhdG9yID0gJyc7CiAgICAgIHZhciBjaGVja0lERXhpc3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVDb25GaXJzdE5hbWUtMSIpOwogICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoKICAgICAgaWYgKGVDb250YWN0Lmxlbmd0aCA8PSAwKSB7CiAgICAgICAgZUNvbnRhY3QucHVzaChlQ29udGFjdFsnZmlyc3ROYW1lJ10gPSAnJywgZUNvbnRhY3RbJ2xhc3ROYW1lJ10gPSAnJywgZUNvbnRhY3RbJ2FkZHJlc3MnXSA9ICcnLCBlQ29udGFjdFsncGhvbmVOdW1iZXInXSA9ICcnLCBlQ29udGFjdFsnc3RhdGUnXSA9ICcnLCBlQ29udGFjdFsncG9zdGFsQ29kZSddID0gJycsIGVDb250YWN0WydyZWxhdGlvbnNoaXAnXSA9ICcnLCBlQ29udGFjdFsnYWdlJ10gPSAnJyk7CiAgICAgIH0KCiAgICAgIGlmIChjaGVja0lERXhpc3RzKSB7CiAgICAgICAgc2VwYXJhdG9yID0gJzxociBzdHlsZT0iYm9yZGVyLXRvcDogMXB4IHNvbGlkICMyYzlhMmE7Ij4nOwogICAgICB9CgogICAgICBlbGVtZW50LmlubmVySFRNTCArPSBzZXBhcmF0b3IgKyAnPGRpdiBjbGFzcz0icm93IiBpZD0icm93RWNvbicgKyBpICsgJyI+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iZUNvbkZpcnN0TmFtZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5GaXJzdCBOYW1lPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZUNvbkZpcnN0TmFtZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIEZpcnN0IE5hbWUiIG5hbWU9ImVDb25GaXJzdE5hbWVbXSIgcmVxdWlyZWQgdmFsdWU9IicgKyBlQ29udGFjdFsnZmlyc3ROYW1lJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJlQ29uTGFzdE5hbWUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+TGFzdCBOYW1lPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZUNvbkxhc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgTGFzdCBOYW1lIiAgbmFtZT0iZUNvbkxhc3ROYW1lW10iIHJlcXVpcmVkICB2YWx1ZT0iJyArIGVDb250YWN0WydsYXN0TmFtZSddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iZUNvbkFkZHJlc3MtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+QWRkcmVzczwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImVDb25BZGRyZXNzLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgQWRkcmVzcyIgIG5hbWU9ImVDb25BZGRyZXNzW10iIHJlcXVpcmVkICB2YWx1ZT0iJyArIGVDb250YWN0WydhZGRyZXNzJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJlQ29uUGhvbmUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+UGhvbmU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJlQ29uUGhvbmUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBQaG9uZSIgIG5hbWU9ImVDb25QaG9uZVtdIiByZXF1aXJlZCAgdmFsdWU9IicgKyBlQ29udGFjdFsncGhvbmVOdW1iZXInXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImVDb25TdGF0ZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5TdGF0ZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImVDb25TdGF0ZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIFN0YXRlIiAgbmFtZT0iZUNvblN0YXRlW10iICByZXF1aXJlZCAgdmFsdWU9IicgKyBlQ29udGFjdFsnc3RhdGUnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImVDb25Qb3N0YWxDb2RlLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPlBvc3RhbCBDb2RlPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZUNvblBvc3RhbENvZGUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBQb3N0YWwgQ29kZSIgIG5hbWU9ImVDb25Qb3N0YWxDb2RlW10iIHJlcXVpcmVkICB2YWx1ZT0iJyArIGVDb250YWN0Wydwb3N0YWxDb2RlJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJlQ29uUmVsYXRpb24tJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+UmVsYXRpb25zaGlwPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZUNvblJlbGF0aW9uLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgUmVsYXRpb25zaGlwIiAgbmFtZT0iZUNvblJlbGF0aW9uW10iICByZXF1aXJlZCAgdmFsdWU9IicgKyBlQ29udGFjdFsncmVsYXRpb25zaGlwJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJlQ29uQWdlLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPkFnZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImVDb25BZ2UtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBBZ2UiICBuYW1lPSJlQ29uQWdlW10iIHJlcXVpcmVkICB2YWx1ZT0iJyArIGVDb250YWN0WydhZ2UnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgPGRpdiBjbGFzcz0iY29sLW1kLTYiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOyI+XG4nICsgJyA8L2Rpdj5cbicgKyAnIDxkaXYgY2xhc3M9ImNvbC1tZC02IiBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsiPlxuJyArICcgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSInICsgaSArICciIGNsYXNzPSJidG4gYnRuLWRhbmdlciByZW1vdmVJdGVtRWNvbiIgdGl0bGU9IkRlbGV0ZSI+PGkgY2xhc3M9InJpLWNsb3NlLWNpcmNsZS1saW5lIj48L2k+PC9idXR0b24+XG4nICsgJyA8L2Rpdj5cbicgKyAnPC9kaXY+JzsKICAgICAgZGl2LmFwcGVuZChlbGVtZW50KTsKICAgIH0sCiAgICBhZGRBZGRpdGFtZW50czogZnVuY3Rpb24gYWRkQWRkaXRhbWVudHMoKSB7CiAgICAgIHZhciBhZGRpdGFtZW50cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107CiAgICAgIHRoaXMuYWRkaXRhbWVudHNRdHkgPSB0aGlzLmFkZGl0YW1lbnRzUXR5ICsgMTsKICAgICAgdmFyIGkgPSB0aGlzLmFkZGl0YW1lbnRzUXR5OwogICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZEFkZGl0YW1lbnRzJyk7CiAgICAgIHZhciBzZXBhcmF0b3IgPSAnJzsKICAgICAgdmFyIGNoZWNrSURFeGlzdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZUNvbkZpcnN0TmFtZS0xIik7CiAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgogICAgICBpZiAoYWRkaXRhbWVudHMubGVuZ3RoIDw9IDApIHsKICAgICAgICBhZGRpdGFtZW50cy5wdXNoKGFkZGl0YW1lbnRzWydmaXJzdE5hbWUnXSA9ICcnLCBhZGRpdGFtZW50c1snbGFzdE5hbWUnXSA9ICcnLCBhZGRpdGFtZW50c1snZ2VuZGVyJ10gPSAwLCBhZGRpdGFtZW50c1sncmV0YWxpb25zaGlwJ10gPSAwLCBhZGRpdGFtZW50c1snYWdlJ10gPSAnJyk7CiAgICAgIH0KCiAgICAgIGlmIChjaGVja0lERXhpc3RzKSB7CiAgICAgICAgc2VwYXJhdG9yID0gJzxociBzdHlsZT0iYm9yZGVyLXRvcDogMXB4IHNvbGlkICMyYzlhMmE7Ij4nOwogICAgICB9CgogICAgICBlbGVtZW50LmlubmVySFRNTCArPSBzZXBhcmF0b3IgKyAnPGRpdiBjbGFzcz0icm93IiBpZD0icm93QWRkaXRhbWVudHMnICsgaSArICciPlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9IkFkZGlGaXJzdE5hbWUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+Rmlyc3QgTmFtZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9IkFkZGlGaXJzdE5hbWUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBGaXJzdCBOYW1lIiBuYW1lPSJBZGRpRmlyc3ROYW1lW10iIHJlcXVpcmVkIHZhbHVlPSInICsgYWRkaXRhbWVudHNbJ2ZpcnN0TmFtZSddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iQWRkaUxhc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPkxhc3QgTmFtZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9IkFkZGlMYXN0TmFtZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIExhc3QgTmFtZSIgIG5hbWU9IkFkZGlMYXN0TmFtZVtdIiByZXF1aXJlZCB2YWx1ZT0iJyArIGFkZGl0YW1lbnRzWydsYXN0TmFtZSddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJzxkaXYgY2xhc3M9ImNvbC1sZy02Ij4nICsgJyAgPGxhYmVsIGZvcj0iQWRkaUdlbmRlciIgY2xhc3M9ImZvcm0tbGFiZWwiPkdlbmRlcjwvbGFiZWw+JyArICcgIDxzZWxlY3QgY2xhc3M9ImZvcm0tc2VsZWN0IG1iLTIiIGFyaWEtbGFiZWw9IkdlbmRlciIgaWQ9IkFkZGlHZW5kZXItJyArIGkgKyAnIiBuYW1lPSJBZGRpR2VuZGVyW10iPicgKyAnICAgIDxvcHRpb24gdmFsdWU9IjAiID5TZWxlY3QuLi48L29wdGlvbj4nICsgJyAgICA8b3B0aW9uIHZhbHVlPSJGIj5GZW1hbGU8L29wdGlvbj4nICsgJyAgICA8b3B0aW9uIHZhbHVlPSJNIj5NYWxlPC9vcHRpb24+JyArICc8L3NlbGVjdD4nICsgJzwvZGl2PlxuJyArICc8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgPGxhYmVsIGZvcj0iQWRkaUFnZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5BZ2U8L2xhYmVsPlxuJyArICcgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iQWRkaUFnZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIEFnZSIgIG5hbWU9IkFkZGlBZ2VbXSIgcmVxdWlyZWQgIHZhbHVlPSInICsgYWRkaXRhbWVudHNbJ2FnZSddICsgJyI+XG4nICsgJzwvZGl2PlxuJyArICcgPGRpdiBjbGFzcz0iY29sLW1kLTYiPlxuJyArICcgIDxsYWJlbCBmb3I9IkFkZGlSZWxhdGlvbi0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5SZWxhdGlvbnNoaXA8L2xhYmVsPicgKyAnICA8c2VsZWN0IGNsYXNzPSJmb3JtLXNlbGVjdCBtYi0yIiBhcmlhLWxhYmVsPSJBZGRpUmVsYXRpb24iIGlkPSJBZGRpUmVsYXRpb24tJyArIGkgKyAnIiBuYW1lPSJBZGRpUmVsYXRpb25bXSIgIHZhbHVlPSInICsgYWRkaXRhbWVudHNbJ3JldGFsaW9uc2hpcCddICsgJyI+JyArICcgICAgPG9wdGlvbiB2YWx1ZT0iMCI+UmVsYXRpb248L29wdGlvbj4nICsgJyAgICA8b3B0aW9uIHZhbHVlPSJDIj5DaGlsZHJlbjwvb3B0aW9uPicgKyAnICAgIDxvcHRpb24gdmFsdWU9IlMiPlN0ZXBzb248L29wdGlvbj4nICsgJyAgICA8b3B0aW9uIHZhbHVlPSJHIj5HcmFuZHNvbjwvb3B0aW9uPicgKyAnPC9zZWxlY3Q+JyArICcgPC9kaXY+XG4nICsgJyA8ZGl2IGNsYXNzPSJjb2wtbWQtNiIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7Ij5cbicgKyAnICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBpZD0iJyArIGkgKyAnIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgcmVtb3ZlSXRlbUFkZGl0YW1lbnRzIiB0aXRsZT0iRGVsZXRlIj48aSBjbGFzcz0icmktY2xvc2UtY2lyY2xlLWxpbmUiPjwvaT48L2J1dHRvbj5cbicgKyAnIDwvZGl2PlxuJyArICc8L2Rpdj4nOwogICAgICBkaXYuYXBwZW5kKGVsZW1lbnQpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiQWRkaUdlbmRlci0iICsgaSArICIiKS52YWx1ZSA9IGFkZGl0YW1lbnRzWydnZW5kZXInXTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkFkZGlSZWxhdGlvbi0iICsgaSArICIiKS52YWx1ZSA9IGFkZGl0YW1lbnRzWydyZXRhbGlvbnNoaXAnXTsKICAgIH0sCiAgICBnZXROb3RlczogZnVuY3Rpb24gZ2V0Tm90ZXMoKSB7CiAgICAgIHZhciBfYXJndW1lbnRzMyA9IGFyZ3VtZW50cywKICAgICAgICAgIF90aGlzOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7CiAgICAgICAgdmFyIGlkLCBkYXRhLCB1cmw7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZCA9IF9hcmd1bWVudHMzLmxlbmd0aCA+IDAgJiYgX2FyZ3VtZW50czNbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHMzWzBdIDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpOwogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgICAgICAgYWdlbnRJRDogaWQsCiAgICAgICAgICAgICAgICAgIGNsaWVudElEOiBpZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzZWxlY3RlZFVzZXInLCBpZCk7CiAgICAgICAgICAgICAgICB1cmwgPSAnJzsKICAgICAgICAgICAgICAgIHVybCA9ICcvYXBpL2NsaWVudC9nZXRDbGllbnROb3Rlcyc7CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QodXJsLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpczgubm90ZXNEYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIk5vdGVzIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldFByb3NwZWN0U3RhdHVzOiBmdW5jdGlvbiBnZXRQcm9zcGVjdFN0YXR1cyhpZCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzZWxlY3RlZFVzZXInLCBpZCk7CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICBzZWFyY2hWYWx1ZXM6IF90aGlzOS5kYXRhLnNlYXJjaFZhbHVlcywKICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgICAgICAgaXNQcm9zcGVjdDogMAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9jbGllbnQvY2xpZW50U3RhdHVzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM5LnByb3NwZWN0U3RhdHVzTGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM5LiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIkNsaWVudCB0YXR1cyBjb3VsZCBub3QgYmUgbG9hZGVkLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBtb3ZlQ2xpZW50OiBmdW5jdGlvbiBtb3ZlQ2xpZW50KCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoKSB7CiAgICAgICAgdmFyIGNsaWVudCwgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNsaWVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWxlY3RlZFVzZXInKTsKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHNlYXJjaFZhbHVlczogX3RoaXMxMC5kYXRhLnNlYXJjaFZhbHVlcywKICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgY2xpZW50OiBjbGllbnQsCiAgICAgICAgICAgICAgICAgIHN0YXR1czogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vdmVTdGF0dXMnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgaXNQcm9zcGVjdDogMAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucHV0KCcvYXBpL2NsaWVudC9tb3ZlQ2xpZW50JywgZGF0YSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY1ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZU1vdmUnKS5jbGljaygpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTAudXBkYXRlQ2xpZW50TGlzdCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJZb3VyIFByb3NwZWN0IHdhcyBtb3ZlZCB0byBDbGllbnQgTGlzdCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDUwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxNCk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g1KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY1LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIlByb3NwZWN0IGNvdWxkIG5vdCBiZSB1cGRhdGVkLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBmaWx0ZXJTdGF0dXM6IGZ1bmN0aW9uIGZpbHRlclN0YXR1cyhzdGF0dXMpIHsKICAgICAgdmFyIHN0YXR1c0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN0YXR1cyk7CiAgICAgIHN0YXR1c0J1dHRvbi5jbGljaygpOwogICAgfSwKICAgIGRlbGV0ZWNsaWVudDogZnVuY3Rpb24gZGVsZXRlY2xpZW50KElEKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHZhciBzd2FsV2l0aEJvb3RzdHJhcEJ1dHRvbnMgPSBTd2FsLm1peGluKHsKICAgICAgICBjdXN0b21DbGFzczogewogICAgICAgICAgY29uZmlybUJ1dHRvbjogImJ0biBidG4tZGFuZ2VyIG1sLTIiLAogICAgICAgICAgY2FuY2VsQnV0dG9uOiAiYnRuIGJ0bi1zdWNjZXNzIgogICAgICAgIH0sCiAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlCiAgICAgIH0pOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc2VsZWN0ZWRVc2VyJywgSUQpOwogICAgICBzd2FsV2l0aEJvb3RzdHJhcEJ1dHRvbnMuZmlyZSh7CiAgICAgICAgdGl0bGU6ICJBcmUgeW91IHN1cmU/IiwKICAgICAgICB0ZXh0OiAiWW91IHdvbid0IGJlIGFibGUgdG8gcmV2ZXJ0IHRoaXMhIiwKICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJZZXMsIGRlbGV0ZSBpdCEiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICJObywgY2FuY2VsISIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgdXNlck5hbWU6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmaXJzdE5hbWUnKSArICcgJyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsYXN0bmFtZScpLAogICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICBhZ2VudElEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2VsZWN0ZWRVc2VyJykKICAgICAgICAgIH07CiAgICAgICAgICBheGlvcy5wdXQoJy9hcGkvY2xpZW50L2RlbGV0ZScsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfcmVmNiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMS51cGRhdGVDbGllbnRMaXN0KCk7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3dhbFdpdGhCb290c3RyYXBCdXR0b25zLmZpcmUoIkRlbGV0ZWQhIiwgIlByb3NwZWN0IGhhcyBiZWVuIGRlbGV0ZWQuIiwgInN1Y2Nlc3MiKTsKCiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCBfY2FsbGVlMTYpOwogICAgICAgICAgICB9KSk7CgogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NikgewogICAgICAgICAgICAgIHJldHVybiBfcmVmNi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICB9OwogICAgICAgICAgfSgpKS5jYXRjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIF9yZWY3ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTcoZXJyb3IpIHsKICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNyQoX2NvbnRleHQxNykgewogICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSArICc8L2I+JzsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNoZWNrIHRoZSBmb2xsb3dpbmc6ICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczExLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sIF9jYWxsZWUxNyk7CiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g3KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9yZWY3LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9KCkpOwogICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgLyogUmVhZCBtb3JlIGFib3V0IGhhbmRsaW5nIGRpc21pc3NhbHMgYmVsb3cgKi8KICAgICAgICByZXN1bHQuZGlzbWlzcyA9PT0gU3dhbC5EaXNtaXNzUmVhc29uLmNhbmNlbCkgewogICAgICAgICAgc3dhbFdpdGhCb290c3RyYXBCdXR0b25zLmZpcmUoIkNhbmNlbGxlZCIsICJQcm9zcGVjdCBpcyBpbiBhIHNhZmUgcGxhY2UgOikiLCAiZXJyb3IiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldE1hcHNMaW5rOiBmdW5jdGlvbiBnZXRNYXBzTGluaygpIHsKICAgICAgdmFyIGxpbmsgPSAnaHR0cHM6Ly9tYXBzLmdvb2dsZS5jb20vP3E9JzsKICAgICAgdmFyIGNsaWVudERhdGEgPSB0aGlzLmNsaWVudERhdGE7CgogICAgICBpZiAoY2xpZW50RGF0YS5hZGRyZXNzLmxlbmd0aCA+IDApIHsKICAgICAgICBsaW5rICs9ICcrJyArIHRoaXMuY2xpZW50RGF0YS5hZGRyZXNzOwogICAgICB9CgogICAgICBpZiAoY2xpZW50RGF0YS5wb3N0YWxDb2RlLmxlbmd0aCA+IDApIHsKICAgICAgICBsaW5rICs9ICcrJyArIGNsaWVudERhdGEucG9zdGFsQ29kZTsKICAgICAgfQoKICAgICAgaWYgKGNsaWVudERhdGEuY2l0eS5sZW5ndGggPiAwKSB7CiAgICAgICAgbGluayArPSAnKycgKyBjbGllbnREYXRhLmNpdHk7CiAgICAgIH0KCiAgICAgIGlmIChjbGllbnREYXRhLnN0YXRlLmxlbmd0aCA+IDApIHsKICAgICAgICBsaW5rICs9ICcrJyArIGNsaWVudERhdGEuc3RhdGU7CiAgICAgIH0KCiAgICAgIGlmIChsaW5rICE9PSAnaHR0cHM6Ly9tYXBzLmdvb2dsZS5jb20vP3E9JykgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnTWFwc0xpbmsiKS5ocmVmID0gbGluazsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ01hcHNMaW5rIikuaHJlZiA9ICcjJzsKICAgICAgfQogICAgfSwKICAgIGRlbGV0ZVJlY29yZDogZnVuY3Rpb24gZGVsZXRlUmVjb3JkKGVsZSkgewogICAgICBlbGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmUoKTsKICAgIH0sCiAgICBwYXJzZUZpbGU6IGZ1bmN0aW9uIHBhcnNlRmlsZSgpIHsKICAgICAgdmFyIGFsbG93ZWRFeHRlbnNpb25zID0gLyhcLmNzdikkL2k7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZmlsZSk7CgogICAgICBpZiAoYWxsb3dlZEV4dGVuc2lvbnMuZXhlYyh0aGlzLmZpbGUubmFtZSkpIHsKICAgICAgICBQYXBhLnBhcnNlKHRoaXMuZmlsZSwgewogICAgICAgICAgaGVhZGVyOiB0cnVlLAogICAgICAgICAgc2tpcEVtcHR5TGluZXM6IHRydWUsCiAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKHJlc3VsdHMpIHsKICAgICAgICAgICAgdGhpcy5jb250ZW50ID0gcmVzdWx0czsKCiAgICAgICAgICAgIGlmICh0aGlzLnNwZWN0ZWRDb2x1bW5zID09PSB0aGlzLmNvbnRlbnQubWV0YS5maWVsZHMpIHsKICAgICAgICAgICAgICBhbGVydCgnVG9kbyBvayEnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2FjYXMnKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5jb250ZW50Lm1ldGEuZmllbGRzKTsKICAgICAgICAgICAgdGhpcy5wYXJzZWQgPSB0cnVlOwogICAgICAgICAgfS5iaW5kKHRoaXMpCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgIHRpdGxlOiAiRmlsZSBleHRlbnNpb24gbm90IHN1cHBvcnRlZCEiLAogICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlRmlsZVVwbG9hZDogZnVuY3Rpb24gaGFuZGxlRmlsZVVwbG9hZCgpIHsKICAgICAgdGhpcy5maWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpc3RGaWxlJykuZmlsZXNbMF07CiAgICAgIHRoaXMucGFyc2VGaWxlKCk7CiAgICB9LAogICAgY2hhbmdlVHlwZTogZnVuY3Rpb24gY2hhbmdlVHlwZSgpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOC5wcmV2ID0gX2NvbnRleHQxOC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgICAgICAgaXNQcm9zcGVjdDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lzUHJvc3BlY3QnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgZGVsZXRlZDogMAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9jbGllbnQvY2xpZW50U3RhdHVzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMi5zdGF0dXNMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIlN0YXR1cyBjb3VsZCBub3QgYmUgbG9hZGVkLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2NsaWVudC9jbGllbnRUeXBlcycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTIudHlwZUxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiU3RhdHVzIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwbG9hZEZpbGU6IGZ1bmN0aW9uIHVwbG9hZEZpbGUoKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMSgpIHsKICAgICAgICB2YXIgZGF0YSwgbGlzdCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIxJChfY29udGV4dDIxKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjEucHJldiA9IF9jb250ZXh0MjEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMTMuZXJyb3JzID0gW107CgogICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGxvYWRMYW5ndWFnZScpLnZhbHVlID09PSAnJykgewogICAgICAgICAgICAgICAgICBfdGhpczEzLmVycm9ycy5wdXNoKCdMYW5ndWFnZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwbG9hZFN0YXR1cycpLnZhbHVlID09PSAnJykgewogICAgICAgICAgICAgICAgICBfdGhpczEzLmVycm9ycy5wdXNoKCdTdGF0dXMgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGxvYWRUeXBlJykudmFsdWUgPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTMuZXJyb3JzLnB1c2goJ1NvdXJjZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMy5jb250ZW50Lmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICBfdGhpczEzLmVycm9ycy5wdXNoKCdQbGVhc2UsIHVwbG9hZCBhbmQgcHJvY2VzcyB5b3VyIC5jc3YgZmlsZS4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczEzLmVycm9ycy5sZW5ndGggPT09IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICBsaXN0T2ZEYXRhOiBfdGhpczEzLmNvbnRlbnQsCiAgICAgICAgICAgICAgICAgIHVwbG9hZFRvOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmlyc3ROYW1lJykgKyAnICcgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGFzdG5hbWUnKSArICcgfCAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgICAgICAgIGlzUHJvc3BlY3Q6IDEsCiAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBsb2FkTGFuZ3VhZ2UnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgc3RhdHVzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBsb2FkU3RhdHVzJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIHNvdXJjZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwbG9hZFR5cGUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgbGlzdFR5cGU6IDEKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY2xpZW50L3VwbG9hZExpc3QnLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjggPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOShyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTkkKF9jb250ZXh0MTkpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOS5wcmV2ID0gX2NvbnRleHQxOS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnVXBsb2FkZWQgc3VjY2Vzc2Z1bGx5IScKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTkpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94OCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmOC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKS5jYXRjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMCQoX2NvbnRleHQyMCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIwLnByZXYgPSBfY29udGV4dDIwLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSArICc8L2I+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIwLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNoZWNrIHRoZSBmb2xsb3dpbmc6ICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyMCk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g5KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBfdGhpczEzLmVycm9ycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIF90aGlzMTMuZXJyb3JzW2ldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNvbXBsZXRlIHRoZSBmb3JtISAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIxLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHZpZXdVc2VyR3JvdXA6IGZ1bmN0aW9uIHZpZXdVc2VyR3JvdXAocmVxdWVzdCkgewogICAgICB2YXIgY3VycmVudFJvbGUgPSBqd3RfZGVjb2RlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSk7CiAgICAgIHJldHVybiBjdXJyZW50Um9sZS51c2VyR3JvdXAuaW5jbHVkZXMocmVxdWVzdCk7CiAgICB9LAogICAgc2VhcmNoQWdlbnRzOiBmdW5jdGlvbiBzZWFyY2hBZ2VudHMoKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNCgpIHsKICAgICAgICB2YXIgdHlwZUFoZWFkLCBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjQkKF9jb250ZXh0MjQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNC5wcmV2ID0gX2NvbnRleHQyNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdHlwZUFoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3R5cGVhaGVhZF9pZCcpOwogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgc2VhcmNoVmFsdWU6IHR5cGVBaGVhZCAhPSBudWxsICYmIHR5cGVvZiB0eXBlQWhlYWQgIT0gJ3VuZGVmaW5lZCcgPyB0eXBlQWhlYWQudmFsdWUgOiBbXSwKICAgICAgICAgICAgICAgICAgY29uZGl0aW9uOiA5CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmICghKGRhdGFbJ3NlYXJjaFZhbHVlJ10ubGVuZ3RoID4gMykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL3VzZXJGaW5kZXInLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjEwID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjIocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIyJChfY29udGV4dDIyKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjIucHJldiA9IF9jb250ZXh0MjIubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuaXRlbXNTZWFyY2ggPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyMik7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gxMCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMTAuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMTEgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMyhlcnJvcikgewogICAgICAgICAgICAgICAgICAgIHZhciBsaXN0LCBwcm9wZXJ0eTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIzJChfY29udGV4dDIzKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjMucHJldiA9IF9jb250ZXh0MjMubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjogIikuY29uY2F0KGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjMuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIzKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDExKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYxMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjQpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI1KCkgewogICAgICB2YXIgZmllbGQsIHVybCwgcXVlcnlTdHJpbmcsIHVybFBhcmFtcywgc3RhdHVzLCB0eXBlQWhlYWQsIGRhdGEsIGNoZWNrQWxsLCBhZGRFdmVudDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNSQoX2NvbnRleHQyNSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjUucHJldiA9IF9jb250ZXh0MjUubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgYWRkRXZlbnQgPSBmdW5jdGlvbiBfYWRkRXZlbnQocGFyZW50LCBldnQsIHNlbGVjdG9yLCBoYW5kbGVyKSB7CiAgICAgICAgICAgICAgICBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcihldnQsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Lm1hdGNoZXMoc2VsZWN0b3IgKyAnLCAnICsgc2VsZWN0b3IgKyAnIConKSkgewogICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuYXBwbHkoZXZlbnQudGFyZ2V0LmNsb3Nlc3Qoc2VsZWN0b3IpLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCBmYWxzZSk7CiAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgZmllbGQgPSAnbic7CiAgICAgICAgICAgICAgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CiAgICAgICAgICAgICAgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoOwogICAgICAgICAgICAgIHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocXVlcnlTdHJpbmcpOwogICAgICAgICAgICAgIHN0YXR1cyA9IHVybFBhcmFtcy5nZXQoZmllbGQpOwogICAgICAgICAgICAgIHR5cGVBaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0eXBlYWhlYWRfaWQnKTsKICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgIHNlYXJjaFZhbHVlczogX3RoaXMxNS5kYXRhLnNlYXJjaFZhbHVlcywKICAgICAgICAgICAgICAgIHVzZXJFbWFpbDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgaXNQcm9zcGVjdDogMSwKICAgICAgICAgICAgICAgIGRlbGV0ZWQ6IDAsCiAgICAgICAgICAgICAgICBhZ2VudFNlYXJjaDogdHlwZUFoZWFkICE9IG51bGwgJiYgdHlwZW9mIHR5cGVBaGVhZCAhPSAndW5kZWZpbmVkJyA/IHR5cGVBaGVhZC52YWx1ZSA6IFtdCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSAxMDsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9saXN0RGVwYXJ0bWVudHMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXMxNS5kZXBhcnRtZW50TGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTUuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJEZXBhcnRtZW50cyBjb3VsZCBub3QgYmUgbG9hZGVkLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSAxMjsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9jbGllbnQvY2xpZW50U3RhdHVzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzMTUuc3RhdHVzTGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTUuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJTdGF0dXMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgX2NvbnRleHQyNS5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY2xpZW50L2NsaWVudFR5cGVzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzMTUudHlwZUxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczE1LiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiU3RhdHVzIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGlmICghKHVybC5pbmRleE9mKCc/JyArIGZpZWxkICsgJz0nKSAhPT0gLTEpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3RhdHVzKS5jbGljaygpOwogICAgICAgICAgICAgIF9jb250ZXh0MjUubmV4dCA9IDIwOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSAyMDsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9jbGllbnQvbGlzdENsaWVudHMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXMxNS5saXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzMTUucGFnZSA9IDE7CgogICAgICAgICAgICAgICAgX3RoaXMxNS5zZXRQYWdlcygpOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczE1LiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICBfdGhpczE1LmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICBjaGVja0FsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGVja0FsbCIpOwoKICAgICAgICAgICAgICBpZiAoY2hlY2tBbGwpIHsKICAgICAgICAgICAgICAgIGNoZWNrQWxsLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBjaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0tY2hlY2stYWxsIGlucHV0W3R5cGU9ImNoZWNrYm94Il0nKTsKCiAgICAgICAgICAgICAgICAgIGlmIChjaGVja0FsbC5jaGVja2VkID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hlcy5mb3JFYWNoKGZ1bmN0aW9uIChjaGVja2JveCkgewogICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5jbG9zZXN0KCJ0ciIpLmNsYXNzTGlzdC5hZGQoInRhYmxlLWFjdGl2ZSIpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNoZWNrYm94ZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hlY2tib3gpIHsKICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNsb3Nlc3QoInRyIikuY2xhc3NMaXN0LnJlbW92ZSgidGFibGUtYWN0aXZlIik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBhZGRFdmVudChkb2N1bWVudCwgJ2NsaWNrJywgJ2J1dHRvbi5yZW1vdmVJdGVtQmVuJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIGJ1dHRvbl9pZCA9IHRoaXMuaWQ7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm93QmVuJyArIGJ1dHRvbl9pZCkucmVtb3ZlKCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgYWRkRXZlbnQoZG9jdW1lbnQsICdjbGljaycsICdidXR0b24ucmVtb3ZlSXRlbUVjb24nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgYnV0dG9uX2lkID0gdGhpcy5pZDsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb3dFY29uJyArIGJ1dHRvbl9pZCkucmVtb3ZlKCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgYWRkRXZlbnQoZG9jdW1lbnQsICdjbGljaycsICdidXR0b24ucmVtb3ZlSXRlbUFkZGl0YW1lbnRzJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIGJ1dHRvbl9pZCA9IHRoaXMuaWQ7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm93QWRkaXRhbWVudHMnICsgYnV0dG9uX2lkKS5yZW1vdmUoKTsKICAgICAgICAgICAgICB9KTsgLy8gY2hlY2sgaWYgc29tZSBlbGVtZW50cyBzaG90IGJlIHZpc2libGUgZm9yIGFnZW50cwoKICAgICAgICAgICAgICBpZiAoX3RoaXMxNS52aWV3VXNlckdyb3VwKCdTVVBFUl9BRE1JTl9HUk9VUCcpIHx8IF90aGlzMTUudmlld1VzZXJHcm91cCgnQURNSU5fR1JPVVAnKSkgewogICAgICAgICAgICAgICAgX3RoaXMxNS5hZ2VudFZpc2libGUgPSB0cnVlOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpczE1LmFnZW50VmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTI1KTsKICAgIH0pKSgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRpc3BsYXllZFBvc3RzOiBmdW5jdGlvbiBkaXNwbGF5ZWRQb3N0cygpIHsKICAgICAgcmV0dXJuIHRoaXMucGFnaW5hdGUodGhpcy5saXN0KTsKICAgIH0sCiAgICByZXN1bHRRdWVyeTogZnVuY3Rpb24gcmVzdWx0UXVlcnkoKSB7CiAgICAgIGlmICh0aGlzLmRhdGEuc2VhcmNoVmFsdWVzLmtleXdvcmQubGVuZ3RoID49IDMpIHsKICAgICAgICB2YXIgc2VhcmNoID0gdGhpcy5kYXRhLnNlYXJjaFZhbHVlcy5rZXl3b3JkLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheWVkUG9zdHMuZmlsdGVyKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICByZXR1cm4gZGF0YS5hZGRyZXNzLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLmNpdHkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpIHx8IGRhdGEuRnVsbE5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpIHx8IGRhdGEucG9saWN5TnVtYmVyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLmVtYWlsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLnBob25lTnVtYmVyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLmZpcnN0TmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5sYXN0TmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5wb3N0YWxDb2RlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5ZWRQb3N0czsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":"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","names":["flatPickr","moment","Layout","PageHeader","appConfig","Swal","Lottie","animationData","axios","Multiselect","notes","ClassicEditor","Papa","ref","watch","useVuelidate","jwt_decode","SimpleTypeahead","page","title","meta","name","content","description","components","data","items","text","href","active","perPage","pages","searchQuery","timeConfig","enableTime","dateFormat","dateTimeConfig","humanfriendlyConfig","typeList","clientData","token","localStorage","getItem","searchValues","type","noteSearch","keyword","language","clients","status","sortBy","orderBy","dateRange","department","toDate","Date","toLocaleDateString","year","month","day","fromDate","setFullYear","getFullYear","defaultOptions","list","agentData","username","email","firstName","lastName","phone","state","birthDate","address","country","zipCode","interview","agentNumber","createdBy","insuranceLicense","licenseNumber","departmentList","statusList","notesData","prospectStatusList","date1","datetimeConfig","time_24hr","editor","file","parsed","itemsSearch","spectedColumns","agentVisible","companies","setPages","created","filters","trimWords","value","split","splice","join","setup","files","dropzoneFile","drop","e","dataTransfer","push","selectedFile","document","getElementById","currentValue","v$","methods","editdata","id","company","score","location","date","updateClient","errors","gender","toString","phoneNumber","validPhone","departmentID","leadType","length","city","formatDate","birthday","postalCode","interviewDate","userID","clientID","put","then","response","click","fire","icon","catch","error","detail","$router","property","confirmButtonClass","buttonsStyling","showCloseButton","message","i","addNewAgentModal","resetAgentData","reset","innerHTML","style","display","createClient","beneficiaries","emergencyContacts","addedChilds","note","formValues","values","clientsInfo","userEmail","isProspect","totalClients","post","getDepartments","console","log","getUserInfo","ID","agentInfo","setAgentData","dateOfBirth","isLicensed","getClientInfo","getNotes","clientInfo","setItem","getMapsLink","validEmail","re","test","trim","isphone","format","formatPhone","flag","replace","undefined","substring","x","match","updateClientList","validate","filterLanguage","filterKeyword","filterType","filterNotes","filterFromDate","filterToDate","start","end","days","diff","typeAhead","deleted","agentSearch","updateAgentList","filterLicensed","licensed","numberOfPages","Math","ceil","index","paginate","from","to","slice","addBeneficiary","benList","beneficiaryQty","div","separator","checkIDExists","element","createElement","appendChild","addEcontact","eContact","eContactQty","append","addAdditaments","additaments","additamentsQty","agentID","url","getProspectStatus","moveClient","client","position","showConfirmButton","timer","filterStatus","statusButton","deleteclient","swalWithBootstrapButtons","mixin","customClass","confirmButton","cancelButton","confirmButtonText","cancelButtonText","showCancelButton","result","userName","dismiss","DismissReason","cancel","link","deleteRecord","ele","target","parentElement","remove","parseFile","allowedExtensions","exec","parse","header","skipEmptyLines","complete","results","fields","alert","bind","handleFileUpload","changeType","uploadFile","listOfData","uploadTo","source","listType","setTimeout","reload","viewUserGroup","request","currentRole","userGroup","includes","searchAgents","searchValue","condition","mounted","addEvent","parent","evt","selector","handler","addEventListener","event","matches","apply","closest","arguments","field","window","queryString","search","urlParams","URLSearchParams","get","indexOf","checkAll","onclick","checkboxes","querySelectorAll","checked","forEach","checkbox","classList","add","button_id","computed","displayedPosts","resultQuery","toLowerCase","filter","FullName","policyNumber"],"sourceRoot":"","sources":["C:\\wamp64\\www\\crm\\frontend\\src\\views\\prospects\\prospectlist.vue"],"sourcesContent":["<script>\r\nimport flatPickr from \"vue-flatpickr-component\";\r\nimport moment from \"moment\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\nimport Layout from \"../../layouts/main.vue\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport appConfig from \"../../../app.config\";\r\nimport Swal from \"sweetalert2\";\r\nimport Lottie from \"@/components/widgets/lottie.vue\";\r\nimport animationData from \"@/components/widgets/msoeawqm.json\";\r\nimport axios from \"axios\";\r\nimport Multiselect from \"@vueform/multiselect\";\r\nimport \"@vueform/multiselect/themes/default.scss\";\r\n\r\n// components\r\nimport notes from '../../components/users/notes';\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\nimport Papa from \"papaparse\";\r\nimport {ref, watch} from \"vue\";\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport jwt_decode from \"jwt-decode\"; //Optional default CSS\r\nimport SimpleTypeahead from \"vue3-simple-typeahead\";\r\nimport 'vue3-simple-typeahead/dist/vue3-simple-typeahead.css'; //Optional default CSS\r\n\r\nexport default {\r\n  page: {\r\n    title: \"Prospect List\",\r\n    meta: [{name: \"description\", content: appConfig.description}],\r\n  },\r\n  components: {\r\n    Layout,\r\n    PageHeader,\r\n    flatPickr,\r\n    Multiselect,\r\n    Lottie,\r\n    notes,\r\n    SimpleTypeahead\r\n  },\r\n  data() {\r\n    return{\r\n      title: \"Prospect List\",\r\n      items: [\r\n        {\r\n          text: \"Prospects\",\r\n          href: \"/\",\r\n        },\r\n        {\r\n          text: \"Prospect List\",\r\n          active: true,\r\n        },\r\n      ],\r\n      page: 1,\r\n      perPage: 100,\r\n      pages: [],\r\n      searchQuery: null,\r\n      timeConfig: {\r\n        enableTime: false,\r\n        dateFormat: \"d M, Y\"\r\n      },\r\n      dateTimeConfig: {\r\n        enableTime: true,\r\n        dateFormat: \"F j, Y H:i K\"\r\n      },\r\n      humanfriendlyConfig: {\r\n        dateFormat: \"F j, Y\",\r\n      },\r\n      typeList: {},\r\n      clientData: [],\r\n      data: {\r\n        token: localStorage.getItem('jwt'),\r\n        searchValues: {\r\n          type: '0',\r\n          noteSearch: '',\r\n          keyword: '',\r\n          language: '3',\r\n          clients: 1,\r\n          status: '0',\r\n          sortBy: 'name',\r\n          orderBy: 'ASC',\r\n          dateRange: '0',\r\n          department: '0' ,\r\n          toDate: new Date().toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}) ,\r\n          fromDate: new Date(new Date().setFullYear(new Date().getFullYear() - 1)).toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}),\r\n        },\r\n      },\r\n      defaultOptions: { animationData: animationData },\r\n      list: [],\r\n      agentData: {\r\n        username: '',\r\n        email: '',\r\n        firstName: '',\r\n        lastName: '',\r\n        language: '',\r\n        status: '',\r\n        phone: '',\r\n        department: '',\r\n        state: '',\r\n        birthDate: '',\r\n        address: '',\r\n        country: '',\r\n        zipCode: '',\r\n        interview: '',\r\n        agentNumber: '',\r\n        createdBy: '',\r\n        insuranceLicense: '',\r\n        licenseNumber: ''\r\n      },\r\n      departmentList: {},\r\n      statusList: {},\r\n      notesData: [],\r\n      prospectStatusList: {},\r\n      date1: null,\r\n      datetimeConfig: {\r\n        enableTime: true,\r\n        dateFormat: \"d.m.y\",\r\n        time_24hr: true,\r\n      },\r\n      editor: ClassicEditor,\r\n      file: [],\r\n      content: [],\r\n      parsed: false,\r\n      itemsSearch: [],\r\n      spectedColumns: [\r\n        \"Last Name\",\r\n        \"First Name\",\r\n        \"Address\",\r\n        \"City\",\r\n        \"State\",\r\n        \"Zip\",\r\n        \"Daytime Phone\",\r\n        \"Evening Phone\",\r\n        \"Age\",\r\n        \"Media\",\r\n        \"Language\",\r\n        \"Received\",\r\n        \"Assigned\",\r\n        \"Second Pre-Approach Letter\"\r\n      ],\r\n      agentVisible: true,\r\n    }\r\n  },\r\n  watch: {\r\n    companies() {\r\n      this.setPages();\r\n    },\r\n  },\r\n  created() {\r\n    this.setPages();\r\n  },\r\n  filters: {\r\n    trimWords(value) {\r\n      return value.split(\" \").splice(0, 20).join(\" \") + \"...\";\r\n    },\r\n  },\r\n  setup() {\r\n    let files = ref([]);\r\n    let dropzoneFile = ref(\"\");\r\n    const drop = (e) => {\r\n      dropzoneFile.value = e.dataTransfer.files[0];\r\n      files.value.push(dropzoneFile.value);\r\n    };\r\n    const selectedFile = (  ) => {\r\n      dropzoneFile.value = document.getElementById('listFile').files[0];\r\n      files.value.push(dropzoneFile.value);\r\n    };\r\n    watch(\r\n        () => [...files.value],\r\n        (currentValue) => {\r\n          return currentValue;\r\n        }\r\n    );\r\n    return {\r\n      dropzoneFile,\r\n      drop,\r\n      selectedFile,\r\n      v$: useVuelidate(),\r\n      files\r\n    };\r\n  },\r\n  methods: {\r\n    editdata(data){\r\n\r\n      document.getElementById('id').value= data.id\r\n      document.getElementById('customername').value=data.name;\r\n      document.getElementById('companyname').value=data.company;\r\n      document.getElementById('leadsscore').value=data.score;\r\n      document.getElementById('phone').value=data.phone;\r\n      document.getElementById('location').value=data.location;\r\n      document.getElementById('date').value=data.date;\r\n    },\r\n    async updateClient() {\r\n\r\n      this.errors = []\r\n\r\n      if (!this.clientData.firstName) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!this.clientData.lastName) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (this.clientData.gender !== 'M' && this.clientData.gender !== 'F') {\r\n        this.errors.push('Gender is required.');\r\n      }\r\n\r\n      if (this.clientData.language.toString() !== '1' && this.clientData.language.toString() !== '2') {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (!this.clientData.status) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!this.clientData.phoneNumber) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if (this.validPhone(this.clientData.phoneNumber) === false && this.clientData.phoneNumber !== '') {\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!this.clientData.departmentID) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (this.clientData.leadType === 'undefined') {\r\n        this.errors.push('Lead/client Source is required.');\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n\r\n        const data = {\r\n          username: '',\r\n          email: this.clientData.email,\r\n          city: this.clientData.city,\r\n          firstName: this.clientData.firstName,\r\n          lastName: this.clientData.lastName,\r\n          language: this.clientData.language,\r\n          status: this.clientData.status,\r\n          leadType: this.clientData.leadType,\r\n          gender: this.clientData.gender,\r\n          phoneNumber: this.clientData.phoneNumber,\r\n          departmentID: this.clientData.departmentID,\r\n          state: this.clientData.state,\r\n          birthDate: this.formatDate(this.clientData.birthday, 'DD MMM, YYYY'),\r\n          address: this.clientData.address,\r\n          country: this.clientData.country,\r\n          postalCode: this.clientData.postalCode,\r\n          interviewDate: this.clientData.interview,\r\n          createdBy: localStorage.getItem('email'),\r\n          licenseNumber: this.clientData.licenseNumber,\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('id'),\r\n          clientID: localStorage.getItem('selectedUser')\r\n        }\r\n\r\n        await axios\r\n            .put('/api/client/updateClient', data)\r\n            .then(async response => {\r\n              if (response) {\r\n                document.getElementById('close-modal').click();\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Client update successfully!'\r\n                });\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  this.$router.push('logout')\r\n                }\r\n\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i] + '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    addNewAgentModal() {\r\n      this.resetAgentData()\r\n      document.getElementById(\"addform\").reset();\r\n      document.getElementById('agentModalLabel').innerHTML=\"Add Prospect\";\r\n      document.getElementById('editNoteOpen').style.display='none';\r\n      document.getElementById('add-btn').style.display='block';\r\n      document.getElementById('edit-btn').style.display='none';\r\n      document.getElementById('editNotes').style.display='block';\r\n    },\r\n    async createClient() {\r\n      this.errors = []\r\n\r\n      if (!this.clientData.firstName) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!this.clientData.lastName) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (!this.clientData.status) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!this.clientData.phoneNumber) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if (this.validPhone(this.clientData.phone) === false && this.clientData.phone === '') {\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!this.clientData.departmentID) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (this.clientData.type  === 'undefined') {\r\n        this.errors.push('Lead/Client Source is required.');\r\n      }\r\n\r\n      if (this.clientData.gender !== 'M' && this.clientData.gender !== 'F') {\r\n        this.errors.push('Gender is required.');\r\n      }\r\n\r\n      if (this.clientData.language !== '1' && this.clientData.language !== '2') {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (this.clientData.leadType === 'undefined') {\r\n        this.errors.push('Lead/client Source is required.');\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n        let beneficiaries = [];\r\n        let emergencyContacts = [];\r\n        let addedChilds = [];\r\n        let note = {'note': this.clientData.note};\r\n\r\n        if (this.clientData.interview == null){\r\n          this.clientData.interview = ''\r\n        }\r\n\r\n        let formValues = {'address': this.clientData.address, 'birthday': this.formatDate(this.clientData.birthday, 'DD MMM, YYYY'),\r\n          'city': this.clientData.city, 'country': this.clientData.country, 'department': this.clientData.departmentID,\r\n          'email': this.clientData.email, 'firstName': this.clientData.firstName,\r\n          'interview': this.clientData.interview, 'language': this.clientData.language, 'lastName': this.clientData.lastName,\r\n          'leadType': this.clientData.leadType, 'note': this.clientData.note, 'phoneNumber': this.clientData.phoneNumber,\r\n          'postalCode': this.clientData.postalCode,'state': this.clientData.state,'status': this.clientData.status,\r\n          'length': this.clientData.length, 'gender': this  .clientData.gender};\r\n        // let form = document.getElementById(\"addform\");\r\n\r\n        // for (var i = 0; i < form.elements.length; i++) {\r\n        //   let e = form.elements[i];\r\n        //\r\n        //   console.log(e)\r\n        // if(e.name !== '') {\r\n        //   formValues[e.name] = e.value;\r\n        // }\r\n        // formValues['editGender'] = document.querySelector(\"input[type='radio'][name=editGender]:checked\").value;\r\n        //\r\n        // if(this.isClientList){\r\n        //   formValues['editType'] = document.querySelector(\"#editType\").value;\r\n        // }else{\r\n        //   formValues['editType'] = document.querySelector(\"#editType1\").value;\r\n        // }\r\n        // }\r\n\r\n        let values = {0: {formValues, beneficiaries, emergencyContacts, addedChilds, note}}\r\n\r\n        let data = {\r\n          clientsInfo: values,\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('id'),\r\n          userEmail: localStorage.getItem('email'),\r\n          isProspect: 1,\r\n          totalClients: 1,\r\n        }\r\n\r\n        await axios\r\n            .post('/api/client/createClientList', data)\r\n            .then(async response => {\r\n              if (response.data['ID'] !== null) {\r\n                document.getElementById('closemodal').click();\r\n                document.getElementById(\"addform\").reset();\r\n\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Client created successfully!'\r\n                });\r\n\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i]+ '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    async getDepartments() {\r\n\r\n      await axios\r\n          .post('/api/getDepartments')\r\n          .then(response => {\r\n            console.log(response);\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async getUserInfo(id) {\r\n      document.getElementById('edit-btn').style.display='block';\r\n      document.getElementById('add-btn').style.display='none'\r\n      document.getElementById('agentModalLabel').innerHTML=\"Edit Agent\"\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        ID: id\r\n      }\r\n\r\n      let agentInfo;\r\n\r\n      await axios\r\n          .post('/api/getUser', data)\r\n          .then(response => {\r\n            agentInfo=response.data\r\n            this.setAgentData(agentInfo);\r\n            document.getElementById('id').value=agentInfo.ID\r\n            document.getElementById('editEmail').value=agentInfo.email;\r\n            document.getElementById('editFirstName').value=agentInfo.firstName;\r\n            document.getElementById('editLastName').value=agentInfo.lastName;\r\n            document.getElementById('editLanguage').value=agentInfo.language;\r\n            document.getElementById('editStatus').value=agentInfo.status\r\n            document.getElementById('editPhoneNumber').value= agentInfo.phoneNumber;\r\n            document.getElementById('editDepartment').value=agentInfo.departmentID;\r\n            document.getElementById('editBirthDate').value=agentInfo.dateOfBirth;\r\n            document.getElementById('editAddress').value=agentInfo.address;\r\n            document.getElementById('editState').value=agentInfo.state;\r\n            document.getElementById('editCountry').value=agentInfo.country;\r\n            document.getElementById('editPostalCode').value=agentInfo.postalCode;\r\n            document.getElementById('editAgentNumber').value=agentInfo.agentNumber;\r\n            document.getElementById('editCreatedBy').value=agentInfo.createdBy;\r\n            document.getElementById('editLicensed').value=agentInfo.isLicensed;\r\n            // document.getElementById('editInterview').value=agentInfo.interviewDate;\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async getClientInfo (id) {\r\n\r\n      document.getElementById('edit-btn').style.display='block';\r\n      document.getElementById('add-btn').style.display='none'\r\n      document.getElementById('agentModalLabel').innerHTML=\"Edit Client\"\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        ID: id\r\n      }\r\n\r\n      document.getElementById('editNoteOpen').style.display='block';\r\n      document.getElementById('editNotes').style.display='none';\r\n      await this.getNotes(id)\r\n      let clientInfo;\r\n\r\n      await axios\r\n          .post('/api/client/getClient', data)\r\n          .then(response => {\r\n            clientInfo = response.data\r\n            this.clientData = response.data\r\n            this.clientData.birthday = this.formatDate(clientInfo.dateOfBirth, 'DD MMM, YYYY');\r\n            this.clientData.interview = this.formatDate(clientInfo.interviewDate, 'MMMM D, YYYY h:mm A');\r\n            localStorage.setItem('selectedUser', clientInfo.ID)\r\n            localStorage.setItem('selectedUserName', clientInfo.firstName + ' ' + clientInfo.lastName)\r\n            this.getMapsLink()\r\n\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    validEmail: function (email) {\r\n      var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      return re.test(email.trim());\r\n    },\r\n    validPhone: function (phone) {\r\n      var isphone = /^(\\+{0,})(\\d{0,})([(]{1}\\d{1,3}[)]{0,}){0,}(\\s?\\d+|\\+\\d{2,3}\\s{1}\\d+|\\d+){1}[\\s|-]?\\d+([\\s|-]?\\d+){1,2}(\\s){0,}$/gm.test(phone);\r\n      return isphone;\r\n    },\r\n    formatDate: function(date, format){\r\n      date = moment(date).format(format)\r\n      return date;\r\n    },\r\n    formatPhone: function(phone, flag=0) {\r\n\r\n      // if flag == 1 put value in phone Edit\r\n      phone = phone.replace(/\\D/g, '')\r\n\r\n      if(phone !== undefined) {\r\n        if(phone.length > 10) {\r\n          phone = phone.substring(1)\r\n        }\r\n        const x = phone.match(/(\\d{0,3})(\\d{0,3})(\\d{0,4})/);\r\n        phone = !x[2] ? x[1] : '(' + x[1] + ') ' + x[2] + (x[3] ? '-' + x[3] : '');\r\n\r\n      } else {\r\n        phone = ''\r\n      }\r\n\r\n      if(flag !== 1){\r\n        return phone;\r\n      }else{\r\n        document.getElementById('editPhoneNumber').value = phone;\r\n      }\r\n    },\r\n    setAgentData: function(data) {\r\n      this.agentData.email=data.email;\r\n      this.agentData.firstName=data.firstName;\r\n      this.agentData.lastName=data.lastName;\r\n      this.agentData.language=data.language;\r\n      this.agentData.status=data.status\r\n      this.agentData.phone=data.phoneNumber;\r\n      this.agentData.department=data.departmentID\r\n      this.agentData.birthDate= this.formatDate(data.dateOfBirth, 'DD MM, YYYY');\r\n      this.agentData.interview= this.formatDate(data.interviewDate, 'm-d-y H:i K');\r\n      this.agentData.address=data.address;\r\n      this.agentData.state=data.state;\r\n      this.agentData.country=data.country;\r\n      this.agentData.zipCode=data.postalCode;\r\n      this.agentData.agentNumber=data.agentNumber;\r\n      this.agentData.createdBy=data.createdBy;\r\n      this.agentData.insuranceLicense=data.isLicensed;\r\n    },\r\n    resetAgentData: function(){\r\n      this.agentData =\r\n          {username: '',\r\n            email: '',\r\n            firstName: '',\r\n            lastName: '',\r\n            language: '',\r\n            status: '',\r\n            phone: '',\r\n            department: '',\r\n            state: '',\r\n            birthDate: '',\r\n            address: '',\r\n            country: '',\r\n            zipCode: '',\r\n            interview: '',\r\n            agentNumber: '',\r\n            createdBy: '',\r\n            insuranceLicense: '',\r\n            licenseNumber: ''\r\n          }\r\n      this.clientData = [];\r\n    },\r\n    async updateClientList(status=this.data.searchValues.status) {\r\n\r\n      let validate = true;\r\n      let errors = [];\r\n      let filterLanguage = document.getElementById(\"filterLanguage\").value;\r\n      let filterKeyword = document.getElementById(\"filterKeyword\").value;\r\n      let filterType = document.getElementById(\"filterType\").value;\r\n      let filterNotes = document.getElementById(\"filterNotes\").value;\r\n      let filterFromDate = document.getElementById(\"filterFromDate\").value;\r\n      let filterToDate = document.getElementById(\"filterToDate\").value;\r\n      this.data.searchValues.status = status;\r\n\r\n      if (filterLanguage !== '' && (filterLanguage === '1' || filterLanguage === '2')){\r\n        this.data.searchValues.language = filterLanguage;\r\n      }\r\n\r\n      if (filterKeyword !== '' && filterKeyword.length >= 3) {\r\n        this.data.searchValues.keyword = filterKeyword;\r\n      }else if(filterKeyword !== '' && filterKeyword.length < 3) {\r\n        errors.push('Keyword search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      if(filterType !== ''){\r\n        this.data.searchValues.type = filterType;\r\n      }\r\n\r\n      if (filterNotes !== '' && filterNotes.length >= 3) {\r\n        this.data.searchValues.noteSearch = filterNotes;\r\n      }else if(filterNotes !== '' && filterNotes.length < 3) {\r\n        errors.push('Notes search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      var start = moment(this.formatDate(filterFromDate, 'YYYY-MM-DD'));\r\n      var end = moment(this.formatDate(filterToDate, 'YYYY-MM-DD'));\r\n      var days = end.diff(start, \"days\");\r\n\r\n      if(days <= 365){\r\n        this.data.searchValues.fromDate = filterFromDate;\r\n        this.data.searchValues.toDate = filterToDate;\r\n      } else {\r\n        errors.push(\"From Date and To Date (range) couldn't be larger than a year (365 days)!\");\r\n        validate = false;\r\n      }\r\n\r\n      let typeAhead = document.getElementById('typeahead_id')\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        isProspect: 1,\r\n        searchValues: this.data.searchValues,\r\n        userEmail: localStorage.getItem('email'),\r\n        userID: localStorage.getItem('id'),\r\n        deleted: 0,\r\n        agentSearch: (typeAhead != null && typeof(typeAhead) != 'undefined' ) ? typeAhead.value : []\r\n      }\r\n\r\n      if(validate){\r\n        await axios\r\n            .post('/api/client/listClients', data)\r\n            .then(response => {\r\n              this.list = response.data\r\n              this.page = 1\r\n              this.setPages()\r\n            })\r\n            .catch(error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  this.$router.push('logout')\r\n                }\r\n\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                }\r\n              }/* else if (error.message) {\r\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n            }*/\r\n            })\r\n      }else{\r\n        let list = '';\r\n        for (var i = 0; i < errors.length; i+=1) {\r\n          list += errors[i] + ' \\n';\r\n        }\r\n\r\n        await Swal.fire(\"\" + list, '', 'info');\r\n\r\n      }\r\n\r\n    },\r\n    async updateAgentList(status=0) {\r\n\r\n      let validate = true;\r\n      let errors = [];\r\n      let filterLanguage = document.getElementById(\"filterLanguage\").value;\r\n      let filterKeyword = document.getElementById(\"filterKeyword\").value;\r\n      let filterLicensed = document.getElementById(\"filterLicensed\").value;\r\n      let filterNotes = document.getElementById(\"filterNotes\").value;\r\n      let filterFromDate = document.getElementById(\"filterFromDate\").value;\r\n      let filterToDate = document.getElementById(\"filterToDate\").value;\r\n      this.data.searchValues.status = status;\r\n\r\n      if (filterLanguage !== '' && (filterLanguage === '1' || filterLanguage === '2')){\r\n        this.data.searchValues.language = filterLanguage;\r\n      }\r\n\r\n      if (filterKeyword !== '' && filterKeyword.length >= 3) {\r\n        this.data.searchValues.keyword = filterKeyword;\r\n      } else if (filterKeyword !== '' && filterKeyword.length < 3) {\r\n        errors.push('Keyword search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      if(filterLicensed !== ''){\r\n        this.data.searchValues.licensed = filterLicensed;\r\n      }\r\n\r\n      if (filterNotes !== '' && filterNotes.length >= 3) {\r\n        this.data.searchValues.noteSearch = filterNotes;\r\n      }else if(filterNotes !== '' && filterNotes.length < 3) {\r\n        errors.push('Notes search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      var start = moment(this.formatDate(filterFromDate, 'YYYY-MM-DD'));\r\n      var end = moment(this.formatDate(filterToDate, 'YYYY-MM-DD'));\r\n      var days = end.diff(start, \"days\");\r\n\r\n      if(days <= 365){\r\n        this.data.searchValues.fromDate = filterFromDate;\r\n        this.data.searchValues.toDate = filterToDate;\r\n      } else {\r\n        errors.push(\"From Date and To Date (range) couldn't be larger than a year (365 days)!\");\r\n        validate = false;\r\n      }\r\n      let typeAhead = document.getElementById('typeahead_id')\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        isProspect: 1,\r\n        searchValues: this.data.searchValues,\r\n        userEmail: localStorage.getItem('email'),\r\n        userID: localStorage.getItem('id'),\r\n        agentSearch: (typeAhead != null && typeof(typeAhead) != 'undefined' ) ? typeAhead.value : []\r\n      }\r\n\r\n      if(validate){\r\n        axios\r\n            .post('/api/listClients', data)\r\n            .then(response => {\r\n              this.list=response.data\r\n            })\r\n            .catch(error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  this.$router.push('logout')\r\n                }\r\n\r\n                // for (const property in error.response.data) {\r\n                // this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                // }\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      }else{\r\n        let list = '';\r\n        for (var i = 0; i < errors.length; i+=1) {\r\n          list += errors[i] + ' \\n';\r\n        }\r\n\r\n        await Swal.fire(\"\" + list, '', 'info');\r\n\r\n      }\r\n\r\n    },\r\n    setPages() {\r\n      let numberOfPages = Math.ceil(this.list.length / this.perPage);\r\n      this.pages = []\r\n      for (let index = 1; index <= numberOfPages; index++) {\r\n        this.pages.push(index);\r\n      }\r\n    },\r\n    paginate(companies) {\r\n      let page = this.page;\r\n      let perPage = this.perPage;\r\n      let from = page * perPage - perPage;\r\n      let to = page * perPage;\r\n      return companies.slice(from, to);\r\n    },\r\n    addBeneficiary( benList = [] ) {\r\n      this.beneficiaryQty = this.beneficiaryQty + 1;\r\n      let i = this.beneficiaryQty;\r\n      let div = document.getElementById('addBeneficiary');\r\n      let separator = '';\r\n      let checkIDExists = document.getElementById(\"benFirstName-1\");\r\n      var element = document.createElement('div');\r\n\r\n      if(benList.length <= 0){\r\n        benList.push(\r\n            benList['firstName'] = '',\r\n            benList['lastName'] = '',\r\n            benList['address'] = '',\r\n            benList['phoneNumber'] = '',\r\n            benList['state'] = '',\r\n            benList['postalCode'] = '',\r\n            benList['relationship'] = '',\r\n            benList['age']  = '');\r\n      }\r\n\r\n      if(checkIDExists) {\r\n        separator = '<hr style=\"border-top: 1px solid #2c9a2a;\">';\r\n      }\r\n\r\n      element.innerHTML += '<div class=\"row\" id=\"rowBen'+i+'\">\\n' + separator  +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benFirstName-'+i+'\" class=\"form-label\">First Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"benFirstName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" name=\"benFirstName[]\" required value=\"'+benList['firstName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benLastName-'+i+'\" class=\"form-label\">Last Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"benLastName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\"  name=\"benLastName[]\" required value=\"'+benList['lastName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benAddress-'+i+'\" class=\"form-label\">Address</label>\\n' +\r\n          '    <input type=\"text\" id=\"benAddress-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Address\"  name=\"benAddress[]\" required value=\"'+benList['address']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benPhone-'+i+'\" class=\"form-label\">Phone</label>\\n' +\r\n          '    <input type=\"text\" id=\"benPhone-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Phone\"  name=\"benPhone[]\" required value=\"'+benList['phoneNumber']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benState-'+i+'\" class=\"form-label\">State</label>\\n' +\r\n          '    <input type=\"text\" id=\"benState-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter State\"  name=\"benState[]\"  required value=\"'+benList['state']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benPostalCode-'+i+'\" class=\"form-label\">Postal Code</label>\\n' +\r\n          '    <input type=\"text\" id=\"benPostalCode-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Postal Code\"  name=\"benPostalCode[]\" required value=\"'+benList['postalCode']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benRelation-'+i+'\" class=\"form-label\">Relationship</label>\\n' +\r\n          '    <input type=\"text\" id=\"benRelation-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Relationship\"  name=\"benRelation[]\"  required value=\"'+benList['relationship']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benAge-'+i+'\" class=\"form-label\">Age</label>\\n' +\r\n          '    <input type=\"text\" id=\"benAge-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Age\"  name=\"benAge[]\" required value=\"'+benList['age']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          ' </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          '    <button type=\"button\" id=\"'+i+'\" class=\"btn btn-danger removeItemBen\" title=\"Delete\"><i class=\"ri-close-circle-line\"></i></button>\\n' +\r\n          ' </div>\\n' +\r\n          '</div>';\r\n\r\n      div.appendChild(element);\r\n    },\r\n    addEcontact( eContact = [] ) {\r\n      this.eContactQty = this.eContactQty + 1;\r\n      let i = this.eContactQty;\r\n      let div = document.getElementById('addEcontact');\r\n      let separator = '';\r\n      let checkIDExists = document.getElementById(\"eConFirstName-1\");\r\n      var element = document.createElement('div');\r\n\r\n      if(eContact.length <= 0){\r\n        eContact.push(\r\n            eContact['firstName'] = '',\r\n            eContact['lastName'] = '',\r\n            eContact['address'] = '',\r\n            eContact['phoneNumber'] = '',\r\n            eContact['state'] = '',\r\n            eContact['postalCode'] = '',\r\n            eContact['relationship'] = '',\r\n            eContact['age']  = '');\r\n      }\r\n\r\n      if(checkIDExists) {\r\n        separator = '<hr style=\"border-top: 1px solid #2c9a2a;\">';\r\n      }\r\n      element.innerHTML += separator +\r\n          '<div class=\"row\" id=\"rowEcon'+i+'\">\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConFirstName-'+i+'\" class=\"form-label\">First Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConFirstName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" name=\"eConFirstName[]\" required value=\"'+eContact['firstName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConLastName-'+i+'\" class=\"form-label\">Last Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConLastName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\"  name=\"eConLastName[]\" required  value=\"'+eContact['lastName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConAddress-'+i+'\" class=\"form-label\">Address</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConAddress-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Address\"  name=\"eConAddress[]\" required  value=\"'+eContact['address']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConPhone-'+i+'\" class=\"form-label\">Phone</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConPhone-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Phone\"  name=\"eConPhone[]\" required  value=\"'+eContact['phoneNumber']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConState-'+i+'\" class=\"form-label\">State</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConState-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter State\"  name=\"eConState[]\"  required  value=\"'+eContact['state']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConPostalCode-'+i+'\" class=\"form-label\">Postal Code</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConPostalCode-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Postal Code\"  name=\"eConPostalCode[]\" required  value=\"'+eContact['postalCode']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConRelation-'+i+'\" class=\"form-label\">Relationship</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConRelation-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Relationship\"  name=\"eConRelation[]\"  required  value=\"'+eContact['relationship']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConAge-'+i+'\" class=\"form-label\">Age</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConAge-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Age\"  name=\"eConAge[]\" required  value=\"'+eContact['age']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          ' </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          '    <button type=\"button\" id=\"'+i+'\" class=\"btn btn-danger removeItemEcon\" title=\"Delete\"><i class=\"ri-close-circle-line\"></i></button>\\n' +\r\n          ' </div>\\n' +\r\n          '</div>';\r\n\r\n      div.append(element);\r\n    },\r\n    addAdditaments( additaments = []) {\r\n      this.additamentsQty = this.additamentsQty + 1;\r\n      let i = this.additamentsQty;\r\n      let div = document.getElementById('addAdditaments');\r\n      let separator = '';\r\n      let checkIDExists = document.getElementById(\"eConFirstName-1\");\r\n      var element = document.createElement('div');\r\n\r\n      if(additaments.length <= 0){\r\n        additaments.push(\r\n            additaments['firstName'] = '',\r\n            additaments['lastName'] = '',\r\n            additaments['gender'] = 0,\r\n            additaments['retalionship'] = 0,\r\n            additaments['age']  = '');\r\n      }\r\n\r\n      if(checkIDExists) {\r\n        separator = '<hr style=\"border-top: 1px solid #2c9a2a;\">';\r\n      }\r\n\r\n      element.innerHTML += separator +\r\n          '<div class=\"row\" id=\"rowAdditaments'+i+'\">\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"AddiFirstName-'+i+'\" class=\"form-label\">First Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"AddiFirstName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" name=\"AddiFirstName[]\" required value=\"'+additaments['firstName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"AddiLastName-'+i+'\" class=\"form-label\">Last Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"AddiLastName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\"  name=\"AddiLastName[]\" required value=\"'+additaments['lastName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '<div class=\"col-lg-6\">'+\r\n          '  <label for=\"AddiGender\" class=\"form-label\">Gender</label>'+\r\n          '  <select class=\"form-select mb-2\" aria-label=\"Gender\" id=\"AddiGender-'+i+'\" name=\"AddiGender[]\">'+\r\n          '    <option value=\"0\" >Select...</option>'+\r\n          '    <option value=\"F\">Female</option>'+\r\n          '    <option value=\"M\">Male</option>'+\r\n          '</select>'+\r\n          '</div>\\n'+\r\n          '<div class=\"col-lg-6\">\\n' +\r\n          '  <label for=\"AddiAge-'+i+'\" class=\"form-label\">Age</label>\\n' +\r\n          '  <input type=\"text\" id=\"AddiAge-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Age\"  name=\"AddiAge[]\" required  value=\"'+additaments['age']+'\">\\n' +\r\n          '</div>\\n' +\r\n          ' <div class=\"col-md-6\">\\n' +\r\n          '  <label for=\"AddiRelation-'+i+'\" class=\"form-label\">Relationship</label>'+\r\n          '  <select class=\"form-select mb-2\" aria-label=\"AddiRelation\" id=\"AddiRelation-'+i+'\" name=\"AddiRelation[]\"  value=\"'+additaments['retalionship']+'\">'+\r\n          '    <option value=\"0\">Relation</option>'+\r\n          '    <option value=\"C\">Children</option>'+\r\n          '    <option value=\"S\">Stepson</option>'+\r\n          '    <option value=\"G\">Grandson</option>'+\r\n          '</select>'+\r\n          ' </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          '    <button type=\"button\" id=\"'+i+'\" class=\"btn btn-danger removeItemAdditaments\" title=\"Delete\"><i class=\"ri-close-circle-line\"></i></button>\\n' +\r\n          ' </div>\\n' +\r\n          '</div>';\r\n      div.append(element);\r\n      document.getElementById(\"AddiGender-\"+i+\"\").value = additaments['gender'];\r\n      document.getElementById(\"AddiRelation-\"+i+\"\").value = additaments['retalionship'];\r\n    },\r\n    async getNotes (id = localStorage.getItem('selectedUser')) {\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        userID: localStorage.getItem('id'),\r\n        agentID: id,\r\n        clientID: id,\r\n      }\r\n\r\n      localStorage.setItem('selectedUser', id)\r\n\r\n      let url = '';\r\n      url = '/api/client/getClientNotes';\r\n\r\n      await axios\r\n          .post(url, data)\r\n          .then(response => {\r\n            this.notesData = response.data;\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n              Swal.fire(\"Oops!\", \"Notes could not be loaded, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async getProspectStatus(id) {\r\n\r\n      localStorage.setItem('selectedUser', id)\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        searchValues: this.data.searchValues,\r\n        userEmail: localStorage.getItem('email'),\r\n        userID: localStorage.getItem('id'),\r\n        isProspect: 0,\r\n      }\r\n\r\n      await axios\r\n          .post('/api/client/clientStatus', data)\r\n          .then(response => {\r\n            this.prospectStatusList = response.data\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if (error.response.data.detail === 'Your session is expired!') {\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Client tatus could not be loaded, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async moveClient() {\r\n\r\n      let client = localStorage.getItem('selectedUser');\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        searchValues: this.data.searchValues,\r\n        userEmail: localStorage.getItem('email'),\r\n        client: client,\r\n        status: document.getElementById('moveStatus').value,\r\n        isProspect: 0,\r\n      }\r\n\r\n      await axios\r\n          .put('/api/client/moveClient', data)\r\n          .then(async response => {\r\n            document.getElementById('closeMove').click();\r\n            if(response.status === 200){\r\n              await this.updateClientList();\r\n\r\n              await Swal.fire({\r\n                position: \"top-end\",\r\n                icon: \"success\",\r\n                title: \"Your Prospect was moved to Client List\",\r\n                showConfirmButton: false,\r\n                timer: 5000,\r\n              });\r\n            }\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if (error.response.data.detail === 'Your session is expired!') {\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Prospect could not be updated, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    filterStatus(status){\r\n      var statusButton= document.getElementById(status);\r\n      statusButton.click();\r\n    },\r\n    deleteclient(ID) {\r\n      const swalWithBootstrapButtons = Swal.mixin({\r\n        customClass: {\r\n          confirmButton: \"btn btn-danger ml-2\",\r\n          cancelButton: \"btn btn-success\",\r\n        },\r\n        buttonsStyling: false,\r\n      });\r\n\r\n      localStorage.setItem('selectedUser', ID)\r\n      swalWithBootstrapButtons\r\n          .fire({\r\n            title: \"Are you sure?\",\r\n            text: \"You won't be able to revert this!\",\r\n            icon: \"warning\",\r\n            confirmButtonText: \"Yes, delete it!\",\r\n            cancelButtonText: \"No, cancel!\",\r\n            showCancelButton: true,\r\n          })\r\n          .then((result) => {\r\n            if (result.value) {\r\n\r\n              const data = {\r\n                token: localStorage.getItem('jwt'),\r\n                userID: localStorage.getItem('id'),\r\n                userName: localStorage.getItem('firstName') + ' ' + localStorage.getItem('lastname'),\r\n                userEmail: localStorage.getItem('email'),\r\n                agentID: localStorage.getItem('selectedUser')\r\n              }\r\n\r\n              axios\r\n                  .put('/api/client/delete', data)\r\n                  .then(async response => {\r\n                    if (response) {\r\n                      await this.updateClientList()\r\n                      await swalWithBootstrapButtons.fire(\r\n                          \"Deleted!\",\r\n                          \"Prospect has been deleted.\",\r\n                          \"success\"\r\n                      );\r\n                    }\r\n                  })\r\n                  .catch(async error => {\r\n                    if (error.response) {\r\n                      let list = '';\r\n                      for (const property in error.response.data) {\r\n                        this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                        list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                      }\r\n\r\n                      await Swal.fire({\r\n                        title: \"Please check the following: \" + list,\r\n                        icon: 'warning',\r\n                        confirmButtonClass: \"btn btn-info\",\r\n                        buttonsStyling: false,\r\n                        showCloseButton: true,\r\n                      });\r\n\r\n                    } else if (error.message) {\r\n                      this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n                    }\r\n                  })\r\n            } else if (\r\n                /* Read more about handling dismissals below */\r\n                result.dismiss === Swal.DismissReason.cancel\r\n            ) {\r\n              swalWithBootstrapButtons.fire(\r\n                  \"Cancelled\",\r\n                  \"Prospect is in a safe place :)\",\r\n                  \"error\"\r\n              );\r\n            }\r\n          });\r\n    },\r\n    getMapsLink(){\r\n      let link = 'https://maps.google.com/?q=';\r\n      let clientData = this.clientData;\r\n\r\n      if (clientData.address.length > 0){\r\n        link += '+'+this.clientData.address\r\n      }\r\n      if (clientData.postalCode.length > 0){\r\n        link += '+'+clientData.postalCode\r\n      }\r\n      if (clientData.city.length > 0){\r\n        link += '+'+clientData.city\r\n      }\r\n      if (clientData.state.length > 0){\r\n        link += '+'+clientData.state\r\n      }\r\n\r\n      if(link !== 'https://maps.google.com/?q='){\r\n        document.getElementById(\"gMapsLink\").href = link;\r\n      } else {\r\n        document.getElementById(\"gMapsLink\").href = '#';\r\n      }\r\n\r\n    },\r\n    deleteRecord(ele) {\r\n      ele.target.parentElement.parentElement.remove();\r\n    },\r\n    parseFile(){\r\n      var allowedExtensions = /(\\.csv)$/i;\r\n      console.log(this.file)\r\n      if (allowedExtensions.exec(this.file.name)) {\r\n        Papa.parse( this.file, {\r\n          header: true,\r\n          skipEmptyLines: true,\r\n          complete: function ( results ) {\r\n            this.content = results;\r\n            if(this.spectedColumns === this.content.meta.fields){\r\n                alert('Todo ok!');\r\n            }else{\r\n              console.log('cacas')\r\n            }\r\n            console.log(this.content.meta.fields)\r\n\r\n            this.parsed = true;\r\n          }.bind(this)\r\n        } );\r\n      } else {\r\n        Swal.fire({\r\n          title: \"File extension not supported!\",\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    handleFileUpload( ){\r\n      this.file = document.getElementById('listFile').files[0];\r\n      this.parseFile();\r\n    },\r\n    async changeType() {\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        userEmail: localStorage.getItem('email'),\r\n        userID: localStorage.getItem('id'),\r\n        isProspect: document.getElementById('isProspect').value,\r\n        deleted: 0,\r\n      }\r\n\r\n      await axios\r\n          .post('/api/client/clientStatus', data)\r\n          .then(response => {\r\n            this.statusList = response.data\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if (error.response.data.detail === 'Your session is expired!') {\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n\r\n      await axios\r\n          .post('/api/client/clientTypes', data)\r\n          .then(response => {\r\n            this.typeList = response.data\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if (error.response.data.detail === 'Your session is expired!') {\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async uploadFile()  {\r\n\r\n      this.errors = []\r\n\r\n      if (document.getElementById('uploadLanguage').value === '') {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (document.getElementById('uploadStatus').value === '') {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (document.getElementById('uploadType').value === '') {\r\n        this.errors.push('Source is required.');\r\n      }\r\n\r\n      if (this.content.length === 0) {\r\n        this.errors.push('Please, upload and process your .csv file.');\r\n      }\r\n\r\n      if(this.errors.length === 0){\r\n        const data = {\r\n          token: localStorage.getItem('jwt'),\r\n          userEmail: localStorage.getItem('email'),\r\n          userID: localStorage.getItem('id'),\r\n          listOfData: this.content,\r\n          uploadTo:  localStorage.getItem('firstName') + ' ' + localStorage.getItem('lastname')\r\n              + ' | ' +localStorage.getItem('email'),\r\n          isProspect: 1,\r\n          language: document.getElementById('uploadLanguage').value,\r\n          status: document.getElementById('uploadStatus').value,\r\n          source: document.getElementById('uploadType').value,\r\n          listType: 1,\r\n        }\r\n\r\n        await axios\r\n            .post('/api/client/uploadList', data)\r\n            .then(async response => {\r\n              if (response.status === 200) {\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Uploaded successfully!'\r\n                });\r\n              }\r\n              setTimeout(function() {\r\n                location.reload()\r\n              }, 2000);\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      }else{\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i]+ '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    viewUserGroup(request) {\r\n      const currentRole = jwt_decode(localStorage.getItem('jwt'))\r\n      return currentRole.userGroup.includes(request)\r\n    },\r\n    async searchAgents() {\r\n\r\n      let typeAhead = document.getElementById('typeahead_id')\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        searchValue: (typeAhead != null && typeof(typeAhead) != 'undefined' ) ? typeAhead.value : [],\r\n        condition: 9\r\n      }\r\n\r\n      if(data['searchValue'].length > 3) {\r\n        await axios\r\n            .post('/api/userFinder', data)\r\n            .then(async response => {\r\n              this.itemsSearch = response.data;\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      }\r\n\r\n\r\n    },\r\n  },\r\n  async mounted() {\r\n\r\n    let field = 'n';\r\n    let url = window.location.href;\r\n\r\n    const queryString = window.location.search;\r\n    const urlParams = new URLSearchParams(queryString);\r\n    const status = urlParams.get(field)\r\n\r\n    let typeAhead = document.getElementById('typeahead_id')\r\n\r\n    const data = {\r\n      token: localStorage.getItem('jwt'),\r\n      searchValues: this.data.searchValues,\r\n      userEmail: localStorage.getItem('email'),\r\n      userID: localStorage.getItem('id'),\r\n      isProspect: 1,\r\n      deleted: 0,\r\n      agentSearch: (typeAhead != null && typeof(typeAhead) != 'undefined' ) ? typeAhead.value : []\r\n    }\r\n\r\n    await axios\r\n        .post('/api/listDepartments', data)\r\n        .then(response => {\r\n          this.departmentList=response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n            Swal.fire(\"Oops!\", \"Departments could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/client/clientStatus', data)\r\n        .then(response => {\r\n          this.statusList=response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n\r\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/client/clientTypes', data)\r\n        .then(response => {\r\n          this.typeList = response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n\r\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    if((url.indexOf('?' + field + '=') !== -1))\r\n      document.getElementById(status).click()\r\n    else\r\n      await axios\r\n          .post('/api/client/listClients', data)\r\n          .then(response => {\r\n            this.list=response.data\r\n            this.page = 1\r\n            this.setPages()\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n            } else if (error.message) {\r\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n            }\r\n          })\r\n\r\n    const checkAll = document.getElementById(\"checkAll\");\r\n\r\n    if (checkAll) {\r\n      checkAll.onclick = function () {\r\n        var checkboxes = document.querySelectorAll(\r\n            '.form-check-all input[type=\"checkbox\"]'\r\n        );\r\n        if (checkAll.checked === true) {\r\n          checkboxes.forEach(function (checkbox) {\r\n            checkbox.checked = true;\r\n            checkbox.closest(\"tr\").classList.add(\"table-active\");\r\n          });\r\n        } else {\r\n          checkboxes.forEach(function (checkbox) {\r\n            checkbox.checked = false;\r\n            checkbox.closest(\"tr\").classList.remove(\"table-active\");\r\n          });\r\n        }\r\n      };\r\n    }\r\n\r\n    function addEvent(parent, evt, selector, handler) {\r\n      parent.addEventListener(evt, function(event) {\r\n        if (event.target.matches(selector + ', ' + selector + ' *')) {\r\n          handler.apply(event.target.closest(selector), arguments);\r\n        }\r\n      }, false);\r\n    }\r\n\r\n    addEvent(document, 'click', 'button.removeItemBen', function() {\r\n      let button_id = this.id;\r\n      document.getElementById('rowBen' + button_id).remove();\r\n    });\r\n    addEvent(document, 'click', 'button.removeItemEcon', function() {\r\n      let button_id = this.id;\r\n      document.getElementById('rowEcon' + button_id).remove()\r\n    });\r\n    addEvent(document, 'click', 'button.removeItemAdditaments', function() {\r\n      let button_id = this.id;\r\n      document.getElementById('rowAdditaments' + button_id).remove()\r\n    });\r\n\r\n\r\n    // check if some elements shot be visible for agents\r\n    if (this.viewUserGroup('SUPER_ADMIN_GROUP') || this.viewUserGroup('ADMIN_GROUP')){\r\n      this.agentVisible = true;\r\n    }else{\r\n      this.agentVisible = false;\r\n    }\r\n  },\r\n  computed: {\r\n    displayedPosts() {\r\n      return this.paginate(this.list);\r\n    },\r\n    resultQuery() {\r\n      if (this.data.searchValues.keyword.length >= 3) {\r\n        const search = this.data.searchValues.keyword.toLowerCase();\r\n        return this.displayedPosts.filter((data) => {\r\n          return (\r\n              data.address.toLowerCase().includes(search) ||\r\n              data.city.toLowerCase().includes(search) ||\r\n              data.FullName.toLowerCase().includes(search) ||\r\n              data.policyNumber.toLowerCase().includes(search) ||\r\n              data.email.toLowerCase().includes(search) ||\r\n              data.phoneNumber.toLowerCase().includes(search) ||\r\n              data.firstName.toLowerCase().includes(search) ||\r\n              data.lastName.toLowerCase().includes(search) ||\r\n              data.postalCode.toLowerCase().includes(search)\r\n          );\r\n        });\r\n      } else {\r\n        return this.displayedPosts;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\"/>\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-12\">\r\n\r\n        <div class=\"card\" id=\"leadsList\">\r\n          <div class=\"card-header border-0\">\r\n            <div class=\"row g-4 align-items-center\">\r\n              <div class=\"col-sm-3\">\r\n                <div class=\"search-box\">\r\n                  <input\r\n                      type=\"text\"\r\n                      class=\"form-control search\"\r\n                      placeholder=\"Search for...\"\r\n                      v-model=\"this.data.searchValues.keyword\"\r\n                      @change=\"this.data.searchValues.keyword.length >= 3 ? updateClientList(): ''\"\r\n                      v-on:keyup.enter=\"this.data.searchValues.keyword === '' ? updateClientList() : ''\"\r\n                  />\r\n                  <i class=\"ri-search-line search-icon\"></i>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-sm-auto ms-auto\">\r\n                <div class=\"hstack gap-2\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-6\" style=\"margin-top: 5px;\">\r\n                      <div class=\"d-flex align-items-center\">\r\n                        <span class=\"text-muted flex-shrink-0\">Sort by: </span>\r\n\r\n                        <Multiselect class=\"form-control\"\r\n                                     style=\"width:150px;padding: 0px;\"\r\n                                     autocomplete=\"off\"\r\n                                     @focus=\"handleFocus\"\r\n                                     v-model=\"this.data.searchValues.sortBy\"\r\n                                     :close-on-select=\"true\"\r\n                                     :searchable=\"true\"\r\n                                     :options=\"[\r\n                            { value: 'name', label: 'Name' },\r\n                            { value: 'lastName', label: 'Last Name' },\r\n                            { value: 'postalCode', label: 'Postal Code' },\r\n                            { value: 'modified', label: 'Modified On' },\r\n                            { value: 'created', label: 'created On' },\r\n                            ]\"\r\n                                     @select=\"updateClientList()\"\r\n                        />\r\n\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-md-6\" style=\"margin-top: 5px;\">\r\n                      <div class=\"d-flex align-items-center\">\r\n                        <span class=\"text-muted flex-shrink-0\">Order by: </span>\r\n\r\n                        <Multiselect class=\"form-control\"\r\n                                     style=\"width:150px;padding: 0px;\"\r\n                                     v-model=\"this.data.searchValues.orderBy\"\r\n                                     autocomplete=\"off\"\r\n                                     @focus=\"handleFocus\"\r\n                                     :close-on-select=\"true\"\r\n                                     :searchable=\"true\"\r\n                                     :options=\"[\r\n                            { value: 'ASC', label: 'Ascendance' },\r\n                            { value: 'DESC', label: 'Descendant' },\r\n                            ]\"\r\n                                     @select=\"updateClientList()\"\r\n                        />\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-5\" style=\"margin-top: 5px;\">\r\n                      <button type=\"button\" class=\"btn btn-soft-success add-btn float-end\" href=\"#open-filters\" data-bs-toggle=\"modal\">\r\n                        <i class=\"ri-filter-line align-bottom me-1\"></i> Filters\r\n                      </button>\r\n                    </div>\r\n                    <div class=\"col-md-5\" style=\"margin-top: 5px;\">\r\n                      <button type=\"button\" class=\"btn btn-soft-success add-btn float-end\" id=\"create-btn\" data-bs-toggle=\"modal\" href=\"#agentModal\" @click=\"addNewAgentModal\" style=\"white-space: nowrap;\">\r\n                        <i class=\"ri-add-line align-bottom me-1\"></i> Add Prospect\r\n                      </button>\r\n                    </div>\r\n                    <div class=\"col-md-1\" style=\"margin-top: 5px;\">\r\n                      <button\r\n                          type=\"button\"\r\n                          id=\"dropdownMenuLink1\"\r\n                          data-bs-toggle=\"dropdown\"\r\n                          aria-expanded=\"false\"\r\n                          class=\"btn btn-soft-info\"\r\n                      >\r\n                        <i class=\"ri-more-2-fill\"></i>\r\n                      </button>\r\n                      <ul class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink1\">\r\n                        <li><a class=\"dropdown-item\" href=\"#uploadLeads\" data-bs-toggle=\"modal\">Upload Leads</a></li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Table Head -->\r\n          <ul\r\n              class=\"nav nav-tabs nav-tabs-custom nav-primary mb-3\"\r\n              role=\"tablist\">\r\n            <li class=\"nav-item\">\r\n              <a\r\n                  class=\"nav-link active All py-3\"\r\n                  data-bs-toggle=\"tab\"\r\n                  id=\"All\"\r\n                  href=\"#home1\"\r\n                  role=\"tab\"\r\n                  aria-selected=\"true\"\r\n                  @click=\"updateClientList(0)\"\r\n              >\r\n                <i class=\"ri-file-search-line me-1 align-bottom\"></i> All\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\" v-for=\"(data, index) of statusList\" :key=\"index\" >\r\n              <a\r\n                  class=\"nav-link py-3\"\r\n                  data-bs-toggle=\"tab\"\r\n                  v-bind:id=\"data.name\"\r\n                  v-bind:href=\"'#'+data.name\"\r\n                  role=\"tab\"\r\n                  aria-selected=\"false\"\r\n                  @click=\"updateClientList(data.statusID)\"\r\n              >\r\n                <i class=\"me-1 align-bottom\"></i>\r\n                {{ data.name }}\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          <div class=\"table-responsive\">\r\n            <table class=\"table align-middle table-nowrap mb-0\">\r\n              <thead class=\"table-light\">\r\n              <tr>\r\n                <th scope=\"col\" style=\"width: 50px\">\r\n                  <div class=\"form-check\">\r\n                    <input\r\n                        class=\"form-check-input\"\r\n                        type=\"checkbox\"\r\n                        id=\"checkAll\"\r\n                        value=\"option\"\r\n                    />\r\n                  </div>\r\n                </th>\r\n                <th scope=\"col\">Name</th>\r\n                <th scope=\"col\" v-if=\"agentVisible\">Department</th>\r\n                <th scope=\"col\" class=\"d-sm-none d-md-block\">Email</th>\r\n                <th scope=\"col\">Phone</th>\r\n                <th scope=\"col\">Create Date</th>\r\n                <th scope=\"col\">Status</th>\r\n                <th scope=\"col\">Actions</th>\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n              <tr v-for=\"(data, index) of resultQuery\" :key=\"index\">\r\n                <td>\r\n                  <div class=\"form-check\">\r\n                    <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"cardtableCheck01\">\r\n                    <label class=\"form-check-label\" for=\"cardtableCheck01\"></label>\r\n                  </div>\r\n                </td>\r\n                <td>{{ data.firstName }} {{ data.lastName }}</td>\r\n                <td v-if=\"agentVisible\">{{ data.departmentName }}</td>\r\n                <td>{{ data.email }}</td>\r\n                <td>{{ formatPhone(data.phoneNumber) }}</td>\r\n                <td> {{ formatDate(data.createdOn, 'MMMM Do YYYY, h:mmA') }} </td>\r\n                <td><a href=\"javascript:void(0);\" v-bind:style=\"'color:'+data.colors\" @click=\"filterStatus(data.statusName)\">{{ data.statusName}}</a></td>\r\n                <td>\r\n                  <ul class=\"list-inline hstack gap-2 mb-0\">\r\n                    <li class=\"list-inline-item\" data-bs-toggle=\"modal\" href=\"#agentModal\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Edit\" @click=\"getClientInfo(data.ID)\">\r\n                      <a class=\"edit-item-btn\" href=\"javascript:void(0);\"><i class=\"ri-pencil-fill align-bottom text-muted\"></i></a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\" data-bs-toggle=\"modal\" href=\"#open-notes\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Notes\" @click=\"getNotes(data.ID)\">\r\n                      <a href=\"javascript:void(0);\" class=\"text-muted d-inline-block\" >\r\n                        <i class=\"ri-sticky-note-line fs-16\"></i>\r\n                      </a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\" data-bs-toggle=\"modal\" data-bs-trigger=\"hover\"  href=\"#changeStatus\"  data-bs-placement=\"top\" title=\"Update Status\" @click=\"getProspectStatus(data.ID)\">\r\n                      <a href=\"javascript:void(0);\" ><i class=\"ri-refresh-fill align-bottom text-muted\"></i></a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\" data-bs-toggle=\"tooltip\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Delete\" @click=\"deleteclient(data.ID)\">\r\n                      <a class=\"remove-item-btn\" data-bs-toggle=\"modal\" href=\"javascript:void(0);\">\r\n                        <i class=\"ri-delete-bin-fill align-bottom text-muted\"></i>\r\n                      </a>\r\n                    </li>\r\n                  </ul>\r\n                </td>\r\n              </tr>\r\n              </tbody>\r\n            </table>\r\n            <div class=\"noresult\" v-if=\"list.length <= 0\">\r\n              <div class=\"text-center\">\r\n                <lottie\r\n                    class=\"avatar-xl\"\r\n                    colors=\"primary:#121331,secondary:#08a88a\"\r\n                    :options=\"defaultOptions\"\r\n                    :height=\"75\"\r\n                    :width=\"75\"\r\n                />\r\n                <h5 class=\"mt-2\">Sorry! No Result Found</h5>\r\n                <p class=\"text-muted mb-0\">\r\n                  We've searched and didn't find any\r\n                  prospect for you.\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div class=\"d-flex justify-content-end mt-3\" v-if=\"resultQuery.length >= 0\">\r\n              <div class=\"pagination-wrap hstack gap-2\">\r\n                <a\r\n                    class=\"page-item pagination-prev disabled\"\r\n                    href=\"#\"\r\n                    v-if=\"page !== 1\"\r\n                    @click=\"page--\"\r\n                >\r\n                  Previous\r\n                </a>\r\n                <ul class=\"pagination listjs-pagination mb-0\">\r\n                  <li\r\n                      :class=\"{\r\n                        active: pageNumber === page,\r\n                        disabled: pageNumber === '...',\r\n                      }\"\r\n                      v-for=\"(pageNumber, index) in pages.slice(\r\n                        page - 1,\r\n                        page + 5\r\n                      )\"\r\n                      :key=\"index\"\r\n                      @click=\"page = pageNumber\"\r\n                  >\r\n                    <a class=\"page\" href=\"#\">{{ pageNumber }}</a>\r\n                  </li>\r\n                </ul>\r\n                <a\r\n                    class=\"page-item pagination-next\"\r\n                    href=\"#\"\r\n                    @click=\"page++\"\r\n                    v-if=\"page < pages.length\"\r\n                >\r\n                  Next\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!--end col-->\r\n    </div>\r\n    <!--end row-->\r\n\r\n    <!--  Add agent modal  -->\r\n    <div class=\"modal zoomIn\" id=\"agentModal\" tabindex=\"-1\" aria-labelledby=\"agentModalLabel\" aria-hidden=\"true\" data-bs-focus=\"false\">\r\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\" style=\"max-width: 1000px;\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header bg-light p-3\">\r\n            <h5 class=\"modal-title\" id=\"agentModalLabel\"></h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"\r\n                    id=\"close-modal\"> </button>\r\n          </div>\r\n          <form id=\"addform\" @submit.prevent=\"\">\r\n            <div class=\"modal-body\">\r\n              <h6> <span style=\"color:red; font-size: 0.7em;\">Required fields (*) </span></h6>\r\n\r\n              <input type=\"hidden\" id=\"id\"/>\r\n              <div class=\"row g-3\">\r\n                <div class=\"col-lg-12\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-8\">\r\n                      <label for=\"editEmail\" class=\"form-label\">Email</label>\r\n                      <input type=\"text\" id=\"editEmail\" name=\"editEmail\" class=\"form-control mb-2 createEmail\" placeholder=\"Enter Email\"\r\n                             v-model=\"clientData.email\">\r\n                      <div class=\"invalid-feedback\">\r\n                        This email is already in use.\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editCreatedBy\" class=\"form-label\">Created By</label>\r\n                      <input type=\"text\" id=\"editCreatedBy\" name=\"editCreatedBy\" class=\"form-control mb-2\" disabled v-model=\"this.clientData.createdBy\">\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editFirstName\" class=\"form-label\">First Name <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <input type=\"text\" id=\"editFirstName\" name=\"editFirstName\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" v-model=\"this.clientData.firstName\" required>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editLastName\" class=\"form-label\">Last Name <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <input type=\"text\" id=\"editLastName\" name=\"editLastName\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\" v-model=\"this.clientData.lastName\" required>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editGender\" class=\"form-label\"> Gender  <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <br>\r\n                      <div class=\"form-check-success form-check-inline\" style=\"margin-top: 0.8em;\">\r\n                        <input class=\"form-check-input\" type=\"radio\" name=\"editGender\" id=\"editGender\" value=\"M\" v-model=\"this.clientData.gender\">\r\n                        <label class=\"form-check-label\" for=\"editGender\"> &nbsp; Male</label>\r\n                      </div>\r\n                      <div class=\"form-check-success form-check-inline\" style=\"margin-top: 0.8em;\">\r\n                        <input class=\"form-check-input\" type=\"radio\" name=\"editGender\" id=\"editGender2\" value=\"F\" v-model=\"this.clientData.gender\">\r\n                        <label class=\"form-check-label\" for=\"editGender2\"> &nbsp; Female</label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editLanguage\" class=\"form-label\">Language <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"editLanguage\" name=\"editLanguage\" v-model=\"this.clientData.language\">\r\n                        <option value=\"1\" selected>English</option>\r\n                        <option value=\"2\">Spanish</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editStatus\" class=\"form-label\">Status <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editStatus\" name=\"editStatus\" v-model=\"this.clientData.status\">\r\n                        <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editType\" class=\"form-label\">Prospect Source</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editType\" name=\"editType\" v-model=\"this.clientData.leadType\">\r\n                        <option v-for=\"(type, typeIndex) of typeList\" :key=\"typeIndex\" v-bind:value=\"type.name\">{{ type.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editPhoneNumber\" class=\"form-label\">Phone <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <input type=\"text\" id=\"editPhoneNumber\" name=\"editPhoneNumber\" class=\"form-control mb-2\" placeholder=\"Phone number\" required v-model=\"this.clientData.phoneNumber\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editDepartment\" class=\"form-label\">Department <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                              v-model=\"this.clientData.departmentID\" v-if=\"(departmentList.length > 1)\">\r\n                        <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\r\n                                v-bind:value=\"department.departmentID\">{{ department.name }}\r\n                        </option>\r\n                      </select>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                              v-model=\"this.clientData.departmentID\" v-else>\r\n                        <option v-bind:value=\"departmentList.departmentID\">{{ departmentList.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editInterview\" class=\"form-label mb-2\">Interview</label>\r\n                      <flat-pickr\r\n                          v-model=\"this.clientData.interview\"\r\n                          :config=\"dateTimeConfig\"\r\n                          id=\"editInterview\"\r\n                          name=\"editInterview\"\r\n                          class=\"form-control\"\r\n                          data-provider=\"timepickr\"\r\n                          data-time-hrs=\"true\"\r\n                      ></flat-pickr>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-8\">\r\n                      <label for=\"editAddress\" class=\"form-label\">Address</label>&nbsp;<code><a href=\"#\" target=\"_blank\" id=\"gMapsLink\">Google Maps</a></code>\r\n                      <input type=\"text\" id=\"editAddress\" name=\"editAddress\" class=\"form-control mb-2\" placeholder=\"Enter Address\" required v-model=\"this.clientData.address\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editBirthdate\" class=\"form-label\"> Birthdate </label>\r\n                      <flat-pickr\r\n                          v-model=\"this.clientData.birthday\"\r\n                          :config=\"timeConfig\"\r\n                          class=\"form-control flatpickr-input\"\r\n                          id=\"editBirthdate\"\r\n                          name=\"editBirthdate\"\r\n                      ></flat-pickr>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-2\">\r\n                      <label for=\"editState\" class=\"form-label\">State</label>\r\n                      <input type=\"text\" id=\"editState\" name=\"editState\" class=\"form-control mb-2\" placeholder=\"Enter State\" required v-model=\"this.clientData.state\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editCountry\" class=\"form-label\">Country</label>\r\n                      <input type=\"text\" id=\"editCountry\" name=\"editCountry\" class=\"form-control mb-2\" placeholder=\"Enter Country\" required v-model=\"this.clientData.country\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editCity\" class=\"form-label\">City</label>\r\n                      <input type=\"text\" id=\"editCity\" name=\"editCity\" class=\"form-control mb-2\" placeholder=\"Enter City\" required v-model=\"this.clientData.city\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editPostalCode\" class=\"form-label\">Postal code</label>\r\n                      <input type=\"text\" id=\"editPostalCode\" name=\"editPostalCode\" class=\"form-control mb-2\" placeholder=\"Enter Address\" required v-model=\"this.clientData.postalCode\"/>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\" id=\"editNoteOpen\" style=\"display: none;\">\r\n                    <notes :dataList=\"notesData\" @onFire=\"getNotes()\" :idNumber=\"1\"> </notes>\r\n                  </div>\r\n                  <div class=\"row\" id=\"editNotes\">\r\n                    <div class=\"mt-4\">\r\n                      <label\r\n                          for=\"editNotes\"\r\n                          class=\"form-label text-muted text-uppercase fw-semibold\"\r\n                      >Notes</label>\r\n                      <textarea\r\n                          class=\"form-control alert alert-primary\"\r\n                          v-model=\"this.clientData.note\"\r\n                          name=\"editNotes\"\r\n                          placeholder=\"Notes\"\r\n                          rows=\"2\"\r\n                      ></textarea>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!--end col-->\r\n              </div>\r\n              <!--end row-->\r\n            </div>\r\n\r\n            <div class=\"modal-footer\">\r\n              <div class=\"hstack gap-2 justify-content-end\">\r\n                <button type=\"button\" class=\"btn btn-light\" id=\"closemodal\" data-bs-dismiss=\"modal\">Close</button>\r\n                <button type=\"submit\" class=\"btn btn-success\" id=\"add-btn\" @click=\"createClient\">Save</button>\r\n                <button type=\"button\" class=\"btn btn-success\" id=\"edit-btn\" @click=\"updateClient\">Update</button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Filters Modal -->\r\n    <div id=\"open-filters\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\"  data-bs-focus=\"false\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"myModalLabel\">Filters</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"> </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-12\">\r\n                <label for=\"filterKeyword\" class=\"form-label\">Keyword</label>\r\n                <input type=\"text\" id=\"filterKeyword\" name=\"filterKeyword\" class=\"form-control mb-2\" placeholder=\"Enter Keyword\" v-model=\"this.data.searchValues.keyword\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterType\" class=\"form-label\">Source</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"filterType\" id=\"filterType\" name=\"filterType\" v-model=\"this.data.searchValues.type\">\r\n                  <option value=\"0\">All</option>\r\n                  <option v-for=\"(type, typeIndex) of typeList\" :key=\"typeIndex\" v-bind:value=\"type.name\">{{ type.name }}</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterStatus\" class=\"form-label\">Status</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"filterStatus\" v-model=\"this.data.searchValues.status\">\r\n                  <option value=\"0\">All</option>\r\n                  <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editLanguage\" class=\"form-label\">Language</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"filterLanguage\" name=\"filterLanguage\" v-model=\"this.data.searchValues.language\">\r\n                  <option value=\"1\">English</option>\r\n                  <option value=\"2\">Spanish</option>\r\n                  <option value=\"3\">Both</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editStatus\" class=\"form-label\">Search by Notes</label>\r\n                <input type=\"text\" id=\"filterNotes\" name=\"filterNotes\" class=\"form-control mb-2\" placeholder=\"Enter note\" v-model=\"this.data.searchValues.noteSearch\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterFromDate\" class=\"form-label\"> From date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.data.searchValues.fromDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterFromDate\"\r\n                    name=\"filterFromDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterToDate\" class=\"form-label\"> To Date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.data.searchValues.toDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterToDate\"\r\n                    name=\"filterToDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterDateRange\" class=\"form-label\">Time Range</label>\r\n                <select class=\"form-select mb-2\" id=\"filterDateRange\" name=\"filterDateRange\" v-model=\"this.data.searchValues.dateRange\">\r\n                  <option value=\"0\" selected>...</option>\r\n                  <option value=\"1\">Until 2 year Ago</option>\r\n                  <option value=\"2\">Until 4 year Ago</option>\r\n                  <option value=\"3\">Until 5 year Ago</option>\r\n                  <option value=\"4\">Begin of times</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <span v-if=\"viewUserGroup('SUPER_ADMIN_GROUP')\">\r\n                  <label for=\"filterDateRange\" class=\"form-label\">Department</label>\r\n                    <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"filterDepartment\" name=\"filterDepartment\"\r\n                            v-model=\"this.data.searchValues.department\">\r\n                        <option value=\"0\"> All</option>\r\n                        <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\r\n                                v-bind:value=\"department.departmentID\"> {{ department.name }}\r\n                        </option>\r\n                    </select>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-md-12\" v-if=\"viewUserGroup('SUPER_ADMIN_GROUP') || viewUserGroup('ADMIN_GROUP')\">\r\n                <label for=\"typeahead_id\" class=\"form-label\">Find By Agent</label>\r\n                <SimpleTypeahead\r\n                    id=\"typeahead_id\"\r\n                    placeholder=\"Type your agent search...\"\r\n                    :items=\"this.itemsSearch\"\r\n                    :minInputLength=\"3\"\r\n                    :class=\"'form-control mb-2'\"\r\n                    @onInput=\"searchAgents\"\r\n                    @selectItem=\"selectItemEventHandler\"\r\n                >\r\n                </SimpleTypeahead>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-light\" data-bs-dismiss=\"modal\">Close</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"updateClientList()\">Search</button>\r\n          </div>\r\n\r\n        </div><!-- /.modal-content -->\r\n      </div><!-- /.modal-dialog -->\r\n    </div>\r\n\r\n    <!-- Notes Modal -->\r\n    <div id=\"open-notes\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <notes :dataList=\"notesData\" @onFire=\"getNotes()\" :idNumber=\"2\"> </notes>\r\n        </div><!-- /.modal-content -->\r\n      </div><!-- /.modal-dialog -->\r\n    </div><!-- /.modal -->\r\n\r\n    <!-- Move to Prospect Modal -->\r\n    <div id=\"changeStatus\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\">\r\n      <div class=\"modal-dialog modal-dialog-centered\">\r\n        <div class=\"modal-content \">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"myModalLabel\">Move Prospects</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"> </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-12\">\r\n                <label for=\"filterStatus\" class=\"form-label\">Status</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"moveStatus\">\r\n                  <option value=\"0\">All</option>\r\n                  <option v-for=\"(status, statusIndex) of prospectStatusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-light\" id=\"closeMove\" data-bs-dismiss=\"modal\">Close</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"moveClient()\">Move</button>\r\n          </div>\r\n        </div><!-- /.modal-content -->\r\n      </div><!-- /.modal-dialog -->\r\n    </div><!-- /.modal -->\r\n\r\n    <!-- Upload Prospects Modal -->\r\n    <b-modal id=\"uploadLeads\" title=\"Fullscreen | Upload Leads\" class=\"v-modal-custom\" fullscreen>\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-12\">\r\n          <form>\r\n            <!-- end card -->\r\n\r\n            <div class=\"card\">\r\n              <div class=\"card-body\">\r\n                <div class=\"vstack gap-2\">\r\n                  <h5 class=\"fs-14 mb-1\">Upload Your List</h5>\r\n                  <h6> <span style=\"color:red; font-size: 0.7em;\">Please, upload a .csv file from Lincoln or convert the .xls/.xlsx to .csv</span></h6>\r\n                  <input class=\"form-control\" id=\"listFile\" type=\"file\"\r\n                         accept=\"text/csv\" @change=\"selectedFile\"/>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editLanguage\" class=\"form-label\">Language</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"uploadLanguage\" name=\"uploadLanguage\">\r\n                        <option value=\"\">...</option>\r\n                        <option value=\"1\">English</option>\r\n                        <option value=\"2\">Spanish</option>\r\n                        <option value=\"3\">Take from list</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editStatus\" class=\"form-label\">Status</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"uploadStatus\" name=\"uploadStatus\">\r\n                        <option value=\"\">...</option>\r\n                        <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editType\" class=\"form-label\">Source</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"uploadType\" name=\"uploadType\">\r\n                        <option value=\"\">...</option>\r\n                        <option v-for=\"(type, typeIndex) of typeList\" :key=\"typeIndex\" v-bind:value=\"type.name\">{{ type.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-3\"></div>\r\n                  </div>\r\n\r\n                  <div class=\"border rounded\" v-for=\"(file, index) of files\" :key=\"index\">\r\n                    <div class=\"d-flex align-items-center p-2\">\r\n                      <div class=\"flex-grow-1\">\r\n                        <div class=\"pt-1\">\r\n                          <h5 class=\"fs-14 mb-1\" data-dz-name=\"\">\r\n                            {{ file.name }}\r\n                          </h5>\r\n                          <p class=\"fs-13 text-muted mb-0\" data-dz-size=\"\">\r\n                            <strong>{{ file.size / 1024 }}</strong> KB\r\n                          </p>\r\n                          <strong class=\"error text-danger\" data-dz-errormessage=\"\"></strong>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"flex-shrink-0 ms-3\">\r\n                        <button data-dz-remove=\"\" class=\"btn btn-sm btn-danger\" @click=\"deleteRecord\">\r\n                          Delete\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"text-end mb-3\">\r\n                    <button type=\"button\" class=\"btn btn-success w-sm\" @click=\"handleFileUpload\">Process File</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <!-- end card -->\r\n          </form>\r\n        </div>\r\n        <!-- end col -->\r\n\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n\r\n            <!-- Tables Border Colors -->\r\n            <table class=\"table table-bordered border-secondary table-nowrap\" v-if=\"parsed\">\r\n              <thead>\r\n              <tr>\r\n                <th scope=\"col\">\r\n                  ID\r\n                </th>\r\n                <th v-for=\"(header, key) in content.meta.fields\"\r\n                    v-bind:key=\"'header-'+key\" scope=\"col\">{{ header }}\r\n                </th>\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n              <tr v-for=\"(row, rowKey) in content.data\"\r\n                  v-bind:key=\"'row-'+rowKey\">\r\n                <td>\r\n                  <b>{{ (rowKey+1) }}</b>\r\n                </td>\r\n                <td v-for=\"(column, columnKey) in content.meta.fields\"\r\n                    v-bind:key=\"'row-'+rowKey+'-column-'+columnKey\">\r\n                  {{ content.data[rowKey][column] }}\r\n                </td>\r\n              </tr>\r\n              </tbody>\r\n            </table>\r\n\r\n          </div>\r\n        </div>\r\n        <div class=\"text-end mb-3\">\r\n          <button type=\"button\" class=\"btn btn-success w-sm\" @click=\"uploadFile\">Upload File</button>\r\n        </div>\r\n      </div>\r\n    </b-modal>\r\n\r\n  </Layout>\r\n</template>\r\n<style>\r\n.row-spacer{\r\n  margin-bottom: 10px;\r\n}\r\n</style>"]}]}