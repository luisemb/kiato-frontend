{"remainingRequest":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\wamp64\\www\\crm\\frontend\\src\\views\\agents\\agentslist.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\wamp64\\www\\crm\\frontend\\src\\views\\agents\\agentslist.vue","mtime":1675205943723},{"path":"C:\\wamp64\\www\\crm\\frontend\\babel.config.js","mtime":1645939880000},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1652458135842},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1668443313146}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L3dhbXA2NC93d3cvY3JtL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRlc3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCBmbGF0UGlja3IgZnJvbSAidnVlLWZsYXRwaWNrci1jb21wb25lbnQiOwppbXBvcnQgImZsYXRwaWNrci9kaXN0L2ZsYXRwaWNrci5jc3MiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7IC8vIGltcG9ydCBNdWx0aXNlbGVjdCBmcm9tICJAdnVlZm9ybS9tdWx0aXNlbGVjdCI7Ci8vIGltcG9ydCAiQHZ1ZWZvcm0vbXVsdGlzZWxlY3QvdGhlbWVzL2RlZmF1bHQuc2NzcyI7CgppbXBvcnQgTGF5b3V0IGZyb20gIi4uLy4uL2xheW91dHMvbWFpbi52dWUiOwppbXBvcnQgUGFnZUhlYWRlciBmcm9tICJAL2NvbXBvbmVudHMvcGFnZS1oZWFkZXIiOwppbXBvcnQgYXBwQ29uZmlnIGZyb20gIi4uLy4uLy4uL2FwcC5jb25maWciOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBMb3R0aWUgZnJvbSAiQC9jb21wb25lbnRzL3dpZGdldHMvbG90dGllLnZ1ZSI7IC8vIGltcG9ydCBhbmltYXRpb25EYXRhMSBmcm9tICJAL2NvbXBvbmVudHMvd2lkZ2V0cy9nc3F4ZHhvZy5qc29uIjsKCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhbmltYXRpb25EYXRhIGZyb20gIkAvY29tcG9uZW50cy93aWRnZXRzL21zb2Vhd3FtLmpzb24iOwpleHBvcnQgZGVmYXVsdCB7CiAgcGFnZTogewogICAgdGl0bGU6ICJBZ2VudHMiLAogICAgbWV0YTogW3sKICAgICAgbmFtZTogImRlc2NyaXB0aW9uIiwKICAgICAgY29udGVudDogYXBwQ29uZmlnLmRlc2NyaXB0aW9uCiAgICB9XQogIH0sCiAgY29tcG9uZW50czogewogICAgTGF5b3V0OiBMYXlvdXQsCiAgICBQYWdlSGVhZGVyOiBQYWdlSGVhZGVyLAogICAgbG90dGllOiBMb3R0aWUsCiAgICAvLyBNdWx0aXNlbGVjdCwKICAgIGZsYXRQaWNrcjogZmxhdFBpY2tyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6ICJBZ2VudCBMaXN0IiwKICAgICAgaXRlbXM6IFt7CiAgICAgICAgdGV4dDogIkFnZW50cyIsCiAgICAgICAgaHJlZjogIi8iCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiQWdlbnQgTGlzdCIsCiAgICAgICAgYWN0aXZlOiB0cnVlCiAgICAgIH1dLAogICAgICB0aW1lQ29uZmlnOiB7CiAgICAgICAgZW5hYmxlVGltZTogZmFsc2UsCiAgICAgICAgZGF0ZUZvcm1hdDogImQgTSwgWSIKICAgICAgfSwKICAgICAgZGF0ZVRpbWVDb25maWc6IHsKICAgICAgICBlbmFibGVUaW1lOiB0cnVlLAogICAgICAgIGRhdGVGb3JtYXQ6ICJtLWQteSBIOmkgSyIKICAgICAgfSwKICAgICAgbGlzdDogW10sCiAgICAgIGFnZW50RGF0YTogewogICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgZmlyc3ROYW1lOiAnJywKICAgICAgICBsYXN0TmFtZTogJycsCiAgICAgICAgbGFuZ3VhZ2U6ICcnLAogICAgICAgIHN0YXR1czogJycsCiAgICAgICAgcGhvbmU6ICcnLAogICAgICAgIGRlcGFydG1lbnQ6ICcnLAogICAgICAgIHN0YXRlOiAnJywKICAgICAgICBiaXJ0aERhdGU6ICcnLAogICAgICAgIGFkZHJlc3M6ICcnLAogICAgICAgIGNvdW50cnk6ICcnLAogICAgICAgIHppcENvZGU6ICcnLAogICAgICAgIGludGVydmlldzogJycsCiAgICAgICAgYWdlbnROdW1iZXI6ICcnLAogICAgICAgIGNyZWF0ZWRCeTogJycsCiAgICAgICAgaW5zdXJhbmNlTGljZW5zZTogJycsCiAgICAgICAgbGljZW5zZU51bWJlcjogJycKICAgICAgfSwKICAgICAgZGVwYXJ0bWVudExpc3Q6IHt9LAogICAgICBzdGF0dXNMaXN0OiB7fSwKICAgICAgcGFnZTogMSwKICAgICAgcGVyUGFnZTogMTAwLAogICAgICBwYWdlczogW10sCiAgICAgIHNlYXJjaFF1ZXJ5OiBudWxsLAogICAgICBodW1hbmZyaWVuZGx5Q29uZmlnOiB7CiAgICAgICAgZGF0ZUZvcm1hdDogIkYgaiwgWSIKICAgICAgfSwKICAgICAgZGF0YTogewogICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgc2VhcmNoVmFsdWVzOiB7CiAgICAgICAgICBsaW1pdFRvOiB0aGlzLnBlclBhZ2UsCiAgICAgICAgICBpc0FjdGl2ZTogMSwKICAgICAgICAgIG5vdGVTZWFyY2g6ICcnLAogICAgICAgICAga2V5d29yZDogJycsCiAgICAgICAgICBsaWNlbnNlZDogMSwKICAgICAgICAgIGxhbmd1YWdlOiAzLAogICAgICAgICAgc3RhdHVzOiAwLAogICAgICAgICAgdG9EYXRlOiBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tdXMnLCB7CiAgICAgICAgICAgIHllYXI6ICJudW1lcmljIiwKICAgICAgICAgICAgbW9udGg6ICJsb25nIiwKICAgICAgICAgICAgZGF5OiAibnVtZXJpYyIKICAgICAgICAgIH0pLAogICAgICAgICAgZnJvbURhdGU6IG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RnVsbFllYXIobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpIC0gMSkpLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tdXMnLCB7CiAgICAgICAgICAgIHllYXI6ICJudW1lcmljIiwKICAgICAgICAgICAgbW9udGg6ICJsb25nIiwKICAgICAgICAgICAgZGF5OiAibnVtZXJpYyIKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9LAogICAgICBkZWZhdWx0T3B0aW9uczogewogICAgICAgIGFuaW1hdGlvbkRhdGE6IGFuaW1hdGlvbkRhdGEKICAgICAgfQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBjb21wYW5pZXM6IGZ1bmN0aW9uIGNvbXBhbmllcygpIHsKICAgICAgdGhpcy5zZXRQYWdlcygpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuc2V0UGFnZXMoKTsKICB9LAogIGZpbHRlcnM6IHsKICAgIHRyaW1Xb3JkczogZnVuY3Rpb24gdHJpbVdvcmRzKHZhbHVlKSB7CiAgICAgIHJldHVybiB2YWx1ZS5zcGxpdCgiICIpLnNwbGljZSgwLCAyMCkuam9pbigiICIpICsgIi4uLiI7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBlZGl0ZGF0YTogZnVuY3Rpb24gZWRpdGRhdGEoZGF0YSkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQnKS52YWx1ZSA9IGRhdGEuaWQ7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXN0b21lcm5hbWUnKS52YWx1ZSA9IGRhdGEubmFtZTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBhbnluYW1lJykudmFsdWUgPSBkYXRhLmNvbXBhbnk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWFkc3Njb3JlJykudmFsdWUgPSBkYXRhLnNjb3JlOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGhvbmUnKS52YWx1ZSA9IGRhdGEucGhvbmU7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2NhdGlvbicpLnZhbHVlID0gZGF0YS5sb2NhdGlvbjsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGUnKS52YWx1ZSA9IGRhdGEuZGF0ZTsKICAgIH0sCiAgICB1cGRhdGVBZ2VudDogZnVuY3Rpb24gdXBkYXRlQWdlbnQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgZGF0YSwgbGlzdCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzID0gW107CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEVtYWlsJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ0VtYWlsIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICghX3RoaXMudmFsaWRFbWFpbChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEVtYWlsJykudmFsdWUpKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdWYWxpZCBlbWFpbCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Rmlyc3ROYW1lJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ0ZpcnN0IE5hbWUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExhc3ROYW1lJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ0xhc3QgTmFtZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFuZ3VhZ2UnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnTGFuZ3VhZ2UgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFN0YXR1cycpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdTdGF0dXMgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBob25lTnVtYmVyJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ1Bob25lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy52YWxpZFBob25lKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UGhvbmVOdW1iZXInKS52YWx1ZSkgPT09IGZhbHNlICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UGhvbmVOdW1iZXInKS52YWx1ZSAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ1BsZWFzZSwgd3JpdGUgYSB2YWxpZCBwaG9uZSBudW1iZXIhJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdERlcGFydG1lbnQnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnRGVwYXJ0bWVudCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QmlydGhEYXRlJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ0JpcnRoIGRhdGUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEFkZHJlc3MnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnQWRkcmVzcyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QWdlbnROdW1iZXInKS52YWx1ZSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFN0YXR1cycpLnZhbHVlID09PSA1KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdBZ2VudCBOdW1iZXIgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExpY2Vuc2VkJykudmFsdWUgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0dXMnKS52YWx1ZSA9PT0gNSB8fCAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMaWNlbnNlZCcpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdJbnN1cmFuY2UgTGljZW5zZWQ/IGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMaWNlbnNlZCcpLnZhbHVlICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdHVzJykudmFsdWUgPT09IDUKICAgICAgICAgICAgICAgIC8qfHwgKCF0aGlzLmFnZW50RGF0YS5saWNlbnNlTnVtYmVyICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGljZW5zZWQnKS52YWx1ZSA9PT0gMSkqLwogICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdMaWNlbnNlIG51bWJlciBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZXJyb3JzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgICAgICAgICAgIGVtYWlsOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEVtYWlsJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRGaXJzdE5hbWUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgbGFzdE5hbWU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFzdE5hbWUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFuZ3VhZ2UnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgc3RhdHVzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFN0YXR1cycpLnZhbHVlLAogICAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQaG9uZU51bWJlcicpLnZhbHVlLAogICAgICAgICAgICAgICAgICBkZXBhcnRtZW50SUQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RGVwYXJ0bWVudCcpLnZhbHVlLAogICAgICAgICAgICAgICAgICBzdGF0ZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0ZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBiaXJ0aERhdGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QmlydGhEYXRlJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QWRkcmVzcycpLnZhbHVlLAogICAgICAgICAgICAgICAgICBjb3VudHJ5OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdENvdW50cnknKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQb3N0YWxDb2RlJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGludGVydmlld0RhdGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0SW50ZXJ2aWV3JykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGFnZW50TnVtYmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEFnZW50TnVtYmVyJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGNyZWF0ZWRCeTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgICAgICAgIGlzTGljZW5zZWQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGljZW5zZWQnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgbGljZW5zZU51bWJlcjogX3RoaXMuYWdlbnREYXRhLmxpY2Vuc2VOdW1iZXIsCiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgICAgICAgIGFnZW50SUQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpLnZhbHVlCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxODsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoJy9hcGkvdXBkYXRlQWdlbnQnLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZW1vZGFsJykuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0FnZW50IHVwZGF0ZSBzdWNjZXNzZnVsbHkhJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjogIikuY29uY2F0KGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjaGVjayB0aGUgZm9sbG93aW5nOiAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IF90aGlzLmVycm9ycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIF90aGlzLmVycm9yc1tpXSArICc8L2I+JzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNvbXBsZXRlIHRoZSBmb3JtISAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZGROZXdBZ2VudE1vZGFsOiBmdW5jdGlvbiBhZGROZXdBZ2VudE1vZGFsKCkgewogICAgICB0aGlzLnJlc2V0QWdlbnREYXRhKCk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRmb3JtIikucmVzZXQoKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FnZW50TW9kYWxMYWJlbCcpLmlubmVySFRNTCA9ICJBZGQgQWdlbnQiOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLWJ0bicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC1idG4nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgfSwKICAgIGNyZWF0ZUFnZW50OiBmdW5jdGlvbiBjcmVhdGVBZ2VudCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICB2YXIgZGF0YSwgbGlzdCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycyA9IFtdOwoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmFnZW50RGF0YS5lbWFpbCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0VtYWlsIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICghX3RoaXMyLnZhbGlkRW1haWwoX3RoaXMyLmFnZW50RGF0YS5lbWFpbCkpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdWYWxpZCBlbWFpbCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5hZ2VudERhdGEuZmlyc3ROYW1lKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnRmlyc3QgTmFtZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5hZ2VudERhdGEubGFzdE5hbWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdMYXN0IE5hbWUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuYWdlbnREYXRhLmxhbmd1YWdlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnTGFuZ3VhZ2UgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuYWdlbnREYXRhLnN0YXR1cykgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ1N0YXR1cyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5hZ2VudERhdGEucGhvbmUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdQaG9uZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLnZhbGlkUGhvbmUoX3RoaXMyLmFnZW50RGF0YS5waG9uZSkgPT09IGZhbHNlICYmIF90aGlzMi5hZ2VudERhdGEucGhvbmUgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnUGxlYXNlLCB3cml0ZSBhIHZhbGlkIHBob25lIG51bWJlciEnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5hZ2VudERhdGEuZGVwYXJ0bWVudCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0RlcGFydG1lbnQgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuYWdlbnREYXRhLmJpcnRoRGF0ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0JpcnRoIGRhdGUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuYWdlbnREYXRhLmFkZHJlc3MpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdBZGRyZXNzIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmFnZW50RGF0YS5hZ2VudE51bWJlciAmJiBfdGhpczIuYWdlbnREYXRhLnN0YXR1cyA9PT0gNSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0FnZW50IE51bWJlciBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5hZ2VudERhdGEuaW5zdXJhbmNlTGljZW5zZSAmJiBfdGhpczIuYWdlbnREYXRhLnN0YXR1cyA9PT0gNSB8fCAhX3RoaXMyLmFnZW50RGF0YS5pbnN1cmFuY2VMaWNlbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnaXMgSW5zdXJhbmNlIExpY2Vuc2VkPyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5hZ2VudERhdGEubGljZW5zZU51bWJlciAmJiBfdGhpczIuYWdlbnREYXRhLnN0YXR1cyA9PT0gNSB8fCAhX3RoaXMyLmFnZW50RGF0YS5saWNlbnNlTnVtYmVyICYmIF90aGlzMi5hZ2VudERhdGEuaW5zdXJhbmNlTGljZW5zZSA9PT0gMSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0xpY2Vuc2UgbnVtYmVyIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIuZXJyb3JzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgICAgICAgICAgIGVtYWlsOiBfdGhpczIuYWdlbnREYXRhLmVtYWlsLAogICAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IF90aGlzMi5hZ2VudERhdGEuZmlyc3ROYW1lLAogICAgICAgICAgICAgICAgICBsYXN0TmFtZTogX3RoaXMyLmFnZW50RGF0YS5sYXN0TmFtZSwKICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IF90aGlzMi5hZ2VudERhdGEubGFuZ3VhZ2UsCiAgICAgICAgICAgICAgICAgIHN0YXR1czogX3RoaXMyLmFnZW50RGF0YS5zdGF0dXMsCiAgICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiBfdGhpczIuYWdlbnREYXRhLnBob25lLAogICAgICAgICAgICAgICAgICBkZXBhcnRtZW50SUQ6IF90aGlzMi5hZ2VudERhdGEuZGVwYXJ0bWVudCwKICAgICAgICAgICAgICAgICAgc3RhdGU6IF90aGlzMi5hZ2VudERhdGEuc3RhdGUsCiAgICAgICAgICAgICAgICAgIGJpcnRoRGF0ZTogX3RoaXMyLmFnZW50RGF0YS5iaXJ0aERhdGUsCiAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IF90aGlzMi5hZ2VudERhdGEuYWRkcmVzcywKICAgICAgICAgICAgICAgICAgY291bnRyeTogX3RoaXMyLmFnZW50RGF0YS5jb3VudHJ5LAogICAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBfdGhpczIuYWdlbnREYXRhLnppcENvZGUsCiAgICAgICAgICAgICAgICAgIGludGVydmlld0RhdGU6IF90aGlzMi5hZ2VudERhdGEuaW50ZXJ2aWV3LAogICAgICAgICAgICAgICAgICBhZ2VudE51bWJlcjogX3RoaXMyLmFnZW50RGF0YS5hZ2VudE51bWJlciwKICAgICAgICAgICAgICAgICAgY3JlYXRlZEJ5OiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgaXNMaWNlbnNlZDogX3RoaXMyLmFnZW50RGF0YS5pbnN1cmFuY2VMaWNlbnNlLAogICAgICAgICAgICAgICAgICBsaWNlbnNlTnVtYmVyOiBfdGhpczIuYWdlbnREYXRhLmxpY2Vuc2VOdW1iZXIsCiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJykKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY3JlYXRlQWdlbnQnLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRmb3JtIikucmVzZXQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZS5kYXRhWydJRCddICE9PSBudWxsKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZW1vZGFsJykuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdBZ2VudCBjcmVhdGVkIHN1Y2Nlc3NmdWxseSEnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmNCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNoZWNrIHRoZSBmb2xsb3dpbmc6ICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IF90aGlzMi5lcnJvcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBfdGhpczIuZXJyb3JzW2ldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY29tcGxldGUgdGhlIGZvcm0hICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldERlcGFydG1lbnRzOiBmdW5jdGlvbiBnZXREZXBhcnRtZW50cygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvZ2V0RGVwYXJ0bWVudHMnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIlNvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRVc2VySW5mbzogZnVuY3Rpb24gZ2V0VXNlckluZm8oaWQpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgZGF0YSwgYWdlbnRJbmZvOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC1idG4nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtYnRuJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZ2VudE1vZGFsTGFiZWwnKS5pbm5lckhUTUwgPSAiRWRpdCBBZ2VudCI7CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICBJRDogaWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9nZXRVc2VyJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgYWdlbnRJbmZvID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRBZ2VudERhdGEoYWdlbnRJbmZvKTsKCiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpLnZhbHVlID0gYWdlbnRJbmZvLklEOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEVtYWlsJykudmFsdWUgPSBhZ2VudEluZm8uZW1haWw7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Rmlyc3ROYW1lJykudmFsdWUgPSBhZ2VudEluZm8uZmlyc3ROYW1lOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExhc3ROYW1lJykudmFsdWUgPSBhZ2VudEluZm8ubGFzdE5hbWU7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFuZ3VhZ2UnKS52YWx1ZSA9IGFnZW50SW5mby5sYW5ndWFnZTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0dXMnKS52YWx1ZSA9IGFnZW50SW5mby5zdGF0dXM7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UGhvbmVOdW1iZXInKS52YWx1ZSA9IGFnZW50SW5mby5waG9uZU51bWJlcjsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXREZXBhcnRtZW50JykudmFsdWUgPSBhZ2VudEluZm8uZGVwYXJ0bWVudElEOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEJpcnRoRGF0ZScpLnZhbHVlID0gYWdlbnRJbmZvLmRhdGVPZkJpcnRoOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEFkZHJlc3MnKS52YWx1ZSA9IGFnZW50SW5mby5hZGRyZXNzOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFN0YXRlJykudmFsdWUgPSBhZ2VudEluZm8uc3RhdGU7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Q291bnRyeScpLnZhbHVlID0gYWdlbnRJbmZvLmNvdW50cnk7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UG9zdGFsQ29kZScpLnZhbHVlID0gYWdlbnRJbmZvLnBvc3RhbENvZGU7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QWdlbnROdW1iZXInKS52YWx1ZSA9IGFnZW50SW5mby5hZ2VudE51bWJlcjsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRDcmVhdGVkQnknKS52YWx1ZSA9IGFnZW50SW5mby5jcmVhdGVkQnk7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGljZW5zZWQnKS52YWx1ZSA9IGFnZW50SW5mby5pc0xpY2Vuc2VkOyAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEludGVydmlldycpLnZhbHVlPWFnZW50SW5mby5pbnRlcnZpZXdEYXRlOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdmFsaWRFbWFpbDogZnVuY3Rpb24gdmFsaWRFbWFpbChlbWFpbCkgewogICAgICB2YXIgcmUgPSAvXigoW148PigpW1xdXFwuLDs6XHNAIl0rKFwuW148PigpW1xdXFwuLDs6XHNAIl0rKSopfCgiLisiKSlAKChcW1swLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cXSl8KChbYS16QS1aXC0wLTldK1wuKStbYS16QS1aXXsyLH0pKSQvOwogICAgICByZXR1cm4gcmUudGVzdChlbWFpbCk7CiAgICB9LAogICAgdmFsaWRQaG9uZTogZnVuY3Rpb24gdmFsaWRQaG9uZShwaG9uZSkgewogICAgICByZXR1cm4gL14oXCt7MCx9KShcZHswLH0pKFsoXXsxfVxkezEsM31bKV17MCx9KXswLH0oXHM/XGQrfFwrXGR7MiwzfVxzezF9XGQrfFxkKyl7MX1bXHN8LV0/XGQrKFtcc3wtXT9cZCspezEsMn0oXHMpezAsfSQvZ20udGVzdChwaG9uZSk7CiAgICB9LAogICAgZm9ybWF0RGF0ZTogZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlLCBmb3JtYXQpIHsKICAgICAgZGF0ZSA9IG1vbWVudChkYXRlKS5mb3JtYXQoZm9ybWF0KTsKICAgICAgcmV0dXJuIGRhdGU7CiAgICB9LAogICAgZm9ybWF0UGhvbmU6IGZ1bmN0aW9uIGZvcm1hdFBob25lKHBob25lKSB7CiAgICAgIHZhciBmbGFnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwOwoKICAgICAgLy8gaWYgZmxhZyA9PSAxIHB1dCB2YWx1ZSBpbiBwaG9uZSBFZGl0CiAgICAgIGlmIChwaG9uZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdmFyIHggPSBwaG9uZS5yZXBsYWNlKC9cRC9nLCAnJykubWF0Y2goLyhcZHswLDN9KShcZHswLDN9KShcZHswLDR9KS8pOwogICAgICAgIHBob25lID0gIXhbMl0gPyB4WzFdIDogJygnICsgeFsxXSArICcpICcgKyB4WzJdICsgKHhbM10gPyAnLScgKyB4WzNdIDogJycpOwogICAgICB9IGVsc2UgewogICAgICAgIHBob25lID0gJyc7CiAgICAgIH0KCiAgICAgIGlmIChmbGFnICE9PSAxKSB7CiAgICAgICAgcmV0dXJuIHBob25lOwogICAgICB9IGVsc2UgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UGhvbmVOdW1iZXInKS52YWx1ZSA9IHBob25lOwogICAgICB9CiAgICB9LAogICAgc2V0QWdlbnREYXRhOiBmdW5jdGlvbiBzZXRBZ2VudERhdGEoZGF0YSkgewogICAgICB0aGlzLmFnZW50RGF0YS5lbWFpbCA9IGRhdGEuZW1haWw7CiAgICAgIHRoaXMuYWdlbnREYXRhLmZpcnN0TmFtZSA9IGRhdGEuZmlyc3ROYW1lOwogICAgICB0aGlzLmFnZW50RGF0YS5sYXN0TmFtZSA9IGRhdGEubGFzdE5hbWU7CiAgICAgIHRoaXMuYWdlbnREYXRhLmxhbmd1YWdlID0gZGF0YS5sYW5ndWFnZTsKICAgICAgdGhpcy5hZ2VudERhdGEuc3RhdHVzID0gZGF0YS5zdGF0dXM7CiAgICAgIHRoaXMuYWdlbnREYXRhLnBob25lID0gZGF0YS5waG9uZU51bWJlcjsKICAgICAgdGhpcy5hZ2VudERhdGEuZGVwYXJ0bWVudCA9IGRhdGEuZGVwYXJ0bWVudElEOwogICAgICB0aGlzLmFnZW50RGF0YS5iaXJ0aERhdGUgPSB0aGlzLmZvcm1hdERhdGUoZGF0YS5kYXRlT2ZCaXJ0aCwgJ0REIE1NLCBZWVlZJyk7CiAgICAgIHRoaXMuYWdlbnREYXRhLmludGVydmlldyA9IHRoaXMuZm9ybWF0RGF0ZShkYXRhLmludGVydmlld0RhdGUsICdtLWQteSBIOmkgSycpOwogICAgICB0aGlzLmFnZW50RGF0YS5hZGRyZXNzID0gZGF0YS5hZGRyZXNzOwogICAgICB0aGlzLmFnZW50RGF0YS5zdGF0ZSA9IGRhdGEuc3RhdGU7CiAgICAgIHRoaXMuYWdlbnREYXRhLmNvdW50cnkgPSBkYXRhLmNvdW50cnk7CiAgICAgIHRoaXMuYWdlbnREYXRhLnppcENvZGUgPSBkYXRhLnBvc3RhbENvZGU7CiAgICAgIHRoaXMuYWdlbnREYXRhLmFnZW50TnVtYmVyID0gZGF0YS5hZ2VudE51bWJlcjsKICAgICAgdGhpcy5hZ2VudERhdGEuY3JlYXRlZEJ5ID0gZGF0YS5jcmVhdGVkQnk7CiAgICAgIHRoaXMuYWdlbnREYXRhLmluc3VyYW5jZUxpY2Vuc2UgPSBkYXRhLmlzTGljZW5zZWQ7CiAgICB9LAogICAgcmVzZXRBZ2VudERhdGE6IGZ1bmN0aW9uIHJlc2V0QWdlbnREYXRhKCkgewogICAgICB0aGlzLmFnZW50RGF0YSA9IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIGZpcnN0TmFtZTogJycsCiAgICAgICAgbGFzdE5hbWU6ICcnLAogICAgICAgIGxhbmd1YWdlOiAnJywKICAgICAgICBzdGF0dXM6ICcnLAogICAgICAgIHBob25lOiAnJywKICAgICAgICBkZXBhcnRtZW50OiAnJywKICAgICAgICBzdGF0ZTogJycsCiAgICAgICAgYmlydGhEYXRlOiAnJywKICAgICAgICBhZGRyZXNzOiAnJywKICAgICAgICBjb3VudHJ5OiAnJywKICAgICAgICB6aXBDb2RlOiAnJywKICAgICAgICBpbnRlcnZpZXc6ICcnLAogICAgICAgIGFnZW50TnVtYmVyOiAnJywKICAgICAgICBjcmVhdGVkQnk6ICcnLAogICAgICAgIGluc3VyYW5jZUxpY2Vuc2U6ICcnLAogICAgICAgIGxpY2Vuc2VOdW1iZXI6ICcnCiAgICAgIH07CiAgICB9LAogICAgdXBkYXRlQWdlbnRMaXN0OiBmdW5jdGlvbiB1cGRhdGVBZ2VudExpc3QoKSB7CiAgICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzLAogICAgICAgICAgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHZhciBzdGF0dXMsIHZhbGlkYXRlLCBlcnJvcnMsIGZpbHRlckxhbmd1YWdlLCBmaWx0ZXJLZXl3b3JkLCBmaWx0ZXJMaWNlbnNlZCwgZmlsdGVyTm90ZXMsIGZpbHRlckZyb21EYXRlLCBmaWx0ZXJUb0RhdGUsIGlzQWN0aXZlLCBzdGFydCwgZW5kLCBkYXlzLCBkYXRhLCBsaXN0LCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0dXMgPSBfYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgX2FyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50c1swXSA6IDA7CiAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IHRydWU7CiAgICAgICAgICAgICAgICBlcnJvcnMgPSBbXTsKICAgICAgICAgICAgICAgIGZpbHRlckxhbmd1YWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlckxhbmd1YWdlIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJLZXl3b3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlcktleXdvcmQiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlckxpY2Vuc2VkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlckxpY2Vuc2VkIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJOb3RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJOb3RlcyIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyRnJvbURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyRnJvbURhdGUiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlclRvRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJUb0RhdGUiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGlzQWN0aXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2lzQWN0aXZlJykuY2hlY2tlZDsKICAgICAgICAgICAgICAgIF90aGlzNS5kYXRhLnNlYXJjaFZhbHVlcy5zdGF0dXMgPSBzdGF0dXM7CgogICAgICAgICAgICAgICAgaWYgKGlzQWN0aXZlID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5kYXRhLnNlYXJjaFZhbHVlcy5pc0FjdGl2ZSA9IDE7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczUuZGF0YS5zZWFyY2hWYWx1ZXMuaXNBY3RpdmUgPSAyOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJMYW5ndWFnZSAhPT0gJycgJiYgKGZpbHRlckxhbmd1YWdlID09PSAnMScgfHwgZmlsdGVyTGFuZ3VhZ2UgPT09ICcyJykpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmRhdGEuc2VhcmNoVmFsdWVzLmxhbmd1YWdlID0gZmlsdGVyTGFuZ3VhZ2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlcktleXdvcmQgIT09ICcnICYmIGZpbHRlcktleXdvcmQubGVuZ3RoID49IDMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmRhdGEuc2VhcmNoVmFsdWVzLmtleXdvcmQgPSBmaWx0ZXJLZXl3b3JkOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJLZXl3b3JkICE9PSAnJyAmJiBmaWx0ZXJLZXl3b3JkLmxlbmd0aCA8IDMpIHsKICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goJ0tleXdvcmQgc2VhcmNoIHNob3VsZCBoYXZlIDMgb3IgbW9yZSBjaGFyYWN0ZXJzIScpOwogICAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJMaWNlbnNlZCAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmRhdGEuc2VhcmNoVmFsdWVzLmxpY2Vuc2VkID0gZmlsdGVyTGljZW5zZWQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlck5vdGVzICE9PSAnJyAmJiBmaWx0ZXJOb3Rlcy5sZW5ndGggPj0gMykgewogICAgICAgICAgICAgICAgICBfdGhpczUuZGF0YS5zZWFyY2hWYWx1ZXMubm90ZVNlYXJjaCA9IGZpbHRlck5vdGVzOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJOb3RlcyAhPT0gJycgJiYgZmlsdGVyTm90ZXMubGVuZ3RoIDwgMykgewogICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCgnTm90ZXMgc2VhcmNoIHNob3VsZCBoYXZlIDMgb3IgbW9yZSBjaGFyYWN0ZXJzIScpOwogICAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHN0YXJ0ID0gbW9tZW50KF90aGlzNS5mb3JtYXREYXRlKGZpbHRlckZyb21EYXRlLCAnWVlZWS1NTS1ERCcpKTsKICAgICAgICAgICAgICAgIGVuZCA9IG1vbWVudChfdGhpczUuZm9ybWF0RGF0ZShmaWx0ZXJUb0RhdGUsICdZWVlZLU1NLUREJykpOwogICAgICAgICAgICAgICAgZGF5cyA9IGVuZC5kaWZmKHN0YXJ0LCAiZGF5cyIpOwoKICAgICAgICAgICAgICAgIGlmIChkYXlzIDw9IDM2NSkgewogICAgICAgICAgICAgICAgICBfdGhpczUuZGF0YS5zZWFyY2hWYWx1ZXMuZnJvbURhdGUgPSBmaWx0ZXJGcm9tRGF0ZTsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmRhdGEuc2VhcmNoVmFsdWVzLnRvRGF0ZSA9IGZpbHRlclRvRGF0ZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCJGcm9tIERhdGUgYW5kIFRvIERhdGUgKHJhbmdlKSBjb3VsZG4ndCBiZSBsYXJnZXIgdGhhbiBhIHllYXIgKDM2NSBkYXlzKSEiKTsKICAgICAgICAgICAgICAgICAgdmFsaWRhdGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICBpc1Byb3NwZWN0OiAwLAogICAgICAgICAgICAgICAgICBzZWFyY2hWYWx1ZXM6IF90aGlzNS5kYXRhLnNlYXJjaFZhbHVlcywKICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkYXRlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QoJy9hcGkvbGlzdEFnZW50cycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5saXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICB9IC8vIGZvciAoY29uc3QgcHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZXJyb3JzLnB1c2goYCR7cHJvcGVydHl9OiAke2Vycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldfWApCiAgICAgICAgICAgICAgICAgICAgLy8gfQoKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZXJyb3JzLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICAgICAgICAgIGxpc3QgKz0gZXJyb3JzW2ldICsgJyBcbic7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAyOTsKICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoIiIgKyBsaXN0LCAnJywgJ2luZm8nKTsKCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNldFBhZ2VzOiBmdW5jdGlvbiBzZXRQYWdlcygpIHsKICAgICAgdmFyIG51bWJlck9mUGFnZXMgPSBNYXRoLmNlaWwodGhpcy5saXN0Lmxlbmd0aCAvIHRoaXMucGVyUGFnZSk7CgogICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDw9IG51bWJlck9mUGFnZXM7IGluZGV4KyspIHsKICAgICAgICB0aGlzLnBhZ2VzLnB1c2goaW5kZXgpOwogICAgICB9CiAgICB9LAogICAgcGFnaW5hdGU6IGZ1bmN0aW9uIHBhZ2luYXRlKGNvbXBhbmllcykgewogICAgICB2YXIgcGFnZSA9IHRoaXMucGFnZTsKICAgICAgdmFyIHBlclBhZ2UgPSB0aGlzLnBlclBhZ2U7CiAgICAgIHZhciBmcm9tID0gcGFnZSAqIHBlclBhZ2UgLSBwZXJQYWdlOwogICAgICB2YXIgdG8gPSBwYWdlICogcGVyUGFnZTsKICAgICAgcmV0dXJuIGNvbXBhbmllcy5zbGljZShmcm9tLCB0byk7CiAgICB9LAogICAgZmlsdGVyU3RhdHVzOiBmdW5jdGlvbiBmaWx0ZXJTdGF0dXMoc3RhdHVzKSB7CiAgICAgIHZhciBzdGF0dXNCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdGF0dXMpOwogICAgICBzdGF0dXNCdXR0b24uY2xpY2soKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICAgIHZhciBkYXRhLCBjaGVja0FsbDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICBzZWFyY2hWYWx1ZXM6IF90aGlzNi5kYXRhLnNlYXJjaFZhbHVlcwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9saXN0RGVwYXJ0bWVudHMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXM2LmRlcGFydG1lbnRMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiRGVwYXJ0bWVudHMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2xpc3RTdGF0dXMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXM2LnN0YXR1c0xpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczYuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJTdGF0dXMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2xpc3RBZ2VudHMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXM2Lmxpc3QgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICAgIF90aGlzNi5zZXRQYWdlcygpOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczYuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgfSAvLyBmb3IgKGNvbnN0IHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgLy8gdGhpcy5lcnJvcnMucHVzaChgJHtwcm9wZXJ0eX06ICR7ZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV19YCkKICAgICAgICAgICAgICAgICAgLy8gfQoKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICBfdGhpczYuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2hlY2tBbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hlY2tBbGwiKTsKCiAgICAgICAgICAgICAgaWYgKGNoZWNrQWxsKSB7CiAgICAgICAgICAgICAgICBjaGVja0FsbC5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgY2hlY2tib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtLWNoZWNrLWFsbCBpbnB1dFt0eXBlPSJjaGVja2JveCJdJyk7CgogICAgICAgICAgICAgICAgICBpZiAoY2hlY2tBbGwuY2hlY2tlZCA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hlcy5mb3JFYWNoKGZ1bmN0aW9uIChjaGVja2JveCkgewogICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5jbG9zZXN0KCJ0ciIpLmNsYXNzTGlzdC5hZGQoInRhYmxlLWFjdGl2ZSIpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNoZWNrYm94ZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hlY2tib3gpIHsKICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNsb3Nlc3QoInRyIikuY2xhc3NMaXN0LnJlbW92ZSgidGFibGUtYWN0aXZlIik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICB9KSkoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBkaXNwbGF5ZWRQb3N0czogZnVuY3Rpb24gZGlzcGxheWVkUG9zdHMoKSB7CiAgICAgIHJldHVybiB0aGlzLnBhZ2luYXRlKHRoaXMubGlzdCk7CiAgICB9LAogICAgcmVzdWx0UXVlcnk6IGZ1bmN0aW9uIHJlc3VsdFF1ZXJ5KCkgewogICAgICBpZiAodGhpcy5kYXRhLnNlYXJjaFZhbHVlcy5rZXl3b3JkLmxlbmd0aCA+PSAzKSB7CiAgICAgICAgdmFyIHNlYXJjaCA9IHRoaXMuZGF0YS5zZWFyY2hWYWx1ZXMua2V5d29yZC50b0xvd2VyQ2FzZSgpOwogICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXllZFBvc3RzLmZpbHRlcihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgcmV0dXJuIGRhdGEuYWRkcmVzcy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5hZ2VudE51bWJlci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5jaXR5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLmVtYWlsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLnBob25lTnVtYmVyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLmZpcnN0TmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5sYXN0TmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5mdWxsbmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5zdGF0dXNOYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5ZWRQb3N0czsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;AACA,OAAOA,SAAP,MAAsB,yBAAtB;AACA,OAAO,8BAAP;AACA,OAAOC,MAAP,MAAmB,QAAnB,C,CACA;AACA;;AAGA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,OAAOC,MAAP,MAAmB,iCAAnB,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,oCAA1B;AAEA,eAAe;AACbC,MAAI,EAAE;AACJC,SAAK,EAAE,QADH;AAEJC,QAAI,EAAE,CAAC;AAACC,UAAI,EAAE,aAAP;AAAsBC,aAAO,EAAET,SAAS,CAACU;AAAzC,KAAD;AAFF,GADO;AAKbC,YAAU,EAAE;AACVb,UAAM,EAANA,MADU;AAEVC,cAAU,EAAVA,UAFU;AAGVa,UAAM,EAAEV,MAHE;AAIV;AACAN,aAAS,EAATA;AALU,GALC;AAYbiB,MAZa,kBAYN;AACL,WAAM;AACJP,WAAK,EAAE,YADH;AAEJQ,WAAK,EAAE,CACL;AACEC,YAAI,EAAE,QADR;AAEEC,YAAI,EAAE;AAFR,OADK,EAKL;AACED,YAAI,EAAE,YADR;AAEEE,cAAM,EAAE;AAFV,OALK,CAFH;AAYJC,gBAAU,EAAE;AACVC,kBAAU,EAAE,KADF;AAEVC,kBAAU,EAAE;AAFF,OAZR;AAgBJC,oBAAc,EAAE;AACdF,kBAAU,EAAE,IADE;AAEdC,kBAAU,EAAE;AAFE,OAhBZ;AAoBJE,UAAI,EAAE,EApBF;AAqBJC,eAAS,EAAE;AACTC,gBAAQ,EAAE,EADD;AAETC,aAAK,EAAE,EAFE;AAGTC,iBAAS,EAAE,EAHF;AAITC,gBAAQ,EAAE,EAJD;AAKTC,gBAAQ,EAAE,EALD;AAMTC,cAAM,EAAE,EANC;AAOTC,aAAK,EAAE,EAPE;AAQTC,kBAAU,EAAE,EARH;AASTC,aAAK,EAAE,EATE;AAUTC,iBAAS,EAAE,EAVF;AAWTC,eAAO,EAAE,EAXA;AAYTC,eAAO,EAAE,EAZA;AAaTC,eAAO,EAAE,EAbA;AAcTC,iBAAS,EAAE,EAdF;AAeTC,mBAAW,EAAE,EAfJ;AAgBTC,iBAAS,EAAE,EAhBF;AAiBTC,wBAAgB,EAAE,EAjBT;AAkBTC,qBAAa,EAAE;AAlBN,OArBP;AAyCJC,oBAAc,EAAE,EAzCZ;AA0CJC,gBAAU,EAAE,EA1CR;AA2CJtC,UAAI,EAAE,CA3CF;AA4CJuC,aAAO,EAAE,GA5CL;AA6CJC,WAAK,EAAE,EA7CH;AA8CJC,iBAAW,EAAE,IA9CT;AA+CJC,yBAAmB,EAAE;AACnB3B,kBAAU,EAAE;AADO,OA/CjB;AAkDJP,UAAI,EAAE;AACJmC,aAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,KAArB,CADH;AAEJC,oBAAY,EAAE;AACZC,iBAAO,EAAE,KAAKR,OADF;AAEZS,kBAAQ,EAAE,CAFE;AAGZC,oBAAU,EAAE,EAHA;AAIZC,iBAAO,EAAE,EAJG;AAKZC,kBAAQ,EAAE,CALE;AAMZ5B,kBAAQ,EAAE,CANE;AAOZC,gBAAM,EAAE,CAPI;AAQZ4B,gBAAM,EAAE,IAAIC,IAAJ,GAAWC,kBAAX,CAA8B,OAA9B,EAAuC;AAAEC,gBAAI,EAAC,SAAP;AAAkBC,iBAAK,EAAC,MAAxB;AAAgCC,eAAG,EAAC;AAApC,WAAvC,CARI;AASZC,kBAAQ,EAAE,IAAIL,IAAJ,CAAS,IAAIA,IAAJ,GAAWM,WAAX,CAAuB,IAAIN,IAAJ,GAAWO,WAAX,KAA2B,CAAlD,CAAT,EAA+DN,kBAA/D,CAAkF,OAAlF,EAA2F;AAAEC,gBAAI,EAAC,SAAP;AAAkBC,iBAAK,EAAC,MAAxB;AAAgCC,eAAG,EAAC;AAApC,WAA3F;AATE;AAFV,OAlDF;AAgEJI,oBAAc,EAAE;AAAE9D,qBAAa,EAAEA;AAAjB;AAhEZ,KAAN;AAkED,GA/EY;AAgFb+D,OAAK,EAAE;AACLC,aADK,uBACO;AACV,WAAKC,QAAL;AACD;AAHI,GAhFM;AAqFbC,SArFa,qBAqFH;AACR,SAAKD,QAAL;AACD,GAvFY;AAwFbE,SAAO,EAAE;AACPC,aADO,qBACGC,KADH,EACU;AACf,aAAOA,KAAK,CAACC,KAAN,CAAY,GAAZ,EAAiBC,MAAjB,CAAwB,CAAxB,EAA2B,EAA3B,EAA+BC,IAA/B,CAAoC,GAApC,IAA2C,KAAlD;AACD;AAHM,GAxFI;AA6FbC,SAAO,EAAE;AACPC,YADO,oBACEjE,IADF,EACO;AAEZkE,cAAQ,CAACC,cAAT,CAAwB,IAAxB,EAA8BP,KAA9B,GAAqC5D,IAAI,CAACoE,EAA1C;AACAF,cAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCP,KAAxC,GAA8C5D,IAAI,CAACL,IAAnD;AACAuE,cAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCP,KAAvC,GAA6C5D,IAAI,CAACqE,OAAlD;AACAH,cAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCP,KAAtC,GAA4C5D,IAAI,CAACsE,KAAjD;AACAJ,cAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCP,KAAjC,GAAuC5D,IAAI,CAACiB,KAA5C;AACAiD,cAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCP,KAApC,GAA0C5D,IAAI,CAACuE,QAA/C;AACAL,cAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCP,KAAhC,GAAsC5D,IAAI,CAACwE,IAA3C;AACD,KAVM;AAWDC,eAXC,yBAWa;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAElB,qBAAI,CAACC,MAAL,GAAc,EAAd;;AAEA,oBAAI,CAACR,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCP,KAA1C,EAAiD;AAC/C,uBAAI,CAACc,MAAL,CAAYC,IAAZ,CAAiB,oBAAjB;AACF,iBAFA,MAEO,IAAI,CAAC,KAAI,CAACC,UAAL,CAAgBV,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCP,KAArD,CAAL,EAAkE;AACvE,uBAAI,CAACc,MAAL,CAAYC,IAAZ,CAAiB,0BAAjB;AACF;;AAEA,oBAAI,CAACT,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCP,KAA9C,EAAqD;AACnD,uBAAI,CAACc,MAAL,CAAYC,IAAZ,CAAiB,yBAAjB;AACF;;AAEA,oBAAI,CAACT,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCP,KAA7C,EAAoD;AAClD,uBAAI,CAACc,MAAL,CAAYC,IAAZ,CAAiB,wBAAjB;AACF;;AAEA,oBAAI,CAACT,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCP,KAA7C,EAAoD;AAClD,uBAAI,CAACc,MAAL,CAAYC,IAAZ,CAAiB,uBAAjB;AACF;;AAEA,oBAAI,CAACT,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCP,KAA3C,EAAkD;AAChD,uBAAI,CAACc,MAAL,CAAYC,IAAZ,CAAiB,qBAAjB;AACF;;AAEA,oBAAI,CAACT,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA2CP,KAAhD,EAAuD;AACrD,uBAAI,CAACc,MAAL,CAAYC,IAAZ,CAAiB,oBAAjB;AACF;;AAEA,oBAAG,KAAI,CAACE,UAAL,CAAgBX,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA2CP,KAA3D,MAAsE,KAAtE,IAA+EM,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA2CP,KAA3C,KAAqD,EAAvI,EAA0I;AACxI,uBAAI,CAACc,MAAL,CAAYC,IAAZ,CAAiB,qCAAjB;AACF;;AAEA,oBAAI,CAACT,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CP,KAA/C,EAAsD;AACpD,uBAAI,CAACc,MAAL,CAAYC,IAAZ,CAAiB,yBAAjB;AACF;;AAEA,oBAAI,CAACT,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCP,KAA9C,EAAqD;AACnD,uBAAI,CAACc,MAAL,CAAYC,IAAZ,CAAiB,yBAAjB;AACF;;AAEA,oBAAI,CAACT,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCP,KAA5C,EAAmD;AACjD,uBAAI,CAACc,MAAL,CAAYC,IAAZ,CAAiB,sBAAjB;AACF;;AAEA,oBAAI,CAACT,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA2CP,KAA5C,IAAqDM,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCP,KAAtC,KAAgD,CAAzG,EAA4G;AAC1G,uBAAI,CAACc,MAAL,CAAYC,IAAZ,CAAiB,2BAAjB;AACF;;AAEA,oBAAK,CAACT,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCP,KAAzC,IAAkDM,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCP,KAAtC,KAAgD,CAAnG,IAAyG,CAACM,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCP,KAAtJ,EAA6J;AAC3J,uBAAI,CAACc,MAAL,CAAYC,IAAZ,CAAiB,kCAAjB;AACF;;AAEA,oBAAK,CAACT,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCP,KAAzC,IAAkDM,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCP,KAAtC,KAAgD;AAAG;AAA1G,kBAAyM;AACvM,uBAAI,CAACc,MAAL,CAAYC,IAAZ,CAAiB,6BAAjB;AACF;;AAxDkB,oBA0Db,KAAI,CAACD,MAAL,CAAYI,MA1DC;AAAA;AAAA;AAAA;;AA2DV9E,oBA3DU,GA2DH;AACXW,0BAAQ,EAAE,EADC;AAEXC,uBAAK,EAAEsD,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCP,KAFjC;AAGX/C,2BAAS,EAAEqD,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCP,KAHzC;AAIX9C,0BAAQ,EAAEoD,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCP,KAJvC;AAKX7C,0BAAQ,EAAEmD,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCP,KALvC;AAMX5C,wBAAM,EAAEkD,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCP,KANnC;AAOXmB,6BAAW,EAAEb,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA2CP,KAP7C;AAQXoB,8BAAY,EAAEd,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CP,KAR7C;AASXzC,uBAAK,EAAE+C,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCP,KATjC;AAUXxC,2BAAS,EAAE8C,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCP,KAVzC;AAWXvC,yBAAO,EAAE6C,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCP,KAXrC;AAYXtC,yBAAO,EAAE4C,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCP,KAZrC;AAaXqB,4BAAU,EAAEf,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CP,KAb3C;AAcXsB,+BAAa,EAAEhB,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCP,KAd7C;AAeXnC,6BAAW,EAAEyC,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA2CP,KAf7C;AAgBXlC,2BAAS,EAAEU,YAAY,CAACC,OAAb,CAAqB,OAArB,CAhBA;AAiBX8C,4BAAU,EAAEjB,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCP,KAjBzC;AAkBXhC,+BAAa,EAAE,KAAI,CAAClB,SAAL,CAAekB,aAlBnB;AAmBXO,uBAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAnBI;AAoBX+C,wBAAM,EAAEhD,YAAY,CAACC,OAAb,CAAqB,IAArB,CApBG;AAqBXgD,yBAAO,EAAEnB,QAAQ,CAACC,cAAT,CAAwB,IAAxB,EAA8BP;AArB5B,iBA3DG;AAAA;AAAA,uBAmFVtE,KAAI,CACLgG,GADC,CACG,kBADH,EACuBtF,IADvB,EAEDuF,IAFC;AAAA,qFAEI,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA,iCACAA,QADA;AAAA;AAAA;AAAA;;AAEFtB,oCAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCsB,KAAtC;AAFE;AAAA,mCAGIrG,IAAI,CAACsG,IAAL,CAAU;AACdC,kCAAI,EAAE,SADQ;AAEdlG,mCAAK,EAAE,SAFO;AAGdS,kCAAI,EAAE;AAHQ,6BAAV,CAHJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFJ;;AAAA;AAAA;AAAA;AAAA,qBAYD0F,KAZC;AAAA,sFAYK,kBAAMC,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACDA,KAAK,CAACL,QADL;AAAA;AAAA;AAAA;;AAAA,kCAGAK,KAAK,CAACL,QAAN,CAAexF,IAAf,CAAoB8F,MAApB,KAA+B,0BAH/B;AAAA;AAAA;AAAA;;AAAA;AAAA,mCAIK,KAAI,CAACC,OAAL,CAAapB,IAAb,CAAkB,QAAlB,CAJL;;AAAA;AAOClE,gCAPD,GAOQ,EAPR;;AAQH,iCAAWuF,QAAX,IAAuBH,KAAK,CAACL,QAAN,CAAexF,IAAtC,EAA4C;AAC1C,mCAAI,CAAC0E,MAAL,CAAYC,IAAZ,WAAoBqB,QAApB,eAAiCH,KAAK,CAACL,QAAN,CAAexF,IAAf,CAAoBgG,QAApB,CAAjC;;AACAvF,kCAAG,IAAK,OAAO,KAAP,GAAeoF,KAAK,CAACL,QAAN,CAAexF,IAAf,CAAoBgG,QAApB,CAAf,GAA+C,MAAvD;AACF;;AAXG;AAAA,mCAaG5G,IAAI,CAACsG,IAAL,CAAU;AACdjG,mCAAK,EAAE,iCAAiCgB,IAD1B;AAEdkF,kCAAI,EAAE,SAFQ;AAGdM,gDAAkB,EAAE,cAHN;AAIdC,4CAAc,EAAE,KAJF;AAKdC,6CAAe,EAAE;AALH,6BAAV,CAbH;;AAAA;AAAA;AAAA;;AAAA;AAqBE,gCAAIN,KAAK,CAACO,OAAV,EAAmB;AACxB,mCAAI,CAAC1B,MAAL,CAAYC,IAAZ,CAAiB,oDAAjB;AACF;;AAvBK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAZL;;AAAA;AAAA;AAAA;AAAA,oBAnFU;;AAAA;AAAA;AAAA;;AAAA;AAyHZlE,oBAzHY,GAyHL,EAzHK;;AA0HhB,qBAAS4F,CAAT,GAAa,CAAb,EAAgBA,IAAI,KAAI,CAAC3B,MAAL,CAAYI,MAAhC,EAAwCuB,CAAC,EAAzC;AACE5F,sBAAG,IAAK,OAAO,KAAP,GAAe,KAAI,CAACiE,MAAL,CAAY2B,CAAZ,CAAf,GAAgC,MAAxC;AADF;;AA1HgB;AAAA,uBA6HVjH,IAAI,CAACsG,IAAL,CAAU;AACdjG,uBAAK,EAAE,+BAA+BgB,IADxB;AAEdkF,sBAAI,EAAE,SAFQ;AAGdM,oCAAkB,EAAE,cAHN;AAIdC,gCAAc,EAAE,KAJF;AAKdC,iCAAe,EAAE;AALH,iBAAV,CA7HU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqInB,KAhJM;AAiJPG,oBAjJO,8BAiJY;AACjB,WAAKC,cAAL;AACArC,cAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCqC,KAAnC;AACAtC,cAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA2CsC,SAA3C,GAAqD,WAArD;AACAvC,cAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCuC,KAAnC,CAAyCC,OAAzC,GAAiD,OAAjD;AACAzC,cAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCuC,KAApC,CAA0CC,OAA1C,GAAkD,MAAlD;AACD,KAvJM;AAwJDC,eAxJC,yBAwJa;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAClB,sBAAI,CAAClC,MAAL,GAAc,EAAd;;AAEA,oBAAI,CAAC,MAAI,CAAChE,SAAL,CAAeE,KAApB,EAA2B;AACzB,wBAAI,CAAC8D,MAAL,CAAYC,IAAZ,CAAiB,oBAAjB;AACF,iBAFA,MAEO,IAAI,CAAC,MAAI,CAACC,UAAL,CAAgB,MAAI,CAAClE,SAAL,CAAeE,KAA/B,CAAL,EAA4C;AACjD,wBAAI,CAAC8D,MAAL,CAAYC,IAAZ,CAAiB,0BAAjB;AACF;;AAEA,oBAAI,CAAC,MAAI,CAACjE,SAAL,CAAeG,SAApB,EAA+B;AAC7B,wBAAI,CAAC6D,MAAL,CAAYC,IAAZ,CAAiB,yBAAjB;AACF;;AAEA,oBAAI,CAAC,MAAI,CAACjE,SAAL,CAAeI,QAApB,EAA8B;AAC5B,wBAAI,CAAC4D,MAAL,CAAYC,IAAZ,CAAiB,wBAAjB;AACF;;AAEA,oBAAI,CAAC,MAAI,CAACjE,SAAL,CAAeK,QAApB,EAA8B;AAC5B,wBAAI,CAAC2D,MAAL,CAAYC,IAAZ,CAAiB,uBAAjB;AACF;;AAEA,oBAAI,CAAC,MAAI,CAACjE,SAAL,CAAeM,MAApB,EAA4B;AAC1B,wBAAI,CAAC0D,MAAL,CAAYC,IAAZ,CAAiB,qBAAjB;AACF;;AAEA,oBAAI,CAAC,MAAI,CAACjE,SAAL,CAAeO,KAApB,EAA2B;AACzB,wBAAI,CAACyD,MAAL,CAAYC,IAAZ,CAAiB,oBAAjB;AACF;;AAEA,oBAAG,MAAI,CAACE,UAAL,CAAgB,MAAI,CAACnE,SAAL,CAAeO,KAA/B,MAA0C,KAA1C,IAAmD,MAAI,CAACP,SAAL,CAAeO,KAAf,KAAyB,EAA/E,EAAkF;AAChF,wBAAI,CAACyD,MAAL,CAAYC,IAAZ,CAAiB,qCAAjB;AACF;;AAEA,oBAAI,CAAC,MAAI,CAACjE,SAAL,CAAeQ,UAApB,EAAgC;AAC9B,wBAAI,CAACwD,MAAL,CAAYC,IAAZ,CAAiB,yBAAjB;AACF;;AAEA,oBAAI,CAAC,MAAI,CAACjE,SAAL,CAAeU,SAApB,EAA+B;AAC7B,wBAAI,CAACsD,MAAL,CAAYC,IAAZ,CAAiB,yBAAjB;AACF;;AAEA,oBAAI,CAAC,MAAI,CAACjE,SAAL,CAAeW,OAApB,EAA6B;AAC3B,wBAAI,CAACqD,MAAL,CAAYC,IAAZ,CAAiB,sBAAjB;AACF;;AAEA,oBAAI,CAAC,MAAI,CAACjE,SAAL,CAAee,WAAhB,IAA+B,MAAI,CAACf,SAAL,CAAeM,MAAf,KAA0B,CAA7D,EAAgE;AAC9D,wBAAI,CAAC0D,MAAL,CAAYC,IAAZ,CAAiB,2BAAjB;AACF;;AAEA,oBAAK,CAAC,MAAI,CAACjE,SAAL,CAAeiB,gBAAhB,IAAoC,MAAI,CAACjB,SAAL,CAAeM,MAAf,KAA0B,CAA/D,IAAqE,CAAC,MAAI,CAACN,SAAL,CAAeiB,gBAAzF,EAA2G;AACzG,wBAAI,CAAC+C,MAAL,CAAYC,IAAZ,CAAiB,qCAAjB;AACF;;AAEA,oBAAK,CAAC,MAAI,CAACjE,SAAL,CAAekB,aAAhB,IAAiC,MAAI,CAAClB,SAAL,CAAeM,MAAf,KAA0B,CAA5D,IAAmE,CAAC,MAAI,CAACN,SAAL,CAAekB,aAAhB,IAAiC,MAAI,CAAClB,SAAL,CAAeiB,gBAAf,KAAoC,CAA5I,EAAgJ;AAC9I,wBAAI,CAAC+C,MAAL,CAAYC,IAAZ,CAAiB,6BAAjB;AACF;;AAvDkB,oBAyDd,MAAI,CAACD,MAAL,CAAYI,MAzDE;AAAA;AAAA;AAAA;;AA0DV9E,oBA1DU,GA0DH;AACXW,0BAAQ,EAAG,EADA;AAEXC,uBAAK,EAAG,MAAI,CAACF,SAAL,CAAeE,KAFZ;AAGXC,2BAAS,EAAG,MAAI,CAACH,SAAL,CAAeG,SAHhB;AAIXC,0BAAQ,EAAG,MAAI,CAACJ,SAAL,CAAeI,QAJf;AAKXC,0BAAQ,EAAG,MAAI,CAACL,SAAL,CAAeK,QALf;AAMXC,wBAAM,EAAG,MAAI,CAACN,SAAL,CAAeM,MANb;AAOX+D,6BAAW,EAAG,MAAI,CAACrE,SAAL,CAAeO,KAPlB;AAQX+D,8BAAY,EAAG,MAAI,CAACtE,SAAL,CAAeQ,UARnB;AASXC,uBAAK,EAAG,MAAI,CAACT,SAAL,CAAeS,KATZ;AAUXC,2BAAS,EAAG,MAAI,CAACV,SAAL,CAAeU,SAVhB;AAWXC,yBAAO,EAAG,MAAI,CAACX,SAAL,CAAeW,OAXd;AAYXC,yBAAO,EAAG,MAAI,CAACZ,SAAL,CAAeY,OAZd;AAaX2D,4BAAU,EAAG,MAAI,CAACvE,SAAL,CAAea,OAbjB;AAcX2D,+BAAa,EAAG,MAAI,CAACxE,SAAL,CAAec,SAdpB;AAeXC,6BAAW,EAAG,MAAI,CAACf,SAAL,CAAee,WAflB;AAgBXC,2BAAS,EAAGU,YAAY,CAACC,OAAb,CAAqB,OAArB,CAhBD;AAiBX8C,4BAAU,EAAG,MAAI,CAACzE,SAAL,CAAeiB,gBAjBjB;AAkBXC,+BAAa,EAAE,MAAI,CAAClB,SAAL,CAAekB,aAlBnB;AAmBXO,uBAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAnBI;AAoBX+C,wBAAM,EAAEhD,YAAY,CAACC,OAAb,CAAqB,IAArB;AApBG,iBA1DG;AAAA;AAAA,uBAiFV/C,KAAI,CACLuH,IADC,CACI,kBADJ,EACwB7G,IADxB,EAEDuF,IAFC;AAAA,sFAEI,kBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AACJtB,oCAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCqC,KAAnC;;AADI,kCAEAhB,QAAQ,CAACxF,IAAT,CAAc,IAAd,MAAwB,IAFxB;AAAA;AAAA;AAAA;;AAGFkE,oCAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCsB,KAAtC;AAHE;AAAA,mCAIIrG,IAAI,CAACsG,IAAL,CAAU;AACdC,kCAAI,EAAE,SADQ;AAEdlG,mCAAK,EAAE,SAFO;AAGdS,kCAAI,EAAE;AAHQ,6BAAV,CAJJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFJ;;AAAA;AAAA;AAAA;AAAA,qBAaD0F,KAbC;AAAA,sFAaK,kBAAMC,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACDA,KAAK,CAACL,QADL;AAAA;AAAA;AAAA;;AAAA,kCAGAK,KAAK,CAACL,QAAN,CAAexF,IAAf,CAAoB8F,MAApB,KAA+B,0BAH/B;AAAA;AAAA;AAAA;;AAAA;AAAA,mCAIK,MAAI,CAACC,OAAL,CAAapB,IAAb,CAAkB,QAAlB,CAJL;;AAAA;AAOClE,gCAPD,GAOQ,EAPR;;AAQH,iCAAWuF,QAAX,IAAuBH,KAAK,CAACL,QAAN,CAAexF,IAAtC,EAA4C;AAC1C,oCAAI,CAAC0E,MAAL,CAAYC,IAAZ,WAAoBqB,QAApB,eAAiCH,KAAK,CAACL,QAAN,CAAexF,IAAf,CAAoBgG,QAApB,CAAjC;;AACAvF,kCAAG,IAAK,OAAO,KAAP,GAAeoF,KAAK,CAACL,QAAN,CAAexF,IAAf,CAAoBgG,QAApB,CAAf,GAA+C,MAAvD;AACF;;AAXG;AAAA,mCAaG5G,IAAI,CAACsG,IAAL,CAAU;AACdjG,mCAAK,EAAE,iCAAiCgB,IAD1B;AAEdkF,kCAAI,EAAE,SAFQ;AAGdM,gDAAkB,EAAE,cAHN;AAIdC,4CAAc,EAAE,KAJF;AAKdC,6CAAe,EAAE;AALH,6BAAV,CAbH;;AAAA;AAAA;AAAA;;AAAA;AAqBE,gCAAIN,KAAK,CAACO,OAAV,EAAmB;AACxB,oCAAI,CAAC1B,MAAL,CAAYC,IAAZ,CAAiB,oDAAjB;AACF;;AAvBK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAbL;;AAAA;AAAA;AAAA;AAAA,oBAjFU;;AAAA;AAAA;AAAA;;AAAA;AAwHZlE,oBAxHY,GAwHL,EAxHK;;AAyHhB,qBAAS4F,CAAT,GAAa,CAAb,EAAgBA,IAAI,MAAI,CAAC3B,MAAL,CAAYI,MAAhC,EAAwCuB,CAAC,EAAzC;AACE5F,sBAAG,IAAK,OAAO,KAAP,GAAe,MAAI,CAACiE,MAAL,CAAY2B,CAAZ,CAAf,GAA+B,MAAvC;AADF;;AAzHgB;AAAA,uBA4HVjH,IAAI,CAACsG,IAAL,CAAU;AACdjG,uBAAK,EAAE,+BAA+BgB,IADxB;AAEdkF,sBAAI,EAAE,SAFQ;AAGdM,oCAAkB,EAAE,cAHN;AAIdC,gCAAc,EAAE,KAJF;AAKdC,iCAAe,EAAE;AALH,iBAAV,CA5HU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoInB,KA5RM;AA6RDW,kBA7RC,4BA6RgB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEfxH,KAAI,CACLuH,IADC,CACI,qBADJ,EAEDtB,IAFC,CAEI,kBAAO,EAAK;AAChBwB,yBAAO,CAACC,GAAR,CAAYxB,QAAZ;AACD,iBAJC,EAKDI,KALC,CAKK,eAAI,EAAK;AACd,sBAAIC,KAAK,CAACL,QAAV,EAAoB;AAElB,wBAAGK,KAAK,CAACL,QAAN,CAAexF,IAAf,CAAoB8F,MAApB,KAA+B,0BAAlC,EAA6D;AAC3D,4BAAI,CAACC,OAAL,CAAapB,IAAb,CAAkB,QAAlB;AACF;;AAEAvF,wBAAI,CAACsG,IAAL,CAAU,OAAV,EAAmB,oDAAnB,EAAyE,OAAzE;AACF;AACD,iBAdC,CAFe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBtB,KA9SM;AA+SDuB,eA/SC,uBA+SW7C,EA/SX,EA+Se;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACpBF,wBAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCuC,KAApC,CAA0CC,OAA1C,GAAkD,OAAlD;AACAzC,wBAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCuC,KAAnC,CAAyCC,OAAzC,GAAiD,MAAjD;AACAzC,wBAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA2CsC,SAA3C,GAAqD,YAArD;AAEMzG,oBALc,GAKP;AACXmC,uBAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,KAArB,CADI;AAEX6E,oBAAE,EAAE9C;AAFO,iBALO;AAAA;AAAA,uBAYd9E,KAAI,CACLuH,IADC,CACI,cADJ,EACoB7G,IADpB,EAEDuF,IAFC,CAEI,kBAAO,EAAK;AAChB4B,2BAAS,GAAC3B,QAAQ,CAACxF,IAAnB;;AACA,wBAAI,CAACoH,YAAL,CAAkBD,SAAlB;;AACAjD,0BAAQ,CAACC,cAAT,CAAwB,IAAxB,EAA8BP,KAA9B,GAAoCuD,SAAS,CAACD,EAA9C;AACAhD,0BAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCP,KAArC,GAA2CuD,SAAS,CAACvG,KAArD;AACAsD,0BAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCP,KAAzC,GAA+CuD,SAAS,CAACtG,SAAzD;AACAqD,0BAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCP,KAAxC,GAA8CuD,SAAS,CAACrG,QAAxD;AACAoD,0BAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCP,KAAxC,GAA8CuD,SAAS,CAACpG,QAAxD;AACAmD,0BAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCP,KAAtC,GAA4CuD,SAAS,CAACnG,MAAtD;AACAkD,0BAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA2CP,KAA3C,GAAkDuD,SAAS,CAACpC,WAA5D;AACAb,0BAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CP,KAA1C,GAAgDuD,SAAS,CAACnC,YAA1D;AACAd,0BAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCP,KAAzC,GAA+CuD,SAAS,CAACE,WAAzD;AACAnD,0BAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCP,KAAvC,GAA6CuD,SAAS,CAAC9F,OAAvD;AACA6C,0BAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCP,KAArC,GAA2CuD,SAAS,CAAChG,KAArD;AACA+C,0BAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCP,KAAvC,GAA6CuD,SAAS,CAAC7F,OAAvD;AACA4C,0BAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CP,KAA1C,GAAgDuD,SAAS,CAAClC,UAA1D;AACAf,0BAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA2CP,KAA3C,GAAiDuD,SAAS,CAAC1F,WAA3D;AACAyC,0BAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCP,KAAzC,GAA+CuD,SAAS,CAACzF,SAAzD;AACAwC,0BAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCP,KAAxC,GAA8CuD,SAAS,CAAChC,UAAxD,CAlBgB,CAmBhB;AACD,iBAtBC,EAuBDS,KAvBC,CAuBK,eAAI,EAAK;AACd,sBAAIC,KAAK,CAACL,QAAV,EAAoB;AAElB,wBAAGK,KAAK,CAACL,QAAN,CAAexF,IAAf,CAAoB8F,MAApB,KAA+B,0BAAlC,EAA6D;AAC3D,4BAAI,CAACC,OAAL,CAAapB,IAAb,CAAkB,QAAlB;AACF;;AAEAvF,wBAAI,CAACsG,IAAL,CAAU,OAAV,EAAmB,oDAAnB,EAAyE,OAAzE;AACF;AACD,iBAhCC,CAZc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA6CrB,KA5VM;AA6VPd,cAAU,EAAE,oBAAUhE,KAAV,EAAiB;AAC3B,UAAM0G,EAAC,GAAI,uJAAX;AACA,aAAOA,EAAE,CAACC,IAAH,CAAQ3G,KAAR,CAAP;AACD,KAhWM;AAiWPiE,cAAU,EAAE,oBAAU5D,KAAV,EAAiB;AAC3B,aAAO,qHAAqHsG,IAArH,CAA0HtG,KAA1H,CAAP;AACD,KAnWM;AAoWPuG,cAAU,EAAE,oBAAShD,IAAT,EAAeiD,MAAf,EAAsB;AAChCjD,UAAG,GAAIxF,MAAM,CAACwF,IAAD,CAAN,CAAaiD,MAAb,CAAoBA,MAApB,CAAP;AACA,aAAOjD,IAAP;AACD,KAvWM;AAwWPkD,eAAW,EAAE,qBAASzG,KAAT,EAAwB;AAAA,UAAR0G,IAAQ,uEAAH,CAAG;;AAEnC;AACA,UAAG1G,KAAI,KAAM2G,SAAb,EAAuB;AACrB,YAAMC,IAAI5G,KAAK,CAAC6G,OAAN,CAAc,KAAd,EAAqB,EAArB,EAAyBC,KAAzB,CAA+B,6BAA/B,CAAV;AACA9G,aAAI,GAAI,CAAC4G,CAAC,CAAC,CAAD,CAAF,GAAQA,CAAC,CAAC,CAAD,CAAT,GAAe,MAAMA,CAAC,CAAC,CAAD,CAAP,GAAa,IAAb,GAAoBA,CAAC,CAAC,CAAD,CAArB,IAA4BA,CAAC,CAAC,CAAD,CAAD,GAAO,MAAMA,CAAC,CAAC,CAAD,CAAd,GAAoB,EAAhD,CAAvB;AACD,OAHD,MAGK;AACH5G,aAAI,GAAI,EAAR;AACF;;AAEA,UAAG0G,IAAG,KAAM,CAAZ,EAAc;AACZ,eAAO1G,KAAP;AACD,OAFD,MAEK;AACHiD,gBAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA2CP,KAA3C,GAAmD3C,KAAnD;AACF;AACD,KAvXM;AAwXPmG,gBAAY,EAAE,sBAASpH,IAAT,EAAe;AAC3B,WAAKU,SAAL,CAAeE,KAAf,GAAqBZ,IAAI,CAACY,KAA1B;AACA,WAAKF,SAAL,CAAeG,SAAf,GAAyBb,IAAI,CAACa,SAA9B;AACA,WAAKH,SAAL,CAAeI,QAAf,GAAwBd,IAAI,CAACc,QAA7B;AACA,WAAKJ,SAAL,CAAeK,QAAf,GAAwBf,IAAI,CAACe,QAA7B;AACA,WAAKL,SAAL,CAAeM,MAAf,GAAsBhB,IAAI,CAACgB,MAA3B;AACA,WAAKN,SAAL,CAAeO,KAAf,GAAqBjB,IAAI,CAAC+E,WAA1B;AACA,WAAKrE,SAAL,CAAeQ,UAAf,GAA0BlB,IAAI,CAACgF,YAA/B;AACA,WAAKtE,SAAL,CAAeU,SAAf,GAA0B,KAAKoG,UAAL,CAAgBxH,IAAI,CAACqH,WAArB,EAAkC,aAAlC,CAA1B;AACA,WAAK3G,SAAL,CAAec,SAAf,GAA0B,KAAKgG,UAAL,CAAgBxH,IAAI,CAACkF,aAArB,EAAoC,aAApC,CAA1B;AACA,WAAKxE,SAAL,CAAeW,OAAf,GAAuBrB,IAAI,CAACqB,OAA5B;AACA,WAAKX,SAAL,CAAeS,KAAf,GAAqBnB,IAAI,CAACmB,KAA1B;AACA,WAAKT,SAAL,CAAeY,OAAf,GAAuBtB,IAAI,CAACsB,OAA5B;AACA,WAAKZ,SAAL,CAAea,OAAf,GAAuBvB,IAAI,CAACiF,UAA5B;AACA,WAAKvE,SAAL,CAAee,WAAf,GAA2BzB,IAAI,CAACyB,WAAhC;AACA,WAAKf,SAAL,CAAegB,SAAf,GAAyB1B,IAAI,CAAC0B,SAA9B;AACA,WAAKhB,SAAL,CAAeiB,gBAAf,GAAgC3B,IAAI,CAACmF,UAArC;AACD,KAzYM;AA0YPoB,kBAAc,EAAE,0BAAU;AACxB,WAAK7F,SAAL,GACI;AAACC,gBAAQ,EAAE,EAAX;AACAC,aAAK,EAAE,EADP;AAEAC,iBAAS,EAAE,EAFX;AAGAC,gBAAQ,EAAE,EAHV;AAIAC,gBAAQ,EAAE,EAJV;AAKAC,cAAM,EAAE,EALR;AAMAC,aAAK,EAAE,EANP;AAOAC,kBAAU,EAAE,EAPZ;AAQAC,aAAK,EAAE,EARP;AASAC,iBAAS,EAAE,EATX;AAUAC,eAAO,EAAE,EAVT;AAWAC,eAAO,EAAE,EAXT;AAYAC,eAAO,EAAE,EAZT;AAaAC,iBAAS,EAAE,EAbX;AAcAC,mBAAW,EAAE,EAdb;AAeAC,iBAAS,EAAE,EAfX;AAgBAC,wBAAgB,EAAE,EAhBlB;AAiBAC,qBAAa,EAAE;AAjBf,OADJ;AAoBD,KA/ZM;AAgaDoG,mBAhaC,6BAgayB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAVhH,sBAAU,0EAAH,CAAG;AAE1BiH,wBAF0B,GAEf,IAFe;AAG1BvD,sBAH0B,GAGjB,EAHiB;AAI1BwD,8BAJ0B,GAIThE,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CP,KAJjC;AAK1BuE,6BAL0B,GAKVjE,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCP,KAL/B;AAM1BwE,8BAN0B,GAMTlE,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CP,KANjC;AAO1ByE,2BAP0B,GAOZnE,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCP,KAP3B;AAQ1B0E,8BAR0B,GAQTpE,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CP,KARjC;AAS1B2E,4BAT0B,GASXrE,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCP,KAT7B;AAU1BpB,wBAV0B,GAUf0B,QAAQ,CAACsE,aAAT,CAAuB,WAAvB,EAAoCC,OAVrB;AAW9B,sBAAI,CAACzI,IAAL,CAAUsC,YAAV,CAAuBtB,MAAvB,GAAgCA,MAAhC;;AAEA,oBAAGwB,QAAO,KAAM,IAAhB,EAAsB;AACpB,wBAAI,CAACxC,IAAL,CAAUsC,YAAV,CAAuBE,QAAvB,GAAkC,CAAlC;AACF,iBAFA,MAEO;AACL,wBAAI,CAACxC,IAAL,CAAUsC,YAAV,CAAuBE,QAAvB,GAAkC,CAAlC;AACF;;AAEA,oBAAI0F,cAAa,KAAM,EAAnB,KAA0BA,cAAa,KAAM,GAAnB,IAA0BA,cAAa,KAAM,GAAvE,CAAJ,EAAgF;AAC9E,wBAAI,CAAClI,IAAL,CAAUsC,YAAV,CAAuBvB,QAAvB,GAAkCmH,cAAlC;AACF;;AAEA,oBAAIC,aAAY,KAAM,EAAlB,IAAwBA,aAAa,CAACrD,MAAd,IAAwB,CAApD,EAAuD;AACrD,wBAAI,CAAC9E,IAAL,CAAUsC,YAAV,CAAuBI,OAAvB,GAAiCyF,aAAjC;AACF,iBAFA,MAEO,IAAIA,aAAY,KAAM,EAAlB,IAAwBA,aAAa,CAACrD,MAAd,GAAuB,CAAnD,EAAsD;AAC3DJ,wBAAM,CAACC,IAAP,CAAY,kDAAZ;AACAsD,0BAAO,GAAI,KAAX;AACF;;AAEA,oBAAGG,cAAa,KAAM,EAAtB,EAAyB;AACvB,wBAAI,CAACpI,IAAL,CAAUsC,YAAV,CAAuBK,QAAvB,GAAkCyF,cAAlC;AACF;;AAEA,oBAAIC,WAAU,KAAM,EAAhB,IAAsBA,WAAW,CAACvD,MAAZ,IAAsB,CAAhD,EAAmD;AACjD,wBAAI,CAAC9E,IAAL,CAAUsC,YAAV,CAAuBG,UAAvB,GAAoC4F,WAApC;AACD,iBAFD,MAEM,IAAGA,WAAU,KAAM,EAAhB,IAAsBA,WAAW,CAACvD,MAAZ,GAAqB,CAA9C,EAAiD;AACrDJ,wBAAM,CAACC,IAAP,CAAY,gDAAZ;AACAsD,0BAAO,GAAI,KAAX;AACF;;AAEIS,qBAzC0B,GAyClB1J,MAAM,CAAC,MAAI,CAACwI,UAAL,CAAgBc,cAAhB,EAAgC,YAAhC,CAAD,CAzCY;AA0C1BK,mBA1C0B,GA0CpB3J,MAAM,CAAC,MAAI,CAACwI,UAAL,CAAgBe,YAAhB,EAA8B,YAA9B,CAAD,CA1Cc;AA2C1BK,oBA3C0B,GA2CnBD,GAAG,CAACE,IAAJ,CAASH,KAAT,EAAgB,MAAhB,CA3CmB;;AA6C9B,oBAAGE,IAAG,IAAK,GAAX,EAAe;AACb,wBAAI,CAAC5I,IAAL,CAAUsC,YAAV,CAAuBY,QAAvB,GAAkCoF,cAAlC;AACA,wBAAI,CAACtI,IAAL,CAAUsC,YAAV,CAAuBM,MAAvB,GAAgC2F,YAAhC;AACF,iBAHA,MAGO;AACL7D,wBAAM,CAACC,IAAP,CAAY,0EAAZ;AACAsD,0BAAO,GAAI,KAAX;AACF;;AAEMjI,oBArDwB,GAqDjB;AACXmC,uBAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,KAArB,CADI;AAEXyG,4BAAU,EAAE,CAFD;AAGXxG,8BAAY,EAAE,MAAI,CAACtC,IAAL,CAAUsC,YAHb;AAIXyG,2BAAS,EAAE3G,YAAY,CAACC,OAAb,CAAqB,OAArB,CAJA;AAKX+C,wBAAM,EAAEhD,YAAY,CAACC,OAAb,CAAqB,IAArB;AALG,iBArDiB;;AAAA,qBA6D3B4F,QA7D2B;AAAA;AAAA;AAAA;;AA8D5B3I,qBAAI,CACCuH,IADL,CACU,iBADV,EAC6B7G,IAD7B,EAEKuF,IAFL,CAEU,kBAAO,EAAK;AAChB,wBAAI,CAAC9E,IAAL,GAAU+E,QAAQ,CAACxF,IAAnB;AACD,iBAJL,EAKK4F,KALL,CAKW,eAAI,EAAK;AACd,sBAAIC,KAAK,CAACL,QAAV,EAAoB;AAElB,wBAAGK,KAAK,CAACL,QAAN,CAAexF,IAAf,CAAoB8F,MAApB,KAA+B,0BAAlC,EAA6D;AAC3D,4BAAI,CAACC,OAAL,CAAapB,IAAb,CAAkB,QAAlB;AACF,qBAJkB,CAKlB;AACA;AACA;;AACF,mBARA,MAQO,IAAIkB,KAAK,CAACO,OAAV,EAAmB;AACxB,0BAAI,CAAC1B,MAAL,CAAYC,IAAZ,CAAiB,oDAAjB;AACF;AACD,iBAjBL;AA9D4B;AAAA;;AAAA;AAiFxBlE,oBAjFwB,GAiFjB,EAjFiB;;AAkF5B,qBAAS4F,CAAT,GAAa,CAAb,EAAgBA,IAAI3B,MAAM,CAACI,MAA3B,EAAmCuB,CAAC,IAAE,CAAtC,EAAyC;AACvC5F,sBAAG,IAAKiE,MAAM,CAAC2B,CAAD,CAAN,GAAY,KAApB;AACF;;AApF4B;AAAA,uBAsFtBjH,IAAI,CAACsG,IAAL,CAAU,KAAKjF,IAAf,EAAqB,EAArB,EAAyB,MAAzB,CAtFsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0F/B,KA1fM;AA2fP+C,YA3fO,sBA2fI;AAET,UAAIwF,aAAY,GAAIC,IAAI,CAACC,IAAL,CAAU,KAAKzI,IAAL,CAAUqE,MAAV,GAAmB,KAAK/C,OAAlC,CAApB;;AACA,WAAK,IAAIoH,KAAI,GAAI,CAAjB,EAAoBA,KAAI,IAAKH,aAA7B,EAA4CG,KAAK,EAAjD,EAAqD;AACnD,aAAKnH,KAAL,CAAW2C,IAAX,CAAgBwE,KAAhB;AACF;AACD,KAjgBM;AAkgBPC,YAlgBO,oBAkgBE7F,SAlgBF,EAkgBa;AAClB,UAAI/D,IAAG,GAAI,KAAKA,IAAhB;AACA,UAAIuC,OAAM,GAAI,KAAKA,OAAnB;AACA,UAAIsH,IAAG,GAAI7J,IAAG,GAAIuC,OAAP,GAAiBA,OAA5B;AACA,UAAIuH,EAAC,GAAI9J,IAAG,GAAIuC,OAAhB;AACA,aAAOwB,SAAS,CAACgG,KAAV,CAAgBF,IAAhB,EAAsBC,EAAtB,CAAP;AACD,KAxgBM;AAygBPE,gBAzgBO,wBAygBMxI,MAzgBN,EAygBa;AAClB,UAAIyI,YAAY,GAAEvF,QAAQ,CAACC,cAAT,CAAwBnD,MAAxB,CAAlB;AACAyI,kBAAY,CAAChE,KAAb;AACD;AA5gBM,GA7FI;AA2mBPiE,SA3mBO,qBA2mBG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAER1J,kBAFQ,GAED;AACXmC,qBAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,KAArB,CADI;AAEXC,4BAAY,EAAE,MAAI,CAACtC,IAAL,CAAUsC;AAFb,eAFC;AAAA;AAAA,qBAORhD,KAAI,CACLuH,IADC,CACI,sBADJ,EAC4B7G,IAD5B,EAEDuF,IAFC,CAEI,kBAAO,EAAK;AAChB,sBAAI,CAAC1D,cAAL,GAAoB2D,QAAQ,CAACxF,IAA7B;AACD,eAJC,EAKD4F,KALC,CAKK,eAAI,EAAK;AACd,oBAAIC,KAAK,CAACL,QAAV,EAAoB;AAElB,sBAAGK,KAAK,CAACL,QAAN,CAAexF,IAAf,CAAoB8F,MAApB,KAA+B,0BAAlC,EAA6D;AAC3D,0BAAI,CAACC,OAAL,CAAapB,IAAb,CAAkB,QAAlB;AACF;;AAEAvF,sBAAI,CAACsG,IAAL,CAAU,OAAV,EAAmB,gEAAnB,EAAqF,OAArF;AACF;AACD,eAdC,CAPQ;;AAAA;AAAA;AAAA,qBAuBRpG,KAAI,CACLuH,IADC,CACI,iBADJ,EACuB7G,IADvB,EAEDuF,IAFC,CAEI,kBAAO,EAAK;AAChB,sBAAI,CAACzD,UAAL,GAAgB0D,QAAQ,CAACxF,IAAzB;AACD,eAJC,EAKD4F,KALC,CAKK,eAAI,EAAK;AACd,oBAAIC,KAAK,CAACL,QAAV,EAAoB;AAElB,sBAAGK,KAAK,CAACL,QAAN,CAAexF,IAAf,CAAoB8F,MAApB,KAA+B,0BAAlC,EAA6D;AAC3D,0BAAI,CAACC,OAAL,CAAapB,IAAb,CAAkB,QAAlB;AACF;;AAEAvF,sBAAI,CAACsG,IAAL,CAAU,OAAV,EAAmB,2DAAnB,EAAgF,OAAhF;AACF;AACD,eAdC,CAvBQ;;AAAA;AAAA;AAAA,qBAuCRpG,KAAI,CACLuH,IADC,CACI,iBADJ,EACuB7G,IADvB,EAEDuF,IAFC,CAEI,kBAAO,EAAK;AAChB,sBAAI,CAAC9E,IAAL,GAAU+E,QAAQ,CAACxF,IAAnB;;AACA,sBAAI,CAACwD,QAAL;AACD,eALC,EAMDoC,KANC,CAMK,eAAI,EAAK;AACd,oBAAIC,KAAK,CAACL,QAAV,EAAoB;AAElB,sBAAGK,KAAK,CAACL,QAAN,CAAexF,IAAf,CAAoB8F,MAApB,KAA+B,0BAAlC,EAA6D;AAC3D,0BAAI,CAACC,OAAL,CAAapB,IAAb,CAAkB,QAAlB;AACF,mBAJkB,CAMlB;AACA;AACA;;AACF,iBATA,MASO,IAAIkB,KAAK,CAACO,OAAV,EAAmB;AACxB,wBAAI,CAAC1B,MAAL,CAAYC,IAAZ,CAAiB,oDAAjB;AACF;AACD,eAnBC,CAvCQ;;AAAA;AA4DRgF,sBA5DQ,GA4DGzF,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CA5DH;;AA8Dd,kBAAIwF,QAAJ,EAAc;AACZA,wBAAQ,CAACC,OAAT,GAAmB,YAAY;AAC7B,sBAAIC,UAAS,GAAI3F,QAAQ,CAAC4F,gBAAT,CACb,wCADa,CAAjB;;AAGA,sBAAIH,QAAQ,CAAClB,OAAT,IAAoB,IAAxB,EAA8B;AAC5BoB,8BAAU,CAACE,OAAX,CAAmB,UAAUC,QAAV,EAAoB;AACrCA,8BAAQ,CAACvB,OAAT,GAAmB,IAAnB;AACAuB,8BAAQ,CAACC,OAAT,CAAiB,IAAjB,EAAuBC,SAAvB,CAAiCC,GAAjC,CAAqC,cAArC;AACD,qBAHD;AAIF,mBALA,MAKO;AACLN,8BAAU,CAACE,OAAX,CAAmB,UAAUC,QAAV,EAAoB;AACrCA,8BAAQ,CAACvB,OAAT,GAAmB,KAAnB;AACAuB,8BAAQ,CAACC,OAAT,CAAiB,IAAjB,EAAuBC,SAAvB,CAAiCE,MAAjC,CAAwC,cAAxC;AACD,qBAHD;AAIF;AACD,iBAfD;AAgBF;;AA/Ec;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgFf,GA3rBY;AA4rBbC,UAAQ,EAAE;AACRC,kBADQ,4BACS;AACf,aAAO,KAAKlB,QAAL,CAAc,KAAK3I,IAAnB,CAAP;AACD,KAHO;AAIR8J,eAJQ,yBAIM;AACZ,UAAI,KAAKvK,IAAL,CAAUsC,YAAV,CAAuBI,OAAvB,CAA+BoC,MAA/B,IAAyC,CAA7C,EAAgD;AAC9C,YAAM0F,MAAK,GAAI,KAAKxK,IAAL,CAAUsC,YAAV,CAAuBI,OAAvB,CAA+B+H,WAA/B,EAAf;AACA,eAAO,KAAKH,cAAL,CAAoBI,MAApB,CAA2B,UAAC1K,IAAD,EAAU;AAC1C,iBACIA,IAAI,CAACqB,OAAL,CAAaoJ,WAAb,GAA2BE,QAA3B,CAAoCH,MAApC,KACAxK,IAAI,CAACyB,WAAL,CAAiBgJ,WAAjB,GAA+BE,QAA/B,CAAwCH,MAAxC,CADA,IAEAxK,IAAI,CAAC4K,IAAL,CAAUH,WAAV,GAAwBE,QAAxB,CAAiCH,MAAjC,CAFA,IAGAxK,IAAI,CAACY,KAAL,CAAW6J,WAAX,GAAyBE,QAAzB,CAAkCH,MAAlC,CAHA,IAICxK,IAAI,CAAC+E,WAAL,CAAiB0F,WAAjB,GAA+BE,QAA/B,CAAwCH,MAAxC,CAJD,IAKAxK,IAAI,CAACa,SAAL,CAAe4J,WAAf,GAA6BE,QAA7B,CAAsCH,MAAtC,CALA,IAMAxK,IAAI,CAACc,QAAL,CAAc2J,WAAd,GAA4BE,QAA5B,CAAqCH,MAArC,CANA,IAOAxK,IAAI,CAAC6K,QAAL,CAAcJ,WAAd,GAA4BE,QAA5B,CAAqCH,MAArC,CAPA,IAQAxK,IAAI,CAAC8K,UAAL,CAAgBL,WAAhB,GAA8BE,QAA9B,CAAuCH,MAAvC,CATJ;AAWD,SAZM,CAAP;AAaF,OAfA,MAeO;AACL,eAAO,KAAKF,cAAZ;AACF;AACD;AAvBO;AA5rBG,CAAf","names":["flatPickr","moment","Layout","PageHeader","appConfig","Swal","Lottie","axios","animationData","page","title","meta","name","content","description","components","lottie","data","items","text","href","active","timeConfig","enableTime","dateFormat","dateTimeConfig","list","agentData","username","email","firstName","lastName","language","status","phone","department","state","birthDate","address","country","zipCode","interview","agentNumber","createdBy","insuranceLicense","licenseNumber","departmentList","statusList","perPage","pages","searchQuery","humanfriendlyConfig","token","localStorage","getItem","searchValues","limitTo","isActive","noteSearch","keyword","licensed","toDate","Date","toLocaleDateString","year","month","day","fromDate","setFullYear","getFullYear","defaultOptions","watch","companies","setPages","created","filters","trimWords","value","split","splice","join","methods","editdata","document","getElementById","id","company","score","location","date","updateAgent","errors","push","validEmail","validPhone","length","phoneNumber","departmentID","postalCode","interviewDate","isLicensed","userID","agentID","put","then","response","click","fire","icon","catch","error","detail","$router","property","confirmButtonClass","buttonsStyling","showCloseButton","message","i","addNewAgentModal","resetAgentData","reset","innerHTML","style","display","createAgent","post","getDepartments","console","log","getUserInfo","ID","agentInfo","setAgentData","dateOfBirth","re","test","formatDate","format","formatPhone","flag","undefined","x","replace","match","updateAgentList","validate","filterLanguage","filterKeyword","filterLicensed","filterNotes","filterFromDate","filterToDate","querySelector","checked","start","end","days","diff","isProspect","userEmail","numberOfPages","Math","ceil","index","paginate","from","to","slice","filterStatus","statusButton","mounted","checkAll","onclick","checkboxes","querySelectorAll","forEach","checkbox","closest","classList","add","remove","computed","displayedPosts","resultQuery","search","toLowerCase","filter","includes","city","fullname","statusName"],"sourceRoot":"","sources":["C:\\wamp64\\www\\crm\\frontend\\src\\views\\agents\\agentslist.vue"],"sourcesContent":["<script>\nimport flatPickr from \"vue-flatpickr-component\";\nimport \"flatpickr/dist/flatpickr.css\";\nimport moment from \"moment\";\n// import Multiselect from \"@vueform/multiselect\";\n// import \"@vueform/multiselect/themes/default.scss\";\n\n\nimport Layout from \"../../layouts/main.vue\";\nimport PageHeader from \"@/components/page-header\";\nimport appConfig from \"../../../app.config\";\nimport Swal from \"sweetalert2\";\n\nimport Lottie from \"@/components/widgets/lottie.vue\";\n// import animationData1 from \"@/components/widgets/gsqxdxog.json\";\nimport axios from \"axios\";\nimport animationData from \"@/components/widgets/msoeawqm.json\";\n\nexport default {\n  page: {\n    title: \"Agents\",\n    meta: [{name: \"description\", content: appConfig.description}],\n  },\n  components: {\n    Layout,\n    PageHeader,\n    lottie: Lottie,\n    // Multiselect,\n    flatPickr,\n  },\n  data() {\n    return{\n      title: \"Agent List\",\n      items: [\n        {\n          text: \"Agents\",\n          href: \"/\",\n        },\n        {\n          text: \"Agent List\",\n          active: true,\n        },\n      ],\n      timeConfig: {\n        enableTime: false,\n        dateFormat: \"d M, Y\"\n      },\n      dateTimeConfig: {\n        enableTime: true,\n        dateFormat: \"m-d-y H:i K\"\n      },\n      list: [],\n      agentData: {\n        username: '',\n        email: '',\n        firstName: '',\n        lastName: '',\n        language: '',\n        status: '',\n        phone: '',\n        department: '',\n        state: '',\n        birthDate: '',\n        address: '',\n        country: '',\n        zipCode: '',\n        interview: '',\n        agentNumber: '',\n        createdBy: '',\n        insuranceLicense: '',\n        licenseNumber: ''\n      },\n      departmentList: {},\n      statusList: {},\n      page: 1,\n      perPage: 100,\n      pages: [],\n      searchQuery: null,\n      humanfriendlyConfig: {\n        dateFormat: \"F j, Y\",\n      },\n      data: {\n        token: localStorage.getItem('jwt'),\n        searchValues: {\n          limitTo: this.perPage,\n          isActive: 1,\n          noteSearch: '',\n          keyword: '',\n          licensed: 1,\n          language: 3,\n          status: 0,\n          toDate: new Date().toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}) ,\n          fromDate: new Date(new Date().setFullYear(new Date().getFullYear() - 1)).toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}),\n        }\n      },\n      defaultOptions: { animationData: animationData },\n    }\n  },\n  watch: {\n    companies() {\n      this.setPages();\n    },\n  },\n  created() {\n    this.setPages();\n  },\n  filters: {\n    trimWords(value) {\n      return value.split(\" \").splice(0, 20).join(\" \") + \"...\";\n    },\n  },\n  methods: {\n    editdata(data){\n\n      document.getElementById('id').value= data.id\n      document.getElementById('customername').value=data.name;\n      document.getElementById('companyname').value=data.company;\n      document.getElementById('leadsscore').value=data.score;\n      document.getElementById('phone').value=data.phone;\n      document.getElementById('location').value=data.location;\n      document.getElementById('date').value=data.date;\n    },\n    async updateAgent() {\n\n      this.errors = []\n\n      if (!document.getElementById('editEmail').value) {\n        this.errors.push('Email is required.');\n      } else if (!this.validEmail(document.getElementById('editEmail').value)) {\n        this.errors.push('Valid email is required.');\n      }\n\n      if (!document.getElementById('editFirstName').value) {\n        this.errors.push('First Name is required.');\n      }\n\n      if (!document.getElementById('editLastName').value) {\n        this.errors.push('Last Name is required.');\n      }\n\n      if (!document.getElementById('editLanguage').value) {\n        this.errors.push('Language is required.');\n      }\n\n      if (!document.getElementById('editStatus').value) {\n        this.errors.push('Status is required.');\n      }\n\n      if (!document.getElementById('editPhoneNumber').value) {\n        this.errors.push('Phone is required.');\n      }\n\n      if(this.validPhone(document.getElementById('editPhoneNumber').value) === false && document.getElementById('editPhoneNumber').value !== ''){\n        this.errors.push('Please, write a valid phone number!');\n      }\n\n      if (!document.getElementById('editDepartment').value) {\n        this.errors.push('Department is required.');\n      }\n\n      if (!document.getElementById('editBirthDate').value) {\n        this.errors.push('Birth date is required.');\n      }\n\n      if (!document.getElementById('editAddress').value) {\n        this.errors.push('Address is required.');\n      }\n\n      if (!document.getElementById('editAgentNumber').value && document.getElementById('editStatus').value === 5) {\n        this.errors.push('Agent Number is required.');\n      }\n\n      if ((!document.getElementById('editLicensed').value && document.getElementById('editStatus').value === 5) || !document.getElementById('editLicensed').value) {\n        this.errors.push('Insurance Licensed? is required.');\n      }\n\n      if ((!document.getElementById('editLicensed').value && document.getElementById('editStatus').value === 5) /*|| (!this.agentData.licenseNumber && document.getElementById('editLicensed').value === 1)*/) {\n        this.errors.push('License number is required.');\n      }\n\n      if (!this.errors.length) {\n        const data = {\n          username: '',\n          email: document.getElementById('editEmail').value,\n          firstName: document.getElementById('editFirstName').value,\n          lastName: document.getElementById('editLastName').value,\n          language: document.getElementById('editLanguage').value,\n          status: document.getElementById('editStatus').value,\n          phoneNumber: document.getElementById('editPhoneNumber').value,\n          departmentID: document.getElementById('editDepartment').value,\n          state: document.getElementById('editState').value,\n          birthDate: document.getElementById('editBirthDate').value,\n          address: document.getElementById('editAddress').value,\n          country: document.getElementById('editCountry').value,\n          postalCode: document.getElementById('editPostalCode').value,\n          interviewDate: document.getElementById('editInterview').value,\n          agentNumber: document.getElementById('editAgentNumber').value,\n          createdBy: localStorage.getItem('email'),\n          isLicensed: document.getElementById('editLicensed').value,\n          licenseNumber: this.agentData.licenseNumber,\n          token: localStorage.getItem('jwt'),\n          userID: localStorage.getItem('id'),\n          agentID: document.getElementById('id').value\n        }\n\n        await axios\n            .put('/api/updateAgent', data)\n            .then(async response => {\n              if (response) {\n                document.getElementById('closemodal').click();\n                await Swal.fire({\n                  icon: 'success',\n                  title: 'Success',\n                  text: 'Agent update successfully!'\n                });\n              }\n            })\n            .catch(async error => {\n              if (error.response) {\n\n                if(error.response.data.detail === 'Your session is expired!'){\n                  await this.$router.push('logout')\n                }\n\n                let list = '';\n                for (const property in error.response.data) {\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\n                }\n\n                await Swal.fire({\n                  title: \"Please check the following: \" + list,\n                  icon: 'warning',\n                  confirmButtonClass: \"btn btn-info\",\n                  buttonsStyling: false,\n                  showCloseButton: true,\n                });\n\n              } else if (error.message) {\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\n              }\n            })\n      } else {\n        let list = '';\n        for (let i = 0; i < this.errors.length; i++)\n          list += '\\n' + '<b>' + this.errors[i] + '</b>';\n\n        await Swal.fire({\n          title: \"Please complete the form! \" + list,\n          icon: 'warning',\n          confirmButtonClass: \"btn btn-info\",\n          buttonsStyling: false,\n          showCloseButton: true,\n        });\n      }\n    },\n    addNewAgentModal() {\n      this.resetAgentData()\n      document.getElementById(\"addform\").reset();\n      document.getElementById('agentModalLabel').innerHTML=\"Add Agent\";\n      document.getElementById('add-btn').style.display='block';\n      document.getElementById('edit-btn').style.display='none';\n    },\n    async createAgent() {\n      this.errors = []\n\n      if (!this.agentData.email) {\n        this.errors.push('Email is required.');\n      } else if (!this.validEmail(this.agentData.email)) {\n        this.errors.push('Valid email is required.');\n      }\n\n      if (!this.agentData.firstName) {\n        this.errors.push('First Name is required.');\n      }\n\n      if (!this.agentData.lastName) {\n        this.errors.push('Last Name is required.');\n      }\n\n      if (!this.agentData.language) {\n        this.errors.push('Language is required.');\n      }\n\n      if (!this.agentData.status) {\n        this.errors.push('Status is required.');\n      }\n\n      if (!this.agentData.phone) {\n        this.errors.push('Phone is required.');\n      }\n\n      if(this.validPhone(this.agentData.phone) === false && this.agentData.phone !== ''){\n        this.errors.push('Please, write a valid phone number!');\n      }\n\n      if (!this.agentData.department) {\n        this.errors.push('Department is required.');\n      }\n\n      if (!this.agentData.birthDate) {\n        this.errors.push('Birth date is required.');\n      }\n\n      if (!this.agentData.address) {\n        this.errors.push('Address is required.');\n      }\n\n      if (!this.agentData.agentNumber && this.agentData.status === 5) {\n        this.errors.push('Agent Number is required.');\n      }\n\n      if ((!this.agentData.insuranceLicense && this.agentData.status === 5) || !this.agentData.insuranceLicense) {\n        this.errors.push('is Insurance Licensed? is required.');\n      }\n\n      if ((!this.agentData.licenseNumber && this.agentData.status === 5) || (!this.agentData.licenseNumber && this.agentData.insuranceLicense === 1)) {\n        this.errors.push('License number is required.');\n      }\n\n      if(!this.errors.length) {\n        const data = {\n          username:  '',\n          email:  this.agentData.email,\n          firstName:  this.agentData.firstName,\n          lastName:  this.agentData.lastName,\n          language:  this.agentData.language,\n          status:  this.agentData.status,\n          phoneNumber:  this.agentData.phone,\n          departmentID:  this.agentData.department,\n          state:  this.agentData.state,\n          birthDate:  this.agentData.birthDate,\n          address:  this.agentData.address,\n          country:  this.agentData.country,\n          postalCode:  this.agentData.zipCode,\n          interviewDate:  this.agentData.interview,\n          agentNumber:  this.agentData.agentNumber,\n          createdBy:  localStorage.getItem('email'),\n          isLicensed:  this.agentData.insuranceLicense,\n          licenseNumber: this.agentData.licenseNumber,\n          token: localStorage.getItem('jwt'),\n          userID: localStorage.getItem('id')\n        }\n\n        await axios\n            .post('/api/createAgent', data)\n            .then(async response => {\n              document.getElementById(\"addform\").reset();\n              if (response.data['ID'] !== null) {\n                document.getElementById('closemodal').click();\n                await Swal.fire({\n                  icon: 'success',\n                  title: 'Success',\n                  text: 'Agent created successfully!'\n                });\n              }\n            })\n            .catch(async error => {\n              if (error.response) {\n\n                if(error.response.data.detail === 'Your session is expired!'){\n                  await this.$router.push('logout')\n                }\n\n                let list = '';\n                for (const property in error.response.data) {\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\n                }\n\n                await Swal.fire({\n                  title: \"Please check the following: \" + list,\n                  icon: 'warning',\n                  confirmButtonClass: \"btn btn-info\",\n                  buttonsStyling: false,\n                  showCloseButton: true,\n                });\n\n              } else if (error.message) {\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\n              }\n            })\n      } else {\n        let list = '';\n        for (let i = 0; i < this.errors.length; i++)\n          list += '\\n' + '<b>' + this.errors[i]+ '</b>';\n\n        await Swal.fire({\n          title: \"Please complete the form! \" + list,\n          icon: 'warning',\n          confirmButtonClass: \"btn btn-info\",\n          buttonsStyling: false,\n          showCloseButton: true,\n        });\n      }\n    },\n    async getDepartments() {\n\n      await axios\n          .post('/api/getDepartments')\n          .then(response => {\n            console.log(response);\n          })\n          .catch(error => {\n            if (error.response) {\n\n              if(error.response.data.detail === 'Your session is expired!'){\n                this.$router.push('logout')\n              }\n\n              Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\n            }\n          })\n    },\n    async getUserInfo(id) {\n      document.getElementById('edit-btn').style.display='block';\n      document.getElementById('add-btn').style.display='none'\n      document.getElementById('agentModalLabel').innerHTML=\"Edit Agent\"\n\n      const data = {\n        token: localStorage.getItem('jwt'),\n        ID: id\n      }\n\n      let agentInfo;\n\n      await axios\n          .post('/api/getUser', data)\n          .then(response => {\n            agentInfo=response.data\n            this.setAgentData(agentInfo);\n            document.getElementById('id').value=agentInfo.ID\n            document.getElementById('editEmail').value=agentInfo.email;\n            document.getElementById('editFirstName').value=agentInfo.firstName;\n            document.getElementById('editLastName').value=agentInfo.lastName;\n            document.getElementById('editLanguage').value=agentInfo.language;\n            document.getElementById('editStatus').value=agentInfo.status\n            document.getElementById('editPhoneNumber').value= agentInfo.phoneNumber;\n            document.getElementById('editDepartment').value=agentInfo.departmentID;\n            document.getElementById('editBirthDate').value=agentInfo.dateOfBirth;\n            document.getElementById('editAddress').value=agentInfo.address;\n            document.getElementById('editState').value=agentInfo.state;\n            document.getElementById('editCountry').value=agentInfo.country;\n            document.getElementById('editPostalCode').value=agentInfo.postalCode;\n            document.getElementById('editAgentNumber').value=agentInfo.agentNumber;\n            document.getElementById('editCreatedBy').value=agentInfo.createdBy;\n            document.getElementById('editLicensed').value=agentInfo.isLicensed;\n            // document.getElementById('editInterview').value=agentInfo.interviewDate;\n          })\n          .catch(error => {\n            if (error.response) {\n\n              if(error.response.data.detail === 'Your session is expired!'){\n                this.$router.push('logout')\n              }\n\n              Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\n            }\n          })\n    },\n    validEmail: function (email) {\n      const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return re.test(email);\n    },\n    validPhone: function (phone) {\n      return /^(\\+{0,})(\\d{0,})([(]{1}\\d{1,3}[)]{0,}){0,}(\\s?\\d+|\\+\\d{2,3}\\s{1}\\d+|\\d+){1}[\\s|-]?\\d+([\\s|-]?\\d+){1,2}(\\s){0,}$/gm.test(phone);\n    },\n    formatDate: function(date, format){\n      date = moment(date).format(format)\n      return date;\n    },\n    formatPhone: function(phone, flag=0) {\n\n      // if flag == 1 put value in phone Edit\n      if(phone !== undefined){\n        const x = phone.replace(/\\D/g, '').match(/(\\d{0,3})(\\d{0,3})(\\d{0,4})/);\n        phone = !x[2] ? x[1] : '(' + x[1] + ') ' + x[2] + (x[3] ? '-' + x[3] : '');\n      }else{\n        phone = ''\n      }\n\n      if(flag !== 1){\n        return phone;\n      }else{\n        document.getElementById('editPhoneNumber').value = phone;\n      }\n    },\n    setAgentData: function(data) {\n      this.agentData.email=data.email;\n      this.agentData.firstName=data.firstName;\n      this.agentData.lastName=data.lastName;\n      this.agentData.language=data.language;\n      this.agentData.status=data.status\n      this.agentData.phone=data.phoneNumber;\n      this.agentData.department=data.departmentID\n      this.agentData.birthDate= this.formatDate(data.dateOfBirth, 'DD MM, YYYY');\n      this.agentData.interview= this.formatDate(data.interviewDate, 'm-d-y H:i K');\n      this.agentData.address=data.address;\n      this.agentData.state=data.state;\n      this.agentData.country=data.country;\n      this.agentData.zipCode=data.postalCode;\n      this.agentData.agentNumber=data.agentNumber;\n      this.agentData.createdBy=data.createdBy;\n      this.agentData.insuranceLicense=data.isLicensed;\n    },\n    resetAgentData: function(){\n      this.agentData =\n          {username: '',\n          email: '',\n          firstName: '',\n          lastName: '',\n          language: '',\n          status: '',\n          phone: '',\n          department: '',\n          state: '',\n          birthDate: '',\n          address: '',\n          country: '',\n          zipCode: '',\n          interview: '',\n          agentNumber: '',\n          createdBy: '',\n          insuranceLicense: '',\n          licenseNumber: ''\n          }\n    },\n    async updateAgentList(status=0) {\n\n      let validate = true;\n      let errors = [];\n      let filterLanguage = document.getElementById(\"filterLanguage\").value;\n      let filterKeyword = document.getElementById(\"filterKeyword\").value;\n      let filterLicensed = document.getElementById(\"filterLicensed\").value;\n      let filterNotes = document.getElementById(\"filterNotes\").value;\n      let filterFromDate = document.getElementById(\"filterFromDate\").value;\n      let filterToDate = document.getElementById(\"filterToDate\").value;\n      let isActive = document.querySelector('#isActive').checked;\n      this.data.searchValues.status = status;\n\n      if(isActive === true) {\n        this.data.searchValues.isActive = 1\n      } else {\n        this.data.searchValues.isActive = 2\n      }\n\n      if (filterLanguage !== '' && (filterLanguage === '1' || filterLanguage === '2')){\n        this.data.searchValues.language = filterLanguage;\n      }\n\n      if (filterKeyword !== '' && filterKeyword.length >= 3) {\n        this.data.searchValues.keyword = filterKeyword;\n      } else if (filterKeyword !== '' && filterKeyword.length < 3) {\n        errors.push('Keyword search should have 3 or more characters!')\n        validate = false;\n      }\n\n      if(filterLicensed !== ''){\n        this.data.searchValues.licensed = filterLicensed;\n      }\n\n      if (filterNotes !== '' && filterNotes.length >= 3) {\n        this.data.searchValues.noteSearch = filterNotes;\n      }else if(filterNotes !== '' && filterNotes.length < 3) {\n        errors.push('Notes search should have 3 or more characters!')\n        validate = false;\n      }\n\n      var start = moment(this.formatDate(filterFromDate, 'YYYY-MM-DD'));\n      var end = moment(this.formatDate(filterToDate, 'YYYY-MM-DD'));\n      var days = end.diff(start, \"days\");\n\n      if(days <= 365){\n        this.data.searchValues.fromDate = filterFromDate;\n        this.data.searchValues.toDate = filterToDate;\n      } else {\n        errors.push(\"From Date and To Date (range) couldn't be larger than a year (365 days)!\");\n        validate = false;\n      }\n\n      const data = {\n        token: localStorage.getItem('jwt'),\n        isProspect: 0,\n        searchValues: this.data.searchValues,\n        userEmail: localStorage.getItem('email'),\n        userID: localStorage.getItem('id'),\n      }\n\n      if(validate){\n        axios\n            .post('/api/listAgents', data)\n            .then(response => {\n              this.list=response.data\n            })\n            .catch(error => {\n              if (error.response) {\n\n                if(error.response.data.detail === 'Your session is expired!'){\n                  this.$router.push('logout')\n                }\n                // for (const property in error.response.data) {\n                // this.errors.push(`${property}: ${error.response.data[property]}`)\n                // }\n              } else if (error.message) {\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\n              }\n            })\n      }else{\n        let list = '';\n        for (var i = 0; i < errors.length; i+=1) {\n          list += errors[i] + ' \\n';\n        }\n\n        await Swal.fire(\"\" + list, '', 'info');\n\n      }\n\n    },\n    setPages() {\n\n      let numberOfPages = Math.ceil(this.list.length / this.perPage);\n      for (let index = 1; index <= numberOfPages; index++) {\n        this.pages.push(index);\n      }\n    },\n    paginate(companies) {\n      let page = this.page;\n      let perPage = this.perPage;\n      let from = page * perPage - perPage;\n      let to = page * perPage;\n      return companies.slice(from, to);\n    },\n    filterStatus(status){\n      var statusButton= document.getElementById(status);\n      statusButton.click();\n    },\n  },\n  async mounted() {\n\n    const data = {\n      token: localStorage.getItem('jwt'),\n      searchValues: this.data.searchValues,\n    }\n\n    await axios\n        .post('/api/listDepartments', data)\n        .then(response => {\n          this.departmentList=response.data\n        })\n        .catch(error => {\n          if (error.response) {\n\n            if(error.response.data.detail === 'Your session is expired!'){\n              this.$router.push('logout')\n            }\n\n            Swal.fire(\"Oops!\", \"Departments could not be loaded, please contact your SysAdmin.\", \"error\")\n          }\n        })\n\n    await axios\n        .post('/api/listStatus', data)\n        .then(response => {\n          this.statusList=response.data\n        })\n        .catch(error => {\n          if (error.response) {\n\n            if(error.response.data.detail === 'Your session is expired!'){\n              this.$router.push('logout')\n            }\n\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\n          }\n        })\n\n    await axios\n        .post('/api/listAgents', data)\n        .then(response => {\n          this.list=response.data;\n          this.setPages();\n        })\n        .catch(error => {\n          if (error.response) {\n\n            if(error.response.data.detail === 'Your session is expired!'){\n              this.$router.push('logout')\n            }\n\n            // for (const property in error.response.data) {\n            // this.errors.push(`${property}: ${error.response.data[property]}`)\n            // }\n          } else if (error.message) {\n            this.errors.push('Something was wrong, please contact your SysAdmin.')\n          }\n        })\n\n    const checkAll = document.getElementById(\"checkAll\");\n\n    if (checkAll) {\n      checkAll.onclick = function () {\n        var checkboxes = document.querySelectorAll(\n            '.form-check-all input[type=\"checkbox\"]'\n        );\n        if (checkAll.checked == true) {\n          checkboxes.forEach(function (checkbox) {\n            checkbox.checked = true;\n            checkbox.closest(\"tr\").classList.add(\"table-active\");\n          });\n        } else {\n          checkboxes.forEach(function (checkbox) {\n            checkbox.checked = false;\n            checkbox.closest(\"tr\").classList.remove(\"table-active\");\n          });\n        }\n      };\n    }\n  },\n  computed: {\n    displayedPosts() {\n      return this.paginate(this.list);\n    },\n    resultQuery() {\n      if (this.data.searchValues.keyword.length >= 3) {\n        const search = this.data.searchValues.keyword.toLowerCase();\n        return this.displayedPosts.filter((data) => {\n          return (\n              data.address.toLowerCase().includes(search) ||\n              data.agentNumber.toLowerCase().includes(search) ||\n              data.city.toLowerCase().includes(search) ||\n              data.email.toLowerCase().includes(search) ||\n               data.phoneNumber.toLowerCase().includes(search) ||\n              data.firstName.toLowerCase().includes(search) ||\n              data.lastName.toLowerCase().includes(search) ||\n              data.fullname.toLowerCase().includes(search) ||\n              data.statusName.toLowerCase().includes(search)\n          );\n        });\n      } else {\n        return this.displayedPosts;\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <Layout>\n    <PageHeader :title=\"title\" :items=\"items\"/>\n    <div class=\"row\">\n      <div class=\"col-lg-12\">\n        <div class=\"card\" id=\"leadsList\">\n          <div class=\"card-header border-0\">\n            <div class=\"row g-4 align-items-center\">\n              <div class=\"col-sm-3\">\n                <div class=\"search-box\">\n                  <input\n                      type=\"text\"\n                      class=\"form-control search\"\n                      placeholder=\"Search for...\"\n                      v-model=\"this.data.searchValues.keyword\"\n                      @change=\"this.data.searchValues.keyword.length >= 3 ? updateAgentList(): ''\"\n                      v-on:keyup.enter=\"this.data.searchValues.keyword === '' ? updateAgentList() : ''\"\n                  />\n                  <i class=\"ri-search-line search-icon\"></i>\n                </div>\n              </div>\n              <div class=\"col-sm-auto ms-auto\">\n                <div class=\"hstack gap-2\">\n                  <button class=\"btn btn-soft-danger\" @click=\"deleteMultiple\">\n                    <i class=\"ri-delete-bin-2-line\"></i>\n                  </button>\n                  <button type=\"button\" class=\"btn btn-soft-success add-btn\" href=\"#open-filters\" data-bs-toggle=\"modal\">\n                    <i class=\"ri-filter-line align-bottom me-1\"></i> Filters\n                  </button>\n                  <button type=\"button\" class=\"btn btn-soft-success add-btn\" id=\"create-btn\" data-bs-toggle=\"modal\" href=\"#agentModal\" @click=\"addNewAgentModal\">\n                    <i class=\"ri-add-line align-bottom me-1\"></i> Add Agent\n                  </button>\n                  <span class=\"dropdown\">\n                    <button\n                        class=\"btn btn-soft-primary btn-icon fs-14\"\n                        type=\"button\"\n                        id=\"dropdownMenuButton1\"\n                        data-bs-toggle=\"dropdown\"\n                        aria-expanded=\"false\"\n                    >\n                      <i class=\"ri-settings-4-line\"></i>\n                    </button>\n                    <ul\n                        class=\"dropdown-menu\"\n                        aria-labelledby=\"dropdownMenuButton1\"\n                    >\n                      <li><a class=\"dropdown-item\" href=\"#\">Copy</a></li>\n                      <li>\n                        <a class=\"dropdown-item\" href=\"#\">Move to pipline</a>\n                      </li>\n                      <li>\n                        <a class=\"dropdown-item\" href=\"#\">Add to exceptions</a>\n                      </li>\n                      <li>\n                        <a class=\"dropdown-item\" href=\"#\"\n                        >Switch to common form view</a\n                        >\n                      </li>\n                      <li>\n                        <a class=\"dropdown-item\" href=\"#\"\n                        >Reset form view to default</a\n                        >\n                      </li>\n                    </ul>\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Table Head -->\n          <ul\n              class=\"nav nav-tabs nav-tabs-custom nav-primary mb-3\"\n              role=\"tablist\">\n            <li class=\"nav-item\">\n              <a\n                  class=\"nav-link active All py-3\"\n                  data-bs-toggle=\"tab\"\n                  id=\"All\"\n                  href=\"#home1\"\n                  role=\"tab\"\n                  aria-selected=\"true\"\n                  @click=\"updateAgentList(0)\"\n              >\n                <i class=\"ri-file-search-line me-1 align-bottom\"></i> All\n              </a>\n            </li>\n             <li class=\"nav-item\" v-for=\"(data, index) of statusList\" :key=\"index\">\n              <a\n                  class=\"nav-link py-3 \" v-bind:class=\"data.name\"\n                  data-bs-toggle=\"tab\"\n                  v-bind:id=\"data.name\"\n                  v-bind:href=\"'#'+data.name\"\n                  role=\"tab\"\n                  aria-selected=\"false\"\n                  @click=\"updateAgentList(data.statusID)\"\n              >\n                <i class=\"me-1 align-bottom\"></i>\n                {{ data.name }}\n              </a>\n            </li>\n          </ul>\n          <div class=\"table-responsive\">\n            <table class=\"table align-middle table-nowrap mb-0\">\n              <thead class=\"table-light\">\n              <tr>\n                <th scope=\"col\" style=\"width: 50px\">\n                  <div class=\"form-check\">\n                    <input\n                        class=\"form-check-input\"\n                        type=\"checkbox\"\n                        id=\"checkAll\"\n                        value=\"option\"\n                    />\n                  </div>\n                </th>\n                <th scope=\"col\">Name</th>\n                <th scope=\"col\">Department</th>\n                <th scope=\"col\">Email</th>\n                <th scope=\"col\">Phone</th>\n                <th scope=\"col\">Create Date</th>\n                <th scope=\"col\">Status</th>\n                <th scope=\"col\">Actions</th>\n              </tr>\n              </thead>\n              <tbody>\n              <tr v-for=\"(data, index) of resultQuery\" :key=\"index\">\n                <td>\n                  <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"cardtableCheck01\">\n                    <label class=\"form-check-label\" for=\"cardtableCheck01\"></label>\n                  </div>\n                </td>\n                <td>{{ data.firstName }} {{ data.lastName }}</td>\n                <td>{{ data.departmentName }}</td>\n                <td>{{ data.email }}</td>\n                <td>{{ formatPhone(data.phoneNumber) }}</td>\n                <td> {{ formatDate(data.createdOn, 'MMMM Do YYYY, h:mmA') }} </td>\n                <td><a href=\"javascript:void(0);\" v-bind:style=\"'color:'+data.color\" @click=\"filterStatus(data.statusName)\">{{data.statusName}}</a></td>\n                <td>\n                  <ul class=\"list-inline hstack gap-2 mb-0\">\n                    <li class=\"list-inline-item\" data-bs-toggle=\"modal\" href=\"#agentModal\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Edit\" @click=\"getUserInfo(data.ID)\">\n                      <a class=\"edit-item-btn\" href=\"javascript:void(0);\"><i class=\"ri-pencil-fill align-bottom text-muted\"></i></a>\n                    </li>\n                    <li class=\"list-inline-item\" data-bs-toggle=\"tooltip\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Delete\">\n                      <a class=\"remove-item-btn\" data-bs-toggle=\"modal\" href=\"javascript:void(0);\">\n                        <i class=\"ri-delete-bin-fill align-bottom text-muted\"></i>\n                      </a>\n                    </li>\n                  </ul>\n                </td>\n              </tr>\n              </tbody>\n            </table>\n            <div class=\"noresult\" v-if=\"list.length <= 0\">\n              <div class=\"text-center\">\n                <lottie\n                    class=\"avatar-xl\"\n                    colors=\"primary:#121331,secondary:#08a88a\"\n                    :options=\"defaultOptions\"\n                    :height=\"75\"\n                    :width=\"75\"\n                />\n                <h5 class=\"mt-2\">Sorry!</h5>\n                <p class=\"text-muted mb-0\">\n                  We've searched and we did not find any\n                  agent for your search.\n                </p>\n              </div>\n            </div>\n            <div class=\"d-flex justify-content-end mt-3\" v-if=\"resultQuery.length >= 0\">\n              <div class=\"pagination-wrap hstack gap-2\">\n                <a\n                    class=\"page-item pagination-prev disabled\"\n                    href=\"#\"\n                    v-if=\"page !== 1\"\n                    @click=\"page--\"\n                >\n                  Previous\n                </a>\n                <ul class=\"pagination listjs-pagination mb-0\">\n                  <li\n                      :class=\"{\n                      active: pageNumber == page,\n                      disabled: pageNumber == '...',\n                    }\"\n                      v-for=\"(pageNumber, index) in pages.slice(\n                      page - 1,\n                      page + 5\n                    )\"\n                      :key=\"index\"\n                      @click=\"page = pageNumber\"\n                  >\n                    <a class=\"page\" href=\"#\">{{ pageNumber }}</a>\n                  </li>\n                </ul>\n                <a\n                    class=\"page-item pagination-next\"\n                    href=\"#\"\n                    @click=\"page++\"\n                    v-if=\"page < pages.length\"\n                >\n                  Next\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!--end col-->\n    </div>\n    <!--end row-->\n\n    <!--  Add agent modal  -->\n    <div class=\"modal zoomIn\" id=\"agentModal\" tabindex=\"-1\" aria-labelledby=\"agentModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\" style=\"max-width: 1000px;\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header bg-light p-3\">\n            <h5 class=\"modal-title\" id=\"agentModalLabel\"></h5>\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"\n                    id=\"close-modal\"></button>\n          </div>\n          <form id=\"addform\" @submit.prevent=\"\">\n            <div class=\"modal-body\">\n              <input type=\"hidden\" id=\"id\"/>\n              <div class=\"row g-3\">\n                <div class=\"col-lg-12\">\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      <label for=\"editEmail\" class=\"form-label\">Email</label>\n                      <input type=\"text\" id=\"editEmail\" class=\"form-control mb-2\" placeholder=\"Enter Email\" v-model=\"agentData.email\" required>\n                    </div>\n                    <div class=\"col-lg-6\">\n                      <label for=\"editCreatedBy\" class=\"form-label\">Created By</label>\n                      <input type=\"text\" id=\"editCreatedBy\" class=\"form-control mb-2\" disabled v-model=\"this.agentData.createdBy\">\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      <label for=\"editFirstName\" class=\"form-label\">First Name</label>\n                      <input type=\"text\" id=\"editFirstName\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" v-model=\"this.agentData.firstName\" required>\n                    </div>\n                    <div class=\"col-lg-6\">\n                      <label for=\"editLastName\" class=\"form-label\">Last Name</label>\n                      <input type=\"text\" id=\"editLastName\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\" v-model=\"this.agentData.lastName\" required>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      <label for=\"editLanguage\" class=\"form-label\">Language</label>\n                      <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"editLanguage\" v-model=\"this.agentData.language\" required>\n                        <option value=\"1\" selected>English</option>\n                        <option value=\"2\">Spanish</option>\n                      </select>\n                    </div>\n                    <div class=\"col-lg-6\">\n                      <label for=\"editStatus\" class=\"form-label\">Status</label>\n                      <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editStatus\" v-model=\"this.agentData.status\">\n                        <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\n                      </select>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      <label for=\"editPhoneNumber\" class=\"form-label\">Phone</label>\n                      <input type=\"text\" id=\"editPhoneNumber\" class=\"form-control mb-2\" placeholder=\"Phone number\" required v-model=\"this.agentData.phone\"/>\n                    </div>\n                    <div class=\"col-lg-6\">\n                      <label for=\"editDepartment\" class=\"form-label\">Department</label>\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\n                              v-model=\"this.agentData.department\" v-if=\"(departmentList.length > 1)\">\n                        <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\n                                v-bind:value=\"department.departmentID\">{{ department.name }}\n                        </option>\n                      </select>\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\n                              v-model=\"this.agentData.department\" v-else>\n                        <option v-bind:value=\"departmentList.departmentID\">{{ departmentList.name }}</option>\n                      </select>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      <label for=\"editAddress\" class=\"form-label\">Address</label>\n                      <input type=\"text\" id=\"editAddress\" class=\"form-control mb-2\" placeholder=\"Enter Address\" required v-model=\"this.agentData.address\"/>\n                    </div>\n                    <div class=\"col-lg-6\">\n                      <label for=\"editBirthDate\" class=\"form-label mb-2\">Birth Date</label>\n                      <flat-pickr\n                          placeholder=\"Select Birth Date\"\n                          v-model=\"this.agentData.birthDate\"\n                          :config=\"timeConfig\"\n                          class=\"form-control flatpickr-input\"\n                          id=\"editBirthDate\"></flat-pickr>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      <label for=\"editState\" class=\"form-label\">State</label>\n                      <input type=\"text\" id=\"editState\" class=\"form-control mb-2\" placeholder=\"Enter State\" required v-model=\"this.agentData.state\"/>\n                    </div>\n                    <div class=\"col-lg-6\">\n                      <label for=\"editCountry\" class=\"form-label\">Country</label>\n                      <input type=\"text\" id=\"editCountry\" class=\"form-control mb-2\" placeholder=\"Enter Country\" required v-model=\"this.agentData.country\"/>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      <label for=\"editPostalCode\" class=\"form-label\">Postal code</label>\n                      <input type=\"text\" id=\"editPostalCode\" class=\"form-control mb-2\" placeholder=\"Enter Address\" required v-model=\"this.agentData.zipCode\"/>\n                    </div>\n                    <div class=\"col-lg-6\">\n                      <label for=\"editInterview\" class=\"form-label mb-2\">Interview</label>\n                      <flat-pickr\n                          placeholder=\"Select Interview date/time\"\n                          v-model=\"this.agentData.interview\"\n                          :config=\"dateTimeConfig\"\n                          class=\"form-control flatpickr-input\"\n                          id=\"editInterview\" data-enable-time></flat-pickr>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      <label for=\"editAgentNumber\" class=\"form-label\">Agent Number</label>\n                      <input type=\"text\" id=\"editAgentNumber\" class=\"form-control mb-2\" placeholder=\"Enter Agent Number\" required v-model=\"this.agentData.agentNumber\"/>\n                    </div>\n                    <div class=\"col-lg-6\">\n                      <label for=\"editLicensed\" class=\"form-label\">Insurance Licensed?</label>\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editLicensed\" v-model=\"this.agentData.insuranceLicense\">\n                        <option value=\"0\">No</option>\n                        <option value=\"1\">Yes</option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n                <!--end col-->\n              </div>\n              <!--end row-->\n            </div>\n\n            <div class=\"modal-footer\">\n              <div class=\"hstack gap-2 justify-content-end\">\n                <button type=\"button\" class=\"btn btn-light\" id=\"closemodal\" data-bs-dismiss=\"modal\">Close</button>\n                <button type=\"submit\" class=\"btn btn-success\" id=\"add-btn\" @click=\"createAgent\">Save</button>\n                <button type=\"button\" class=\"btn btn-success\" id=\"edit-btn\" @click=\"updateAgent\">Update</button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n\n    <!-- Filters Modal -->\n    <div id=\"open-filters\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\">\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"myModalLabel\">Filters</h5>\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"> </button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"row\">\n              <div class=\"col-lg-12\">\n                <label for=\"filterKeyword\" class=\"form-label\">Keyword</label>\n                <input type=\"text\" id=\"filterKeyword\" name=\"filterKeyword\" class=\"form-control mb-2\" placeholder=\"Enter Keyword\" v-model=\"this.data.searchValues.keyword\">\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-lg-6\">\n                <label for=\"filterLicensed\" class=\"form-label\">Licensed agents?</label>\n                <select class=\"form-select mb-2\" aria-label=\"Licensed Agents?\" id=\"filterLicensed\" name=\"filterLicensed\" v-model=\"this.data.searchValues.licensed\">\n                  <option value=\"1\" selected>Both</option>\n                  <option value=\"2\">Yes</option>\n                  <option value=\"3\">No</option>\n                </select>\n              </div>\n              <div class=\"col-lg-6\">\n                  <label for=\"editStatus\" class=\"form-label\">Status</label>\n                  <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"filterStatus\" v-model=\"this.data.searchValues.status\">\n                    <option value=\"0\">All</option>\n                    <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\n                  </select>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-lg-6\">\n                <label for=\"editLanguage\" class=\"form-label\">Language</label>\n                <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"filterLanguage\" name=\"filterLanguage\" v-model=\"this.data.searchValues.language\">\n                  <option value=\"3\" selected>Both</option>\n                  <option value=\"1\">English</option>\n                  <option value=\"2\">Spanish</option>\n                </select>\n              </div>\n              <div class=\"col-lg-6\">\n                <label for=\"editStatus\" class=\"form-label\">Search by Notes</label>\n                <input type=\"text\" id=\"filterNotes\" name=\"filterNotes\" class=\"form-control mb-2\" placeholder=\"Enter note\" v-model=\"this.data.searchValues.noteSearch\">\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-lg-6\">\n                <label for=\"filterFromDate\" class=\"form-label\"> From date </label>\n                <flat-pickr\n                    v-model=\"this.data.searchValues.fromDate\"\n                    :config=\"humanfriendlyConfig\"\n                    class=\"form-control flatpickr-input\"\n                    id=\"filterFromDate\"\n                    name=\"filterFromDate\"\n                ></flat-pickr>\n              </div>\n              <div class=\"col-lg-6\">\n                <label for=\"filterToDate\" class=\"form-label\"> To Date </label>\n                <flat-pickr\n                    v-model=\"this.data.searchValues.toDate\"\n                    :config=\"humanfriendlyConfig\"\n                    class=\"form-control flatpickr-input\"\n                    id=\"filterToDate\"\n                    name=\"filterToDate\"\n                ></flat-pickr>\n              </div>\n            </div>\n            <br>\n            <div class=\"row\">\n              <div class=\"col-lg-6\">\n                <div class=\"form-check form-switch form-switch-lg\" dir=\"ltr\" style=\"margin-left: 3px;\">\n                  <input type=\"checkbox\" class=\"form-check-input\" id=\"isActive\" checked=\"\">\n                  <label class=\"form-check-label\" for=\"isActive\">Active</label>\n                </div>\n              </div>\n              <div class=\"col-lg-6\">\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-light\" data-bs-dismiss=\"modal\">Close</button>\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"updateAgentList()\">Search</button>\n          </div>\n\n        </div><!-- /.modal-content -->\n      </div><!-- /.modal-dialog -->\n    </div><!-- /.modal -->\n\n\n  </Layout>\n</template>\n<style>\n.row-spacer{\n  margin-bottom: 10px;\n}\n</style>"]}]}