{"remainingRequest":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\wamp64\\www\\crm\\frontend\\src\\views\\clients\\clientsMap.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\wamp64\\www\\crm\\frontend\\src\\views\\clients\\clientsMap.vue","mtime":1685898314234},{"path":"C:\\wamp64\\www\\crm\\frontend\\babel.config.js","mtime":1645939880000},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1652458135842},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1668443313146}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L3dhbXA2NC93d3cvY3JtL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IExheW91dCBmcm9tICIuLi8uLi9sYXlvdXRzL21haW4iOwppbXBvcnQgUGFnZUhlYWRlciBmcm9tICJAL2NvbXBvbmVudHMvcGFnZS1oZWFkZXIiOwppbXBvcnQgYXBwQ29uZmlnIGZyb20gIi4uLy4uLy4uL2FwcC5jb25maWciOwovKioNCiAqIExlYWZsZXQtbWFwIGNvbXBvbmVudA0KICovCgppbXBvcnQgImxlYWZsZXQvZGlzdC9sZWFmbGV0LmNzcyI7CmltcG9ydCB7IGxhdExuZyB9IGZyb20gImxlYWZsZXQiOwppbXBvcnQgeyBMTWFwLCBMVGlsZUxheWVyLCBMTWFya2VyLCBMSWNvbiwgTFBvcHVwIC8vIExUb29sdGlwCn0gZnJvbSAiQHZ1ZS1sZWFmbGV0L3Z1ZS1sZWFmbGV0IjsKaW1wb3J0IGp3dF9kZWNvZGUgZnJvbSAiand0LWRlY29kZSI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50L21vbWVudCI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IGZsYXRQaWNrciBmcm9tICJ2dWUtZmxhdHBpY2tyLWNvbXBvbmVudCI7CmltcG9ydCAiZmxhdHBpY2tyL2Rpc3QvZmxhdHBpY2tyLmNzcyI7IC8vIGltcG9ydCBCYXNpYyBmcm9tICIuLi9tYXBzL2xlYWZsZXQvYmFzaWMiCgpleHBvcnQgZGVmYXVsdCB7CiAgcGFnZTogewogICAgdGl0bGU6ICJDbGllbnRzIG1hcCIsCiAgICBtZXRhOiBbewogICAgICBuYW1lOiAiZGVzY3JpcHRpb24iLAogICAgICBjb250ZW50OiBhcHBDb25maWcuZGVzY3JpcHRpb24KICAgIH1dCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBMYXlvdXQ6IExheW91dCwKICAgIFBhZ2VIZWFkZXI6IFBhZ2VIZWFkZXIsCiAgICBMTWFwOiBMTWFwLAogICAgTFRpbGVMYXllcjogTFRpbGVMYXllciwKICAgIExNYXJrZXI6IExNYXJrZXIsCiAgICBMSWNvbjogTEljb24sCiAgICBMUG9wdXA6IExQb3B1cCwKICAgIC8vIExUb29sdGlwLAogICAgZmxhdFBpY2tyOiBmbGF0UGlja3IKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICBlcnJvcnM6IFtdLAogICAgICBzZWFyY2hWYWx1ZXM6IHsKICAgICAgICB0eXBlOiAnMCcsCiAgICAgICAgbm90ZVNlYXJjaDogJycsCiAgICAgICAga2V5d29yZDogJycsCiAgICAgICAgbGFuZ3VhZ2U6ICczJywKICAgICAgICBjbGllbnRzOiAxLAogICAgICAgIHN0YXR1czogJzAnLAogICAgICAgIHNvcnRCeTogJ25hbWUnLAogICAgICAgIG9yZGVyQnk6ICdBU0MnLAogICAgICAgIGRhdGVSYW5nZTogJzAnLAogICAgICAgIGRlcGFydG1lbnQ6ICcwJywKICAgICAgICB0b0RhdGU6IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi11cycsIHsKICAgICAgICAgIHllYXI6ICJudW1lcmljIiwKICAgICAgICAgIG1vbnRoOiAibG9uZyIsCiAgICAgICAgICBkYXk6ICJudW1lcmljIgogICAgICAgIH0pLAogICAgICAgIGZyb21EYXRlOiBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldEZ1bGxZZWFyKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAtIDQpKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLXVzJywgewogICAgICAgICAgeWVhcjogIm51bWVyaWMiLAogICAgICAgICAgbW9udGg6ICJsb25nIiwKICAgICAgICAgIGRheTogIm51bWVyaWMiCiAgICAgICAgfSkKICAgICAgfSwKICAgICAgaHVtYW5mcmllbmRseUNvbmZpZzogewogICAgICAgIGRhdGVGb3JtYXQ6ICJGIGosIFkiCiAgICAgIH0sCiAgICAgIHRpdGxlOiAiQ2xpZW50cyBNYXAiLAogICAgICBpdGVtczogW3sKICAgICAgICB0ZXh0OiAiTWFwcyIsCiAgICAgICAgaHJlZjogIi8iCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiRE1CIE1hcCIsCiAgICAgICAgYWN0aXZlOiB0cnVlCiAgICAgIH1dLAogICAgICB6b29tOiAxNCwKICAgICAgbWF4Wm9vbTogMTksCiAgICAgIG1pblpvb206IDEyLAogICAgICBjZW50ZXI6IGxhdExuZygyOS43MjcyNDY1LCAtOTUuMzU5OTUyMyksCiAgICAgIHVybDogImh0dHBzOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nIiwKICAgICAgYXR0cmlidXRpb246ICcmY29weTsgPGEgaHJlZj0iaHR0cHM6Ly93d3cuYW5maXNiZW5hLmNvbSIgdGFyZ2V0PSJfYmxhbmsiPkFuZmlzYmVuYTwvYT4nLAogICAgICB3aXRoVG9vbHRpcDogbGF0TG5nKDI5Ljc3NDI2NzExMTAyNzkzLCAtOTUuMzcyMzExOTI2NTAwOSksCiAgICAgIHNob3dQYXJhZ3JhcGg6IGZhbHNlLAogICAgICBzaG93TWFwOiB0cnVlLAogICAgICBtYXBPcHRpb25zOiB7CiAgICAgICAgem9vbVNuYXA6IDAuNQogICAgICB9LAogICAgICBtYXJrZXJzczogW1tsYXRMbmcoMjkuNzI3MjQ2NSwgLTk1LjM1OSksICcnLCAnJywgJycsICcnXV0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRMb2NhdGlvbjogZnVuY3Rpb24gZ2V0TG9jYXRpb24oKSB7CiAgICAgIGlmIChuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pIHsKICAgICAgICByZXR1cm4gbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbih0aGlzLnNob3dQb3NpdGlvbik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coIkdlb2xvY2F0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyLiIpOwogICAgICB9CiAgICB9LAogICAgc2hvd1Bvc2l0aW9uOiBmdW5jdGlvbiBzaG93UG9zaXRpb24ocG9zaXRpb24pIHsKICAgICAgdGhpcy5jZW50ZXIgPSBsYXRMbmcocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKTsKICAgICAgdGhpcy5tYXJrZXJzcy5wdXNoKGxhdExuZyhwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUpKTsKICAgIH0sCiAgICB2aWV3VXNlckdyb3VwOiBmdW5jdGlvbiB2aWV3VXNlckdyb3VwKHJlcXVlc3QpIHsKICAgICAgdmFyIGN1cnJlbnRSb2xlID0gand0X2RlY29kZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JykpOwogICAgICByZXR1cm4gY3VycmVudFJvbGUudXNlckdyb3VwLmluY2x1ZGVzKHJlcXVlc3QpOwogICAgfSwKICAgIHVwZGF0ZUNsaWVudExpc3Q6IGZ1bmN0aW9uIHVwZGF0ZUNsaWVudExpc3QoKSB7CiAgICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzLAogICAgICAgICAgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgc3RhdHVzLCB2YWxpZGF0ZSwgZXJyb3JzLCBmaWx0ZXJMYW5ndWFnZSwgZmlsdGVyS2V5d29yZCwgZmlsdGVyVHlwZSwgZmlsdGVyTm90ZXMsIGZpbHRlckZyb21EYXRlLCBmaWx0ZXJUb0RhdGUsIHN0YXJ0LCBlbmQsIGRheXMsIGRhdGEsIGxpc3QsIGk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdHVzID0gX2FyZ3VtZW50cy5sZW5ndGggPiAwICYmIF9hcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHNbMF0gOiBfdGhpcy5zZWFyY2hWYWx1ZXMuc3RhdHVzOwogICAgICAgICAgICAgICAgdmFsaWRhdGUgPSB0cnVlOwogICAgICAgICAgICAgICAgZXJyb3JzID0gW107CiAgICAgICAgICAgICAgICBmaWx0ZXJMYW5ndWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJMYW5ndWFnZSIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyS2V5d29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJLZXl3b3JkIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJUeXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlclR5cGUiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlck5vdGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlck5vdGVzIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJGcm9tRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJGcm9tRGF0ZSIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyVG9EYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlclRvRGF0ZSIpLnZhbHVlOwogICAgICAgICAgICAgICAgX3RoaXMuc2VhcmNoVmFsdWVzLnN0YXR1cyA9IHN0YXR1czsKCiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyTGFuZ3VhZ2UgIT09ICcnICYmIChmaWx0ZXJMYW5ndWFnZSA9PT0gJzEnIHx8IGZpbHRlckxhbmd1YWdlID09PSAnMicpKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnNlYXJjaFZhbHVlcy5sYW5ndWFnZSA9IGZpbHRlckxhbmd1YWdlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJLZXl3b3JkICE9PSAnJyAmJiBmaWx0ZXJLZXl3b3JkLmxlbmd0aCA+PSAzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnNlYXJjaFZhbHVlcy5rZXl3b3JkID0gZmlsdGVyS2V5d29yZDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmlsdGVyS2V5d29yZCAhPT0gJycgJiYgZmlsdGVyS2V5d29yZC5sZW5ndGggPCAzKSB7CiAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCdLZXl3b3JkIHNlYXJjaCBzaG91bGQgaGF2ZSAzIG9yIG1vcmUgY2hhcmFjdGVycyEnKTsKICAgICAgICAgICAgICAgICAgdmFsaWRhdGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyVHlwZSAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuc2VhcmNoVmFsdWVzLnR5cGUgPSBmaWx0ZXJUeXBlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJOb3RlcyAhPT0gJycgJiYgZmlsdGVyTm90ZXMubGVuZ3RoID49IDMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuc2VhcmNoVmFsdWVzLm5vdGVTZWFyY2ggPSBmaWx0ZXJOb3RlczsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmlsdGVyTm90ZXMgIT09ICcnICYmIGZpbHRlck5vdGVzLmxlbmd0aCA8IDMpIHsKICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goJ05vdGVzIHNlYXJjaCBzaG91bGQgaGF2ZSAzIG9yIG1vcmUgY2hhcmFjdGVycyEnKTsKICAgICAgICAgICAgICAgICAgdmFsaWRhdGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzdGFydCA9IG1vbWVudChfdGhpcy5mb3JtYXREYXRlKGZpbHRlckZyb21EYXRlLCAnWVlZWS1NTS1ERCcpKTsKICAgICAgICAgICAgICAgIGVuZCA9IG1vbWVudChfdGhpcy5mb3JtYXREYXRlKGZpbHRlclRvRGF0ZSwgJ1lZWVktTU0tREQnKSk7CiAgICAgICAgICAgICAgICBkYXlzID0gZW5kLmRpZmYoc3RhcnQsICJkYXlzIik7CgogICAgICAgICAgICAgICAgaWYgKGRheXMgPD0gMzY1KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnNlYXJjaFZhbHVlcy5mcm9tRGF0ZSA9IGZpbHRlckZyb21EYXRlOwogICAgICAgICAgICAgICAgICBfdGhpcy5zZWFyY2hWYWx1ZXMudG9EYXRlID0gZmlsdGVyVG9EYXRlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goIkZyb20gRGF0ZSBhbmQgVG8gRGF0ZSAocmFuZ2UpIGNvdWxkbid0IGJlIGxhcmdlciB0aGFuIGEgeWVhciAoMzY1IGRheXMpISIpOwogICAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIGlzUHJvc3BlY3Q6IDAsCiAgICAgICAgICAgICAgICAgIHNlYXJjaFZhbHVlczogX3RoaXMuc2VhcmNoVmFsdWVzLAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICBkZWxldGVkOiAwCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9jbGllbnQvbGlzdENsaWVudHMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5saXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgX3RoaXMucGFnZSA9IDE7CgogICAgICAgICAgICAgICAgICBfdGhpcy5zZXRQYWdlcygpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAvKiBlbHNlIGlmIChlcnJvci5tZXNzYWdlKSB7DQogICAgICAgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpDQogICAgICAgICAgICAgICAgICB9Ki8KCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBlcnJvcnMubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICAgICAgICAgICAgbGlzdCArPSBlcnJvcnNbaV0gKyAnIFxuJzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKCIiICsgbGlzdCwgJycsICdpbmZvJyk7CgogICAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlRm9jdXM6IGZ1bmN0aW9uIGhhbmRsZUZvY3VzKGUpIHsKICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCAibm9wZSIpOwogICAgfSwKICAgIGNvbnNvbGVsb2c6IGZ1bmN0aW9uIGNvbnNvbGVsb2coKSB7CiAgICAgIGNvbnNvbGUubG9nKCd0ZXN0Jyk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMyLmdldExvY2F0aW9uKCk7IC8vIGxldCB0ZXN0ID0gbGF0TG5nKDI5LjcyNzY1NDgsIC05NS4zNTk5ODc1KQogICAgICAgICAgICAgIC8vIHRoaXMubWFya2Vyc3MucHVzaCh0ZXN0KQoKCiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIHZhciBkYXRhID0gewogICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICBzZWFyY2hWYWx1ZXM6IHRoaXMuc2VhcmNoVmFsdWVzLAogICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICBpc1Byb3NwZWN0OiAwLAogICAgICBkZWxldGVkOiAwCiAgICB9OwogICAgYXhpb3MucG9zdCgnL2FwaS9jbGllbnQvbGlzdENsaWVudENvb3JkaW5hdGVzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMzLmxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICB2YXIgY29vcmRpbmF0ZXMgPSBbXTsKICAgICAgcmVzcG9uc2UuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50LCBpKSB7CiAgICAgICAgY29vcmRpbmF0ZXMucHVzaChbbGF0TG5nKHJlc3BvbnNlLmRhdGFbaV0ubGF0aXR1ZGUsIHJlc3BvbnNlLmRhdGFbaV0ubG9uZ2l0dWRlKSwgcmVzcG9uc2UuZGF0YVtpXS5mdWxsTmFtZSwgcmVzcG9uc2UuZGF0YVtpXS5hZGRyZXNzLCByZXNwb25zZS5kYXRhW2ldLmVtYWlsLCByZXNwb25zZS5kYXRhW2ldLnBob25lTnVtYmVyXSk7CiAgICAgIH0pOwogICAgICBfdGhpczMubWFya2Vyc3MgPSBjb29yZGluYXRlczsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICB9IC8vIGZvciAoY29uc3QgcHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgIC8vIHRoaXMuZXJyb3JzLnB1c2goYCR7cHJvcGVydHl9OiAke2Vycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldfWApCiAgICAgICAgLy8gfQoKICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgX3RoaXMzLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICB9CiAgICB9KTsKCiAgICB2YXIgc3VjY2VzcyA9IGZ1bmN0aW9uIHN1Y2Nlc3MocG9zaXRpb24pIHsKICAgICAgdmFyIGxhdGl0dWRlID0gcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlOwogICAgICB2YXIgbG9uZ2l0dWRlID0gcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZTsKICAgICAgX3RoaXMzLmNlbnRlciA9IGxhdExuZyhsYXRpdHVkZSwgbG9uZ2l0dWRlKTsKICAgIH07CgogICAgdmFyIGVycm9yID0gZnVuY3Rpb24gZXJyb3IoZXJyKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgIH07IC8vIFRoaXMgd2lsbCBvcGVuIHBlcm1pc3Npb24gcG9wdXAKCgogICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihzdWNjZXNzLCBlcnJvcik7CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["Layout","PageHeader","appConfig","latLng","LMap","LTileLayer","LMarker","LIcon","LPopup","jwt_decode","moment","axios","Swal","flatPickr","page","title","meta","name","content","description","components","data","token","localStorage","getItem","errors","searchValues","type","noteSearch","keyword","language","clients","status","sortBy","orderBy","dateRange","department","toDate","Date","toLocaleDateString","year","month","day","fromDate","setFullYear","getFullYear","humanfriendlyConfig","dateFormat","items","text","href","active","zoom","maxZoom","minZoom","center","url","attribution","withTooltip","showParagraph","showMap","mapOptions","zoomSnap","markerss","methods","getLocation","navigator","geolocation","getCurrentPosition","showPosition","console","log","position","coords","latitude","longitude","push","viewUserGroup","request","currentRole","userGroup","includes","updateClientList","validate","filterLanguage","document","getElementById","value","filterKeyword","filterType","filterNotes","filterFromDate","filterToDate","length","start","formatDate","end","days","diff","isProspect","userEmail","userID","deleted","post","then","list","response","setPages","catch","error","detail","$router","property","i","fire","handleFocus","e","target","setAttribute","consolelog","mounted","created","coordinates","forEach","element","fullName","address","email","phoneNumber","message","success","err"],"sourceRoot":"","sources":["C:\\wamp64\\www\\crm\\frontend\\src\\views\\clients\\clientsMap.vue"],"sourcesContent":["<script>\r\nimport Layout from \"../../layouts/main\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport appConfig from \"../../../app.config\";\r\n\r\n/**\r\n * Leaflet-map component\r\n */\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport { latLng } from \"leaflet\";\r\nimport {\r\n  LMap, LTileLayer, LMarker, LIcon, LPopup\r\n  // LTooltip\r\n} from \"@vue-leaflet/vue-leaflet\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport moment from \"moment/moment\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport flatPickr from \"vue-flatpickr-component\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\n\r\n// import Basic from \"../maps/leaflet/basic\"\r\n\r\nexport default {\r\n  page: {\r\n    title: \"Clients map\",\r\n    meta: [{name: \"description\", content: appConfig.description}]\r\n  },\r\n  components: {\r\n    Layout,\r\n    PageHeader,\r\n    LMap,\r\n    LTileLayer,\r\n    LMarker,\r\n    LIcon,\r\n    LPopup,\r\n    // LTooltip,\r\n    flatPickr\r\n  },\r\n  data() {\r\n    return {\r\n      token: localStorage.getItem('jwt'),\r\n      errors: [],\r\n      searchValues: {\r\n        type: '0',\r\n        noteSearch: '',\r\n        keyword: '',\r\n        language: '3',\r\n        clients: 1,\r\n        status: '0',\r\n        sortBy: 'name',\r\n        orderBy: 'ASC',\r\n        dateRange: '0',\r\n        department: '0' ,\r\n        toDate: new Date().toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}) ,\r\n        fromDate: new Date(new Date().setFullYear(new Date().getFullYear() - 4)).toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}),\r\n      },\r\n      humanfriendlyConfig: {\r\n        dateFormat: \"F j, Y\",\r\n      },\r\n      title: \"Clients Map\",\r\n      items: [\r\n        {\r\n          text: \"Maps\",\r\n          href: \"/\"\r\n        },\r\n        {\r\n          text: \"DMB Map\",\r\n          active: true\r\n        }\r\n      ],\r\n      zoom: 14,\r\n      maxZoom: 19,\r\n      minZoom: 12,\r\n      center: latLng(29.7272465, -95.3599523),\r\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\r\n      attribution: '&copy; <a href=\"https://www.anfisbena.com\" target=\"_blank\">Anfisbena</a>',\r\n      withTooltip: latLng(29.77426711102793, -95.3723119265009),\r\n      showParagraph: false,\r\n      showMap: true,\r\n      mapOptions: {\r\n        zoomSnap: 0.5,\r\n      },\r\n      markerss: [\r\n        [latLng(29.7272465, -95.359), '', '', '', '']\r\n      ]\r\n    };\r\n  },\r\n  methods: {\r\n    getLocation() {\r\n      if (navigator.geolocation) {\r\n        return navigator.geolocation.getCurrentPosition(this.showPosition);\r\n      } else {\r\n        console.log(\"Geolocation is not supported by this browser.\");\r\n      }\r\n    },\r\n    showPosition(position) {\r\n      this.center = latLng(position.coords.latitude, position.coords.longitude);\r\n      this.markerss.push(latLng(position.coords.latitude, position.coords.longitude));\r\n    },\r\n    viewUserGroup(request){\r\n      const currentRole = jwt_decode(localStorage.getItem('jwt'))\r\n      return currentRole.userGroup.includes(request)\r\n    },\r\n    async updateClientList(status=this.searchValues.status) {\r\n\r\n      let validate = true;\r\n      let errors = [];\r\n      let filterLanguage = document.getElementById(\"filterLanguage\").value;\r\n      let filterKeyword = document.getElementById(\"filterKeyword\").value;\r\n      let filterType = document.getElementById(\"filterType\").value;\r\n      let filterNotes = document.getElementById(\"filterNotes\").value;\r\n      let filterFromDate = document.getElementById(\"filterFromDate\").value;\r\n      let filterToDate = document.getElementById(\"filterToDate\").value;\r\n      this.searchValues.status = status;\r\n\r\n      if (filterLanguage !== '' && (filterLanguage === '1' || filterLanguage === '2')){\r\n        this.searchValues.language = filterLanguage;\r\n      }\r\n\r\n      if (filterKeyword !== '' && filterKeyword.length >= 3) {\r\n        this.searchValues.keyword = filterKeyword;\r\n      }else if(filterKeyword !== '' && filterKeyword.length < 3) {\r\n        errors.push('Keyword search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      if(filterType !== ''){\r\n        this.searchValues.type = filterType;\r\n      }\r\n\r\n      if (filterNotes !== '' && filterNotes.length >= 3) {\r\n        this.searchValues.noteSearch = filterNotes;\r\n      }else if(filterNotes !== '' && filterNotes.length < 3) {\r\n        errors.push('Notes search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      var start = moment(this.formatDate(filterFromDate, 'YYYY-MM-DD'));\r\n      var end = moment(this.formatDate(filterToDate, 'YYYY-MM-DD'));\r\n      var days = end.diff(start, \"days\");\r\n\r\n      if(days <= 365){\r\n        this.searchValues.fromDate = filterFromDate;\r\n        this.searchValues.toDate = filterToDate;\r\n      } else {\r\n        errors.push(\"From Date and To Date (range) couldn't be larger than a year (365 days)!\");\r\n        validate = false;\r\n      }\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        isProspect: 0,\r\n        searchValues: this.searchValues,\r\n        userEmail: localStorage.getItem('email'),\r\n        userID: localStorage.getItem('id'),\r\n        deleted: 0,\r\n      }\r\n\r\n      if(validate){\r\n        await axios\r\n            .post('/api/client/listClients', data)\r\n            .then(response => {\r\n              this.list = response.data\r\n              this.page = 1\r\n              this.setPages()\r\n            })\r\n            .catch(error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  this.$router.push('logout')\r\n                }\r\n\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                }\r\n              }/* else if (error.message) {\r\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n            }*/\r\n            })\r\n      }else{\r\n        let list = '';\r\n        for (var i = 0; i < errors.length; i+=1) {\r\n          list += errors[i] + ' \\n';\r\n        }\r\n\r\n        await Swal.fire(\"\" + list, '', 'info');\r\n\r\n      }\r\n\r\n    },\r\n    handleFocus(e){\r\n      e.target.setAttribute(\"autocomplete\", \"nope\");\r\n    },\r\n    consolelog(){\r\n      console.log('test')\r\n    }\r\n  },\r\n  async mounted() {\r\n    this.getLocation();\r\n    // let test = latLng(29.7276548, -95.3599875)\r\n    // this.markerss.push(test)\r\n  },\r\n  created() {\r\n\r\n    const data = {\r\n      token: localStorage.getItem('jwt'),\r\n      searchValues: this.searchValues,\r\n      userEmail: localStorage.getItem('email'),\r\n      userID: localStorage.getItem('id'),\r\n      isProspect: 0,\r\n      deleted: 0,\r\n    }\r\n\r\n    axios\r\n    .post('/api/client/listClientCoordinates', data)\r\n    .then(response => {\r\n      this.list = response.data\r\n      let coordinates = []\r\n\r\n      response.data.forEach(function (element, i) {\r\n        coordinates.push([latLng(response.data[i].latitude, response.data[i].longitude),\r\n          response.data[i].fullName, response.data[i].address, response.data[i].email, response.data[i].phoneNumber])\r\n      })\r\n\r\n      this.markerss = coordinates\r\n\r\n    })\r\n    .catch(error => {\r\n      if (error.response) {\r\n\r\n        if (error.response.data.detail === 'Your session is expired!') {\r\n          this.$router.push('logout')\r\n        }\r\n\r\n        // for (const property in error.response.data) {\r\n        // this.errors.push(`${property}: ${error.response.data[property]}`)\r\n        // }\r\n      } else if (error.message) {\r\n        this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n      }\r\n    })\r\n\r\n    const success = (position) => {\r\n      const latitude  = position.coords.latitude;\r\n      const longitude = position.coords.longitude;\r\n\r\n      this.center = latLng(latitude, longitude);\r\n    };\r\n\r\n    const error = (err) => {\r\n      console.log(error)\r\n      console.log(err)\r\n    };\r\n\r\n    // This will open permission popup\r\n    navigator.geolocation.getCurrentPosition(success, error);\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\"/>\r\n    <div class=\"row\" style=\"margin-top: 1%;\">\r\n      <div class=\"col-lg-12\">\r\n        <div class=\"card\" id=\"leadsList\">\r\n          <div class=\"card-header border-0\">\r\n            <div class=\"row g-4 align-items-center\">\r\n              <div class=\"col-sm-3\">\r\n                <div class=\"search-box\">\r\n                  <input\r\n                      type=\"text\"\r\n                      class=\"form-control search\"\r\n                      placeholder=\"Search for...\"\r\n                      v-model=\"this.searchValues.keyword\"\r\n                      @change=\"this.searchValues.keyword.length >= 3 ? updateClientList(): ''\"\r\n                      v-on:keyup.enter=\"this.searchValues.keyword === '' ? updateClientList() : ''\"\r\n                  />\r\n                  <i class=\"ri-search-line search-icon\"></i>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-sm-auto ms-auto\">\r\n                <div class=\"hstack gap-2\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-12\" style=\"margin-top: 5px;\">\r\n                      <button type=\"button\" class=\"btn btn-soft-success float-end\" href=\"#open-filters\" data-bs-toggle=\"modal\">\r\n                        <i class=\"ri-filter-line align-bottom me-1\"></i> Filters\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!--end col-->\r\n    </div>\r\n    <l-map\r\n        :zoom=\"zoom\"\r\n        :maxZoom=\"maxZoom\"\r\n        :minZoom=\"minZoom\"\r\n        :center=\"center\"\r\n        :options=\"mapOptions\"\r\n        style=\"height: 800px; width: 100%\"\r\n    >\r\n      <l-tile-layer :url=\"url\" :attribution=\"attribution\" />\r\n      <l-marker v-for=\"(marker, index) in this.markerss\" :lat-lng=\"marker[0]\" :key=\"index\">\r\n        <l-popup>\r\n          <b>Name: </b> {{marker[1]}} <br>\r\n          <b>Phone: </b> {{marker[4]}} <br>\r\n          <b>Email: </b> {{marker[3]}} <br>\r\n\r\n          <a :href=\"'https://maps.google.com/?q='+marker[2]\" target=\"_blank\">Go to Gmaps</a>\r\n        </l-popup>\r\n<!--        <l-tooltip :options=\"{ permanent: false }\" @click=\"consolelog\">-->\r\n<!--        </l-tooltip>-->\r\n        <l-icon>\r\n          <img src=\"@/assets/images/leaflet/marker-icon22.png\" />\r\n        </l-icon>\r\n      </l-marker>\r\n    </l-map>\r\n\r\n    <!-- Filters Modal -->\r\n    <div id=\"open-filters\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\" data-bs-focus=\"false\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"myModalLabel\">Filters</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"> </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-12\">\r\n                <label for=\"filterKeyword\" class=\"form-label\">Keyword</label>\r\n                <input type=\"text\" id=\"filterKeyword\" name=\"filterKeyword\" class=\"form-control mb-2\" placeholder=\"Enter Keyword\" v-model=\"this.searchValues.keyword\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterType\" class=\"form-label\">Type</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"filterType\" name=\"filterType\" v-model=\"this.searchValues.type\">\r\n                  <option value=\"0\">All</option>\r\n                  <option v-for=\"(type, typeIndex) of typeList\" :key=\"typeIndex\" v-bind:value=\"type.name\">{{ type.name }}</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterStatus\" class=\"form-label\">Status</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"filterStatus\" v-model=\"this.searchValues.status\">\r\n                  <option value=\"0\">All</option>\r\n                  <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editLanguage\" class=\"form-label\">Language</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"filterLanguage\" name=\"filterLanguage\" v-model=\"this.searchValues.language\">\r\n                  <option value=\"1\">English</option>\r\n                  <option value=\"2\">Spanish</option>\r\n                  <option value=\"3\">Both</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editStatus\" class=\"form-label\">Search by Notes</label>\r\n                <input type=\"text\" id=\"filterNotes\" name=\"filterNotes\" class=\"form-control mb-2\" placeholder=\"Enter note\" v-model=\"this.searchValues.noteSearch\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterFromDate\" class=\"form-label\"> From date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.searchValues.fromDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterFromDate\"\r\n                    name=\"filterFromDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterToDate\" class=\"form-label\"> To Date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.searchValues.toDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterToDate\"\r\n                    name=\"filterToDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterDateRange\" class=\"form-label\">Time Range</label>\r\n                <select class=\"form-select mb-2\" id=\"filterDateRange\" name=\"filterDateRange\" v-model=\"this.searchValues.dateRange\">\r\n                  <option value=\"0\" selected>...</option>\r\n                  <option value=\"1\">Until 2 year Ago</option>\r\n                  <option value=\"2\">Until 4 year Ago</option>\r\n                  <option value=\"3\">Until 5 year Ago</option>\r\n                  <option value=\"4\">Begin of times</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <span v-if=\"viewUserGroup('SUPER_ADMIN_GROUP')\">\r\n                  <label for=\"filterDateRange\" class=\"form-label\">Department</label>\r\n                    <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"filterDepartment\" name=\"filterDepartment\"\r\n                            v-model=\"this.searchValues.department\">\r\n                        <option value=\"0\"> All</option>\r\n                        <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\r\n                                v-bind:value=\"department.departmentID\"> {{ department.name }}\r\n                        </option>\r\n                    </select>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-light\" data-bs-dismiss=\"modal\">Close</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"updateClientList()\">Search</button>\r\n          </div>\r\n        </div><!-- /.modal-content -->\r\n      </div><!-- /.modal-dialog -->\r\n    </div><!-- /.modal -->\r\n\r\n  </Layout>\r\n</template>"]}]}