{"remainingRequest":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\wamp64\\www\\crm\\frontend\\src\\views\\agents\\agentlistkanban.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\wamp64\\www\\crm\\frontend\\src\\views\\agents\\agentlistkanban.vue","mtime":1675356320582},{"path":"C:\\wamp64\\www\\crm\\frontend\\babel.config.js","mtime":1645939880000},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1652458135842},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1668443313146}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L3dhbXA2NC93d3cvY3JtL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50ZXN0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgZmxhdFBpY2tyIGZyb20gInZ1ZS1mbGF0cGlja3ItY29tcG9uZW50IjsKaW1wb3J0IE11bHRpc2VsZWN0IGZyb20gIkB2dWVmb3JtL211bHRpc2VsZWN0IjsKaW1wb3J0ICJmbGF0cGlja3IvZGlzdC9mbGF0cGlja3IuY3NzIjsKaW1wb3J0IExheW91dCBmcm9tICIuLi8uLi9sYXlvdXRzL21haW4udnVlIjsKaW1wb3J0IFBhZ2VIZWFkZXIgZnJvbSAiQC9jb21wb25lbnRzL3BhZ2UtaGVhZGVyIjsKaW1wb3J0IGFwcENvbmZpZyBmcm9tICIuLi8uLi8uLi9hcHAuY29uZmlnIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCB7IGhlbHBlcnMsIHJlcXVpcmVkIH0gZnJvbSAiQHZ1ZWxpZGF0ZS92YWxpZGF0b3JzIjsKaW1wb3J0IHVzZVZ1ZWxpZGF0ZSBmcm9tICJAdnVlbGlkYXRlL2NvcmUiOwppbXBvcnQgIkB2dWVmb3JtL211bHRpc2VsZWN0L3RoZW1lcy9kZWZhdWx0LnNjc3MiOyAvLyBjb21wb25lbnRzCgppbXBvcnQgbm90ZXMgZnJvbSAnLi4vLi4vY29tcG9uZW50cy91c2Vycy9ub3Rlcyc7CmltcG9ydCBrYW5iYW5Cb2FyZCBmcm9tICcuLi8uLi9jb21wb25lbnRzL3VzZXJzL2thbmJhbkJvYXJkJzsKaW1wb3J0IG1lc3NhZ2VzIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvdXNlcnMvbWVzc2FnZXMnOwppbXBvcnQgYXR0YWNobWVudHMgZnJvbSAnLi4vLi4vY29tcG9uZW50cy91c2Vycy9hdHRhY2hlbWVudHMnOwpleHBvcnQgZGVmYXVsdCB7CiAgcGFnZTogewogICAgdGl0bGU6ICJBZ2VudHMgTGlzdCBjYXJkcyIsCiAgICBtZXRhOiBbewogICAgICBuYW1lOiAiZGVzY3JpcHRpb24iLAogICAgICBjb250ZW50OiBhcHBDb25maWcuZGVzY3JpcHRpb24KICAgIH1dCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBMYXlvdXQ6IExheW91dCwKICAgIFBhZ2VIZWFkZXI6IFBhZ2VIZWFkZXIsCiAgICBNdWx0aXNlbGVjdDogTXVsdGlzZWxlY3QsCiAgICBmbGF0UGlja3I6IGZsYXRQaWNrciwKICAgIG5vdGVzOiBub3RlcywKICAgIGthbmJhbkJvYXJkOiBrYW5iYW5Cb2FyZCwKICAgIG1lc3NhZ2VzOiBtZXNzYWdlcywKICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50cwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAiQWdlbnQgTGlzdCBDYXJkcyIsCiAgICAgIGl0ZW1zOiBbewogICAgICAgIHRleHQ6ICJBZ2VudHMiLAogICAgICAgIGhyZWY6ICIvIgogICAgICB9LCB7CiAgICAgICAgdGV4dDogIkFnZW50IExpc3QgY2FyZHMiLAogICAgICAgIGFjdGl2ZTogdHJ1ZQogICAgICB9XSwKICAgICAgdGltZUNvbmZpZzogewogICAgICAgIGVuYWJsZVRpbWU6IGZhbHNlLAogICAgICAgIGRhdGVGb3JtYXQ6ICJkIE0sIFkiCiAgICAgIH0sCiAgICAgIGRhdGVUaW1lQ29uZmlnOiB7CiAgICAgICAgZW5hYmxlVGltZTogdHJ1ZSwKICAgICAgICAvLyBkYXRlRm9ybWF0OiAibS1kLXkgSDppIgogICAgICAgIGRhdGVGb3JtYXQ6ICJGIGosIFkgSDppIEsiCiAgICAgIH0sCiAgICAgIGxpc3Q6IFtdLAogICAgICBodW1hbmZyaWVuZGx5Q29uZmlnOiB7CiAgICAgICAgZGF0ZUZvcm1hdDogIkYgaiwgWSIKICAgICAgfSwKICAgICAgZGF0YTogewogICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgc2VhcmNoVmFsdWVzOiB7CiAgICAgICAgICBpc0FjdGl2ZTogMSwKICAgICAgICAgIG5vdGVTZWFyY2g6ICcnLAogICAgICAgICAgc3RhdHVzOiAwLAogICAgICAgICAga2V5d29yZDogJycsCiAgICAgICAgICBsaWNlbnNlZDogMSwKICAgICAgICAgIGxhbmd1YWdlOiAzLAogICAgICAgICAgc29ydEJ5OiAnbmFtZScsCiAgICAgICAgICBvcmRlckJ5OiAnQVNDJywKICAgICAgICAgIHRvRGF0ZTogbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLXVzJywgewogICAgICAgICAgICB5ZWFyOiAibnVtZXJpYyIsCiAgICAgICAgICAgIG1vbnRoOiAibG9uZyIsCiAgICAgICAgICAgIGRheTogIm51bWVyaWMiCiAgICAgICAgICB9KSwKICAgICAgICAgIGZyb21EYXRlOiBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldEZ1bGxZZWFyKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAtIDEpKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLXVzJywgewogICAgICAgICAgICB5ZWFyOiAibnVtZXJpYyIsCiAgICAgICAgICAgIG1vbnRoOiAibG9uZyIsCiAgICAgICAgICAgIGRheTogIm51bWVyaWMiCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSwKICAgICAgYWdlbnREYXRhOiBbXSwKICAgICAgZGF0ZTogbnVsbCwKICAgICAgZGVwYXJ0bWVudExpc3Q6IHt9LAogICAgICBzdGF0dXNMaXN0OiB7fSwKICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgZHJhZ2dpbmc6IGZhbHNlLAogICAgICBjaGF0TWVzc2FnZXNEYXRhOiBbXSwKICAgICAgY2hhdE1lc3NhZ2VzOiBbXQogICAgfTsKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHJldHVybiB7CiAgICAgIHYkOiB1c2VWdWVsaWRhdGUoKQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEFnZW50TGlzdDogZnVuY3Rpb24gZ2V0QWdlbnRMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2xpc3RVc2VyQnlTdGF0dXMnLCBfdGhpcy5kYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5saXN0ID0gW107CiAgICAgICAgICAgICAgICAgIF90aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgfSAvLyBmb3IgKGNvbnN0IHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmVycm9ycy5wdXNoKGAke3Byb3BlcnR5fTogJHtlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XX1gKQogICAgICAgICAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZpbHRlckxpc3Q6IGZ1bmN0aW9uIGZpbHRlckxpc3QobGlzdCwgc2VhcmNoKSB7CiAgICAgIHZhciByZXN1bHQgPSAnJzsKICAgICAgcmVzdWx0ID0gbGlzdC5maWx0ZXIoZnVuY3Rpb24gKGxpc3RTZWFyY2gpIHsKICAgICAgICByZXR1cm4gbGlzdFNlYXJjaC5zdGF0dXNJRCA9PT0gc2VhcmNoOwogICAgICB9KTsKICAgICAgT2JqZWN0LmtleXMocmVzdWx0KS5tYXAoZnVuY3Rpb24gKG9iamVjdEtleSkgewogICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdFtvYmplY3RLZXldOwogICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgfSk7CiAgICB9LAogICAgZm9ybWF0RGF0ZTogZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlLCBmb3JtYXQpIHsKICAgICAgZGF0ZSA9IG1vbWVudChkYXRlKS5mb3JtYXQoZm9ybWF0KTsKICAgICAgcmV0dXJuIGRhdGU7CiAgICB9LAogICAgc2hvd1RhYnM6IGZ1bmN0aW9uIHNob3dUYWJzKGlkKSB7CiAgICAgIHZhciB0YWJzID0gWydtYWluVGFiJywgJ3NlY29uZFRhYicsICd0aGlyZFRhYicsICdxdWFydGVyVGFiJ107CiAgICAgIHZhciBhY3R1YWxTZWxlY3RlZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FjdGl2ZScpOwogICAgICBhY3R1YWxTZWxlY3RlZCA9IGFjdHVhbFNlbGVjdGVkWzRdLmlkOwoKICAgICAgZm9yICh2YXIgaW5kZXggaW4gdGFicykgewogICAgICAgIHZhciBhdHRyID0gdGFic1tpbmRleF07CiAgICAgICAgdmFyIGZhcVRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGF0dHIpOwoKICAgICAgICBpZiAoZmFxVG9nZ2xlLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykgJiYgaWQgIT09IGFjdHVhbFNlbGVjdGVkKSB7CiAgICAgICAgICBmYXFUb2dnbGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7CiAgICAgICAgICBmYXFUb2dnbGUuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpOwogICAgICAgICAgdmFyIHVwZGF0ZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGRhdGVCdXR0b24nKTsKCiAgICAgICAgICBpZiAodXBkYXRlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnaGlkZScpICYmIGlkID09PSB0YWJzWzBdKSB7CiAgICAgICAgICAgIHVwZGF0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChhdHRyID09PSBpZCkgewogICAgICAgICAgaWYgKCFmYXFUb2dnbGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkgewogICAgICAgICAgICBmYXFUb2dnbGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgICAgIGZhcVRvZ2dsZS5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIF91cGRhdGVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBkYXRlQnV0dG9uJyk7CgogICAgICAgICAgaWYgKCFfdXBkYXRlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnaGlkZScpICYmIGlkICE9PSB0YWJzWzBdKSB7CiAgICAgICAgICAgIF91cGRhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnaGlkZScpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHJlc2V0QWdlbnREYXRhOiBmdW5jdGlvbiByZXNldEFnZW50RGF0YSgpIHsKICAgICAgdGhpcy5hZ2VudERhdGEgPSB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIGVtYWlsOiAnJywKICAgICAgICBmaXJzdE5hbWU6ICcnLAogICAgICAgIGxhc3ROYW1lOiAnJywKICAgICAgICBsYW5ndWFnZTogJycsCiAgICAgICAgc3RhdHVzOiAnJywKICAgICAgICBwaG9uZTogJycsCiAgICAgICAgZGVwYXJ0bWVudDogJycsCiAgICAgICAgc3RhdGU6ICcnLAogICAgICAgIGJpcnRoRGF0ZTogJycsCiAgICAgICAgYWRkcmVzczogJycsCiAgICAgICAgY291bnRyeTogJycsCiAgICAgICAgemlwQ29kZTogJycsCiAgICAgICAgaW50ZXJ2aWV3OiAnJywKICAgICAgICBhZ2VudE51bWJlcjogJycsCiAgICAgICAgY3JlYXRlZEJ5OiAnJywKICAgICAgICBpbnN1cmFuY2VMaWNlbnNlOiAnJywKICAgICAgICBsaWNlbnNlTnVtYmVyOiAnJwogICAgICB9OwogICAgfSwKICAgIHZhbGlkRW1haWw6IGZ1bmN0aW9uIHZhbGlkRW1haWwoZW1haWwpIHsKICAgICAgdmFyIHJlID0gL14oKFtePD4oKVtcXVxcLiw7OlxzQCJdKyhcLltePD4oKVtcXVxcLiw7OlxzQCJdKykqKXwoIi4rIikpQCgoXFtbMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XF0pfCgoW2EtekEtWlwtMC05XStcLikrW2EtekEtWl17Mix9KSkkLzsKICAgICAgcmV0dXJuIHJlLnRlc3QoZW1haWwpOwogICAgfSwKICAgIHZhbGlkUGhvbmU6IGZ1bmN0aW9uIHZhbGlkUGhvbmUocGhvbmUpIHsKICAgICAgdmFyIGlzcGhvbmUgPSAvXihcK3swLH0pKFxkezAsfSkoWyhdezF9XGR7MSwzfVspXXswLH0pezAsfShccz9cZCt8XCtcZHsyLDN9XHN7MX1cZCt8XGQrKXsxfVtcc3wtXT9cZCsoW1xzfC1dP1xkKyl7MSwyfShccyl7MCx9JC9nbS50ZXN0KHBob25lKTsKICAgICAgcmV0dXJuIGlzcGhvbmU7CiAgICB9LAogICAgdXBkYXRlQWdlbnRTdGF0dXM6IGZ1bmN0aW9uIHVwZGF0ZUFnZW50U3RhdHVzKGl0ZW0sIG5ld0xpc3QsIG9sZExpc3QsIGFnZW50SUQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgaXRlbTogaXRlbSwKICAgICAgICAgICAgICAgICAgbmV3TGlzdDogbmV3TGlzdCwKICAgICAgICAgICAgICAgICAgb2xkTGlzdDogb2xkTGlzdCwKICAgICAgICAgICAgICAgICAgYWdlbnRJRDogYWdlbnRJRCwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoJy9hcGkvdXBkYXRlVXNlclN0YXR1cycsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJZb3VyIHdvcmsgaGFzIGJlZW4gc2F2ZWQhIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMTAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICJib3R0b20tZW5kIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJTb21ldGhpbmcgd3JvbmcgaGFwcGVucyEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiA1MDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpLmNhdGNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QsIHByb3BlcnR5OwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjogIikuY29uY2F0KGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNoZWNrIHRoZSBmb2xsb3dpbmc6ICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiA1MDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwZGF0ZUFnZW50OiBmdW5jdGlvbiB1cGRhdGVBZ2VudCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgZGF0YSwgbGlzdCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMzLmVycm9ycyA9IFtdOwoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRFbWFpbCcpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnRW1haWwgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFfdGhpczMudmFsaWRFbWFpbChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEVtYWlsJykudmFsdWUpKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnVmFsaWQgZW1haWwgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEZpcnN0TmFtZScpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnRmlyc3QgTmFtZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFzdE5hbWUnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ0xhc3QgTmFtZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFuZ3VhZ2UnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ0xhbmd1YWdlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0dXMnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ1N0YXR1cyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UGhvbmVOdW1iZXInKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ1Bob25lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczMudmFsaWRQaG9uZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBob25lTnVtYmVyJykudmFsdWUpID09PSBmYWxzZSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBob25lTnVtYmVyJykudmFsdWUgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnUGxlYXNlLCB3cml0ZSBhIHZhbGlkIHBob25lIG51bWJlciEnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RGVwYXJ0bWVudCcpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnRGVwYXJ0bWVudCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QmlydGhEYXRlJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmVycm9ycy5wdXNoKCdCaXJ0aCBkYXRlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRBZGRyZXNzJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmVycm9ycy5wdXNoKCdBZGRyZXNzIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRBZ2VudE51bWJlcicpLnZhbHVlICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdHVzJykudmFsdWUgPT09IDUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmVycm9ycy5wdXNoKCdBZ2VudCBOdW1iZXIgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExpY2Vuc2VkJykudmFsdWUgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0dXMnKS52YWx1ZSA9PT0gNSB8fCAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMaWNlbnNlZCcpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnSW5zdXJhbmNlIExpY2Vuc2VkPyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGljZW5zZWQnKS52YWx1ZSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFN0YXR1cycpLnZhbHVlID09PSA1CiAgICAgICAgICAgICAgICAvKnx8ICghdGhpcy5hZ2VudERhdGEubGljZW5zZU51bWJlciAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExpY2Vuc2VkJykudmFsdWUgPT09IDEpKi8KICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ0xpY2Vuc2UgbnVtYmVyIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczMuZXJyb3JzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgICAgICAgICAgIGVtYWlsOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEVtYWlsJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRGaXJzdE5hbWUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgbGFzdE5hbWU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFzdE5hbWUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFuZ3VhZ2UnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgc3RhdHVzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFN0YXR1cycpLnZhbHVlLAogICAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQaG9uZU51bWJlcicpLnZhbHVlLAogICAgICAgICAgICAgICAgICBkZXBhcnRtZW50SUQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RGVwYXJ0bWVudCcpLnZhbHVlLAogICAgICAgICAgICAgICAgICBzdGF0ZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0ZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBiaXJ0aERhdGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QmlydGhEYXRlJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QWRkcmVzcycpLnZhbHVlLAogICAgICAgICAgICAgICAgICBjb3VudHJ5OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdENvdW50cnknKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQb3N0YWxDb2RlJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGludGVydmlld0RhdGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0SW50ZXJ2aWV3JykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGFnZW50TnVtYmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEFnZW50TnVtYmVyJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGNyZWF0ZWRCeTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgICAgICAgIGlzTGljZW5zZWQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGljZW5zZWQnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgbGljZW5zZU51bWJlcjogX3RoaXMzLmFnZW50RGF0YS5saWNlbnNlTnVtYmVyLAogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICBhZ2VudElEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2VsZWN0ZWRVc2VyJykKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnB1dCgnL2FwaS91cGRhdGVBZ2VudCcsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdBZ2VudCB1cGRhdGUgc3VjY2Vzc2Z1bGx5IScKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKS5jYXRjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNihlcnJvcikgewogICAgICAgICAgICAgICAgICAgIHZhciBsaXN0LCBwcm9wZXJ0eTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSArICc8L2I+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgX3RoaXMzLmVycm9ycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIF90aGlzMy5lcnJvcnNbaV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAyNDsKICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjb21wbGV0ZSB0aGUgZm9ybSEgIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY3JlYXRlQWdlbnQ6IGZ1bmN0aW9uIGNyZWF0ZUFnZW50KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICB2YXIgZGF0YSwgbGlzdCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNC5lcnJvcnMgPSBbXTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzNC5hZ2VudERhdGEuZW1haWwpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmVycm9ycy5wdXNoKCdFbWFpbCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIV90aGlzNC52YWxpZEVtYWlsKF90aGlzNC5hZ2VudERhdGEuZW1haWwpKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5lcnJvcnMucHVzaCgnVmFsaWQgZW1haWwgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczQuYWdlbnREYXRhLmZpcnN0TmFtZSkgewogICAgICAgICAgICAgICAgICBfdGhpczQuZXJyb3JzLnB1c2goJ0ZpcnN0IE5hbWUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczQuYWdlbnREYXRhLmxhc3ROYW1lKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5lcnJvcnMucHVzaCgnTGFzdCBOYW1lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXM0LmFnZW50RGF0YS5sYW5ndWFnZSkgewogICAgICAgICAgICAgICAgICBfdGhpczQuZXJyb3JzLnB1c2goJ0xhbmd1YWdlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXM0LmFnZW50RGF0YS5zdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmVycm9ycy5wdXNoKCdTdGF0dXMgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczQuYWdlbnREYXRhLnBob25lKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5lcnJvcnMucHVzaCgnUGhvbmUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNC52YWxpZFBob25lKF90aGlzNC5hZ2VudERhdGEucGhvbmUpID09PSBmYWxzZSAmJiBfdGhpczQuYWdlbnREYXRhLnBob25lICE9PSAnJykgewogICAgICAgICAgICAgICAgICBfdGhpczQuZXJyb3JzLnB1c2goJ1BsZWFzZSwgd3JpdGUgYSB2YWxpZCBwaG9uZSBudW1iZXIhJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczQuYWdlbnREYXRhLmRlcGFydG1lbnQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmVycm9ycy5wdXNoKCdEZXBhcnRtZW50IGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXM0LmFnZW50RGF0YS5iaXJ0aERhdGUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmVycm9ycy5wdXNoKCdCaXJ0aCBkYXRlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXM0LmFnZW50RGF0YS5hZGRyZXNzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5lcnJvcnMucHVzaCgnQWRkcmVzcyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzNC5hZ2VudERhdGEuYWdlbnROdW1iZXIgJiYgX3RoaXM0LmFnZW50RGF0YS5zdGF0dXMgPT09IDUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmVycm9ycy5wdXNoKCdBZ2VudCBOdW1iZXIgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczQuYWdlbnREYXRhLmluc3VyYW5jZUxpY2Vuc2UgJiYgX3RoaXM0LmFnZW50RGF0YS5zdGF0dXMgPT09IDUgfHwgIV90aGlzNC5hZ2VudERhdGEuaW5zdXJhbmNlTGljZW5zZSkgewogICAgICAgICAgICAgICAgICBfdGhpczQuZXJyb3JzLnB1c2goJ2lzIEluc3VyYW5jZSBMaWNlbnNlZD8gaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczQuYWdlbnREYXRhLmxpY2Vuc2VOdW1iZXIgJiYgX3RoaXM0LmFnZW50RGF0YS5zdGF0dXMgPT09IDUgfHwgIV90aGlzNC5hZ2VudERhdGEubGljZW5zZU51bWJlciAmJiBfdGhpczQuYWdlbnREYXRhLmluc3VyYW5jZUxpY2Vuc2UgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmVycm9ycy5wdXNoKCdMaWNlbnNlIG51bWJlciBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LmVycm9ycy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICAgICAgICAgICAgZW1haWw6IF90aGlzNC5hZ2VudERhdGEuZW1haWwsCiAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogX3RoaXM0LmFnZW50RGF0YS5maXJzdE5hbWUsCiAgICAgICAgICAgICAgICAgIGxhc3ROYW1lOiBfdGhpczQuYWdlbnREYXRhLmxhc3ROYW1lLAogICAgICAgICAgICAgICAgICBsYW5ndWFnZTogX3RoaXM0LmFnZW50RGF0YS5sYW5ndWFnZSwKICAgICAgICAgICAgICAgICAgc3RhdHVzOiBfdGhpczQuYWdlbnREYXRhLnN0YXR1cywKICAgICAgICAgICAgICAgICAgcGhvbmVOdW1iZXI6IF90aGlzNC5hZ2VudERhdGEucGhvbmUsCiAgICAgICAgICAgICAgICAgIGRlcGFydG1lbnRJRDogX3RoaXM0LmFnZW50RGF0YS5kZXBhcnRtZW50LAogICAgICAgICAgICAgICAgICBzdGF0ZTogX3RoaXM0LmFnZW50RGF0YS5zdGF0ZSwKICAgICAgICAgICAgICAgICAgYmlydGhEYXRlOiBfdGhpczQuZm9ybWF0RGF0ZShfdGhpczQuYWdlbnREYXRhLmJpcnRoRGF0ZSwgJ1lZWVktTU0tREQnKSwKICAgICAgICAgICAgICAgICAgYWRkcmVzczogX3RoaXM0LmFnZW50RGF0YS5hZGRyZXNzLAogICAgICAgICAgICAgICAgICBjb3VudHJ5OiBfdGhpczQuYWdlbnREYXRhLmNvdW50cnksCiAgICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6IF90aGlzNC5hZ2VudERhdGEuemlwQ29kZSwKICAgICAgICAgICAgICAgICAgaW50ZXJ2aWV3RGF0ZTogX3RoaXM0LmFnZW50RGF0YS5pbnRlcnZpZXcsCiAgICAgICAgICAgICAgICAgIGFnZW50TnVtYmVyOiBfdGhpczQuYWdlbnREYXRhLmFnZW50TnVtYmVyLAogICAgICAgICAgICAgICAgICBjcmVhdGVkQnk6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICBpc0xpY2Vuc2VkOiBfdGhpczQuYWdlbnREYXRhLmluc3VyYW5jZUxpY2Vuc2UsCiAgICAgICAgICAgICAgICAgIGxpY2Vuc2VOdW1iZXI6IF90aGlzNC5hZ2VudERhdGEubGljZW5zZU51bWJlciwKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY3JlYXRlQWdlbnQnLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRmb3JtIikucmVzZXQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZS5kYXRhWydJRCddICE9PSBudWxsKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZW1vZGFsJykuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdBZ2VudCBjcmVhdGVkIHN1Y2Nlc3NmdWxseSEnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmNiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSArICc8L2I+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IF90aGlzNC5lcnJvcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBfdGhpczQuZXJyb3JzW2ldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNvbXBsZXRlIHRoZSBmb3JtISAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGRlbGV0ZUFnZW50OiBmdW5jdGlvbiBkZWxldGVBZ2VudCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQoKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICB1c2VyTmFtZTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZpcnN0TmFtZScpICsgJyAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhc3RuYW1lJyksCiAgICAgICAgICAgICAgICAgIHVzZXJFbWFpbDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgICAgICAgIGFnZW50SUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWxlY3RlZFVzZXInKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRG8geW91IHdhbnQgdG8gPGI+RGVsZXRlPC9iPiB0aGlzIGFnZW50PycsCiAgICAgICAgICAgICAgICAgIHNob3dEZW55QnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ1llcycsCiAgICAgICAgICAgICAgICAgIGRlbnlCdXR0b25UZXh0OiAiTm8iCiAgICAgICAgICAgICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMyhyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0LmlzQ29uZmlybWVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucHV0KCcvYXBpL2RlbGV0ZVVzZXInLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlZjggPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMShyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSgnQWdlbnQgdXBkYXRlIHN1Y2Nlc3NmdWxseSEnLCAnJywgJ3N1Y2Nlc3MnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94OCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmOC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSgpKS5jYXRjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9yZWY5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjogIikuY29uY2F0KGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94OSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmOS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdC5pc0RlbmllZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSgnQWdlbnQgd2FzblwndCB1cGRhdGVkIScsICcnLCAnaW5mbycpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxMyk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g3KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY3LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNldEFnZW50RGF0YTogZnVuY3Rpb24gc2V0QWdlbnREYXRhKGFnZW50SW5mbykgewogICAgICB0aGlzLmFnZW50RGF0YS5lbWFpbCA9IGFnZW50SW5mby5lbWFpbDsKICAgICAgdGhpcy5hZ2VudERhdGEuZmlyc3ROYW1lID0gYWdlbnRJbmZvLmZpcnN0TmFtZTsKICAgICAgdGhpcy5hZ2VudERhdGEubGFzdE5hbWUgPSBhZ2VudEluZm8ubGFzdE5hbWU7CiAgICAgIHRoaXMuYWdlbnREYXRhLmxhbmd1YWdlID0gYWdlbnRJbmZvLmxhbmd1YWdlOwogICAgICB0aGlzLmFnZW50RGF0YS5zdGF0dXMgPSBhZ2VudEluZm8uc3RhdHVzOwogICAgICB0aGlzLmFnZW50RGF0YS5waG9uZSA9IGFnZW50SW5mby5waG9uZU51bWJlcjsKICAgICAgdGhpcy5hZ2VudERhdGEuZGVwYXJ0bWVudCA9IGFnZW50SW5mby5kZXBhcnRtZW50SUQ7CiAgICAgIHRoaXMuYWdlbnREYXRhLmJpcnRoRGF0ZSA9IHRoaXMuZm9ybWF0RGF0ZShhZ2VudEluZm8uZGF0ZU9mQmlydGgsICdERCBNTU0sIFlZWVknKTsKICAgICAgdGhpcy5hZ2VudERhdGEuaW50ZXJ2aWV3ID0gdGhpcy5mb3JtYXREYXRlKGFnZW50SW5mby5pbnRlcnZpZXdEYXRlLCAnTU1NTSBELCBZWVlZIGg6bW0gQScpOwogICAgICB0aGlzLmFnZW50RGF0YS5hZGRyZXNzID0gYWdlbnRJbmZvLmFkZHJlc3M7CiAgICAgIHRoaXMuYWdlbnREYXRhLnN0YXRlID0gYWdlbnRJbmZvLnN0YXRlOwogICAgICB0aGlzLmFnZW50RGF0YS5jb3VudHJ5ID0gYWdlbnRJbmZvLmNvdW50cnk7CiAgICAgIHRoaXMuYWdlbnREYXRhLnppcENvZGUgPSBhZ2VudEluZm8ucG9zdGFsQ29kZTsKICAgICAgdGhpcy5hZ2VudERhdGEuYWdlbnROdW1iZXIgPSBhZ2VudEluZm8uYWdlbnROdW1iZXI7CiAgICAgIHRoaXMuYWdlbnREYXRhLmNyZWF0ZWRCeSA9IGFnZW50SW5mby5jcmVhdGVkQnk7CiAgICAgIHRoaXMuYWdlbnREYXRhLmluc3VyYW5jZUxpY2Vuc2UgPSBhZ2VudEluZm8uaXNMaWNlbnNlZDsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3NlbGVjdGVkVXNlck5hbWUnLCBhZ2VudEluZm8uZmlyc3ROYW1lICsgJyAnICsgYWdlbnRJbmZvLmxhc3ROYW1lKTsKICAgIH0sCiAgICBzZXRNZXNzYWdlc0luZm86IGZ1bmN0aW9uIHNldE1lc3NhZ2VzSW5mbyhtZXNzYWdlcykgewogICAgICB0aGlzLmNoYXRNZXNzYWdlcyA9IG1lc3NhZ2VzOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBHZXQgdGhlIG5hbWUgb2YgdXNlcg0KICAgICAqLwogICAgY2hhdFVzZXJuYW1lOiBmdW5jdGlvbiBjaGF0VXNlcm5hbWUobmFtZSwgaW1hZ2UpIHsKICAgICAgdGhpcy51c2VybmFtZSA9IG5hbWU7CiAgICAgIHRoaXMucHJvZmlsZSA9IGltYWdlOwogICAgICB0aGlzLnVzZXJtZXNzYWdlID0gIkhlbGxvIjsKICAgICAgdGhpcy5jaGF0TWVzc2FnZXNEYXRhID0gW107CiAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgIHRoaXMuY2hhdE1lc3NhZ2VzRGF0YS5wdXNoKHsKICAgICAgICBuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgIG1lc3NhZ2U6IHRoaXMudXNlcm1lc3NhZ2UsCiAgICAgICAgdGltZTogY3VycmVudERhdGUuZ2V0SG91cnMoKSArICI6IiArIGN1cnJlbnREYXRlLmdldE1pbnV0ZXMoKQogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICogQ2hhciBmb3JtIFN1Ym1pdA0KICAgICAqLwogICAgZm9ybVN1Ym1pdDogZnVuY3Rpb24gZm9ybVN1Ym1pdCgpIHsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOyAvLyBzdG9wIGhlcmUgaWYgZm9ybSBpcyBpbnZhbGlkCgogICAgICB0aGlzLnYkLiR0b3VjaCgpOwoKICAgICAgaWYgKHRoaXMudiQuJGludmFsaWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIG1lc3NhZ2UgPSB0aGlzLmZvcm0ubWVzc2FnZTsKICAgICAgICB2YXIgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgIHRoaXMuY2hhdE1lc3NhZ2VzRGF0YS5wdXNoKHsKICAgICAgICAgIGFsaWduOiAicmlnaHQiLAogICAgICAgICAgbmFtZTogIkhlbnJ5IFdlbGxzIiwKICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgICB0aW1lOiBjdXJyZW50RGF0ZS5nZXRIb3VycygpICsgIjoiICsgY3VycmVudERhdGUuZ2V0TWludXRlcygpCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2U7CiAgICAgIHRoaXMuZm9ybSA9IHt9OwogICAgfSwKICAgIGFkZE5ld0FnZW50TW9kYWw6IGZ1bmN0aW9uIGFkZE5ld0FnZW50TW9kYWwoKSB7CiAgICAgIHRoaXMucmVzZXRBZ2VudERhdGEoKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZGZvcm0iKS5yZXNldCgpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWdlbnRNb2RhbExhYmVsQWRkJykuaW5uZXJIVE1MID0gIkFkZCBBZ2VudCI7CiAgICB9LAogICAgcHJpbnRFbWl0OiBmdW5jdGlvbiBwcmludEVtaXQobm90aWZ5KSB7CiAgICAgIHRoaXMuY2hhdE1lc3NhZ2VzRGF0YSA9IG5vdGlmeTsKICAgIH0sCiAgICB1cGRhdGVBZ2VudExpc3Q6IGZ1bmN0aW9uIHVwZGF0ZUFnZW50TGlzdCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoKSB7CiAgICAgICAgdmFyIHZhbGlkYXRlLCBlcnJvcnMsIGZpbHRlckxhbmd1YWdlLCBmaWx0ZXJLZXl3b3JkLCBmaWx0ZXJMaWNlbnNlZCwgZmlsdGVyTm90ZXMsIGZpbHRlckZyb21EYXRlLCBmaWx0ZXJUb0RhdGUsIGlzQWN0aXZlLCBzdGFydCwgZW5kLCBkYXlzLCBkYXRhLCBsaXN0LCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdmFsaWRhdGUgPSB0cnVlOwogICAgICAgICAgICAgICAgZXJyb3JzID0gW107CiAgICAgICAgICAgICAgICBmaWx0ZXJMYW5ndWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJMYW5ndWFnZSIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyS2V5d29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJLZXl3b3JkIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJMaWNlbnNlZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJMaWNlbnNlZCIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyTm90ZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyTm90ZXMiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlckZyb21EYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlckZyb21EYXRlIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJUb0RhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyVG9EYXRlIikudmFsdWU7CiAgICAgICAgICAgICAgICBpc0FjdGl2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpc0FjdGl2ZScpLmNoZWNrZWQ7CgogICAgICAgICAgICAgICAgaWYgKGlzQWN0aXZlID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5kYXRhLnNlYXJjaFZhbHVlcy5pc0FjdGl2ZSA9IDE7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczYuZGF0YS5zZWFyY2hWYWx1ZXMuaXNBY3RpdmUgPSAyOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJMYW5ndWFnZSAhPT0gJycgJiYgKGZpbHRlckxhbmd1YWdlID09PSAnMScgfHwgZmlsdGVyTGFuZ3VhZ2UgPT09ICcyJykpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LmRhdGEuc2VhcmNoVmFsdWVzLmxhbmd1YWdlID0gZmlsdGVyTGFuZ3VhZ2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlcktleXdvcmQgIT09ICcnICYmIGZpbHRlcktleXdvcmQubGVuZ3RoID49IDMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LmRhdGEuc2VhcmNoVmFsdWVzLmtleXdvcmQgPSBmaWx0ZXJLZXl3b3JkOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJLZXl3b3JkICE9PSAnJyAmJiBmaWx0ZXJLZXl3b3JkLmxlbmd0aCA8IDMpIHsKICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goJ0tleXdvcmQgc2VhcmNoIHNob3VsZCBoYXZlIDMgb3IgbW9yZSBjaGFyYWN0ZXJzIScpOwogICAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJMaWNlbnNlZCAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LmRhdGEuc2VhcmNoVmFsdWVzLmxpY2Vuc2VkID0gZmlsdGVyTGljZW5zZWQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlck5vdGVzICE9PSAnJyAmJiBmaWx0ZXJOb3Rlcy5sZW5ndGggPj0gMykgewogICAgICAgICAgICAgICAgICBfdGhpczYuZGF0YS5zZWFyY2hWYWx1ZXMubm90ZVNlYXJjaCA9IGZpbHRlck5vdGVzOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJOb3RlcyAhPT0gJycgJiYgZmlsdGVyTm90ZXMubGVuZ3RoIDwgMykgewogICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCgnTm90ZXMgc2VhcmNoIHNob3VsZCBoYXZlIDMgb3IgbW9yZSBjaGFyYWN0ZXJzIScpOwogICAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHN0YXJ0ID0gbW9tZW50KF90aGlzNi5mb3JtYXREYXRlKGZpbHRlckZyb21EYXRlLCAnWVlZWS1NTS1ERCcpKTsKICAgICAgICAgICAgICAgIGVuZCA9IG1vbWVudChfdGhpczYuZm9ybWF0RGF0ZShmaWx0ZXJUb0RhdGUsICdZWVlZLU1NLUREJykpOwogICAgICAgICAgICAgICAgZGF5cyA9IGVuZC5kaWZmKHN0YXJ0LCAiZGF5cyIpOwoKICAgICAgICAgICAgICAgIGlmIChkYXlzIDw9IDM2NSkgewogICAgICAgICAgICAgICAgICBfdGhpczYuZGF0YS5zZWFyY2hWYWx1ZXMuZnJvbURhdGUgPSBmaWx0ZXJGcm9tRGF0ZTsKICAgICAgICAgICAgICAgICAgX3RoaXM2LmRhdGEuc2VhcmNoVmFsdWVzLnRvRGF0ZSA9IGZpbHRlclRvRGF0ZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCJGcm9tIERhdGUgYW5kIFRvIERhdGUgKHJhbmdlKSBjb3VsZG4ndCBiZSBsYXJnZXIgdGhhbiBhIHllYXIgKDM2NSBkYXlzKSEiKTsKICAgICAgICAgICAgICAgICAgdmFsaWRhdGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICBpc1Byb3NwZWN0OiAwLAogICAgICAgICAgICAgICAgICBzZWFyY2hWYWx1ZXM6IF90aGlzNi5kYXRhLnNlYXJjaFZhbHVlcywKICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkYXRlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBheGlvcy5wb3N0KCcvYXBpL2xpc3RVc2VyQnlTdGF0dXMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpczYubGlzdCA9IFtdOwoKICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IDEwOyBfaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHZhck5hbWUgPSBbXTsKICAgICAgICAgICAgICAgICAgICB2YXJOYW1lID0gcmVzcG9uc2UuZGF0YVtfaV0uc3RhdHVzTmFtZS5yZXBsYWNlKC9ccysvZywgJy0nKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgIF90aGlzNi52YXJOYW1lID0gcmVzcG9uc2UuZGF0YVtfaV0uY29udGVudDsKICAgICAgICAgICAgICAgICAgICBfdGhpczYudmFyTmFtZVsnZ3JvdXBOYW1lJ10gPSB7CiAgICAgICAgICAgICAgICAgICAgICAnZ3JvdXBOYW1lJzogdmFyTmFtZSwKICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXNOYW1lJzogcmVzcG9uc2UuZGF0YVtfaV0uc3RhdHVzTmFtZSwKICAgICAgICAgICAgICAgICAgICAgICdncm91cElEJzogcmVzcG9uc2UuZGF0YVtfaV0uc3RhdHVzSUQsCiAgICAgICAgICAgICAgICAgICAgICAnc2VxdWVuY2UnOiAxLAogICAgICAgICAgICAgICAgICAgICAgJ3F1YW50aXR5JzogcmVzcG9uc2UuZGF0YVtfaV0uY29udGVudC5sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgICAncGVyUGFnZSc6IDMwLAogICAgICAgICAgICAgICAgICAgICAgJ3Nob3dpbmcnOiByZXNwb25zZS5kYXRhW19pXS5jb250ZW50Lmxlbmd0aCA8IDMwID8gcmVzcG9uc2UuZGF0YVtfaV0uY29udGVudC5sZW5ndGggOiAzMAogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIF90aGlzNi5saXN0LnB1c2goX3RoaXM2LnZhck5hbWUpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgfSAvLyBmb3IgKGNvbnN0IHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmVycm9ycy5wdXNoKGAke3Byb3BlcnR5fTogJHtlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XX1gKQogICAgICAgICAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNi5lcnJvcnMucHVzaCgnU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4nKTsKCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZXJyb3JzLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICAgICAgICAgIGxpc3QgKz0gZXJyb3JzW2ldICsgJyBcbic7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKCIiICsgbGlzdCwgJycsICdpbmZvJyk7CgogICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZUZvY3VzOiBmdW5jdGlvbiBoYW5kbGVGb2N1cyhlKSB7CiAgICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwgIm5vcGUiKTsKICAgIH0KICB9LAogIHZhbGlkYXRpb25zOiB7CiAgICBmb3JtOiB7CiAgICAgIG1lc3NhZ2U6IHsKICAgICAgICByZXF1aXJlZDogaGVscGVycy53aXRoTWVzc2FnZSgiTWVzc2FnZSBpcyByZXF1aXJlZCIsIHJlcXVpcmVkKQogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCkgewogICAgICB2YXIgZGF0YTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTYucHJldiA9IF9jb250ZXh0MTYubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICBzZWFyY2hWYWx1ZXM6IF90aGlzNy5kYXRhLnNlYXJjaFZhbHVlcwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9saXN0RGVwYXJ0bWVudHMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXM3LmRlcGFydG1lbnRMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM3LiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiRGVwYXJ0bWVudHMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2xpc3RTdGF0dXMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXM3LnN0YXR1c0xpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczcuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJTdGF0dXMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2xpc3RVc2VyQnlTdGF0dXMnLCBkYXRhKSAvLyAucG9zdCgnL2FwaS9saXN0QWdlbnRzJywgZGF0YSkKICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzNy5saXN0ID0gW107CgogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIHZhciB2YXJOYW1lID0gW107CiAgICAgICAgICAgICAgICAgIHZhck5hbWUgPSByZXNwb25zZS5kYXRhW2ldLnN0YXR1c05hbWUucmVwbGFjZSgvXHMrL2csICctJykudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgICAgX3RoaXM3LnZhck5hbWUgPSByZXNwb25zZS5kYXRhW2ldLmNvbnRlbnQ7CiAgICAgICAgICAgICAgICAgIF90aGlzNy52YXJOYW1lWydncm91cE5hbWUnXSA9IHsKICAgICAgICAgICAgICAgICAgICAnZ3JvdXBOYW1lJzogdmFyTmFtZSwKICAgICAgICAgICAgICAgICAgICAnc3RhdHVzTmFtZSc6IHJlc3BvbnNlLmRhdGFbaV0uc3RhdHVzTmFtZSwKICAgICAgICAgICAgICAgICAgICAnZ3JvdXBJRCc6IHJlc3BvbnNlLmRhdGFbaV0uc3RhdHVzSUQsCiAgICAgICAgICAgICAgICAgICAgJ3NlcXVlbmNlJzogMSwKICAgICAgICAgICAgICAgICAgICAncXVhbnRpdHknOiByZXNwb25zZS5kYXRhW2ldLmNvbnRlbnQubGVuZ3RoLAogICAgICAgICAgICAgICAgICAgICdwZXJQYWdlJzogMzAsCiAgICAgICAgICAgICAgICAgICAgJ3Nob3dpbmcnOiByZXNwb25zZS5kYXRhW2ldLmNvbnRlbnQubGVuZ3RoIDwgMzAgPyByZXNwb25zZS5kYXRhW2ldLmNvbnRlbnQubGVuZ3RoIDogMzAKICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNy5saXN0LnB1c2goX3RoaXM3LnZhck5hbWUpOwogICAgICAgICAgICAgICAgfSAvLyBjb25zb2xlLmxvZyh0aGlzLmxpc3QuZmluZChvID0+IG8uZ3JvdXBOYW1lLmdyb3VwTmFtZSA9PT0gJ3Byb3NwZWN0JykpCgogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczcuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgfSAvLyBmb3IgKGNvbnN0IHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgLy8gdGhpcy5lcnJvcnMucHVzaChgJHtwcm9wZXJ0eX06ICR7ZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV19YCkKICAgICAgICAgICAgICAgICAgLy8gfQoKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICBfdGhpczcuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTE2KTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"mappings":"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","names":["flatPickr","Multiselect","Layout","PageHeader","appConfig","axios","moment","Swal","helpers","required","useVuelidate","notes","kanbanBoard","messages","attachments","page","title","meta","name","content","description","components","data","items","text","href","active","timeConfig","enableTime","dateFormat","dateTimeConfig","list","humanfriendlyConfig","token","localStorage","getItem","searchValues","isActive","noteSearch","status","keyword","licensed","language","sortBy","orderBy","toDate","Date","toLocaleDateString","year","month","day","fromDate","setFullYear","getFullYear","agentData","date","departmentList","statusList","enabled","dragging","chatMessagesData","chatMessages","setup","v$","methods","getAgentList","post","then","response","catch","error","detail","$router","push","message","errors","filterList","search","result","filter","listSearch","statusID","Object","keys","map","objectKey","value","formatDate","format","showTabs","id","tabs","actualSelected","document","getElementsByClassName","index","attr","faqToggle","getElementById","classList","contains","remove","updateButton","add","resetAgentData","username","email","firstName","lastName","phone","department","state","birthDate","address","country","zipCode","interview","agentNumber","createdBy","insuranceLicense","licenseNumber","validEmail","re","test","validPhone","isphone","updateAgentStatus","item","newList","oldList","agentID","userID","put","fire","position","icon","showConfirmButton","timer","property","updateAgent","length","phoneNumber","departmentID","postalCode","interviewDate","isLicensed","confirmButtonClass","buttonsStyling","showCloseButton","i","createAgent","reset","click","deleteAgent","userName","userEmail","showDenyButton","confirmButtonText","denyButtonText","isConfirmed","isDenied","setAgentData","agentInfo","dateOfBirth","setItem","setMessagesInfo","chatUsername","image","profile","usermessage","currentDate","time","getHours","getMinutes","formSubmit","submitted","$touch","$invalid","form","align","addNewAgentModal","innerHTML","printEmit","notify","updateAgentList","validate","filterLanguage","filterKeyword","filterLicensed","filterNotes","filterFromDate","filterToDate","querySelector","checked","start","end","days","diff","isProspect","varName","statusName","replace","toLowerCase","console","log","handleFocus","e","target","setAttribute","validations","withMessage","mounted"],"sourceRoot":"","sources":["C:\\wamp64\\www\\crm\\frontend\\src\\views\\agents\\agentlistkanban.vue"],"sourcesContent":["<script>\r\nimport flatPickr from \"vue-flatpickr-component\";\r\nimport Multiselect from \"@vueform/multiselect\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\nimport Layout from \"../../layouts/main.vue\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport appConfig from \"../../../app.config\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport Swal from \"sweetalert2\";\r\nimport {helpers, required} from \"@vuelidate/validators\";\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport \"@vueform/multiselect/themes/default.scss\";\r\n\r\n// components\r\nimport notes from '../../components/users/notes';\r\nimport kanbanBoard from '../../components/users/kanbanBoard';\r\nimport messages from '../../components/users/messages';\r\nimport attachments from '../../components/users/attachements';\r\n\r\nexport default {\r\n  page: {\r\n    title: \"Agents List cards\",\r\n    meta: [{name: \"description\", content: appConfig.description}],\r\n  },\r\n  components: {\r\n    Layout,\r\n    PageHeader,\r\n    Multiselect,\r\n    flatPickr,\r\n    notes,\r\n    kanbanBoard,\r\n    messages,\r\n    attachments\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"Agent List Cards\",\r\n      items: [\r\n        {\r\n          text: \"Agents\",\r\n          href: \"/\",\r\n        },\r\n        {\r\n          text: \"Agent List cards\",\r\n          active: true,\r\n        },\r\n      ],\r\n      timeConfig: {\r\n        enableTime: false,\r\n        dateFormat: \"d M, Y\"\r\n      },\r\n      dateTimeConfig: {\r\n        enableTime: true,\r\n        // dateFormat: \"m-d-y H:i\"\r\n        dateFormat: \"F j, Y H:i K\"\r\n      },\r\n      list: [],\r\n      humanfriendlyConfig: {\r\n        dateFormat: \"F j, Y\",\r\n      },\r\n      data: {\r\n        token: localStorage.getItem('jwt'),\r\n        searchValues: {\r\n          isActive: 1,\r\n          noteSearch: '',\r\n          status: 0,\r\n          keyword: '',\r\n          licensed: 1,\r\n          language: 3,\r\n          sortBy: 'name',\r\n          orderBy: 'ASC',\r\n          toDate: new Date().toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}) ,\r\n          fromDate: new Date(new Date().setFullYear(new Date().getFullYear() - 1)).toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}),\r\n        }\r\n      },\r\n      agentData: [],\r\n      date: null,\r\n      departmentList: {},\r\n      statusList: {},\r\n      enabled: true,\r\n      dragging: false,\r\n      chatMessagesData: [],\r\n      chatMessages: []\r\n    };\r\n  },\r\n  setup() {\r\n    return { v$: useVuelidate() }\r\n  },\r\n  methods: {\r\n    async getAgentList() {\r\n      await axios\r\n          .post('/api/listUserByStatus', this.data)\r\n          .then(response => {\r\n            this.list = []\r\n            this.list = response.data\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              // for (const property in error.response.data) {\r\n              // this.errors.push(`${property}: ${error.response.data[property]}`)\r\n              // }\r\n            } else if (error.message) {\r\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n            }\r\n          })\r\n    },\r\n    filterList: function (list, search) {\r\n      var result = '';\r\n      result = list.filter(listSearch => listSearch.statusID === search);\r\n      Object.keys(result).map(function (objectKey) {\r\n        var value = result[objectKey];\r\n        return value;\r\n      });\r\n    },\r\n    formatDate: function (date, format) {\r\n      date = moment(date).format(format);\r\n      return date;\r\n    },\r\n    showTabs: function (id) {\r\n\r\n      const tabs = ['mainTab', 'secondTab', 'thirdTab', 'quarterTab']\r\n      let actualSelected = document.getElementsByClassName('active');\r\n      actualSelected = actualSelected[4].id\r\n\r\n      for (var index in tabs) {\r\n        let attr = tabs[index];\r\n\r\n        const faqToggle = document.getElementById(attr);\r\n        if (faqToggle.classList.contains('active') && id !== actualSelected) {\r\n\r\n          faqToggle.classList.remove('active');\r\n          faqToggle.classList.remove('show');\r\n\r\n          const updateButton = document.getElementById('updateButton');\r\n\r\n          if (updateButton.classList.contains('hide') && id === tabs[0]) {\r\n            updateButton.classList.remove('hide');\r\n          }\r\n\r\n        } else if (attr === id) {\r\n\r\n          if (!faqToggle.classList.contains('active')) {\r\n            faqToggle.classList.add('active');\r\n            faqToggle.classList.add('show');\r\n          }\r\n\r\n          const updateButton = document.getElementById('updateButton');\r\n\r\n          if (!updateButton.classList.contains('hide') && id !== tabs[0]) {\r\n            updateButton.classList.add('hide');\r\n          }\r\n        }\r\n      }\r\n    },\r\n    resetAgentData: function () {\r\n      this.agentData =\r\n          {\r\n            username: '',\r\n            email: '',\r\n            firstName: '',\r\n            lastName: '',\r\n            language: '',\r\n            status: '',\r\n            phone: '',\r\n            department: '',\r\n            state: '',\r\n            birthDate: '',\r\n            address: '',\r\n            country: '',\r\n            zipCode: '',\r\n            interview: '',\r\n            agentNumber: '',\r\n            createdBy: '',\r\n            insuranceLicense: '',\r\n            licenseNumber: ''\r\n          }\r\n    },\r\n    validEmail: function (email) {\r\n      var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      return re.test(email);\r\n    },\r\n    validPhone: function (phone) {\r\n      var isphone = /^(\\+{0,})(\\d{0,})([(]{1}\\d{1,3}[)]{0,}){0,}(\\s?\\d+|\\+\\d{2,3}\\s{1}\\d+|\\d+){1}[\\s|-]?\\d+([\\s|-]?\\d+){1,2}(\\s){0,}$/gm.test(phone);\r\n      return isphone;\r\n    },\r\n    async updateAgentStatus(item, newList, oldList, agentID) {\r\n\r\n      const data = {\r\n        item: item,\r\n        newList: newList,\r\n        oldList: oldList,\r\n        agentID: agentID,\r\n        userID: localStorage.getItem('id'),\r\n        token: localStorage.getItem('jwt'),\r\n      }\r\n\r\n      await axios\r\n          .put('/api/updateUserStatus', data)\r\n          .then(async response => {\r\n\r\n            if (response) {\r\n\r\n              await Swal.fire({\r\n                position: \"top-end\",\r\n                icon: \"success\",\r\n                title: \"Your work has been saved!\",\r\n                showConfirmButton: false,\r\n                timer: 1000,\r\n              });\r\n\r\n            } else {\r\n              await Swal.fire({\r\n                position: \"bottom-end\",\r\n                icon: 'error',\r\n                title: \"Something wrong happens!\",\r\n                showConfirmButton: false,\r\n                timer: 5000,\r\n              });\r\n            }\r\n\r\n          }).catch(async error => {\r\n            if (error.response) {\r\n\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                await this.$router.push('logout')\r\n              }\r\n\r\n              let list = '';\r\n              for (const property in error.response.data) {\r\n                this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n              }\r\n\r\n              await Swal.fire({\r\n                position: \"top-end\",\r\n                icon: \"success\",\r\n                title: \"Please check the following: \" + list,\r\n                showConfirmButton: false,\r\n                timer: 5000,\r\n              });\r\n\r\n            } else if (error.message) {\r\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n            }\r\n          })\r\n    },\r\n    async updateAgent() {\r\n\r\n      this.errors = []\r\n\r\n      if (!document.getElementById('editEmail').value) {\r\n        this.errors.push('Email is required.');\r\n      } else if (!this.validEmail(document.getElementById('editEmail').value)) {\r\n        this.errors.push('Valid email is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editFirstName').value) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editLastName').value) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editLanguage').value) {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editStatus').value) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editPhoneNumber').value) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if (this.validPhone(document.getElementById('editPhoneNumber').value) === false && document.getElementById('editPhoneNumber').value !== '') {\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!document.getElementById('editDepartment').value) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editBirthDate').value) {\r\n        this.errors.push('Birth date is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editAddress').value) {\r\n        this.errors.push('Address is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editAgentNumber').value && document.getElementById('editStatus').value === 5) {\r\n        this.errors.push('Agent Number is required.');\r\n      }\r\n\r\n      if ((!document.getElementById('editLicensed').value && document.getElementById('editStatus').value === 5) || !document.getElementById('editLicensed').value) {\r\n        this.errors.push('Insurance Licensed? is required.');\r\n      }\r\n\r\n      if ((!document.getElementById('editLicensed').value && document.getElementById('editStatus').value === 5) /*|| (!this.agentData.licenseNumber && document.getElementById('editLicensed').value === 1)*/) {\r\n        this.errors.push('License number is required.');\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n        const data = {\r\n          username: '',\r\n          email: document.getElementById('editEmail').value,\r\n          firstName: document.getElementById('editFirstName').value,\r\n          lastName: document.getElementById('editLastName').value,\r\n          language: document.getElementById('editLanguage').value,\r\n          status: document.getElementById('editStatus').value,\r\n          phoneNumber: document.getElementById('editPhoneNumber').value,\r\n          departmentID: document.getElementById('editDepartment').value,\r\n          state: document.getElementById('editState').value,\r\n          birthDate: document.getElementById('editBirthDate').value,\r\n          address: document.getElementById('editAddress').value,\r\n          country: document.getElementById('editCountry').value,\r\n          postalCode: document.getElementById('editPostalCode').value,\r\n          interviewDate: document.getElementById('editInterview').value,\r\n          agentNumber: document.getElementById('editAgentNumber').value,\r\n          createdBy: localStorage.getItem('email'),\r\n          isLicensed: document.getElementById('editLicensed').value,\r\n          licenseNumber: this.agentData.licenseNumber,\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('id'),\r\n          agentID: localStorage.getItem('selectedUser')\r\n        }\r\n\r\n        await axios\r\n            .put('/api/updateAgent', data)\r\n            .then(async response => {\r\n              if (response) {\r\n                // document.getElementById('close-modal').click();\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Agent update successfully!'\r\n                });\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  await this.$router.push('logout')\r\n                }\r\n\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i] + '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    async createAgent() {\r\n      this.errors = []\r\n\r\n      if (!this.agentData.email) {\r\n        this.errors.push('Email is required.');\r\n      } else if (!this.validEmail(this.agentData.email)) {\r\n        this.errors.push('Valid email is required.');\r\n      }\r\n\r\n      if (!this.agentData.firstName) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!this.agentData.lastName) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (!this.agentData.language) {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (!this.agentData.status) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!this.agentData.phone) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if(this.validPhone(this.agentData.phone) === false && this.agentData.phone !== ''){\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!this.agentData.department) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (!this.agentData.birthDate) {\r\n        this.errors.push('Birth date is required.');\r\n      }\r\n\r\n      if (!this.agentData.address) {\r\n        this.errors.push('Address is required.');\r\n      }\r\n\r\n      if (!this.agentData.agentNumber && this.agentData.status === 5) {\r\n        this.errors.push('Agent Number is required.');\r\n      }\r\n\r\n      if ((!this.agentData.insuranceLicense && this.agentData.status === 5) || !this.agentData.insuranceLicense) {\r\n        this.errors.push('is Insurance Licensed? is required.');\r\n      }\r\n\r\n      if ((!this.agentData.licenseNumber && this.agentData.status === 5) || (!this.agentData.licenseNumber && this.agentData.insuranceLicense === 1)) {\r\n        this.errors.push('License number is required.');\r\n      }\r\n\r\n      if(!this.errors.length) {\r\n        const data = {\r\n          username:  '',\r\n          email:  this.agentData.email,\r\n          firstName:  this.agentData.firstName,\r\n          lastName:  this.agentData.lastName,\r\n          language:  this.agentData.language,\r\n          status:  this.agentData.status,\r\n          phoneNumber:  this.agentData.phone,\r\n          departmentID:  this.agentData.department,\r\n          state:  this.agentData.state,\r\n          birthDate:  this.formatDate(this.agentData.birthDate, 'YYYY-MM-DD'),\r\n          address:  this.agentData.address,\r\n          country:  this.agentData.country,\r\n          postalCode:  this.agentData.zipCode,\r\n          interviewDate:  this.agentData.interview,\r\n          agentNumber:  this.agentData.agentNumber,\r\n          createdBy:  localStorage.getItem('email'),\r\n          isLicensed:  this.agentData.insuranceLicense,\r\n          licenseNumber: this.agentData.licenseNumber,\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('id')\r\n        }\r\n\r\n        await axios\r\n            .post('/api/createAgent', data)\r\n            .then(async response => {\r\n              document.getElementById(\"addform\").reset();\r\n              if (response.data['ID'] !== null) {\r\n                document.getElementById('closemodal').click();\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Agent created successfully!'\r\n                });\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i]+ '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    async deleteAgent() {\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        userID: localStorage.getItem('id'),\r\n        userName: localStorage.getItem('firstName') + ' ' + localStorage.getItem('lastname'),\r\n        userEmail: localStorage.getItem('email'),\r\n        agentID: localStorage.getItem('selectedUser')\r\n      }\r\n\r\n      Swal.fire({\r\n        title: 'Do you want to <b>Delete</b> this agent?',\r\n        showDenyButton: true,\r\n        confirmButtonText: 'Yes',\r\n        denyButtonText: `No`,\r\n      }).then(async (result) => {\r\n        /* Read more about isConfirmed, isDenied below */\r\n        if (result.isConfirmed) {\r\n          await axios\r\n              .put('/api/deleteUser', data)\r\n              .then(async response => {\r\n                if (response) {\r\n                  // document.getElementById('close-modal').click();\r\n\r\n                  await Swal.fire('Agent update successfully!', '', 'success');\r\n                }\r\n              })\r\n              .catch(async error => {\r\n                if (error.response) {\r\n\r\n                  if(error.response.data.detail === 'Your session is expired!'){\r\n                    await this.$router.push('logout')\r\n                  }\r\n\r\n                  let list = '';\r\n                  for (const property in error.response.data) {\r\n                    this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                    list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                  }\r\n\r\n                  await Swal.fire({\r\n                    title: \"Please check the following: \" + list,\r\n                    icon: 'warning',\r\n                    confirmButtonClass: \"btn btn-info\",\r\n                    buttonsStyling: false,\r\n                    showCloseButton: true,\r\n                  });\r\n\r\n                } else if (error.message) {\r\n                  this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n                }\r\n              })\r\n        } else if (result.isDenied) {\r\n          await Swal.fire('Agent wasn\\'t updated!', '', 'info');\r\n        }\r\n      })\r\n    },\r\n    setAgentData(agentInfo){\r\n\r\n      this.agentData.email=agentInfo.email;\r\n      this.agentData.firstName=agentInfo.firstName;\r\n      this.agentData.lastName=agentInfo.lastName;\r\n      this.agentData.language=agentInfo.language;\r\n      this.agentData.status=agentInfo.status\r\n      this.agentData.phone=agentInfo.phoneNumber;\r\n      this.agentData.department=agentInfo.departmentID\r\n      this.agentData.birthDate= this.formatDate(agentInfo.dateOfBirth, 'DD MMM, YYYY');\r\n      this.agentData.interview= this.formatDate(agentInfo.interviewDate, 'MMMM D, YYYY h:mm A');\r\n      this.agentData.address=agentInfo.address;\r\n      this.agentData.state=agentInfo.state;\r\n      this.agentData.country=agentInfo.country;\r\n      this.agentData.zipCode=agentInfo.postalCode;\r\n      this.agentData.agentNumber=agentInfo.agentNumber;\r\n      this.agentData.createdBy=agentInfo.createdBy;\r\n      this.agentData.insuranceLicense=agentInfo.isLicensed;\r\n\r\n      localStorage.setItem('selectedUserName', agentInfo.firstName +' '+ agentInfo.lastName)\r\n    },\r\n    setMessagesInfo(messages){\r\n      this.chatMessages= messages;\r\n    },\r\n    /**\r\n     * Get the name of user\r\n     */\r\n    chatUsername(name, image) {\r\n      this.username = name;\r\n      this.profile = image;\r\n      this.usermessage = \"Hello\";\r\n      this.chatMessagesData = [];\r\n      const currentDate = new Date();\r\n\r\n      this.chatMessagesData.push({\r\n        name: this.username,\r\n        message: this.usermessage,\r\n        time: currentDate.getHours() + \":\" + currentDate.getMinutes(),\r\n      });\r\n    },\r\n    /**\r\n     * Char form Submit\r\n     */\r\n    formSubmit() {\r\n      this.submitted = true;\r\n\r\n      // stop here if form is invalid\r\n      this.v$.$touch();\r\n\r\n      if (this.v$.$invalid) {\r\n        return;\r\n      } else {\r\n        const message = this.form.message;\r\n        const currentDate = new Date();\r\n        this.chatMessagesData.push({\r\n          align: \"right\",\r\n          name: \"Henry Wells\",\r\n          message,\r\n          time: currentDate.getHours() + \":\" + currentDate.getMinutes(),\r\n        });\r\n      }\r\n      this.submitted = false;\r\n      this.form = {};\r\n    },\r\n    addNewAgentModal() {\r\n      this.resetAgentData()\r\n      document.getElementById(\"addform\").reset();\r\n      document.getElementById('agentModalLabelAdd').innerHTML=\"Add Agent\";\r\n    },\r\n    printEmit(notify) {\r\n      this.chatMessagesData = notify;\r\n    },\r\n    async updateAgentList() {\r\n\r\n      let validate = true;\r\n      let errors = [];\r\n      let filterLanguage = document.getElementById(\"filterLanguage\").value;\r\n      let filterKeyword = document.getElementById(\"filterKeyword\").value;\r\n      let filterLicensed = document.getElementById(\"filterLicensed\").value;\r\n      let filterNotes = document.getElementById(\"filterNotes\").value;\r\n      let filterFromDate = document.getElementById(\"filterFromDate\").value;\r\n      let filterToDate = document.getElementById(\"filterToDate\").value;\r\n      let isActive = document.querySelector('#isActive').checked;\r\n\r\n      if(isActive === true) {\r\n        this.data.searchValues.isActive = 1\r\n      } else {\r\n        this.data.searchValues.isActive = 2\r\n      }\r\n\r\n      if (filterLanguage !== '' && (filterLanguage === '1' || filterLanguage === '2')){\r\n        this.data.searchValues.language = filterLanguage;\r\n      }\r\n\r\n      if (filterKeyword !== '' && filterKeyword.length >= 3) {\r\n        this.data.searchValues.keyword = filterKeyword;\r\n      } else if (filterKeyword !== '' && filterKeyword.length < 3) {\r\n        errors.push('Keyword search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      if(filterLicensed !== ''){\r\n        this.data.searchValues.licensed = filterLicensed;\r\n      }\r\n\r\n      if (filterNotes !== '' && filterNotes.length >= 3) {\r\n        this.data.searchValues.noteSearch = filterNotes;\r\n      }else if(filterNotes !== '' && filterNotes.length < 3) {\r\n        errors.push('Notes search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      var start = moment(this.formatDate(filterFromDate, 'YYYY-MM-DD'));\r\n      var end = moment(this.formatDate(filterToDate, 'YYYY-MM-DD'));\r\n      var days = end.diff(start, \"days\");\r\n\r\n      if(days <= 365){\r\n        this.data.searchValues.fromDate = filterFromDate;\r\n        this.data.searchValues.toDate = filterToDate;\r\n      } else {\r\n        errors.push(\"From Date and To Date (range) couldn't be larger than a year (365 days)!\");\r\n        validate = false;\r\n      }\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        isProspect: 0,\r\n        searchValues: this.data.searchValues,\r\n        userEmail: localStorage.getItem('email'),\r\n        userID: localStorage.getItem('id'),\r\n      }\r\n\r\n      if(validate){\r\n        axios\r\n            .post('/api/listUserByStatus', data)\r\n            .then(response => {\r\n              this.list = []\r\n\r\n              for (let i = 0; i < 10; i++) {\r\n                var varName = []\r\n                varName = response.data[i].statusName.replace(/\\s+/g, '-').toLowerCase();\r\n                this.varName = response.data[i].content;\r\n                this.varName['groupName'] = {\r\n                  'groupName': varName,\r\n                  'statusName': response.data[i].statusName,\r\n                  'groupID': response.data[i].statusID,\r\n                  'sequence': 1,\r\n                  'quantity': response.data[i].content.length,\r\n                  'perPage': 30,\r\n                  'showing': (response.data[i].content.length < 30 ? response.data[i].content.length: 30),\r\n                };\r\n                this.list.push(this.varName);\r\n              }\r\n            })\r\n            .catch(error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  this.$router.push('logout')\r\n                }\r\n\r\n                // for (const property in error.response.data) {\r\n                // this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                // }\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n                console.log(error.message)\r\n              }\r\n            })\r\n      }else{\r\n        let list = '';\r\n        for (var i = 0; i < errors.length; i+=1) {\r\n          list += errors[i] + ' \\n';\r\n        }\r\n\r\n        await Swal.fire(\"\" + list, '', 'info');\r\n\r\n      }\r\n\r\n    },\r\n    handleFocus(e){\r\n      e.target.setAttribute(\"autocomplete\", \"nope\");\r\n    },\r\n  },\r\n  validations: {\r\n    form: {\r\n      message: {\r\n        required: helpers.withMessage(\"Message is required\", required),\r\n      },\r\n    },\r\n  },\r\n  async mounted() {\r\n\r\n    const data = {\r\n      token: localStorage.getItem('jwt'),\r\n      searchValues: this.data.searchValues,\r\n    }\r\n\r\n    await axios\r\n        .post('/api/listDepartments', data)\r\n        .then(response => {\r\n          this.departmentList = response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n\r\n            Swal.fire(\"Oops!\", \"Departments could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/listStatus', data)\r\n        .then(response => {\r\n          this.statusList = response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n\r\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/listUserByStatus', data)\r\n        // .post('/api/listAgents', data)\r\n        .then(response => {\r\n          this.list = []\r\n\r\n          for (let i = 0; i < 10; i++) {\r\n            var varName = []\r\n            varName = response.data[i].statusName.replace(/\\s+/g, '-').toLowerCase();\r\n            this.varName = response.data[i].content;\r\n            this.varName['groupName'] = {\r\n              'groupName': varName,\r\n              'statusName': response.data[i].statusName,\r\n              'groupID': response.data[i].statusID,\r\n              'sequence': 1,\r\n              'quantity': response.data[i].content.length,\r\n              'perPage': 30,\r\n              'showing': (response.data[i].content.length < 30 ? response.data[i].content.length: 30),\r\n            };\r\n            this.list.push(this.varName);\r\n          }\r\n          // console.log(this.list.find(o => o.groupName.groupName === 'prospect'))\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n\r\n            // for (const property in error.response.data) {\r\n            // this.errors.push(`${property}: ${error.response.data[property]}`)\r\n            // }\r\n          } else if (error.message) {\r\n            this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n          }\r\n        })\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.listProperties {\r\n  min-height: 30%;\r\n}\r\n\r\n.moveCard {\r\n  cursor: default;\r\n}\r\n\r\n.grayIcon {\r\n  color: #6b778c;\r\n}\r\n\r\n.eyeIcon {\r\n  margin: 5px;\r\n  max-width: 30px;\r\n}\r\n\r\n.hide {\r\n  transition: 0.01s;\r\n  transform: translateX(-9999px);\r\n}\r\n\r\n.card-body {\r\n  flex: 1 1 auto;\r\n  padding: 1rem 0.5rem;\r\n}\r\n\r\n#tab td {\r\n  vertical-align: top;\r\n}\r\n\r\n.side-buttons {\r\n  width: 100%;\r\n  text-align: left !important;\r\n}\r\n\r\n.window-sidebar {\r\n  float: right;\r\n  overflow: hidden;\r\n  padding: 0 16px 8px 8px;\r\n  width: calc(100% - 600px);\r\n  z-index: 10;\r\n}\r\n\r\n.window-module {\r\n  clear: both;\r\n  margin-bottom: 24px;\r\n  position: relative;\r\n}\r\n\r\n.window-module {\r\n  clear: both;\r\n  margin-bottom: 24px;\r\n  position: relative;\r\n  padding-right: 5px;\r\n}\r\n\r\n.u-clearfix:after {\r\n  clear: both;\r\n  content: \"\";\r\n  display: table\r\n}\r\n\r\n.window-sidebar h3.mod-no-top-margin {\r\n  margin-top: 0;\r\n}\r\n\r\n.window-sidebar h3 {\r\n  color: #5e6c84;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  line-height: 16px;\r\n  margin-bottom: -4px;\r\n  margin-top: 16px;\r\n}\r\n\r\n.button-link:hover {\r\n  background-color: #091e4214;\r\n  border: none;\r\n  box-shadow: none;\r\n}\r\n\r\n.button-link {\r\n  background-color: #091e420a;\r\n  border: none;\r\n  border-radius: 3px;\r\n  box-shadow: none;\r\n  box-sizing: border-box;\r\n  cursor: pointer;\r\n  display: block;\r\n  height: 32px;\r\n  margin-top: 8px;\r\n  max-width: 300px;\r\n  overflow: hidden;\r\n  padding: 6px 12px !important;\r\n  position: relative;\r\n  text-decoration: none;\r\n  text-overflow: ellipsis;\r\n  transition-duration: 85ms;\r\n  transition-property: background-color, border-color, box-shadow;\r\n  transition-timing-function: ease;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  white-space: nowrap;\r\n}\r\n\r\n.icon-lg, .icon-md, .icon-sm {\r\n  color: #e30000;\r\n}\r\n\r\n.icon-sm {\r\n  font-size: 16px;\r\n  height: 20px;\r\n  line-height: 20px;\r\n  width: 20px;\r\n}\r\n\r\n.icon-lg, .icon-md, .icon-sm {\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  display: inline-block;\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  line-height: 1;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  vertical-align: bottom;\r\n}\r\n\r\n.js-sidebar-action-text {\r\n  color: #7c7979;\r\n}\r\n\r\ndiv.u-clearfix > a > i {\r\n  color: #7c7979;\r\n}\r\n\r\n.tab-content {\r\n  padding: 10px;\r\n}\r\n\r\n.chat-conversation {\r\n  height: calc(100vh - 500px) !important;\r\n}\r\n\r\n</style>\r\n\r\n<template>\r\n  <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\"/>\r\n    <div class=\"card\">\r\n      <div class=\"card-body\">\r\n        <div class=\"row g-3\">\r\n          <div class=\"col-md-3\">\r\n            <div class=\"search-box\">\r\n              <input type=\"text\" class=\"form-control search\"\r\n                     placeholder=\"Search for agents...\"\r\n                     v-model=\"this.data.searchValues.keyword\"\r\n                     @change=\"this.data.searchValues.keyword.length >= 3 ? updateAgentList(): ''\"\r\n                     v-on:keyup.enter=\"this.data.searchValues.keyword === '' ? updateAgentList(): ''\">\r\n              <i class=\"ri-search-line search-icon\"></i>\r\n            </div>\r\n          </div><!--end col-->\r\n          <div class=\"col-md-auto ms-auto\">\r\n            <div class=\"d-flex hastck gap-2 flex-wrap\">\r\n              <div class=\"d-flex align-items-center gap-2\">\r\n                <span class=\"text-muted flex-shrink-0\">Sort by: </span>\r\n\r\n                <Multiselect class=\"form-control\"\r\n                             style=\"width:150px;padding: 0px;\"\r\n                             autocomplete=\"off\"\r\n                             @focus=\"handleFocus\"\r\n                             v-model=\"this.data.searchValues.sortBy\"\r\n                             :close-on-select=\"true\"\r\n                             :searchable=\"true\"\r\n                             :options=\"[\r\n                            { value: 'name', label: 'Name' },\r\n                            { value: 'postalCode', label: 'Postal Code' },\r\n                            { value: 'modified', label: 'Modified On' },\r\n                            { value: 'created', label: 'created On' },\r\n                            ]\"\r\n                 @select=\"updateAgentList()\"\r\n                />\r\n\r\n              </div>\r\n              <div class=\"d-flex align-items-center gap-2\">\r\n                <span class=\"text-muted flex-shrink-0\">Order by: </span>\r\n\r\n                <Multiselect class=\"form-control\"\r\n                             style=\"width:150px;padding: 0px;\"\r\n                             v-model=\"this.data.searchValues.orderBy\"\r\n                             autocomplete=\"off\"\r\n                             @focus=\"handleFocus\"\r\n                             :close-on-select=\"true\"\r\n                             :searchable=\"true\"\r\n                             :options=\"[\r\n                            { value: 'ASC', label: 'Ascendance' },\r\n                            { value: 'DESC', label: 'Descendant' },\r\n                            ]\"\r\n                 @select=\"updateAgentList()\"\r\n                />\r\n\r\n              </div>\r\n              <button type=\"button\" class=\"btn btn-soft-success add-btn\" href=\"#open-filters\" data-bs-toggle=\"modal\">\r\n                <i class=\"ri-filter-line align-bottom me-1\"></i> Filters\r\n              </button>\r\n              <button type=\"button\" class=\"btn btn-soft-success add-btn\" id=\"create-btn\" data-bs-toggle=\"modal\" href=\"#agentModalAdd\" @click=\"addNewAgentModal\">\r\n                <i class=\"ri-add-line align-bottom me-1\"></i> Add Agent\r\n              </button>\r\n              <div class=\"dropdown\">\r\n                <button class=\"btn btn-soft-secondary btn-icon fs-14\" type=\"button\" id=\"dropdownMenuButton1\"\r\n                        data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                  <i class=\"ri-settings-4-line\"></i>\r\n                </button>\r\n                <ul class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\r\n                  <li><a class=\"dropdown-item\" href=\"#\">Copy</a></li>\r\n                  <li><a class=\"dropdown-item\" href=\"#\">Move to pipline</a></li>\r\n                  <li><a class=\"dropdown-item\" href=\"#\">Add to exceptions</a></li>\r\n                  <li><a class=\"dropdown-item\" href=\"#\">Switch to common form view</a></li>\r\n                  <li><a class=\"dropdown-item\" href=\"#\">Reset form view to default</a></li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div><!--end col-->\r\n        </div><!--end row-->\r\n      </div>\r\n    </div><!--end card-->\r\n\r\n    <kanbanBoard :list=\"list\" @onFire=\"printEmit\" @userData=\"setAgentData\" @setMessages=\"setMessagesInfo\"/>\r\n\r\n    <!-- Filters Modal -->\r\n    <div id=\"open-filters\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"myModalLabel\">Filters</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"> </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-12\">\r\n                <label for=\"filterKeyword\" class=\"form-label\">Keyword</label>\r\n                <input type=\"text\" id=\"filterKeyword\" name=\"filterKeyword\" class=\"form-control mb-2\" placeholder=\"Enter Keyword\" v-model=\"this.data.searchValues.keyword\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterLicensed\" class=\"form-label\">Licensed agents?</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Licensed Agents?\" id=\"filterLicensed\" name=\"filterLicensed\" v-model=\"this.data.searchValues.licensed\">\r\n                  <option value=\"1\" selected>Both</option>\r\n                  <option value=\"2\">Yes</option>\r\n                  <option value=\"3\">No</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <div class=\"form-check form-switch form-switch-lg\" dir=\"ltr\" style=\"margin: 0;position: absolute;top: 50%;-ms-transform: translateY(-50%);transform: translateY(-50%);\">\r\n                  <input type=\"checkbox\" class=\"form-check-input\" id=\"isActive\" checked=\"\">\r\n                  <label class=\"form-check-label\" for=\"isActive\">Active</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editLanguage\" class=\"form-label\">Language</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"filterLanguage\" name=\"filterLanguage\" v-model=\"this.data.searchValues.language\">\r\n                  <option value=\"3\" selected>Both</option>\r\n                  <option value=\"1\" selected>English</option>\r\n                  <option value=\"2\">Spanish</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editStatus\" class=\"form-label\">Search by Notes</label>\r\n                <input type=\"text\" id=\"filterNotes\" name=\"filterNotes\" class=\"form-control mb-2\" placeholder=\"Enter note\" v-model=\"this.data.searchValues.noteSearch\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterFromDate\" class=\"form-label\"> From date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.data.searchValues.fromDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterFromDate\"\r\n                    name=\"filterFromDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterToDate\" class=\"form-label\"> To Date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.data.searchValues.toDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterToDate\"\r\n                    name=\"filterToDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-light\" data-bs-dismiss=\"modal\">Close</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"updateAgentList()\">Search</button>\r\n          </div>\r\n\r\n        </div><!-- /.modal-content -->\r\n      </div><!-- /.modal-dialog -->\r\n    </div><!-- /.modal -->\r\n\r\n    <div class=\"modal fade zoomIn\" id=\"agentModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\">\r\n        <div class=\"modal-content border-0\">\r\n          <div class=\"modal-header p-3 bg-soft-info\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Agent Card</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"\r\n                    id=\"close-modal\"></button>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-9\">\r\n              <div class=\"tab-content\">\r\n                <p class=\"text-muted mb-4\">\r\n                  is in List <a href=\"#\"><span style=\"text-decoration: underline;\"> NEW AGENT </span></a>\r\n                </p>\r\n                <div\r\n                    class=\"tab-pane fade show active\"\r\n                    id=\"mainTab\"\r\n                    role=\"tabpanel\"\r\n                    aria-labelledby=\"pills-bill-info-tab\"\r\n                >\r\n\r\n                  <div>\r\n                    <form @submit.prevent=\"\">\r\n                      <div class=\"modal-body\">\r\n                        <input type=\"hidden\" id=\"id\"/>\r\n                        <div class=\"row g-3\">\r\n                          <div class=\"col-lg-12\">\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editEmail\" class=\"form-label\">Email</label>\r\n                                <input type=\"text\" id=\"editEmail\" class=\"form-control mb-2\" placeholder=\"Enter Email\"\r\n                                       v-model=\"agentData.email\" required>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editCreatedBy\" class=\"form-label\">Created By</label>\r\n                                <input type=\"text\" id=\"editCreatedBy\" class=\"form-control mb-2\" disabled\r\n                                       v-model=\"this.agentData.createdBy\">\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editFirstName\" class=\"form-label\">First Name</label>\r\n                                <input type=\"text\" id=\"editFirstName\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter First Name\" v-model=\"this.agentData.firstName\" required>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editLastName\" class=\"form-label\">Last Name</label>\r\n                                <input type=\"text\" id=\"editLastName\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Last Name\" v-model=\"this.agentData.lastName\" required>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editLanguage\" class=\"form-label\">Language</label>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"editLanguage\"\r\n                                        v-model=\"this.agentData.language\" required>\r\n                                  <option value=\"1\" selected>English</option>\r\n                                  <option value=\"2\">Spanish</option>\r\n                                </select>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editStatus\" class=\"form-label\">Status</label>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editStatus\"\r\n                                        v-model=\"this.agentData.status\">\r\n                                  <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\"\r\n                                          v-bind:value=\"status.statusID\">{{ status.name }}\r\n                                  </option>\r\n                                </select>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editPhoneNumber\" class=\"form-label\">Phone</label>\r\n                                <input type=\"text\" id=\"editPhoneNumber\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Phone number\" required v-model=\"this.agentData.phone\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editDepartment\" class=\"form-label\">Department</label>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                                        v-model=\"this.agentData.department\" v-if=\"(departmentList.length > 1)\">\r\n                                  <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\r\n                                          v-bind:value=\"department.departmentID\">{{ department.name }}\r\n                                  </option>\r\n                                </select>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                                        v-model=\"this.agentData.department\" v-else>\r\n                                  <option v-bind:value=\"departmentList.departmentID\">{{ departmentList.name }}</option>\r\n                                </select>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editAddress\" class=\"form-label\">Address</label>\r\n                                <input type=\"text\" id=\"editAddress\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Address\" required v-model=\"this.agentData.address\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editBirthDate\" class=\"form-label mb-2\">Birth Date</label>\r\n                                <flat-pickr\r\n                                    placeholder=\"Select Birth Date\"\r\n                                    v-model=\"this.agentData.birthDate\"\r\n                                    :config=\"timeConfig\"\r\n                                    class=\"form-control flatpickr-input\"\r\n                                    id=\"editBirthDate\"></flat-pickr>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editState\" class=\"form-label\">State</label>\r\n                                <input type=\"text\" id=\"editState\" class=\"form-control mb-2\" placeholder=\"Enter State\"\r\n                                       required v-model=\"this.agentData.state\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editCountry\" class=\"form-label\">Country</label>\r\n                                <input type=\"text\" id=\"editCountry\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Country\" required v-model=\"this.agentData.country\"/>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editPostalCode\" class=\"form-label\">Postal code</label>\r\n                                <input type=\"text\" id=\"editPostalCode\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Address\" required v-model=\"this.agentData.zipCode\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editInterview\" class=\"form-label mb-2\">Interview</label>\r\n                                <flat-pickr\r\n                                    v-model=\"this.agentData.interview\"\r\n                                    :config=\"dateTimeConfig\"\r\n                                    id=\"editInterview\"\r\n                                    class=\"form-control\"\r\n                                    data-provider=\"timepickr\"\r\n                                    data-time-hrs=\"true\"\r\n                                ></flat-pickr>\r\n<!--                                <flat-pickr-->\r\n<!--                                    placeholder=\"Select Interview date/time\"-->\r\n<!--                                    v-model=\"this.agentData.interview\"-->\r\n<!--                                    :config=\"dateTimeConfig\"-->\r\n<!--                                    class=\"form-control flatpickr-input\"-->\r\n<!--                                    id=\"editInterview\"-->\r\n<!--                                    data-enable-time-->\r\n<!--                                    data-provider=\"timepickr\"-->\r\n<!--                                    data-time-hrs=\"true\"></flat-pickr>-->\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editAgentNumber\" class=\"form-label\">Agent Number</label>\r\n                                <input type=\"text\" id=\"editAgentNumber\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Agent Number\" required v-model=\"this.agentData.agentNumber\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editLicensed\" class=\"form-label\">Insurance Licensed?</label>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editLicensed\"\r\n                                        v-model=\"this.agentData.insuranceLicense\">\r\n                                  <option value=\"0\">No</option>\r\n                                  <option value=\"1\">Yes</option>\r\n                                </select>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <!--end col-->\r\n                        </div>\r\n                        <!--end row-->\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n                <!-- end tab pane -->\r\n                <div\r\n                    class=\"tab-pane fade\"\r\n                    id=\"secondTab\"\r\n                    role=\"tabpanel\"\r\n                    aria-labelledby=\"pills-bill-info-tab\">\r\n\r\n                    <notes :dataList=\"chatMessagesData\"> </notes>\r\n\r\n                  <!-- end chat-wrapper -->\r\n                </div>\r\n                <!-- end tab pane -->\r\n\r\n                <div\r\n                    class=\"tab-pane fade\"\r\n                    id=\"thirdTab\"\r\n                    role=\"tabpanel\"\r\n                    aria-labelledby=\"pills-bill-info-tab\"\r\n                    style=\"max-height: 600px;\"\r\n                >\r\n                  <!-- comm/getSMSConversation -->\r\n                  <messages :dataList=\"chatMessages\"></messages>\r\n\r\n                </div>\r\n                <!-- end tab pane -->\r\n\r\n                <div\r\n                    class=\"tab-pane fade\"\r\n                    id=\"quarterTab\"\r\n                    role=\"tabpanel\"\r\n                    aria-labelledby=\"pills-bill-address-tab\"\r\n                    style=\"height: 600px;\"\r\n                >\r\n                  <attachments></attachments>\r\n                </div>\r\n                <!-- end tab pane -->\r\n\r\n              </div>\r\n              <!-- end tab content -->\r\n            </div>\r\n            <div class=\"col-md-3 window-sidebar \">\r\n              <div class=\"window-module\" style=\"margin-top: 10px;\">\r\n                <h3 class=\"mod-no-top-margin js-sidebar-add-heading\">Options</h3>\r\n                <div class=\"window-module\">\r\n                  <div class=\"u-clearfix\">\r\n                    <a class=\"button-link js-change-card-members\" href=\"#\" title=\"Information\"\r\n                       @click=\"showTabs('mainTab')\">\r\n                      <i class=\"ri-calendar-2-fill align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Information</span>\r\n                    </a>\r\n                    <a class=\"button-link js-edit-labels\" href=\"#\" title=\"Notes\" @click=\"showTabs('secondTab')\">\r\n                      <i class=\"ri-sticky-note-line align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Notes</span>\r\n                    </a>\r\n                    <a class=\"button-link js-edit-labels\" href=\"#\" title=\"Messages\" @click=\"showTabs('thirdTab')\">\r\n                      <i class=\"ri-message-2-line align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Messages</span>\r\n                    </a>\r\n                    <a class=\"button-link js-edit-labels\" href=\"#\" title=\"Attachements\" @click=\"showTabs('quarterTab')\">\r\n                      <i class=\"ri-attachment-2 align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Attachements</span>\r\n                    </a>\r\n                    <a class=\"button-link js-add-checklist-menu\" href=\"#\" title=\"Checklist\" @click=\"deleteAgent\">\r\n                      <i class=\"ri-delete-bin-2-line align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Delete</span>\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <br>\r\n              <div class=\"window-module\">\r\n                <h3 class=\"mod-no-top-margin js-sidebar-add-heading\">Actions</h3>\r\n                <div class=\"window-module\">\r\n                  <div class=\"u-clearfix\">\r\n                    <a class=\"button-link js-change-card-members\" href=\"#\" title=\"Move\">\r\n                      <i class=\"ri-drag-move-2-fill align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Move</span>\r\n                    </a>\r\n                    <a class=\"button-link js-edit-labels\" href=\"#\" title=\"Share\">\r\n                      <i class=\"ri-share-line align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Share</span>\r\n                    </a>\r\n                    <a class=\"button-link js-edit-labels\" href=\"#\" title=\"Share\">\r\n                      <i class=\"ri-file-transfer-line align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Transfer</span>\r\n                    </a>\r\n                    <a class=\"button-link js-change-card-members\" href=\"#\" title=\"Update\" id=\"updateButton\"\r\n                       @click=\"updateAgent\" style=\"background-color: #2abb52;\">\r\n                      <i class=\"ri-save-3-line align-bottom me-1\" style=\"color:white;\"></i>\r\n                      <span class=\"js-sidebar-action-text\" style=\"color:white;\">Save</span>\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  Add agent modal  -->\r\n    <div class=\"modal zoomIn\" id=\"agentModalAdd\" tabindex=\"-1\" aria-labelledby=\"agentModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\" style=\"max-width: 1000px;\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header bg-light p-3\">\r\n            <h5 class=\"modal-title\" id=\"agentModalLabel\"></h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"\r\n                    id=\"close-modal\"></button>\r\n          </div>\r\n          <form id=\"addform\" @submit.prevent=\"\">\r\n            <div class=\"modal-body\">\r\n              <input type=\"hidden\" id=\"id\"/>\r\n              <div class=\"row g-3\">\r\n                <div class=\"col-lg-12\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editEmail\" class=\"form-label\">Email</label>\r\n                      <input type=\"text\" id=\"editEmail\" class=\"form-control mb-2\" placeholder=\"Enter Email\" v-model=\"agentData.email\" required>\r\n                    </div>\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editCreatedBy\" class=\"form-label\">Created By</label>\r\n                      <input type=\"text\" id=\"editCreatedBy\" class=\"form-control mb-2\" disabled v-model=\"this.agentData.createdBy\">\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editFirstName\" class=\"form-label\">First Name</label>\r\n                      <input type=\"text\" id=\"editFirstName\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" v-model=\"this.agentData.firstName\" required>\r\n                    </div>\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editLastName\" class=\"form-label\">Last Name</label>\r\n                      <input type=\"text\" id=\"editLastName\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\" v-model=\"this.agentData.lastName\" required>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editLanguage\" class=\"form-label\">Language</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"editLanguage\" v-model=\"this.agentData.language\" required>\r\n                        <option value=\"1\" selected>English</option>\r\n                        <option value=\"2\">Spanish</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editStatus\" class=\"form-label\">Status</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editStatus\" v-model=\"this.agentData.status\">\r\n                        <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editPhoneNumber\" class=\"form-label\">Phone</label>\r\n                      <input type=\"text\" id=\"editPhoneNumber\" class=\"form-control mb-2\" placeholder=\"Phone number\" required v-model=\"this.agentData.phone\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editDepartment\" class=\"form-label\">Department</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                              v-model=\"this.agentData.department\" v-if=\"(departmentList.length > 1)\">\r\n                        <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\r\n                                v-bind:value=\"department.departmentID\">{{ department.name }}\r\n                        </option>\r\n                      </select>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                              v-model=\"this.agentData.department\" v-else>\r\n                        <option v-bind:value=\"departmentList.departmentID\">{{ departmentList.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editAddress\" class=\"form-label\">Address</label>\r\n                      <input type=\"text\" id=\"editAddress\" class=\"form-control mb-2\" placeholder=\"Enter Address\" required v-model=\"this.agentData.address\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editBirthDate\" class=\"form-label mb-2\">Birth Date</label>\r\n                      <flat-pickr\r\n                          placeholder=\"Select Birth Date\"\r\n                          v-model=\"this.agentData.birthDate\"\r\n                          :config=\"timeConfig\"\r\n                          class=\"form-control flatpickr-input\"\r\n                          id=\"editBirthDate\"></flat-pickr>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editState\" class=\"form-label\">State</label>\r\n                      <input type=\"text\" id=\"editState\" class=\"form-control mb-2\" placeholder=\"Enter State\" required v-model=\"this.agentData.state\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editCountry\" class=\"form-label\">Country</label>\r\n                      <input type=\"text\" id=\"editCountry\" class=\"form-control mb-2\" placeholder=\"Enter Country\" required v-model=\"this.agentData.country\"/>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editPostalCode\" class=\"form-label\">Postal code</label>\r\n                      <input type=\"text\" id=\"editPostalCode\" class=\"form-control mb-2\" placeholder=\"Enter Address\" required v-model=\"this.agentData.zipCode\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editInterview\" class=\"form-label mb-2\">Interview</label>\r\n<!--                      <flat-pickr-->\r\n<!--                          placeholder=\"Select Interview date/time\"-->\r\n<!--                          v-model=\"this.agentData.interview\"-->\r\n<!--                          :config=\"dateTimeConfig\"-->\r\n<!--                          class=\"form-control flatpickr-input\"-->\r\n<!--                          id=\"editInterview\" data-enable-time></flat-pickr>-->\r\n\r\n                      <flat-pickr\r\n                          v-model=\"this.agentData.interview\"\r\n                          :config=\"dateTimeConfig\"\r\n                          id=\"editInterview\"\r\n                          class=\"form-control\"\r\n                          data-provider=\"timepickr\"\r\n                          data-time-hrs=\"true\"\r\n                      ></flat-pickr>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editAgentNumber\" class=\"form-label\">Agent Number</label>\r\n                      <input type=\"text\" id=\"editAgentNumber\" class=\"form-control mb-2\" placeholder=\"Enter Agent Number\" required v-model=\"this.agentData.agentNumber\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editLicensed\" class=\"form-label\">Insurance Licensed?</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editLicensed\" v-model=\"this.agentData.insuranceLicense\">\r\n                        <option value=\"0\">No</option>\r\n                        <option value=\"1\">Yes</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!--end col-->\r\n              </div>\r\n              <!--end row-->\r\n            </div>\r\n\r\n            <div class=\"modal-footer\">\r\n              <div class=\"hstack gap-2 justify-content-end\">\r\n                <button type=\"button\" class=\"btn btn-light\" id=\"closemodal\" data-bs-dismiss=\"modal\">Close</button>\r\n                <button type=\"submit\" class=\"btn btn-success\" id=\"add-btn\" @click=\"createAgent\">Save</button>\r\n<!--                <button type=\"button\" class=\"btn btn-success\" id=\"edit-btn\" @click=\"updateAgent\">Update</button>-->\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </Layout>\r\n</template>\r\n"]}]}