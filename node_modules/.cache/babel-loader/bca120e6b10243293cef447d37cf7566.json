{"remainingRequest":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\wamp64\\www\\crm\\frontend\\src\\views\\clients\\clientskanban.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\wamp64\\www\\crm\\frontend\\src\\views\\clients\\clientskanban.vue","mtime":1680806911258},{"path":"C:\\wamp64\\www\\crm\\frontend\\babel.config.js","mtime":1645939880000},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1668443304941},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1652458135842},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1668443313146}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOi93YW1wNjQvd3d3L2NybS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovd2FtcDY0L3d3dy9jcm0vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRlc3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgZmxhdFBpY2tyIGZyb20gInZ1ZS1mbGF0cGlja3ItY29tcG9uZW50IjsKaW1wb3J0IE11bHRpc2VsZWN0IGZyb20gIkB2dWVmb3JtL211bHRpc2VsZWN0IjsKaW1wb3J0ICJAdnVlZm9ybS9tdWx0aXNlbGVjdC90aGVtZXMvZGVmYXVsdC5zY3NzIjsKaW1wb3J0ICJmbGF0cGlja3IvZGlzdC9mbGF0cGlja3IuY3NzIjsKaW1wb3J0IExheW91dCBmcm9tICIuLi8uLi9sYXlvdXRzL21haW4udnVlIjsKaW1wb3J0IFBhZ2VIZWFkZXIgZnJvbSAiQC9jb21wb25lbnRzL3BhZ2UtaGVhZGVyIjsKaW1wb3J0IGFwcENvbmZpZyBmcm9tICIuLi8uLi8uLi9hcHAuY29uZmlnIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCB7IGhlbHBlcnMsIHJlcXVpcmVkIH0gZnJvbSAiQHZ1ZWxpZGF0ZS92YWxpZGF0b3JzIjsKaW1wb3J0IHVzZVZ1ZWxpZGF0ZSBmcm9tICJAdnVlbGlkYXRlL2NvcmUiOyAvLyBjb21wb25lbnRzCgppbXBvcnQgbm90ZXMgZnJvbSAnLi4vLi4vY29tcG9uZW50cy91c2Vycy9ub3Rlcyc7CmltcG9ydCBrYW5iYW5Cb2FyZCBmcm9tICcuLi8uLi9jb21wb25lbnRzL3VzZXJzL2thbmJhbkJvYXJkJzsKaW1wb3J0IG1lc3NhZ2VzIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvdXNlcnMvbWVzc2FnZXMnOwppbXBvcnQgdXBsb2FkQ2xpZW50cyBmcm9tICcuLi8uLi9jb21wb25lbnRzL2NsaWVudHMvdXBsb2FkQ2xpZW50cyc7CmltcG9ydCBlY29udGFjdHMgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jbGllbnRzL2Vjb250YWN0cyc7CmltcG9ydCBiZW5saXN0IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY2xpZW50cy9iZW5saXN0JzsKaW1wb3J0IGFkZGl0YW1lbnRzIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY2xpZW50cy9hZGRpdGFtZW50cyc7CmltcG9ydCBjaGFyZ2VQcm9zcGVjdHMgZnJvbSAnLi4vLi4vY29tcG9uZW50cy91cGxvYWRMaXN0cy9jaGFyZ2VQcm9zcGVjdHMnOwppbXBvcnQgand0X2RlY29kZSBmcm9tICJqd3QtZGVjb2RlIjsKZXhwb3J0IGRlZmF1bHQgewogIHBhZ2U6IHsKICAgIHRpdGxlOiAiQWdlbnRzIExpc3QgY2FyZHMiLAogICAgbWV0YTogW3sKICAgICAgbmFtZTogImRlc2NyaXB0aW9uIiwKICAgICAgY29udGVudDogYXBwQ29uZmlnLmRlc2NyaXB0aW9uCiAgICB9XQogIH0sCiAgY29tcG9uZW50czogewogICAgTGF5b3V0OiBMYXlvdXQsCiAgICBQYWdlSGVhZGVyOiBQYWdlSGVhZGVyLAogICAgTXVsdGlzZWxlY3Q6IE11bHRpc2VsZWN0LAogICAgZmxhdFBpY2tyOiBmbGF0UGlja3IsCiAgICBub3Rlczogbm90ZXMsCiAgICBrYW5iYW5Cb2FyZDoga2FuYmFuQm9hcmQsCiAgICBtZXNzYWdlczogbWVzc2FnZXMsCiAgICB1cGxvYWRDbGllbnRzOiB1cGxvYWRDbGllbnRzLAogICAgZWNvbnRhY3RzOiBlY29udGFjdHMsCiAgICBiZW5saXN0OiBiZW5saXN0LAogICAgYWRkaXRhbWVudHM6IGFkZGl0YW1lbnRzLAogICAgY2hhcmdlUHJvc3BlY3RzOiBjaGFyZ2VQcm9zcGVjdHMKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogIkNsaWVudCBjYXJkcyIsCiAgICAgIGl0ZW1zOiBbewogICAgICAgIHRleHQ6ICJDbGllbnRzIiwKICAgICAgICBocmVmOiAiLyIKICAgICAgfSwgewogICAgICAgIHRleHQ6ICJDbGllbnQgTGlzdCBjYXJkcyIsCiAgICAgICAgYWN0aXZlOiB0cnVlCiAgICAgIH1dLAogICAgICB0aW1lQ29uZmlnOiB7CiAgICAgICAgZW5hYmxlVGltZTogZmFsc2UsCiAgICAgICAgZGF0ZUZvcm1hdDogImQgTSwgWSIKICAgICAgfSwKICAgICAgZGF0ZVRpbWVDb25maWc6IHsKICAgICAgICBlbmFibGVUaW1lOiB0cnVlLAogICAgICAgIGRhdGVGb3JtYXQ6ICJGIGosIFkgSDppIEsiCiAgICAgIH0sCiAgICAgIGxpc3Q6IFtdLAogICAgICBkYXRlMTogbnVsbCwKICAgICAgZGF0ZTI6IG51bGwsCiAgICAgIGh1bWFuZnJpZW5kbHlDb25maWc6IHsKICAgICAgICBkYXRlRm9ybWF0OiAiRiBqLCBZIgogICAgICB9LAogICAgICBlQ29udGFjdGxpc3Q6IFtdLAogICAgICBiZW5MaXN0OiBbXSwKICAgICAgYWRkaXRhbWVudHNMaXN0OiBbXSwKICAgICAgZGF0YTogewogICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgc2VhcmNoVmFsdWVzOiB7CiAgICAgICAgICB0eXBlOiAnJywKICAgICAgICAgIG5vdGVTZWFyY2g6ICcnLAogICAgICAgICAga2V5d29yZDogJycsCiAgICAgICAgICBsYW5ndWFnZTogJzMnLAogICAgICAgICAgc29ydEJ5OiAnbmFtZScsCiAgICAgICAgICBvcmRlckJ5OiAnQVNDJywKICAgICAgICAgIGRhdGVSYW5nZTogJzAnLAogICAgICAgICAgZGVwYXJ0bWVudDogJzAnLAogICAgICAgICAgdG9EYXRlOiBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tdXMnLCB7CiAgICAgICAgICAgIHllYXI6ICJudW1lcmljIiwKICAgICAgICAgICAgbW9udGg6ICJsb25nIiwKICAgICAgICAgICAgZGF5OiAibnVtZXJpYyIKICAgICAgICAgIH0pLAogICAgICAgICAgZnJvbURhdGU6IG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RnVsbFllYXIobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpIC0gMSkpLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tdXMnLCB7CiAgICAgICAgICAgIHllYXI6ICJudW1lcmljIiwKICAgICAgICAgICAgbW9udGg6ICJsb25nIiwKICAgICAgICAgICAgZGF5OiAibnVtZXJpYyIKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9LAogICAgICBiZW5lZmljaWFyeVF0eTogMCwKICAgICAgZUNvbnRhY3RRdHk6IDAsCiAgICAgIGFkZGl0YW1lbnRzUXR5OiAwLAogICAgICBjbGllbnREYXRhOiBbXSwKICAgICAgY2xpZW50Rm9ybURhdGE6IFtdLAogICAgICB2YWx1ZTogbnVsbCwKICAgICAgZGF0ZTogbnVsbCwKICAgICAgZGVwYXJ0bWVudExpc3Q6IHt9LAogICAgICBzdGF0dXNMaXN0OiB7fSwKICAgICAgdHlwZUxpc3Q6IHt9LAogICAgICBpc0NsaWVudExpc3Q6IGZhbHNlLAogICAgICBlbmFibGVkOiB0cnVlLAogICAgICBkcmFnZ2luZzogZmFsc2UsCiAgICAgIG5vdGVzRGF0YTogW10sCiAgICAgIHByb3NwZWN0c0RhdGE6IFtdLAogICAgICBjaGF0TWVzc2FnZXNEYXRhOiBbXSwKICAgICAgY2hhdE1lc3NhZ2VzOiBbXQogICAgfTsKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHJldHVybiB7CiAgICAgIHYkOiB1c2VWdWVsaWRhdGUoKQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHZhbGlkUGhvbmU6IGZ1bmN0aW9uIHZhbGlkUGhvbmUocGhvbmUpIHsKICAgICAgdmFyIGlzcGhvbmUgPSAvXihcK3swLH0pKFxkezAsfSkoWyhdezF9XGR7MSwzfVspXXswLH0pezAsfShccz9cZCt8XCtcZHsyLDN9XHN7MX1cZCt8XGQrKXsxfVtcc3wtXT9cZCsoW1xzfC1dP1xkKyl7MSwyfShccyl7MCx9JC9nbS50ZXN0KHBob25lKTsKICAgICAgcmV0dXJuIGlzcGhvbmU7CiAgICB9LAogICAgZmlsdGVyTGlzdDogZnVuY3Rpb24gZmlsdGVyTGlzdChsaXN0LCBzZWFyY2gpIHsKICAgICAgdmFyIHJlc3VsdCA9ICcnOwogICAgICByZXN1bHQgPSBsaXN0LmZpbHRlcihmdW5jdGlvbiAobGlzdFNlYXJjaCkgewogICAgICAgIHJldHVybiBsaXN0U2VhcmNoLnN0YXR1c0lEID09PSBzZWFyY2g7CiAgICAgIH0pOwogICAgICBPYmplY3Qua2V5cyhyZXN1bHQpLm1hcChmdW5jdGlvbiAob2JqZWN0S2V5KSB7CiAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0W29iamVjdEtleV07CiAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICB9KTsKICAgIH0sCiAgICBzaG93VGFiczogZnVuY3Rpb24gc2hvd1RhYnMoaWQpIHsKICAgICAgdmFyIHRhYnMgPSBbJ21haW5UYWInLCAnc2Vjb25kVGFiJywgJ3RoaXJkVGFiJywgJ3F1YXJ0ZXJUYWInLCAnZmlmdGhUYWInLCAnc2l4dGhUYWInLCAnc2V2ZW50aFRhYiddOwogICAgICB2YXIgYWN0dWFsU2VsZWN0ZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2VsZWN0ZWRVc2VyJyk7CgogICAgICBmb3IgKHZhciBpbmRleCBpbiB0YWJzKSB7CiAgICAgICAgdmFyIGF0dHIgPSB0YWJzW2luZGV4XTsKICAgICAgICB2YXIgZmFxVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXR0cik7CgogICAgICAgIGlmIChmYXFUb2dnbGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSAmJiBpZCAhPT0gYWN0dWFsU2VsZWN0ZWQpIHsKICAgICAgICAgIGZhcVRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgIGZhcVRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7CiAgICAgICAgICB2YXIgdXBkYXRlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwZGF0ZUJ1dHRvbicpOwoKICAgICAgICAgIGlmICh1cGRhdGVCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRlJykgJiYgaWQgPT09IHRhYnNbMF0pIHsKICAgICAgICAgICAgdXBkYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGF0dHIgPT09IGlkKSB7CiAgICAgICAgICBpZiAoIWZhcVRvZ2dsZS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7CiAgICAgICAgICAgIGZhcVRvZ2dsZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICAgICAgZmFxVG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgX3VwZGF0ZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGRhdGVCdXR0b24nKTsKCiAgICAgICAgICBpZiAoIV91cGRhdGVCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRlJykgJiYgaWQgIT09IHRhYnNbMF0pIHsKICAgICAgICAgICAgX3VwZGF0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcmVzZXRDbGllbnREYXRhOiBmdW5jdGlvbiByZXNldENsaWVudERhdGEoKSB7CiAgICAgIHRoaXMuY2xpZW50RGF0YSA9IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIGZpcnN0TmFtZTogJycsCiAgICAgICAgbGFzdE5hbWU6ICcnLAogICAgICAgIGxhbmd1YWdlOiAnJywKICAgICAgICBzdGF0dXM6ICcnLAogICAgICAgIHR5cGU6ICcnLAogICAgICAgIGdlbmRlcjogJycsCiAgICAgICAgcGhvbmU6ICcnLAogICAgICAgIGRlcGFydG1lbnQ6ICcnLAogICAgICAgIHN0YXRlOiAnJywKICAgICAgICBiaXJ0aERhdGU6ICcnLAogICAgICAgIGFkZHJlc3M6ICcnLAogICAgICAgIGNvdW50cnk6ICcnLAogICAgICAgIHppcENvZGU6ICcnLAogICAgICAgIGludGVydmlldzogJycsCiAgICAgICAgYWdlbnROdW1iZXI6ICcnLAogICAgICAgIGNyZWF0ZWRCeTogJycsCiAgICAgICAgaW5zdXJhbmNlTGljZW5zZTogJycsCiAgICAgICAgbGljZW5zZU51bWJlcjogJycKICAgICAgfTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZEJlbmVmaWNpYXJ5IikuaW5uZXJIVE1MID0gIiI7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRFY29udGFjdCIpLmlubmVySFRNTCA9ICIiOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkQWRkaXRhbWVudHMiKS5pbm5lckhUTUwgPSAiIjsKICAgIH0sCiAgICB2YWxpZEVtYWlsOiBmdW5jdGlvbiB2YWxpZEVtYWlsKGVtYWlsKSB7CiAgICAgIHZhciByZSA9IC9eKChbXjw+KClbXF1cXC4sOzpcc0AiXSsoXC5bXjw+KClbXF1cXC4sOzpcc0AiXSspKil8KCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVxdKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsfSkpJC87CiAgICAgIHJldHVybiByZS50ZXN0KGVtYWlsLnRyaW0oKSk7CiAgICB9LAogICAgZm9ybWF0RGF0ZTogZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlLCBmb3JtYXQpIHsKICAgICAgZGF0ZSA9IG1vbWVudChkYXRlKS5mb3JtYXQoZm9ybWF0KTsKICAgICAgcmV0dXJuIGRhdGU7CiAgICB9LAogICAgZm9ybWF0UGhvbmU6IGZ1bmN0aW9uIGZvcm1hdFBob25lKHBob25lKSB7CiAgICAgIHZhciBmbGFnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwOwogICAgICAvLyBpZiBmbGFnID09IDEgcHV0IHZhbHVlIGluIHBob25lIEVkaXQKICAgICAgcGhvbmUgPSBwaG9uZS5yZXBsYWNlKC9cRC9nLCAnJyk7CgogICAgICBpZiAocGhvbmUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGlmIChwaG9uZS5sZW5ndGggPiAxMCkgewogICAgICAgICAgcGhvbmUgPSBwaG9uZS5zdWJzdHJpbmcoMSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgeCA9IHBob25lLm1hdGNoKC8oXGR7MCwzfSkoXGR7MCwzfSkoXGR7MCw0fSkvKTsKICAgICAgICBwaG9uZSA9ICF4WzJdID8geFsxXSA6ICcoJyArIHhbMV0gKyAnKSAnICsgeFsyXSArICh4WzNdID8gJy0nICsgeFszXSA6ICcnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwaG9uZSA9ICcnOwogICAgICB9CgogICAgICBpZiAoZmxhZyAhPT0gMSkgewogICAgICAgIHJldHVybiBwaG9uZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBob25lTnVtYmVyJykudmFsdWUgPSBwaG9uZTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZUFnZW50U3RhdHVzOiBmdW5jdGlvbiB1cGRhdGVBZ2VudFN0YXR1cyhpdGVtLCBuZXdMaXN0LCBvbGRMaXN0LCBhZ2VudElEKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgaXRlbTogaXRlbSwKICAgICAgICAgICAgICAgICAgbmV3TGlzdDogbmV3TGlzdCwKICAgICAgICAgICAgICAgICAgb2xkTGlzdDogb2xkTGlzdCwKICAgICAgICAgICAgICAgICAgYWdlbnRJRDogYWdlbnRJRCwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoJy9hcGkvY2xpZW50L3VwZGF0ZUNsaWVudFN0YXR1cycsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIllvdXIgd29yayBoYXMgYmVlbiBzYXZlZCEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICJib3R0b20tZW5kIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJTb21ldGhpbmcgd3JvbmcgaGFwcGVucyEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiA1MDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKS5jYXRjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihlcnJvcikgewogICAgICAgICAgICAgICAgICAgIHZhciBsaXN0LCBwcm9wZXJ0eTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDUwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVJbmZvcm1hdGlvbjogZnVuY3Rpb24gdXBkYXRlSW5mb3JtYXRpb24oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIHBhdHRlcm47CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSAnL2NsaWVudC8nOwoKICAgICAgICAgICAgICAgIGlmICghd2luZG93LmxvY2F0aW9uLmhyZWYubWF0Y2gocGF0dGVybikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnVwZGF0ZUNsaWVudCgpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi51cGRhdGVBZ2VudCgpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVBZ2VudDogZnVuY3Rpb24gdXBkYXRlQWdlbnQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIGRhdGEsIGxpc3QsIGk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMgPSBbXTsKCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Rmlyc3ROYW1lJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmVycm9ycy5wdXNoKCdGaXJzdCBOYW1lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYXN0TmFtZScpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnTGFzdCBOYW1lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYW5ndWFnZScpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnTGFuZ3VhZ2UgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFN0YXR1cycpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnU3RhdHVzIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQaG9uZU51bWJlcicpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnUGhvbmUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMy52YWxpZFBob25lKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UGhvbmVOdW1iZXInKS52YWx1ZSkgPT09IGZhbHNlICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UGhvbmVOdW1iZXInKS52YWx1ZSAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmVycm9ycy5wdXNoKCdQbGVhc2UsIHdyaXRlIGEgdmFsaWQgcGhvbmUgbnVtYmVyIScpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXREZXBhcnRtZW50JykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmVycm9ycy5wdXNoKCdEZXBhcnRtZW50IGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRCaXJ0aERhdGUnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ0JpcnRoIGRhdGUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEFkZHJlc3MnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ0FkZHJlc3MgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEFnZW50TnVtYmVyJykudmFsdWUgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0dXMnKS52YWx1ZSA9PT0gNSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ0FnZW50IE51bWJlciBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGljZW5zZWQnKS52YWx1ZSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFN0YXR1cycpLnZhbHVlID09PSA1IHx8ICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExpY2Vuc2VkJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmVycm9ycy5wdXNoKCdJbnN1cmFuY2UgTGljZW5zZWQ/IGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMaWNlbnNlZCcpLnZhbHVlICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdHVzJykudmFsdWUgPT09IDUKICAgICAgICAgICAgICAgIC8qfHwgKCF0aGlzLmNsaWVudERhdGEubGljZW5zZU51bWJlciAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExpY2Vuc2VkJykudmFsdWUgPT09IDEpKi8KICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ0xpY2Vuc2UgbnVtYmVyIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczMuZXJyb3JzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgICAgICAgICAgIGVtYWlsOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEVtYWlsJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRGaXJzdE5hbWUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgbGFzdE5hbWU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFzdE5hbWUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFuZ3VhZ2UnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgc3RhdHVzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFN0YXR1cycpLnZhbHVlLAogICAgICAgICAgICAgICAgICB0eXBlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFR5cGUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgZ2VuZGVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFt0eXBlPSdyYWRpbyddW25hbWU9ZWRpdEdlbmRlcl06Y2hlY2tlZCIpLnZhbHVlLAogICAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQaG9uZU51bWJlcicpLnZhbHVlLAogICAgICAgICAgICAgICAgICBkZXBhcnRtZW50SUQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RGVwYXJ0bWVudCcpLnZhbHVlLAogICAgICAgICAgICAgICAgICBzdGF0ZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0ZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBiaXJ0aERhdGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QmlydGhEYXRlJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QWRkcmVzcycpLnZhbHVlLAogICAgICAgICAgICAgICAgICBjb3VudHJ5OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdENvdW50cnknKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQb3N0YWxDb2RlJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGludGVydmlld0RhdGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0SW50ZXJ2aWV3JykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGFnZW50TnVtYmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEFnZW50TnVtYmVyJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGNyZWF0ZWRCeTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgICAgICAgIGlzTGljZW5zZWQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGljZW5zZWQnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgbGljZW5zZU51bWJlcjogX3RoaXMzLmNsaWVudERhdGEubGljZW5zZU51bWJlciwKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgICAgICAgYWdlbnRJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoJy9hcGkvdXBkYXRlQWdlbnQnLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2UtbW9kYWwnKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0FnZW50IHVwZGF0ZSBzdWNjZXNzZnVsbHkhJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gzKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpLmNhdGNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QsIHByb3BlcnR5OwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNoZWNrIHRoZSBmb2xsb3dpbmc6ICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IF90aGlzMy5lcnJvcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBfdGhpczMuZXJyb3JzW2ldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY29tcGxldGUgdGhlIGZvcm0hICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwZGF0ZUNsaWVudDogZnVuY3Rpb24gdXBkYXRlQ2xpZW50KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICB2YXIgZGF0YSwgbGlzdCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNC5lcnJvcnMgPSBbXTsKCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Rmlyc3ROYW1lJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmVycm9ycy5wdXNoKCdGaXJzdCBOYW1lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYXN0TmFtZScpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5lcnJvcnMucHVzaCgnTGFzdCBOYW1lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbdHlwZT0ncmFkaW8nXVtuYW1lPWVkaXRHZW5kZXIxXTpjaGVja2VkIikpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmVycm9ycy5wdXNoKCdHZW5kZXIgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExhbmd1YWdlJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmVycm9ycy5wdXNoKCdMYW5ndWFnZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdHVzJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmVycm9ycy5wdXNoKCdTdGF0dXMgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBob25lTnVtYmVyJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmVycm9ycy5wdXNoKCdQaG9uZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LnZhbGlkUGhvbmUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQaG9uZU51bWJlcicpLnZhbHVlKSA9PT0gZmFsc2UgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQaG9uZU51bWJlcicpLnZhbHVlICE9PSAnJykgewogICAgICAgICAgICAgICAgICBfdGhpczQuZXJyb3JzLnB1c2goJ1BsZWFzZSwgd3JpdGUgYSB2YWxpZCBwaG9uZSBudW1iZXIhJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdERlcGFydG1lbnQnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczQuZXJyb3JzLnB1c2goJ0RlcGFydG1lbnQgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0VHlwZScpLnZhbHVlID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgICBfdGhpczQuZXJyb3JzLnB1c2goJ0xlYWQvQ2xpZW50IFR5cGUgaXMgcmVxdWlyZWQuJyk7CgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczQuY2xpZW50RGF0YSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W3R5cGU9J3JhZGlvJ11bbmFtZT1lZGl0R2VuZGVyMV06Y2hlY2tlZCIpLnZhbHVlICE9PSAnTScgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbdHlwZT0ncmFkaW8nXVtuYW1lPWVkaXRHZW5kZXIxXTpjaGVja2VkIikudmFsdWUgIT09ICdGJykgewogICAgICAgICAgICAgICAgICBfdGhpczQuZXJyb3JzLnB1c2goJ0dlbmRlciBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYW5ndWFnZScpLnZhbHVlICE9PSAnMScgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYW5ndWFnZScpLnZhbHVlICE9PSAnMicpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmVycm9ycy5wdXNoKCdMYW5ndWFnZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRUeXBlJykudmFsdWUgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5lcnJvcnMucHVzaCgnTGVhZC9jbGllbnQgVHlwZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LmVycm9ycy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICAgICAgICAgICAgZW1haWw6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RW1haWwnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgY2l0eTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRDaXR5MScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Rmlyc3ROYW1lJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGxhc3ROYW1lOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExhc3ROYW1lJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExhbmd1YWdlJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIHN0YXR1czogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0dXMnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgbGVhZFR5cGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0VHlwZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBnZW5kZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W3R5cGU9J3JhZGlvJ11bbmFtZT1lZGl0R2VuZGVyMV06Y2hlY2tlZCIpLnZhbHVlLAogICAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQaG9uZU51bWJlcicpLnZhbHVlLAogICAgICAgICAgICAgICAgICBkZXBhcnRtZW50SUQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RGVwYXJ0bWVudCcpLnZhbHVlLAogICAgICAgICAgICAgICAgICBzdGF0ZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0ZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBiaXJ0aERhdGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QmlydGhEYXRlJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QWRkcmVzcycpLnZhbHVlLAogICAgICAgICAgICAgICAgICBjb3VudHJ5OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdENvdW50cnknKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQb3N0YWxDb2RlJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGludGVydmlld0RhdGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0SW50ZXJ2aWV3JykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGNyZWF0ZWRCeTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgICAgICAgIGxpY2Vuc2VOdW1iZXI6IF90aGlzNC5jbGllbnREYXRhLmxpY2Vuc2VOdW1iZXIsCiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgICAgICAgIGNsaWVudElEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2VsZWN0ZWRVc2VyJykKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoJy9hcGkvY2xpZW50L3VwZGF0ZUNsaWVudCcsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmNSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZS1tb2RhbCcpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnQ2xpZW50IHVwZGF0ZSBzdWNjZXNzZnVsbHkhJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g1KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY1LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpLmNhdGNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QsIHByb3BlcnR5OwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNoZWNrIHRoZSBmb2xsb3dpbmc6ICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5lcnJvcnMucHVzaCgnU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDYpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAyMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBfdGhpczQuZXJyb3JzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgX3RoaXM0LmVycm9yc1tpXSArICc8L2I+JzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAyMzsKICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjb21wbGV0ZSB0aGUgZm9ybSEgIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTApOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjcmVhdGVDbGllbnQ6IGZ1bmN0aW9uIGNyZWF0ZUNsaWVudCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgICAgdmFyIGRhdGEsIGxpc3QsIGk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczUuZXJyb3JzID0gW107CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczUuY2xpZW50RGF0YS5maXJzdE5hbWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmVycm9ycy5wdXNoKCdGaXJzdCBOYW1lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXM1LmNsaWVudERhdGEubGFzdE5hbWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmVycm9ycy5wdXNoKCdMYXN0IE5hbWUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczUuY2xpZW50RGF0YS5zdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmVycm9ycy5wdXNoKCdTdGF0dXMgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczUuY2xpZW50RGF0YS5waG9uZSkgewogICAgICAgICAgICAgICAgICBfdGhpczUuZXJyb3JzLnB1c2goJ1Bob25lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczUudmFsaWRQaG9uZShfdGhpczUuY2xpZW50RGF0YS5waG9uZSkgPT09IGZhbHNlICYmIF90aGlzNS5jbGllbnREYXRhLnBob25lID09PSAnJykgewogICAgICAgICAgICAgICAgICBfdGhpczUuZXJyb3JzLnB1c2goJ1BsZWFzZSwgd3JpdGUgYSB2YWxpZCBwaG9uZSBudW1iZXIhJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczUuY2xpZW50RGF0YS5kZXBhcnRtZW50KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5lcnJvcnMucHVzaCgnRGVwYXJ0bWVudCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LmNsaWVudERhdGEudHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmVycm9ycy5wdXNoKCdMZWFkL0NsaWVudCBUeXBlIGlzIHJlcXVpcmVkLicpOwoKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXM1LmNsaWVudERhdGEpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczUuY2xpZW50RGF0YS5nZW5kZXIgIT09ICdNJyAmJiBfdGhpczUuY2xpZW50RGF0YS5nZW5kZXIgIT09ICdGJykgewogICAgICAgICAgICAgICAgICBfdGhpczUuZXJyb3JzLnB1c2goJ0dlbmRlciBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LmNsaWVudERhdGEubGFuZ3VhZ2UgIT09ICcxJyAmJiBfdGhpczUuY2xpZW50RGF0YS5sYW5ndWFnZSAhPT0gJzInKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5lcnJvcnMucHVzaCgnTGFuZ3VhZ2UgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNS5jbGllbnREYXRhLmxlYWRUeXBlID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgICBfdGhpczUuZXJyb3JzLnB1c2goJ0xlYWQvY2xpZW50IFR5cGUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNS5lcnJvcnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuYWRkQW5vdGhlckNsaWVudCgpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgY2xpZW50c0luZm86IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImNsaWVudEZvcm1EYXRhIikpLAogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICBzZWxlY3RlZFVzZXI6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWxlY3RlZFVzZXInKSwKICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgdG90YWxDbGllbnRzOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjbGllbnRGb3JtRGF0YSIpKS5sZW5ndGgsCiAgICAgICAgICAgICAgICAgIGlzUHJvc3BlY3Q6IDAKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2NsaWVudC9jcmVhdGUnLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMShyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2UuZGF0YVsnSUQnXSAhPT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlbW9kYWwnKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZGZvcm0iKS5yZXNldCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdDbGllbnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDcpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmOCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QsIHByb3BlcnR5OwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSArICc8L2I+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNoZWNrIHRoZSBmb2xsb3dpbmc6ICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTEyKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjguYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAyMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBfdGhpczUuZXJyb3JzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgX3RoaXM1LmVycm9yc1tpXSArICc8L2I+JzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAyMzsKICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjb21wbGV0ZSB0aGUgZm9ybSEgIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBkZWxldGVBZ2VudDogZnVuY3Rpb24gZGVsZXRlQWdlbnQoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgICAgICAgdXNlck5hbWU6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmaXJzdE5hbWUnKSArICcgJyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsYXN0bmFtZScpLAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICBhZ2VudElEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2VsZWN0ZWRVc2VyJykKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICB0aXRsZTogJ0RvIHlvdSB3YW50IHRvIDxiPkRlbGV0ZTwvYj4gdGhpcyBhZ2VudD8nLAogICAgICAgICAgICAgICAgICBzaG93RGVueUJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdZZXMnLAogICAgICAgICAgICAgICAgICBkZW55QnV0dG9uVGV4dDogIk5vIgogICAgICAgICAgICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdC5pc0NvbmZpcm1lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnB1dCgnL2FwaS9kZWxldGVVc2VyJywgZGF0YSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9yZWYxMCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKCdBZ2VudCB1cGRhdGUgc3VjY2Vzc2Z1bGx5IScsICcnLCAnc3VjY2VzcycpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxNCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gxMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMTAuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfcmVmMTEgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNShlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaXN0LCBwcm9wZXJ0eTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjaGVjayB0aGUgZm9sbG93aW5nOiAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxNSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gxMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMTEuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQuaXNEZW5pZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoJ0FnZW50IHdhc25cJ3QgdXBkYXRlZCEnLCAnJywgJ2luZm8nKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTYpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94OSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmOS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVDbGllbnRMaXN0OiBmdW5jdGlvbiB1cGRhdGVDbGllbnRMaXN0KCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOCgpIHsKICAgICAgICB2YXIgdmFsaWRhdGUsIGVycm9ycywgZmlsdGVyTGFuZ3VhZ2UsIGZpbHRlcktleXdvcmQsIGZpbHRlclR5cGUsIGZpbHRlck5vdGVzLCBmaWx0ZXJGcm9tRGF0ZSwgZmlsdGVyVG9EYXRlLCBzdGFydCwgZW5kLCBkYXlzLCBkYXRhLCBsaXN0LCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOC5wcmV2ID0gX2NvbnRleHQxOC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdmFsaWRhdGUgPSB0cnVlOwogICAgICAgICAgICAgICAgZXJyb3JzID0gW107CiAgICAgICAgICAgICAgICBmaWx0ZXJMYW5ndWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJMYW5ndWFnZSIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyS2V5d29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJLZXl3b3JkIikudmFsdWU7IC8vIGxldCBmaWx0ZXJDbGllbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlckNsaWVudHMiKS52YWx1ZTsKCiAgICAgICAgICAgICAgICBmaWx0ZXJUeXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlclR5cGUiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlck5vdGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlck5vdGVzIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJGcm9tRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJGcm9tRGF0ZSIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyVG9EYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlclRvRGF0ZSIpLnZhbHVlOwoKICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJMYW5ndWFnZSAhPT0gJycgJiYgKGZpbHRlckxhbmd1YWdlID09PSAnMScgfHwgZmlsdGVyTGFuZ3VhZ2UgPT09ICcyJykpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM3LmRhdGEuc2VhcmNoVmFsdWVzLmxhbmd1YWdlID0gZmlsdGVyTGFuZ3VhZ2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlcktleXdvcmQgIT09ICcnICYmIGZpbHRlcktleXdvcmQubGVuZ3RoID49IDMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM3LmRhdGEuc2VhcmNoVmFsdWVzLmxhbmd1YWdlID0gZmlsdGVyTGFuZ3VhZ2U7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlcktleXdvcmQgIT09ICcnICYmIGZpbHRlcktleXdvcmQubGVuZ3RoIDwgMykgewogICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCgnS2V5d29yZCBzZWFyY2ggc2hvdWxkIGhhdmUgMyBvciBtb3JlIGNoYXJhY3RlcnMhJyk7CiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlclR5cGUgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5kYXRhLnNlYXJjaFZhbHVlcy50eXBlID0gZmlsdGVyVHlwZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyTm90ZXMgIT09ICcnICYmIGZpbHRlck5vdGVzLmxlbmd0aCA+PSAzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5kYXRhLnNlYXJjaFZhbHVlcy5ub3RlU2VhcmNoID0gZmlsdGVyTm90ZXM7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlck5vdGVzICE9PSAnJyAmJiBmaWx0ZXJOb3Rlcy5sZW5ndGggPCAzKSB7CiAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCdOb3RlcyBzZWFyY2ggc2hvdWxkIGhhdmUgMyBvciBtb3JlIGNoYXJhY3RlcnMhJyk7CiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc3RhcnQgPSBtb21lbnQoX3RoaXM3LmZvcm1hdERhdGUoZmlsdGVyRnJvbURhdGUsICdZWVlZLU1NLUREJykpOwogICAgICAgICAgICAgICAgZW5kID0gbW9tZW50KF90aGlzNy5mb3JtYXREYXRlKGZpbHRlclRvRGF0ZSwgJ1lZWVktTU0tREQnKSk7CiAgICAgICAgICAgICAgICBkYXlzID0gZW5kLmRpZmYoc3RhcnQsICJkYXlzIik7CgogICAgICAgICAgICAgICAgaWYgKGRheXMgPD0gMzY1KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5kYXRhLnNlYXJjaFZhbHVlcy5mcm9tRGF0ZSA9IGZpbHRlckZyb21EYXRlOwogICAgICAgICAgICAgICAgICBfdGhpczcuZGF0YS5zZWFyY2hWYWx1ZXMudG9EYXRlID0gZmlsdGVyVG9EYXRlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goIkZyb20gRGF0ZSBhbmQgVG8gRGF0ZSAocmFuZ2UpIGNvdWxkbid0IGJlIGxhcmdlciB0aGFuIGEgeWVhciAoMzY1IGRheXMpISIpOwogICAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIGlzUHJvc3BlY3Q6IDAsCiAgICAgICAgICAgICAgICAgIHNlYXJjaFZhbHVlczogX3RoaXM3LmRhdGEuc2VhcmNoVmFsdWVzLAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICBkZWxldGVkOiAwCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY2xpZW50L2xpc3RDbGllbnRzQnlTdGF0dXMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpczcuaXNDbGllbnRMaXN0ID0gd2luZG93LmxvY2F0aW9uLmhyZWYubWF0Y2goJy9jbGllbnQvJykgIT09IG51bGwgPyB0cnVlIDogZmFsc2U7CiAgICAgICAgICAgICAgICAgIHZhciByZXMgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgICB2YXIgdmFyTmFtZSA9IFtdOwogICAgICAgICAgICAgICAgICB2YXIgc3BlY3RlZExpc3QgPSBbXTsKCiAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCByZXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyTmFtZSA9IHJlc3BvbnNlLmRhdGFbX2ldLnN0YXR1c05hbWUucmVwbGFjZSgvXHMrL2csICctJykudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgICAgICB2YXJOYW1lID0gcmVzcG9uc2UuZGF0YVtfaV0uY29udGVudDsKICAgICAgICAgICAgICAgICAgICB2YXJOYW1lWydncm91cE5hbWUnXSA9IHsKICAgICAgICAgICAgICAgICAgICAgICdncm91cE5hbWUnOiB2YXJOYW1lLAogICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1c05hbWUnOiByZXNwb25zZS5kYXRhW19pXS5zdGF0dXNOYW1lLAogICAgICAgICAgICAgICAgICAgICAgJ2dyb3VwSUQnOiByZXNwb25zZS5kYXRhW19pXS5zdGF0dXNJRCwKICAgICAgICAgICAgICAgICAgICAgICdzZXF1ZW5jZSc6IDEsCiAgICAgICAgICAgICAgICAgICAgICAncXVhbnRpdHknOiByZXNwb25zZS5kYXRhW19pXS5jb250ZW50Lmxlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICdwZXJQYWdlJzogMzAsCiAgICAgICAgICAgICAgICAgICAgICAnc2hvd2luZyc6IHJlc3BvbnNlLmRhdGFbX2ldLmNvbnRlbnQubGVuZ3RoIDwgMzAgPyByZXNwb25zZS5kYXRhW19pXS5jb250ZW50Lmxlbmd0aCA6IDMwCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBzcGVjdGVkTGlzdC5wdXNoKHZhck5hbWUpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpczcubGlzdCA9IHNwZWN0ZWRMaXN0OwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAvKiBlbHNlIGlmIChlcnJvci5tZXNzYWdlKSB7DQogICAgICAgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpDQogICAgICAgICAgICAgICAgICB9Ki8KCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGVycm9ycy5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgICAgICAgICAgICBsaXN0ICs9IGVycm9yc1tpXSArICcgXG4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSgiIiArIGxpc3QsICcnLCAnaW5mbycpOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZXRDbGllbnREYXRhOiBmdW5jdGlvbiBzZXRDbGllbnREYXRhKGNsaWVudEluZm8pIHsKICAgICAgdGhpcy5jbGllbnREYXRhLmVtYWlsID0gY2xpZW50SW5mby5lbWFpbDsKICAgICAgdGhpcy5jbGllbnREYXRhLmZpcnN0TmFtZSA9IGNsaWVudEluZm8uZmlyc3ROYW1lOwogICAgICB0aGlzLmNsaWVudERhdGEubGFzdE5hbWUgPSBjbGllbnRJbmZvLmxhc3ROYW1lOwogICAgICB0aGlzLmNsaWVudERhdGEubGFuZ3VhZ2UgPSBjbGllbnRJbmZvLmxhbmd1YWdlOwogICAgICB0aGlzLmNsaWVudERhdGEuc3RhdHVzID0gY2xpZW50SW5mby5zdGF0dXM7CiAgICAgIHRoaXMuY2xpZW50RGF0YS5waG9uZSA9IGNsaWVudEluZm8ucGhvbmVOdW1iZXI7CiAgICAgIHRoaXMuY2xpZW50RGF0YS5nZW5kZXIgPSBjbGllbnRJbmZvLmdlbmRlcjsKICAgICAgdGhpcy5jbGllbnREYXRhLmFnZSA9IGNsaWVudEluZm8uYWdlOwogICAgICB0aGlzLmNsaWVudERhdGEudHlwZSA9IGNsaWVudEluZm8udHlwZSAhPT0gJycgPyBjbGllbnRJbmZvLnR5cGUgOiBjbGllbnRJbmZvLmxlYWRUeXBlOwogICAgICB0aGlzLmNsaWVudERhdGEuY2l0eSA9IGNsaWVudEluZm8uY2l0eTsKICAgICAgdGhpcy5jbGllbnREYXRhLmRlcGFydG1lbnQgPSBjbGllbnRJbmZvLmRlcGFydG1lbnRJRDsKICAgICAgdGhpcy5jbGllbnREYXRhLmJpcnRoRGF0ZSA9IHRoaXMuZm9ybWF0RGF0ZShjbGllbnRJbmZvLmRhdGVPZkJpcnRoLCAnREQgTU1NLCBZWVlZJyk7CiAgICAgIHRoaXMuY2xpZW50RGF0YS5pbnRlcnZpZXcgPSB0aGlzLmZvcm1hdERhdGUoY2xpZW50SW5mby5pbnRlcnZpZXdEYXRlLCAnTU1NTSBELCBZWVlZIGg6bW0gQScpOwogICAgICB0aGlzLmNsaWVudERhdGEuYWRkcmVzcyA9IGNsaWVudEluZm8uYWRkcmVzczsKICAgICAgdGhpcy5jbGllbnREYXRhLnN0YXRlID0gY2xpZW50SW5mby5zdGF0ZTsKICAgICAgdGhpcy5jbGllbnREYXRhLmNvdW50cnkgPSBjbGllbnRJbmZvLmNvdW50cnk7CiAgICAgIHRoaXMuY2xpZW50RGF0YS56aXBDb2RlID0gY2xpZW50SW5mby5wb3N0YWxDb2RlOwogICAgICB0aGlzLmNsaWVudERhdGEuYWdlbnROdW1iZXIgPSBjbGllbnRJbmZvLmFnZW50TnVtYmVyOwogICAgICB0aGlzLmNsaWVudERhdGEuY3JlYXRlZEJ5ID0gY2xpZW50SW5mby5jcmVhdGVkQnk7CiAgICAgIHRoaXMuY2xpZW50RGF0YS5pbnN1cmFuY2VMaWNlbnNlID0gY2xpZW50SW5mby5pc0xpY2Vuc2VkOwogICAgICB0aGlzLmdldE1hcHNMaW5rKCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEdldCB0aGUgbmFtZSBvZiB1c2VyDQogICAgICovCiAgICBjaGF0VXNlcm5hbWU6IGZ1bmN0aW9uIGNoYXRVc2VybmFtZShuYW1lLCBpbWFnZSkgewogICAgICB0aGlzLnVzZXJuYW1lID0gbmFtZTsKICAgICAgdGhpcy5wcm9maWxlID0gaW1hZ2U7CiAgICAgIHRoaXMudXNlcm1lc3NhZ2UgPSAiSGVsbG8iOwogICAgICB0aGlzLm5vdGVzRGF0YSA9IFtdOwogICAgICB2YXIgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpOwogICAgICB0aGlzLm5vdGVzRGF0YS5wdXNoKHsKICAgICAgICBuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgIG1lc3NhZ2U6IHRoaXMudXNlcm1lc3NhZ2UsCiAgICAgICAgdGltZTogY3VycmVudERhdGUuZ2V0SG91cnMoKSArICI6IiArIGN1cnJlbnREYXRlLmdldE1pbnV0ZXMoKQogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICogQ2hhciBmb3JtIFN1Ym1pdA0KICAgICAqLwogICAgZm9ybVN1Ym1pdDogZnVuY3Rpb24gZm9ybVN1Ym1pdCgpIHsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOyAvLyBzdG9wIGhlcmUgaWYgZm9ybSBpcyBpbnZhbGlkCgogICAgICB0aGlzLnYkLiR0b3VjaCgpOwoKICAgICAgaWYgKHRoaXMudiQuJGludmFsaWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIG1lc3NhZ2UgPSB0aGlzLmZvcm0ubWVzc2FnZTsKICAgICAgICB2YXIgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgIHRoaXMubm90ZXNEYXRhLnB1c2goewogICAgICAgICAgYWxpZ246ICJyaWdodCIsCiAgICAgICAgICBuYW1lOiAiSGVucnkgV2VsbHMiLAogICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSwKICAgICAgICAgIHRpbWU6IGN1cnJlbnREYXRlLmdldEhvdXJzKCkgKyAiOiIgKyBjdXJyZW50RGF0ZS5nZXRNaW51dGVzKCkKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgICAgdGhpcy5mb3JtID0ge307CiAgICB9LAogICAgYWRkTmV3Q2xpZW50TW9kYWw6IGZ1bmN0aW9uIGFkZE5ld0NsaWVudE1vZGFsKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHRoaXMucmVzZXRDbGllbnREYXRhKCk7CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNsb2NhbEFnZW50SUQiKS52YWx1ZSA9IDA7CiAgICAgIHZhciBnb0JhY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ29CYWNrJyk7CiAgICAgIHZhciBnb05leHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ29OZXh0Jyk7CiAgICAgIGdvQmFjay5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICBnb05leHQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgdmFyIGNsaWVudERhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjbGllbnRGb3JtRGF0YScpKTsKCiAgICAgIGlmIChjbGllbnREYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgdGl0bGU6ICdEbyB5b3Ugd2FudCB0byBjb250aW51ZSB0aGUgam9iIHlvdSBsZWZ0PycsCiAgICAgICAgICBzaG93RGVueUJ1dHRvbjogdHJ1ZSwKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnWWVzJywKICAgICAgICAgIGRlbnlCdXR0b25UZXh0OiAiTm8iCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAvKiBSZWFkIG1vcmUgYWJvdXQgaXNDb25maXJtZWQsIGlzRGVuaWVkIGJlbG93ICovCiAgICAgICAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7CiAgICAgICAgICAgIFN3YWwuZmlyZSgnUmVzdG9yZWQhJywgJycsICdzdWNjZXNzJyk7CgogICAgICAgICAgICBfdGhpczgucmVzdG9yZUZvcm0oKTsKCiAgICAgICAgICAgIHZhciBfZ29CYWNrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dvQmFjaycpOwoKICAgICAgICAgICAgdmFyIF9nb05leHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ29OZXh0Jyk7CgogICAgICAgICAgICBfZ29CYWNrLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIF9nb05leHQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKCiAgICAgICAgICAgIGlmIChjbGllbnREYXRhLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICBfZ29CYWNrLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgIF9nb05leHQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmlzRGVuaWVkKSB7CiAgICAgICAgICAgIF90aGlzOC5yZXNldENsaWVudERhdGEoKTsKCiAgICAgICAgICAgIFN3YWwuZmlyZSgnU2F2ZWQgZGF0YSByZW1vdmVkIScsICcnLCAnaW5mbycpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xpZW50TW9kYWxMYWJlbEFkZCcpLmlubmVySFRNTCA9ICJBZGQgQ2xpZW50IjsKICAgIH0sCiAgICBwcmludEVtaXQ6IGZ1bmN0aW9uIHByaW50RW1pdChub3RpZnkpIHsKICAgICAgdGhpcy5ub3Rlc0RhdGEgPSBub3RpZnk7CiAgICB9LAogICAgcmVmcmVzaENvbnRhY3RzOiBmdW5jdGlvbiByZWZyZXNoQ29udGFjdHMobm90aWZ5KSB7CiAgICAgIHRoaXMuZ2V0RWNvbnRhY3RzKCk7CiAgICAgIGNvbnNvbGUubG9nKCdleGVjdXRlISAnICsgbm90aWZ5KTsKICAgIH0sCiAgICByZWZyZXNoQmVuTGlzdDogZnVuY3Rpb24gcmVmcmVzaEJlbkxpc3Qobm90aWZ5KSB7CiAgICAgIHRoaXMuZ2V0QmVuZWZpY2lhcmllcygpOwogICAgICBjb25zb2xlLmxvZygnZXhlY3V0ZSEgJyArIG5vdGlmeSk7CiAgICB9LAogICAgcmVmcmVzaEFkZGl0YW1lbnRzOiBmdW5jdGlvbiByZWZyZXNoQWRkaXRhbWVudHMobm90aWZ5KSB7CiAgICAgIHRoaXMuZ2V0QWRkaXRhbWVudHMoKTsKICAgICAgY29uc29sZS5sb2coJ2V4ZWN1dGUhICcgKyBub3RpZnkpOwogICAgfSwKICAgIGtleUV4aXN0czogZnVuY3Rpb24ga2V5RXhpc3RzKGtleSwgc2VhcmNoKSB7CiAgICAgIGlmICghc2VhcmNoIHx8IHNlYXJjaC5jb25zdHJ1Y3RvciAhPT0gQXJyYXkgJiYgc2VhcmNoLmNvbnN0cnVjdG9yICE9PSBPYmplY3QpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VhcmNoLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzZWFyY2hbaV0pOwoKICAgICAgICBpZiAoa2V5c1swXSA9PT0ga2V5KSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBrZXkgaW4gc2VhcmNoOwogICAgfSwKICAgIGFkZEJlbmVmaWNpYXJ5OiBmdW5jdGlvbiBhZGRCZW5lZmljaWFyeSgpIHsKICAgICAgdmFyIGJlbkxpc3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdOwogICAgICB0aGlzLmJlbmVmaWNpYXJ5UXR5ID0gdGhpcy5iZW5lZmljaWFyeVF0eSArIDE7CiAgICAgIHZhciBpID0gdGhpcy5iZW5lZmljaWFyeVF0eTsKICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRCZW5lZmljaWFyeScpOwogICAgICB2YXIgc2VwYXJhdG9yID0gJyc7CiAgICAgIHZhciBjaGVja0lERXhpc3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJlbkZpcnN0TmFtZS0xIik7CiAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgogICAgICBpZiAoYmVuTGlzdC5sZW5ndGggPD0gMCkgewogICAgICAgIGJlbkxpc3QucHVzaChiZW5MaXN0WydmaXJzdE5hbWUnXSA9ICcnLCBiZW5MaXN0WydsYXN0TmFtZSddID0gJycsIGJlbkxpc3RbJ2FkZHJlc3MnXSA9ICcnLCBiZW5MaXN0WydwaG9uZU51bWJlciddID0gJycsIGJlbkxpc3RbJ3N0YXRlJ10gPSAnJywgYmVuTGlzdFsncG9zdGFsQ29kZSddID0gJycsIGJlbkxpc3RbJ3JlbGF0aW9uc2hpcCddID0gJycsIGJlbkxpc3RbJ2FnZSddID0gJycpOwogICAgICB9CgogICAgICBpZiAoY2hlY2tJREV4aXN0cykgewogICAgICAgIHNlcGFyYXRvciA9ICc8aHIgc3R5bGU9ImJvcmRlci10b3A6IDFweCBzb2xpZCAjMmM5YTJhOyI+JzsKICAgICAgfQoKICAgICAgZWxlbWVudC5pbm5lckhUTUwgKz0gJzxkaXYgY2xhc3M9InJvdyIgaWQ9InJvd0JlbicgKyBpICsgJyI+XG4nICsgc2VwYXJhdG9yICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iYmVuRmlyc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPkZpcnN0IE5hbWU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJiZW5GaXJzdE5hbWUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBGaXJzdCBOYW1lIiBuYW1lPSJiZW5GaXJzdE5hbWVbXSIgcmVxdWlyZWQgdmFsdWU9IicgKyBiZW5MaXN0WydmaXJzdE5hbWUnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImJlbkxhc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPkxhc3QgTmFtZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImJlbkxhc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgTGFzdCBOYW1lIiAgbmFtZT0iYmVuTGFzdE5hbWVbXSIgcmVxdWlyZWQgdmFsdWU9IicgKyBiZW5MaXN0WydsYXN0TmFtZSddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iYmVuQWRkcmVzcy0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5BZGRyZXNzPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iYmVuQWRkcmVzcy0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIEFkZHJlc3MiICBuYW1lPSJiZW5BZGRyZXNzW10iIHJlcXVpcmVkIHZhbHVlPSInICsgYmVuTGlzdFsnYWRkcmVzcyddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iYmVuUGhvbmUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+UGhvbmU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJiZW5QaG9uZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIFBob25lIiAgbmFtZT0iYmVuUGhvbmVbXSIgcmVxdWlyZWQgdmFsdWU9IicgKyBiZW5MaXN0WydwaG9uZU51bWJlciddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iYmVuU3RhdGUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+U3RhdGU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJiZW5TdGF0ZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIFN0YXRlIiAgbmFtZT0iYmVuU3RhdGVbXSIgIHJlcXVpcmVkIHZhbHVlPSInICsgYmVuTGlzdFsnc3RhdGUnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImJlblBvc3RhbENvZGUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+UG9zdGFsIENvZGU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJiZW5Qb3N0YWxDb2RlLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgUG9zdGFsIENvZGUiICBuYW1lPSJiZW5Qb3N0YWxDb2RlW10iIHJlcXVpcmVkIHZhbHVlPSInICsgYmVuTGlzdFsncG9zdGFsQ29kZSddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iYmVuUmVsYXRpb24tJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+UmVsYXRpb25zaGlwPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iYmVuUmVsYXRpb24tJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBSZWxhdGlvbnNoaXAiICBuYW1lPSJiZW5SZWxhdGlvbltdIiAgcmVxdWlyZWQgdmFsdWU9IicgKyBiZW5MaXN0WydyZWxhdGlvbnNoaXAnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImJlbkFnZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5BZ2U8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJiZW5BZ2UtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBBZ2UiICBuYW1lPSJiZW5BZ2VbXSIgcmVxdWlyZWQgdmFsdWU9IicgKyBiZW5MaXN0WydhZ2UnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgPGRpdiBjbGFzcz0iY29sLW1kLTYiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOyI+XG4nICsgJyA8L2Rpdj5cbicgKyAnIDxkaXYgY2xhc3M9ImNvbC1tZC02IiBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsiPlxuJyArICcgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSInICsgaSArICciIGNsYXNzPSJidG4gYnRuLWRhbmdlciByZW1vdmVJdGVtQmVuIiB0aXRsZT0iRGVsZXRlIj48aSBjbGFzcz0icmktY2xvc2UtY2lyY2xlLWxpbmUiPjwvaT48L2J1dHRvbj5cbicgKyAnIDwvZGl2PlxuJyArICc8L2Rpdj4nOwogICAgICBkaXYuYXBwZW5kQ2hpbGQoZWxlbWVudCk7CiAgICB9LAogICAgYWRkRWNvbnRhY3Q6IGZ1bmN0aW9uIGFkZEVjb250YWN0KCkgewogICAgICB2YXIgZUNvbnRhY3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdOwogICAgICB0aGlzLmVDb250YWN0UXR5ID0gdGhpcy5lQ29udGFjdFF0eSArIDE7CiAgICAgIHZhciBpID0gdGhpcy5lQ29udGFjdFF0eTsKICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRFY29udGFjdCcpOwogICAgICB2YXIgc2VwYXJhdG9yID0gJyc7CiAgICAgIHZhciBjaGVja0lERXhpc3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVDb25GaXJzdE5hbWUtMSIpOwogICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoKICAgICAgaWYgKGVDb250YWN0Lmxlbmd0aCA8PSAwKSB7CiAgICAgICAgZUNvbnRhY3QucHVzaChlQ29udGFjdFsnZmlyc3ROYW1lJ10gPSAnJywgZUNvbnRhY3RbJ2xhc3ROYW1lJ10gPSAnJywgZUNvbnRhY3RbJ2FkZHJlc3MnXSA9ICcnLCBlQ29udGFjdFsncGhvbmVOdW1iZXInXSA9ICcnLCBlQ29udGFjdFsnc3RhdGUnXSA9ICcnLCBlQ29udGFjdFsncG9zdGFsQ29kZSddID0gJycsIGVDb250YWN0WydyZWxhdGlvbnNoaXAnXSA9ICcnLCBlQ29udGFjdFsnYWdlJ10gPSAnJyk7CiAgICAgIH0KCiAgICAgIGlmIChjaGVja0lERXhpc3RzKSB7CiAgICAgICAgc2VwYXJhdG9yID0gJzxociBzdHlsZT0iYm9yZGVyLXRvcDogMXB4IHNvbGlkICMyYzlhMmE7Ij4nOwogICAgICB9CgogICAgICBlbGVtZW50LmlubmVySFRNTCArPSBzZXBhcmF0b3IgKyAnPGRpdiBjbGFzcz0icm93IiBpZD0icm93RWNvbicgKyBpICsgJyI+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iZUNvbkZpcnN0TmFtZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5GaXJzdCBOYW1lPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZUNvbkZpcnN0TmFtZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIEZpcnN0IE5hbWUiIG5hbWU9ImVDb25GaXJzdE5hbWVbXSIgcmVxdWlyZWQgdmFsdWU9IicgKyBlQ29udGFjdFsnZmlyc3ROYW1lJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJlQ29uTGFzdE5hbWUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+TGFzdCBOYW1lPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZUNvbkxhc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgTGFzdCBOYW1lIiAgbmFtZT0iZUNvbkxhc3ROYW1lW10iIHJlcXVpcmVkICB2YWx1ZT0iJyArIGVDb250YWN0WydsYXN0TmFtZSddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iZUNvbkFkZHJlc3MtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+QWRkcmVzczwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImVDb25BZGRyZXNzLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgQWRkcmVzcyIgIG5hbWU9ImVDb25BZGRyZXNzW10iIHJlcXVpcmVkICB2YWx1ZT0iJyArIGVDb250YWN0WydhZGRyZXNzJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJlQ29uUGhvbmUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+UGhvbmU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJlQ29uUGhvbmUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBQaG9uZSIgIG5hbWU9ImVDb25QaG9uZVtdIiByZXF1aXJlZCAgdmFsdWU9IicgKyBlQ29udGFjdFsncGhvbmVOdW1iZXInXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImVDb25TdGF0ZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5TdGF0ZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImVDb25TdGF0ZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIFN0YXRlIiAgbmFtZT0iZUNvblN0YXRlW10iICByZXF1aXJlZCAgdmFsdWU9IicgKyBlQ29udGFjdFsnc3RhdGUnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImVDb25Qb3N0YWxDb2RlLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPlBvc3RhbCBDb2RlPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZUNvblBvc3RhbENvZGUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBQb3N0YWwgQ29kZSIgIG5hbWU9ImVDb25Qb3N0YWxDb2RlW10iIHJlcXVpcmVkICB2YWx1ZT0iJyArIGVDb250YWN0Wydwb3N0YWxDb2RlJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJlQ29uUmVsYXRpb24tJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+UmVsYXRpb25zaGlwPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZUNvblJlbGF0aW9uLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgUmVsYXRpb25zaGlwIiAgbmFtZT0iZUNvblJlbGF0aW9uW10iICByZXF1aXJlZCAgdmFsdWU9IicgKyBlQ29udGFjdFsncmVsYXRpb25zaGlwJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJlQ29uQWdlLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPkFnZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImVDb25BZ2UtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBBZ2UiICBuYW1lPSJlQ29uQWdlW10iIHJlcXVpcmVkICB2YWx1ZT0iJyArIGVDb250YWN0WydhZ2UnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgPGRpdiBjbGFzcz0iY29sLW1kLTYiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOyI+XG4nICsgJyA8L2Rpdj5cbicgKyAnIDxkaXYgY2xhc3M9ImNvbC1tZC02IiBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsiPlxuJyArICcgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSInICsgaSArICciIGNsYXNzPSJidG4gYnRuLWRhbmdlciByZW1vdmVJdGVtRWNvbiIgdGl0bGU9IkRlbGV0ZSI+PGkgY2xhc3M9InJpLWNsb3NlLWNpcmNsZS1saW5lIj48L2k+PC9idXR0b24+XG4nICsgJyA8L2Rpdj5cbicgKyAnPC9kaXY+JzsKICAgICAgZGl2LmFwcGVuZChlbGVtZW50KTsKICAgIH0sCiAgICBhZGRBZGRpdGFtZW50czogZnVuY3Rpb24gYWRkQWRkaXRhbWVudHMoKSB7CiAgICAgIHZhciBhZGRpdGFtZW50cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107CiAgICAgIHRoaXMuYWRkaXRhbWVudHNRdHkgPSB0aGlzLmFkZGl0YW1lbnRzUXR5ICsgMTsKICAgICAgdmFyIGkgPSB0aGlzLmFkZGl0YW1lbnRzUXR5OwogICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZEFkZGl0YW1lbnRzJyk7CiAgICAgIHZhciBzZXBhcmF0b3IgPSAnJzsKICAgICAgdmFyIGNoZWNrSURFeGlzdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZUNvbkZpcnN0TmFtZS0xIik7CiAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgogICAgICBpZiAoYWRkaXRhbWVudHMubGVuZ3RoIDw9IDApIHsKICAgICAgICBhZGRpdGFtZW50cy5wdXNoKGFkZGl0YW1lbnRzWydmaXJzdE5hbWUnXSA9ICcnLCBhZGRpdGFtZW50c1snbGFzdE5hbWUnXSA9ICcnLCBhZGRpdGFtZW50c1snZ2VuZGVyJ10gPSAwLCBhZGRpdGFtZW50c1sncmV0YWxpb25zaGlwJ10gPSAwLCBhZGRpdGFtZW50c1snYWdlJ10gPSAnJyk7CiAgICAgIH0KCiAgICAgIGlmIChjaGVja0lERXhpc3RzKSB7CiAgICAgICAgc2VwYXJhdG9yID0gJzxociBzdHlsZT0iYm9yZGVyLXRvcDogMXB4IHNvbGlkICMyYzlhMmE7Ij4nOwogICAgICB9CgogICAgICBlbGVtZW50LmlubmVySFRNTCArPSBzZXBhcmF0b3IgKyAnPGRpdiBjbGFzcz0icm93IiBpZD0icm93QWRkaXRhbWVudHMnICsgaSArICciPlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9IkFkZGlGaXJzdE5hbWUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+Rmlyc3QgTmFtZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9IkFkZGlGaXJzdE5hbWUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBGaXJzdCBOYW1lIiBuYW1lPSJBZGRpRmlyc3ROYW1lW10iIHJlcXVpcmVkIHZhbHVlPSInICsgYWRkaXRhbWVudHNbJ2ZpcnN0TmFtZSddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iQWRkaUxhc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPkxhc3QgTmFtZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9IkFkZGlMYXN0TmFtZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIExhc3QgTmFtZSIgIG5hbWU9IkFkZGlMYXN0TmFtZVtdIiByZXF1aXJlZCB2YWx1ZT0iJyArIGFkZGl0YW1lbnRzWydsYXN0TmFtZSddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJzxkaXYgY2xhc3M9ImNvbC1sZy02Ij4nICsgJyAgPGxhYmVsIGZvcj0iQWRkaUdlbmRlciIgY2xhc3M9ImZvcm0tbGFiZWwiPkdlbmRlcjwvbGFiZWw+JyArICcgIDxzZWxlY3QgY2xhc3M9ImZvcm0tc2VsZWN0IG1iLTIiIGFyaWEtbGFiZWw9IkdlbmRlciIgaWQ9IkFkZGlHZW5kZXItJyArIGkgKyAnIiBuYW1lPSJBZGRpR2VuZGVyW10iPicgKyAnICAgIDxvcHRpb24gdmFsdWU9IjAiID5TZWxlY3QuLi48L29wdGlvbj4nICsgJyAgICA8b3B0aW9uIHZhbHVlPSJGIj5GZW1hbGU8L29wdGlvbj4nICsgJyAgICA8b3B0aW9uIHZhbHVlPSJNIj5NYWxlPC9vcHRpb24+JyArICc8L3NlbGVjdD4nICsgJzwvZGl2PlxuJyArICc8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgPGxhYmVsIGZvcj0iQWRkaUFnZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5BZ2U8L2xhYmVsPlxuJyArICcgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iQWRkaUFnZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIEFnZSIgIG5hbWU9IkFkZGlBZ2VbXSIgcmVxdWlyZWQgIHZhbHVlPSInICsgYWRkaXRhbWVudHNbJ2FnZSddICsgJyI+XG4nICsgJzwvZGl2PlxuJyArICcgPGRpdiBjbGFzcz0iY29sLW1kLTYiPlxuJyArICcgIDxsYWJlbCBmb3I9IkFkZGlSZWxhdGlvbi0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5SZWxhdGlvbnNoaXA8L2xhYmVsPicgKyAnICA8c2VsZWN0IGNsYXNzPSJmb3JtLXNlbGVjdCBtYi0yIiBhcmlhLWxhYmVsPSJBZGRpUmVsYXRpb24iIGlkPSJBZGRpUmVsYXRpb24tJyArIGkgKyAnIiBuYW1lPSJBZGRpUmVsYXRpb25bXSIgIHZhbHVlPSInICsgYWRkaXRhbWVudHNbJ3JldGFsaW9uc2hpcCddICsgJyI+JyArICcgICAgPG9wdGlvbiB2YWx1ZT0iMCI+UmVsYXRpb248L29wdGlvbj4nICsgJyAgICA8b3B0aW9uIHZhbHVlPSJDIj5DaGlsZHJlbjwvb3B0aW9uPicgKyAnICAgIDxvcHRpb24gdmFsdWU9IlMiPlN0ZXBzb248L29wdGlvbj4nICsgJyAgICA8b3B0aW9uIHZhbHVlPSJHIj5HcmFuZHNvbjwvb3B0aW9uPicgKyAnPC9zZWxlY3Q+JyArICcgPC9kaXY+XG4nICsgJyA8ZGl2IGNsYXNzPSJjb2wtbWQtNiIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7Ij5cbicgKyAnICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBpZD0iJyArIGkgKyAnIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgcmVtb3ZlSXRlbUFkZGl0YW1lbnRzIiB0aXRsZT0iRGVsZXRlIj48aSBjbGFzcz0icmktY2xvc2UtY2lyY2xlLWxpbmUiPjwvaT48L2J1dHRvbj5cbicgKyAnIDwvZGl2PlxuJyArICc8L2Rpdj4nOwogICAgICBkaXYuYXBwZW5kKGVsZW1lbnQpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiQWRkaUdlbmRlci0iICsgaSArICIiKS52YWx1ZSA9IGFkZGl0YW1lbnRzWydnZW5kZXInXTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkFkZGlSZWxhdGlvbi0iICsgaSArICIiKS52YWx1ZSA9IGFkZGl0YW1lbnRzWydyZXRhbGlvbnNoaXAnXTsKICAgIH0sCiAgICBhZGRBbm90aGVyQ2xpZW50OiBmdW5jdGlvbiBhZGRBbm90aGVyQ2xpZW50KCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOSgpIHsKICAgICAgICB2YXIgbG9jYWxBZ2VudElELCBiZW5lZmljaWFyaWVzLCBlbWVyZ2VuY3lDb250YWN0cywgYWRkZWRDaGlsZHMsIGZvcm1WYWx1ZXMsIHZhbHVlcywgZm9ybSwgaSwgZSwgX2kyLCBrZXlzLCBmb3JtTnVtYmVyLCBnb0JhY2ssIGdvTmV4dCwgX2Zvcm1OdW1iZXIsIF9nb0JhY2syLCBfZ29OZXh0MiwgbGlzdCwgX2kzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE5JChfY29udGV4dDE5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTkucHJldiA9IF9jb250ZXh0MTkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzOS5lcnJvcnMgPSBbXTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzOS5jbGllbnREYXRhLmZpcnN0TmFtZSkgewogICAgICAgICAgICAgICAgICBfdGhpczkuZXJyb3JzLnB1c2goJ0ZpcnN0IE5hbWUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczkuY2xpZW50RGF0YS5sYXN0TmFtZSkgewogICAgICAgICAgICAgICAgICBfdGhpczkuZXJyb3JzLnB1c2goJ0xhc3QgTmFtZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzOS5jbGllbnREYXRhLnN0YXR1cykgewogICAgICAgICAgICAgICAgICBfdGhpczkuZXJyb3JzLnB1c2goJ1N0YXR1cyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzOS5jbGllbnREYXRhLnBob25lKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOS5lcnJvcnMucHVzaCgnUGhvbmUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzOS52YWxpZFBob25lKF90aGlzOS5jbGllbnREYXRhLnBob25lKSA9PT0gZmFsc2UgJiYgX3RoaXM5LmNsaWVudERhdGEucGhvbmUgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOS5lcnJvcnMucHVzaCgnUGxlYXNlLCB3cml0ZSBhIHZhbGlkIHBob25lIG51bWJlciEnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzOS5jbGllbnREYXRhLmRlcGFydG1lbnQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM5LmVycm9ycy5wdXNoKCdEZXBhcnRtZW50IGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczkuY2xpZW50RGF0YS50eXBlID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgICBfdGhpczkuZXJyb3JzLnB1c2goJ0xlYWQvQ2xpZW50IFR5cGUgaXMgcmVxdWlyZWQuJyk7CgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYWRkIGFub3RoZXInKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM5LmNsaWVudERhdGEuZ2VuZGVyICE9PSAnTScgJiYgX3RoaXM5LmNsaWVudERhdGEuZ2VuZGVyICE9PSAnRicpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM5LmVycm9ycy5wdXNoKCdHZW5kZXIgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzOS5jbGllbnREYXRhLmxhbmd1YWdlICE9PSAnMScgJiYgX3RoaXM5LmNsaWVudERhdGEubGFuZ3VhZ2UgIT09ICcyJykgewogICAgICAgICAgICAgICAgICBfdGhpczkuZXJyb3JzLnB1c2goJ0xhbmd1YWdlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczkuY2xpZW50RGF0YS5sZWFkVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM5LmVycm9ycy5wdXNoKCdMZWFkL2NsaWVudCBUeXBlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczkuZXJyb3JzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSAyMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gbGV0IGNsaWVudERhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjbGllbnRGb3JtRGF0YScpKTsKICAgICAgICAgICAgICAgIC8vIGxldCBmb3JtTnVtYmVyID0gTnVtYmVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNsb2NhbEFnZW50SUQiKS52YWx1ZSk7CiAgICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgICAgLy8gaWYoY2xpZW50RGF0YS5sZW5ndGggPiAwKXsKICAgICAgICAgICAgICAgIC8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2xvY2FsQWdlbnRJRCIpLnZhbHVlID0gZm9ybU51bWJlciArIDE7CiAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICBsb2NhbEFnZW50SUQgPSAnaWQnICsgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2xvY2FsQWdlbnRJRCIpLnZhbHVlOwogICAgICAgICAgICAgICAgYmVuZWZpY2lhcmllcyA9IF90aGlzOS5nZXRCZW5maWNpYXJpZXMoKTsKICAgICAgICAgICAgICAgIGVtZXJnZW5jeUNvbnRhY3RzID0gX3RoaXM5LmdldEVtZXJnZW5jeSgpOwogICAgICAgICAgICAgICAgYWRkZWRDaGlsZHMgPSBfdGhpczkuZ2V0QWRkZWRDaGlsZHMoKTsKICAgICAgICAgICAgICAgIGZvcm1WYWx1ZXMgPSB7fTsKICAgICAgICAgICAgICAgIHZhbHVlcyA9IHt9OwogICAgICAgICAgICAgICAgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRmb3JtIik7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGZvcm0uZWxlbWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgZSA9IGZvcm0uZWxlbWVudHNbaV07CgogICAgICAgICAgICAgICAgICBpZiAoZS5uYW1lICE9PSAnJykgewogICAgICAgICAgICAgICAgICAgIGZvcm1WYWx1ZXNbZS5uYW1lXSA9IGUudmFsdWU7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGZvcm1WYWx1ZXNbJ2VkaXRHZW5kZXInXSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W3R5cGU9J3JhZGlvJ11bbmFtZT1lZGl0R2VuZGVyXTpjaGVja2VkIikudmFsdWU7CgogICAgICAgICAgICAgICAgICBpZiAoX3RoaXM5LmlzQ2xpZW50TGlzdCkgewogICAgICAgICAgICAgICAgICAgIGZvcm1WYWx1ZXNbJ2VkaXRUeXBlJ10gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjZWRpdFR5cGUiKS52YWx1ZTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBmb3JtVmFsdWVzWydlZGl0VHlwZSddID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2VkaXRUeXBlMSIpLnZhbHVlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IC8vIGlmIGFycmF5IGRhdGEgYWxyZWFkeSBleGlzdCBqdXN0IHVwZGF0ZS4KCgogICAgICAgICAgICAgICAgaWYgKF90aGlzOS5rZXlFeGlzdHMobG9jYWxBZ2VudElELCBfdGhpczkuY2xpZW50Rm9ybURhdGEpKSB7CiAgICAgICAgICAgICAgICAgIGZvciAoX2kyID0gMDsgX2kyIDwgX3RoaXM5LmNsaWVudEZvcm1EYXRhLmxlbmd0aDsgX2kyKyspIHsKICAgICAgICAgICAgICAgICAgICBrZXlzID0gT2JqZWN0LmtleXMoX3RoaXM5LmNsaWVudEZvcm1EYXRhW19pMl0pOwoKICAgICAgICAgICAgICAgICAgICBpZiAoa2V5c1swXSA9PT0gbG9jYWxBZ2VudElEKSB7CiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczkuY2xpZW50Rm9ybURhdGFbX2kyXVtrZXlzXSk7IC8vIHRoaXMuY2xpZW50Rm9ybURhdGFbaV1ba2V5c10gPSB7Zm9ybVZhbHVlcywgYmVuZWZpY2lhcmllcywgZW1lcmdlbmN5Q29udGFjdHMsIGFkZGVkQ2hpbGRzfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NsaWVudEZvcm1EYXRhJywgSlNPTi5zdHJpbmdpZnkoX3RoaXM5LmNsaWVudEZvcm1EYXRhKSk7CgogICAgICAgICAgICAgICAgICBfdGhpczkucmVzZXRDbGllbnREYXRhKCk7CgogICAgICAgICAgICAgICAgICBmb3JtTnVtYmVyID0gTnVtYmVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNsb2NhbEFnZW50SUQiKS52YWx1ZSk7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNsb2NhbEFnZW50SUQiKS52YWx1ZSA9IGZvcm1OdW1iZXIgKyAxOwogICAgICAgICAgICAgICAgICBnb0JhY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ29CYWNrJyk7CiAgICAgICAgICAgICAgICAgIGdvTmV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnb05leHQnKTsKICAgICAgICAgICAgICAgICAgZ29CYWNrLnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgICAgICAgICAgICAgICAgZ29OZXh0LnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgICAgICAgICAgICAgICAgZ29CYWNrLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgICBnb05leHQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7IC8vIGlmIGFycmF5IGRhdGEgZG8gbm90IGV4aXN0IGNyZWF0ZSBpdC4KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHZhbHVlcyA9IHsKICAgICAgICAgICAgICAgICAgICBmb3JtVmFsdWVzOiBmb3JtVmFsdWVzLAogICAgICAgICAgICAgICAgICAgIGJlbmVmaWNpYXJpZXM6IGJlbmVmaWNpYXJpZXMsCiAgICAgICAgICAgICAgICAgICAgZW1lcmdlbmN5Q29udGFjdHM6IGVtZXJnZW5jeUNvbnRhY3RzLAogICAgICAgICAgICAgICAgICAgIGFkZGVkQ2hpbGRzOiBhZGRlZENoaWxkcwogICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgX3RoaXM5LmNsaWVudEZvcm1EYXRhLnB1c2goX2RlZmluZVByb3BlcnR5KHt9LCBsb2NhbEFnZW50SUQsIHZhbHVlcykpOwoKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NsaWVudEZvcm1EYXRhJywgSlNPTi5zdHJpbmdpZnkoX3RoaXM5LmNsaWVudEZvcm1EYXRhKSk7CgogICAgICAgICAgICAgICAgICBfdGhpczkucmVzZXRDbGllbnREYXRhKCk7CgogICAgICAgICAgICAgICAgICBfZm9ybU51bWJlciA9IE51bWJlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbG9jYWxBZ2VudElEIikudmFsdWUpOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbG9jYWxBZ2VudElEIikudmFsdWUgPSBfZm9ybU51bWJlciArIDE7CiAgICAgICAgICAgICAgICAgIF9nb0JhY2syID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dvQmFjaycpOwogICAgICAgICAgICAgICAgICBfZ29OZXh0MiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnb05leHQnKTsKICAgICAgICAgICAgICAgICAgX2dvQmFjazIuc3R5bGUuZGlzcGxheSA9ICcnOwogICAgICAgICAgICAgICAgICBfZ29OZXh0Mi5zdHlsZS5kaXNwbGF5ID0gJyc7CiAgICAgICAgICAgICAgICAgIF9nb0JhY2syLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgICBfZ29OZXh0Mi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSAyNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgIGZvciAoX2kzID0gMDsgX2kzIDwgX3RoaXM5LmVycm9ycy5sZW5ndGg7IF9pMysrKSB7CiAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgX3RoaXM5LmVycm9yc1tfaTNdICsgJzwvYj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDI3OwogICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNvbXBsZXRlIHRoZSBmb3JtISAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldEVjb250YWN0czogZnVuY3Rpb24gZ2V0RWNvbnRhY3RzKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjAoKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMCQoX2NvbnRleHQyMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIwLnByZXYgPSBfY29udGV4dDIwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICBpc1Byb3NwZWN0OiAwLAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICBjbGllbnRJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2NsaWVudC9nZXRlY29udGFjdHMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZUNvbnRhY3RMaXN0JykuaW5uZXJIVE1MID0gIiI7CiAgICAgICAgICAgICAgICAgIF90aGlzMTAuZUNvbnRhY3RsaXN0ID0gW107CiAgICAgICAgICAgICAgICAgIF90aGlzMTAuZUNvbnRhY3RsaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIkRlcGFydG1lbnRzIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldEJlbmVmaWNpYXJpZXM6IGZ1bmN0aW9uIGdldEJlbmVmaWNpYXJpZXMoKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMSgpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIxJChfY29udGV4dDIxKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjEucHJldiA9IF9jb250ZXh0MjEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIGlzUHJvc3BlY3Q6IDAsCiAgICAgICAgICAgICAgICAgIHVzZXJFbWFpbDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgICAgICAgIGNsaWVudElEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2VsZWN0ZWRVc2VyJyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJykKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY2xpZW50L2dldGJlbmVmaWNpYXJpZXMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZUNvbnRhY3RMaXN0JykuaW5uZXJIVE1MID0gIiI7CiAgICAgICAgICAgICAgICAgIF90aGlzMTEuYmVuTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICBfdGhpczExLmJlbkxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiRGVwYXJ0bWVudHMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIxKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0QWRkaXRhbWVudHM6IGZ1bmN0aW9uIGdldEFkZGl0YW1lbnRzKCkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjIoKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMiQoX2NvbnRleHQyMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIyLnByZXYgPSBfY29udGV4dDIyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICBpc1Byb3NwZWN0OiAwLAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICBjbGllbnRJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2NsaWVudC9nZXRBZGRpdGFtZW50cycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlQ29udGFjdExpc3QnKS5pbm5lckhUTUwgPSAiIjsKICAgICAgICAgICAgICAgICAgX3RoaXMxMi5hZGRpdGFtZW50c0xpc3QgPSBbXTsKICAgICAgICAgICAgICAgICAgX3RoaXMxMi5hZGRpdGFtZW50c0xpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiRGVwYXJ0bWVudHMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2hlY2tDbGllbnRFeGlzdHM6IGZ1bmN0aW9uIGNoZWNrQ2xpZW50RXhpc3RzKCkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjMoKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMyQoX2NvbnRleHQyMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIzLnByZXYgPSBfY29udGV4dDIzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICBpc1Byb3NwZWN0OiAwLAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICBjbGllbnRJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICBwb3RlbnRpYWxDbGllbnRFbWFpbDogX3RoaXMxMy5jbGllbnREYXRhLmVtYWlsCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMxMy52YWxpZEVtYWlsKGRhdGEucG90ZW50aWFsQ2xpZW50RW1haWwpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9jbGllbnQvZW1haWxFeGlzdHMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNyZWF0ZUVtYWlsIik7CgogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA+IDApIHsKICAgICAgICAgICAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgiaXMtaW52YWxpZCIpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGRpdi5jbGFzc0xpc3QucmVtb3ZlKCJpcy1pbnZhbGlkIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIlBsZWFzZSwgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRCZW5maWNpYXJpZXM6IGZ1bmN0aW9uIGdldEJlbmZpY2lhcmllcygpIHsKICAgICAgdmFyIG5hbWVWYWx1ZXMgPSBbXTsKICAgICAgdmFyIGxhc3RWYWx1ZXMgPSBbXTsKICAgICAgdmFyIHBob25lVmFsdWVzID0gW107CiAgICAgIHZhciBhZGRyZXNzVmFsdWVzID0gW107CiAgICAgIHZhciBzdGF0ZVZhbHVlcyA9IFtdOwogICAgICB2YXIgcG9zdGFsVmFsdWVzID0gW107CiAgICAgIHZhciByZWxhdGlvblZhbHVlcyA9IFtdOwogICAgICB2YXIgYWdlVmFsdWVzID0gW107CiAgICAgIHZhciB2YWx1ZXMgPSBbXTsKICAgICAgdmFyIGJlbkZpcnN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9J2JlbkZpcnN0TmFtZVtdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pNCA9IDA7IF9pNCA8IGJlbkZpcnN0TmFtZS5sZW5ndGg7IF9pNCsrKSB7CiAgICAgICAgbmFtZVZhbHVlcy5wdXNoKGJlbkZpcnN0TmFtZVtfaTRdLnZhbHVlKTsKICAgICAgfQoKICAgICAgdmFyIGJlbkxhc3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nYmVuTGFzdE5hbWVbXSddIik7CgogICAgICBmb3IgKHZhciBfaTUgPSAwOyBfaTUgPCBiZW5MYXN0TmFtZS5sZW5ndGg7IF9pNSsrKSB7CiAgICAgICAgbGFzdFZhbHVlcy5wdXNoKGJlbkxhc3ROYW1lW19pNV0udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgYmVuUGhvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFtuYW1lPSdiZW5QaG9uZVtdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pNiA9IDA7IF9pNiA8IGJlblBob25lLmxlbmd0aDsgX2k2KyspIHsKICAgICAgICBwaG9uZVZhbHVlcy5wdXNoKGJlblBob25lW19pNl0udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgYmVuQWRkcmVzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9J2JlbkFkZHJlc3NbXSddIik7CgogICAgICBmb3IgKHZhciBfaTcgPSAwOyBfaTcgPCBiZW5BZGRyZXNzLmxlbmd0aDsgX2k3KyspIHsKICAgICAgICBhZGRyZXNzVmFsdWVzLnB1c2goYmVuQWRkcmVzc1tfaTddLnZhbHVlKTsKICAgICAgfQoKICAgICAgdmFyIGJlblN0YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nYmVuU3RhdGVbXSddIik7CgogICAgICBmb3IgKHZhciBfaTggPSAwOyBfaTggPCBiZW5TdGF0ZS5sZW5ndGg7IF9pOCsrKSB7CiAgICAgICAgc3RhdGVWYWx1ZXMucHVzaChiZW5TdGF0ZVtfaThdLnZhbHVlKTsKICAgICAgfQoKICAgICAgdmFyIGJlblBvc3RhbENvZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFtuYW1lPSdiZW5Qb3N0YWxDb2RlW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2k5ID0gMDsgX2k5IDwgYmVuUG9zdGFsQ29kZS5sZW5ndGg7IF9pOSsrKSB7CiAgICAgICAgcG9zdGFsVmFsdWVzLnB1c2goYmVuUG9zdGFsQ29kZVtfaTldLnZhbHVlKTsKICAgICAgfQoKICAgICAgdmFyIGJlblJlbGF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nYmVuUmVsYXRpb25bXSddIik7CgogICAgICBmb3IgKHZhciBfaTEwID0gMDsgX2kxMCA8IGJlblJlbGF0aW9uLmxlbmd0aDsgX2kxMCsrKSB7CiAgICAgICAgcmVsYXRpb25WYWx1ZXMucHVzaChiZW5SZWxhdGlvbltfaTEwXS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBiZW5BZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFtuYW1lPSdiZW5BZ2VbXSddIik7CgogICAgICBmb3IgKHZhciBfaTExID0gMDsgX2kxMSA8IGJlbkFnZS5sZW5ndGg7IF9pMTErKykgewogICAgICAgIGFnZVZhbHVlcy5wdXNoKGJlbkFnZVtfaTExXS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBpOwoKICAgICAgZm9yIChpID0gMDsgaSA8IG5hbWVWYWx1ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YWx1ZXMucHVzaCh7CiAgICAgICAgICAnZmlyc3ROYW1lJzogbmFtZVZhbHVlc1tpXSwKICAgICAgICAgICdsYXN0TmFtZSc6IGxhc3RWYWx1ZXNbaV0sCiAgICAgICAgICAncGhvbmVOdW1iZXInOiBwaG9uZVZhbHVlc1tpXSwKICAgICAgICAgICdhZGRyZXNzJzogYWRkcmVzc1ZhbHVlc1tpXSwKICAgICAgICAgICdzdGF0ZSc6IHN0YXRlVmFsdWVzW2ldLAogICAgICAgICAgJ3Bvc3RhbENvZGUnOiBwb3N0YWxWYWx1ZXNbaV0sCiAgICAgICAgICAncmVsYXRpb25zaGlwJzogcmVsYXRpb25WYWx1ZXNbaV0sCiAgICAgICAgICAnYWdlJzogYWdlVmFsdWVzW2ldCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB2YWx1ZXM7CiAgICB9LAogICAgZ2V0RW1lcmdlbmN5OiBmdW5jdGlvbiBnZXRFbWVyZ2VuY3koKSB7CiAgICAgIHZhciBuYW1lVmFsdWVzID0gW107CiAgICAgIHZhciBsYXN0VmFsdWVzID0gW107CiAgICAgIHZhciBwaG9uZVZhbHVlcyA9IFtdOwogICAgICB2YXIgYWRkcmVzc1ZhbHVlcyA9IFtdOwogICAgICB2YXIgc3RhdGVWYWx1ZXMgPSBbXTsKICAgICAgdmFyIHBvc3RhbFZhbHVlcyA9IFtdOwogICAgICB2YXIgcmVsYXRpb25WYWx1ZXMgPSBbXTsKICAgICAgdmFyIGFnZVZhbHVlcyA9IFtdOwogICAgICB2YXIgdmFsdWVzID0gW107CiAgICAgIHZhciBlQ29uRmlyc3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nZUNvbkZpcnN0TmFtZVtdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pMTIgPSAwOyBfaTEyIDwgZUNvbkZpcnN0TmFtZS5sZW5ndGg7IF9pMTIrKykgewogICAgICAgIG5hbWVWYWx1ZXMucHVzaChlQ29uRmlyc3ROYW1lW19pMTJdLnZhbHVlKTsKICAgICAgfQoKICAgICAgdmFyIGVDb25MYXN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9J2VDb25MYXN0TmFtZVtdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pMTMgPSAwOyBfaTEzIDwgZUNvbkxhc3ROYW1lLmxlbmd0aDsgX2kxMysrKSB7CiAgICAgICAgbGFzdFZhbHVlcy5wdXNoKGVDb25MYXN0TmFtZVtfaTEzXS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBlQ29uUGhvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFtuYW1lPSdlQ29uUGhvbmVbXSddIik7CgogICAgICBmb3IgKHZhciBfaTE0ID0gMDsgX2kxNCA8IGVDb25QaG9uZS5sZW5ndGg7IF9pMTQrKykgewogICAgICAgIHBob25lVmFsdWVzLnB1c2goZUNvblBob25lW19pMTRdLnZhbHVlKTsKICAgICAgfQoKICAgICAgdmFyIGVDb25BZGRyZXNzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nZUNvbkFkZHJlc3NbXSddIik7CgogICAgICBmb3IgKHZhciBfaTE1ID0gMDsgX2kxNSA8IGVDb25BZGRyZXNzLmxlbmd0aDsgX2kxNSsrKSB7CiAgICAgICAgYWRkcmVzc1ZhbHVlcy5wdXNoKGVDb25BZGRyZXNzW19pMTVdLnZhbHVlKTsKICAgICAgfQoKICAgICAgdmFyIGVDb25TdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9J2VDb25TdGF0ZVtdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pMTYgPSAwOyBfaTE2IDwgZUNvblN0YXRlLmxlbmd0aDsgX2kxNisrKSB7CiAgICAgICAgc3RhdGVWYWx1ZXMucHVzaChlQ29uU3RhdGVbX2kxNl0udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgZUNvblBvc3RhbENvZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFtuYW1lPSdlQ29uUG9zdGFsQ29kZVtdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pMTcgPSAwOyBfaTE3IDwgZUNvblBvc3RhbENvZGUubGVuZ3RoOyBfaTE3KyspIHsKICAgICAgICBwb3N0YWxWYWx1ZXMucHVzaChlQ29uUG9zdGFsQ29kZVtfaTE3XS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBlQ29uUmVsYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFtuYW1lPSdlQ29uUmVsYXRpb25bXSddIik7CgogICAgICBmb3IgKHZhciBfaTE4ID0gMDsgX2kxOCA8IGVDb25SZWxhdGlvbi5sZW5ndGg7IF9pMTgrKykgewogICAgICAgIHJlbGF0aW9uVmFsdWVzLnB1c2goZUNvblJlbGF0aW9uW19pMThdLnZhbHVlKTsKICAgICAgfQoKICAgICAgdmFyIGVDb25BZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFtuYW1lPSdlQ29uQWdlW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2kxOSA9IDA7IF9pMTkgPCBlQ29uQWdlLmxlbmd0aDsgX2kxOSsrKSB7CiAgICAgICAgYWdlVmFsdWVzLnB1c2goZUNvbkFnZVtfaTE5XS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBpOwoKICAgICAgZm9yIChpID0gMDsgaSA8IG5hbWVWYWx1ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YWx1ZXMucHVzaCh7CiAgICAgICAgICAnZmlyc3ROYW1lJzogbmFtZVZhbHVlc1tpXSwKICAgICAgICAgICdsYXN0TmFtZSc6IGxhc3RWYWx1ZXNbaV0sCiAgICAgICAgICAncGhvbmVOdW1iZXInOiBwaG9uZVZhbHVlc1tpXSwKICAgICAgICAgICdhZGRyZXNzJzogYWRkcmVzc1ZhbHVlc1tpXSwKICAgICAgICAgICdzdGF0ZSc6IHN0YXRlVmFsdWVzW2ldLAogICAgICAgICAgJ3Bvc3RhbENvZGUnOiBwb3N0YWxWYWx1ZXNbaV0sCiAgICAgICAgICAncmVsYXRpb25zaGlwJzogcmVsYXRpb25WYWx1ZXNbaV0sCiAgICAgICAgICAnYWdlJzogYWdlVmFsdWVzW2ldCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB2YWx1ZXM7CiAgICB9LAogICAgZ2V0QWRkZWRDaGlsZHM6IGZ1bmN0aW9uIGdldEFkZGVkQ2hpbGRzKCkgewogICAgICB2YXIgbmFtZVZhbHVlcyA9IFtdOwogICAgICB2YXIgbGFzdFZhbHVlcyA9IFtdOwogICAgICB2YXIgZ2VuZGVyVmFsdWVzID0gW107CiAgICAgIHZhciBhZ2VWYWx1ZXMgPSBbXTsKICAgICAgdmFyIHJlbGF0aW9uVmFsdWVzID0gW107CiAgICAgIHZhciB2YWx1ZXMgPSBbXTsKICAgICAgdmFyIGVDb25GaXJzdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFtuYW1lPSdBZGRpRmlyc3ROYW1lW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2kyMCA9IDA7IF9pMjAgPCBlQ29uRmlyc3ROYW1lLmxlbmd0aDsgX2kyMCsrKSB7CiAgICAgICAgbmFtZVZhbHVlcy5wdXNoKGVDb25GaXJzdE5hbWVbX2kyMF0udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgZUNvbkxhc3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nQWRkaUxhc3ROYW1lW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2kyMSA9IDA7IF9pMjEgPCBlQ29uTGFzdE5hbWUubGVuZ3RoOyBfaTIxKyspIHsKICAgICAgICBsYXN0VmFsdWVzLnB1c2goZUNvbkxhc3ROYW1lW19pMjFdLnZhbHVlKTsKICAgICAgfQoKICAgICAgdmFyIEFkZGlHZW5kZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJzZWxlY3RbbmFtZT0nQWRkaUdlbmRlcltdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pMjIgPSAwOyBfaTIyIDwgQWRkaUdlbmRlci5sZW5ndGg7IF9pMjIrKykgewogICAgICAgIGdlbmRlclZhbHVlcy5wdXNoKEFkZGlHZW5kZXJbX2kyMl0udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgQWRkaUFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9J0FkZGlBZ2VbXSddIik7CgogICAgICBmb3IgKHZhciBfaTIzID0gMDsgX2kyMyA8IEFkZGlBZ2UubGVuZ3RoOyBfaTIzKyspIHsKICAgICAgICBhZ2VWYWx1ZXMucHVzaChBZGRpQWdlW19pMjNdLnZhbHVlKTsKICAgICAgfQoKICAgICAgdmFyIEFkZGlSZWxhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInNlbGVjdFtuYW1lPSdBZGRpUmVsYXRpb25bXSddIik7CgogICAgICBmb3IgKHZhciBfaTI0ID0gMDsgX2kyNCA8IEFkZGlSZWxhdGlvbi5sZW5ndGg7IF9pMjQrKykgewogICAgICAgIHJlbGF0aW9uVmFsdWVzLnB1c2goQWRkaVJlbGF0aW9uW19pMjRdLnZhbHVlKTsKICAgICAgfQoKICAgICAgdmFyIGk7CgogICAgICBmb3IgKGkgPSAwOyBpIDwgbmFtZVZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhbHVlcy5wdXNoKHsKICAgICAgICAgICdmaXJzdE5hbWUnOiBuYW1lVmFsdWVzW2ldLAogICAgICAgICAgJ2xhc3ROYW1lJzogbGFzdFZhbHVlc1tpXSwKICAgICAgICAgICdnZW5kZXInOiBnZW5kZXJWYWx1ZXNbaV0sCiAgICAgICAgICAnYWdlJzogYWdlVmFsdWVzW2ldLAogICAgICAgICAgJ3JldGFsaW9uc2hpcCc6IHJlbGF0aW9uVmFsdWVzW2ldCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB2YWx1ZXM7CiAgICB9LAogICAgc2V0TWVzc2FnZXNJbmZvOiBmdW5jdGlvbiBzZXRNZXNzYWdlc0luZm8obWVzc2FnZXMpIHsKICAgICAgdGhpcy5jaGF0TWVzc2FnZXMgPSBtZXNzYWdlczsKICAgIH0sCiAgICByZXN0b3JlRm9ybTogZnVuY3Rpb24gcmVzdG9yZUZvcm0oKSB7CiAgICAgIHZhciBpbnN0cnVjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7CiAgICAgIHZhciBjbGllbnREYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2xpZW50Rm9ybURhdGEnKSk7CiAgICAgIHZhciBmb3JtTnVtYmVyID0gTnVtYmVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNsb2NhbEFnZW50SUQiKS52YWx1ZSk7CiAgICAgIHZhciBsb2NhbEFnZW50SUQgPSAnJzsKCiAgICAgIGlmIChpbnN0cnVjdGlvbiA9PT0gJ25leHQnICYmIE51bWJlcihmb3JtTnVtYmVyKSAhPT0gTnVtYmVyKGNsaWVudERhdGEubGVuZ3RoKSAtIDEpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbG9jYWxBZ2VudElEIikudmFsdWUgPSBmb3JtTnVtYmVyICsgMTsKICAgICAgICBsb2NhbEFnZW50SUQgPSAnaWQnICsgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2xvY2FsQWdlbnRJRCIpLnZhbHVlOwogICAgICAgIHRoaXMucmVzdG9yZShjbGllbnREYXRhLCBsb2NhbEFnZW50SUQpOwogICAgICAgIFN3YWwuZmlyZSgnQWdlbnQgaW5mb3JtYXRpb24gUmVzdG9yZWQhJywgJycsICdzdWNjZXNzJyk7CiAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09ICdiYWNrJyAmJiBmb3JtTnVtYmVyICE9PSAwKSB7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2xvY2FsQWdlbnRJRCIpLnZhbHVlID0gZm9ybU51bWJlciAtIDE7CiAgICAgICAgbG9jYWxBZ2VudElEID0gJ2lkJyArIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNsb2NhbEFnZW50SUQiKS52YWx1ZTsKICAgICAgICB0aGlzLnJlc3RvcmUoY2xpZW50RGF0YSwgbG9jYWxBZ2VudElEKTsKICAgICAgICBTd2FsLmZpcmUoJ0FnZW50IGluZm9ybWF0aW9uIFJlc3RvcmVkIScsICcnLCAnc3VjY2VzcycpOwogICAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uID09PSAnJykgewogICAgICAgIGxvY2FsQWdlbnRJRCA9ICdpZDAnOwogICAgICAgIHRoaXMucmVzdG9yZShjbGllbnREYXRhLCBsb2NhbEFnZW50SUQpOwogICAgICB9CgogICAgICB2YXIgZ29CYWNrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dvQmFjaycpOwogICAgICB2YXIgZ29OZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dvTmV4dCcpOwogICAgICBnb0JhY2suc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgZ29OZXh0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CgogICAgICBpZiAoY2xpZW50RGF0YS5sZW5ndGggPiAxKSB7CiAgICAgICAgZ29CYWNrLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgIGdvTmV4dC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgfQogICAgfSwKICAgIHJlc2V0Rm9ybTogZnVuY3Rpb24gcmVzZXRGb3JtKCkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkZm9ybSIpLnJlc2V0KCk7CiAgICB9LAogICAgcmVzdG9yZTogZnVuY3Rpb24gcmVzdG9yZShjbGllbnREYXRhLCBsb2NhbEFnZW50SUQpIHsKICAgICAgdGhpcy5yZXNldENsaWVudERhdGEoKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xpZW50RGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoY2xpZW50RGF0YVtpXSk7CgogICAgICAgIGlmIChrZXlzWzBdID09PSBsb2NhbEFnZW50SUQpIHsKICAgICAgICAgIHRoaXMuY2xpZW50RGF0YS5lbWFpbCA9IGNsaWVudERhdGFbaV1ba2V5c11bJ2Zvcm1WYWx1ZXMnXVsnZWRpdEVtYWlsJ107CiAgICAgICAgICB0aGlzLmNsaWVudERhdGEuc3RhdHVzID0gY2xpZW50RGF0YVtpXVtrZXlzXVsnZm9ybVZhbHVlcyddWydlZGl0U3RhdHVzJ107CiAgICAgICAgICB0aGlzLmNsaWVudERhdGEubGFuZ3VhZ2UgPSBjbGllbnREYXRhW2ldW2tleXNdWydmb3JtVmFsdWVzJ11bJ2VkaXRMYW5ndWFnZSddOwogICAgICAgICAgdGhpcy5jbGllbnREYXRhLmxhc3ROYW1lID0gY2xpZW50RGF0YVtpXVtrZXlzXVsnZm9ybVZhbHVlcyddWydlZGl0TGFzdE5hbWUnXTsKICAgICAgICAgIHRoaXMuY2xpZW50RGF0YS5maXJzdE5hbWUgPSBjbGllbnREYXRhW2ldW2tleXNdWydmb3JtVmFsdWVzJ11bJ2VkaXRGaXJzdE5hbWUnXTsKICAgICAgICAgIHRoaXMuY2xpZW50RGF0YS5maXJzdE5hbWUgPSBjbGllbnREYXRhW2ldW2tleXNdWydmb3JtVmFsdWVzJ11bJ2VkaXRGaXJzdE5hbWUnXTsKICAgICAgICAgIHRoaXMuY2xpZW50RGF0YS5nZW5kZXIgPSBjbGllbnREYXRhW2ldW2tleXNdWydmb3JtVmFsdWVzJ11bJ2VkaXRHZW5kZXInXTsKICAgICAgICAgIHRoaXMuY2xpZW50RGF0YS50eXBlID0gY2xpZW50RGF0YVtpXVtrZXlzXVsnZm9ybVZhbHVlcyddWydlZGl0VHlwZSddICE9PSAnJyA/IGNsaWVudERhdGFbaV1ba2V5c11bJ2Zvcm1WYWx1ZXMnXVsnZWRpdFR5cGUnXSA6IGNsaWVudERhdGFbaV1ba2V5c11bJ2Zvcm1WYWx1ZXMnXVsndHlwZSddOwogICAgICAgICAgdGhpcy5jbGllbnREYXRhLnBob25lID0gY2xpZW50RGF0YVtpXVtrZXlzXVsnZm9ybVZhbHVlcyddWydlZGl0UGhvbmVOdW1iZXInXTsKICAgICAgICAgIHRoaXMuY2xpZW50RGF0YS5kZXBhcnRtZW50ID0gY2xpZW50RGF0YVtpXVtrZXlzXVsnZm9ybVZhbHVlcyddWydlZGl0RGVwYXJ0bWVudCddOwogICAgICAgICAgdGhpcy5jbGllbnREYXRhLmludGVydmlldyA9IGNsaWVudERhdGFbaV1ba2V5c11bJ2Zvcm1WYWx1ZXMnXVsnZWRpdEludGVydmlldyddOwogICAgICAgICAgdGhpcy5jbGllbnREYXRhLmRlcGFydG1lbnQgPSBjbGllbnREYXRhW2ldW2tleXNdWydmb3JtVmFsdWVzJ11bJ2VkaXREZXBhcnRtZW50J107CiAgICAgICAgICB0aGlzLmNsaWVudERhdGEuYWRkcmVzcyA9IGNsaWVudERhdGFbaV1ba2V5c11bJ2Zvcm1WYWx1ZXMnXVsnZWRpdEFkZHJlc3MnXTsKICAgICAgICAgIHRoaXMuY2xpZW50RGF0YS5iaXJ0aGRheSA9IGNsaWVudERhdGFbaV1ba2V5c11bJ2Zvcm1WYWx1ZXMnXVsnZWRpdEJpcnRoZGF0ZSddOwogICAgICAgICAgdGhpcy5jbGllbnREYXRhLm5vdGUgPSBjbGllbnREYXRhW2ldW2tleXNdWydmb3JtVmFsdWVzJ11bJ2VkaXROb3RlcyddOwogICAgICAgICAgdGhpcy5jbGllbnREYXRhLnN0YXRlID0gY2xpZW50RGF0YVtpXVtrZXlzXVsnZm9ybVZhbHVlcyddWydlZGl0U3RhdGUnXTsKICAgICAgICAgIHRoaXMuY2xpZW50RGF0YS5jb3VudHJ5ID0gY2xpZW50RGF0YVtpXVtrZXlzXVsnZm9ybVZhbHVlcyddWydlZGl0Q291bnRyeSddOwogICAgICAgICAgdGhpcy5jbGllbnREYXRhLnppcENvZGUgPSBjbGllbnREYXRhW2ldW2tleXNdWydmb3JtVmFsdWVzJ11bJ2VkaXRQb3N0YWxDb2RlJ107CiAgICAgICAgICB0aGlzLmNsaWVudERhdGEuY2l0eSA9IGNsaWVudERhdGFbaV1ba2V5c11bJ2Zvcm1WYWx1ZXMnXVsnZWRpdENpdHknXTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0ZXN0RGF0YScsIEpTT04uc3RyaW5naWZ5KHRoaXMuY2xpZW50RGF0YSkpOwogICAgICAgICAgY29uc29sZS5sb2cobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rlc3REYXRhJykpOyAvLyBjb25zb2xlLmxvZyhjbGllbnREYXRhW2ldW2tleXNdWydhZGRlZENoaWxkcyddKQogICAgICAgICAgLy8gY29uc29sZS5sb2coY2xpZW50RGF0YVtpXVtrZXlzXVsnZW1lcmdlbmN5Q29udGFjdHMnXSkKCiAgICAgICAgICBpZiAoY2xpZW50RGF0YVtpXVtrZXlzXVsnYmVuZWZpY2lhcmllcyddLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdmFyIGJlbmVmaWNpYXJpZXMgPSBjbGllbnREYXRhW2ldW2tleXNdWydiZW5lZmljaWFyaWVzJ107CgogICAgICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGJlbmVmaWNpYXJpZXMubGVuZ3RoOyB5KyspIHsKICAgICAgICAgICAgICB0aGlzLmFkZEJlbmVmaWNpYXJ5KGJlbmVmaWNpYXJpZXNbeV0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGNsaWVudERhdGFbaV1ba2V5c11bJ2VtZXJnZW5jeUNvbnRhY3RzJ10ubGVuZ3RoID4gMCkgewogICAgICAgICAgICB2YXIgZW1lcmdlbmN5Q29udGFjdHMgPSBjbGllbnREYXRhW2ldW2tleXNdWydlbWVyZ2VuY3lDb250YWN0cyddOwoKICAgICAgICAgICAgZm9yICh2YXIgX3kgPSAwOyBfeSA8IGVtZXJnZW5jeUNvbnRhY3RzLmxlbmd0aDsgX3krKykgewogICAgICAgICAgICAgIHRoaXMuYWRkRWNvbnRhY3QoZW1lcmdlbmN5Q29udGFjdHNbX3ldKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmIChjbGllbnREYXRhW2ldW2tleXNdWydhZGRlZENoaWxkcyddLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdmFyIGFkZGVkQ2hpbGRzID0gY2xpZW50RGF0YVtpXVtrZXlzXVsnYWRkZWRDaGlsZHMnXTsKCiAgICAgICAgICAgIGZvciAodmFyIF95MiA9IDA7IF95MiA8IGFkZGVkQ2hpbGRzLmxlbmd0aDsgX3kyKyspIHsKICAgICAgICAgICAgICB0aGlzLmFkZEFkZGl0YW1lbnRzKGFkZGVkQ2hpbGRzW195Ml0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgaGFuZGxlRm9jdXM6IGZ1bmN0aW9uIGhhbmRsZUZvY3VzKGUpIHsKICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCAibm9wZSIpOwogICAgfSwKICAgIGRlbGV0ZWNsaWVudDogZnVuY3Rpb24gZGVsZXRlY2xpZW50KCkgewogICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CgogICAgICB2YXIgc3dhbFdpdGhCb290c3RyYXBCdXR0b25zID0gU3dhbC5taXhpbih7CiAgICAgICAgY3VzdG9tQ2xhc3M6IHsKICAgICAgICAgIGNvbmZpcm1CdXR0b246ICJidG4gYnRuLWRhbmdlciBtbC0yIiwKICAgICAgICAgIGNhbmNlbEJ1dHRvbjogImJ0biBidG4tc3VjY2VzcyIKICAgICAgICB9LAogICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZQogICAgICB9KTsKICAgICAgc3dhbFdpdGhCb290c3RyYXBCdXR0b25zLmZpcmUoewogICAgICAgIHRpdGxlOiAiQXJlIHlvdSBzdXJlPyIsCiAgICAgICAgdGV4dDogIllvdSB3b24ndCBiZSBhYmxlIHRvIHJldmVydCB0aGlzISIsCiAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBkZWxldGUgaXQhIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAiTm8sIGNhbmNlbCEiLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgIHVzZXJOYW1lOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmlyc3ROYW1lJykgKyAnICcgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGFzdG5hbWUnKSwKICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgYWdlbnRJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpCiAgICAgICAgICB9OwogICAgICAgICAgYXhpb3MucHV0KCcvYXBpL2NsaWVudC9kZWxldGUnLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgX3JlZjEyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjQocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI0JChfY29udGV4dDI0KSB7CiAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjQucHJldiA9IF9jb250ZXh0MjQubmV4dCkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE0LnVwZGF0ZUNsaWVudExpc3QoKTsKCiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlLW1vZGFsJykuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3dhbFdpdGhCb290c3RyYXBCdXR0b25zLmZpcmUoIkRlbGV0ZWQhIiwgIkNsaWVudCBoYXMgYmVlbiBkZWxldGVkLiIsICJzdWNjZXNzIik7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuc3RvcCgpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwgX2NhbGxlZTI0KTsKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDEyKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9yZWYxMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICB9OwogICAgICAgICAgfSgpKS5jYXRjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIF9yZWYxMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI1KGVycm9yKSB7CiAgICAgICAgICAgICAgdmFyIGxpc3QsIHByb3BlcnR5OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjUkKF9jb250ZXh0MjUpIHsKICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNS5wcmV2ID0gX2NvbnRleHQyNS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyNS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjaGVjayB0aGUgZm9sbG93aW5nOiAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjUubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5lcnJvcnMucHVzaCgnU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4nKTsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCBfY2FsbGVlMjUpOwogICAgICAgICAgICB9KSk7CgogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MTMpIHsKICAgICAgICAgICAgICByZXR1cm4gX3JlZjEzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9KCkpOwogICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgLyogUmVhZCBtb3JlIGFib3V0IGhhbmRsaW5nIGRpc21pc3NhbHMgYmVsb3cgKi8KICAgICAgICByZXN1bHQuZGlzbWlzcyA9PT0gU3dhbC5EaXNtaXNzUmVhc29uLmNhbmNlbCkgewogICAgICAgICAgc3dhbFdpdGhCb290c3RyYXBCdXR0b25zLmZpcmUoIkNhbmNlbGxlZCIsICJDbGllbnQgaXMgaW4gYSBzYWZlIHBsYWNlIDopIiwgImVycm9yIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRNYXBzTGluazogZnVuY3Rpb24gZ2V0TWFwc0xpbmsoKSB7CiAgICAgIHZhciBsaW5rID0gJ2h0dHBzOi8vbWFwcy5nb29nbGUuY29tLz9xPSc7CiAgICAgIHZhciBjbGllbnREYXRhID0gdGhpcy5jbGllbnREYXRhOwoKICAgICAgaWYgKGNsaWVudERhdGEuYWRkcmVzcy5sZW5ndGggPiAwKSB7CiAgICAgICAgbGluayArPSAnKycgKyB0aGlzLmNsaWVudERhdGEuYWRkcmVzczsKICAgICAgfQoKICAgICAgaWYgKGNsaWVudERhdGEuemlwQ29kZS5sZW5ndGggPiAwKSB7CiAgICAgICAgbGluayArPSAnKycgKyBjbGllbnREYXRhLnppcENvZGU7CiAgICAgIH0KCiAgICAgIGlmIChjbGllbnREYXRhLmNpdHkubGVuZ3RoID4gMCkgewogICAgICAgIGxpbmsgKz0gJysnICsgY2xpZW50RGF0YS5jaXR5OwogICAgICB9CgogICAgICBpZiAoY2xpZW50RGF0YS5zdGF0ZS5sZW5ndGggPiAwKSB7CiAgICAgICAgbGluayArPSAnKycgKyBjbGllbnREYXRhLnN0YXRlOwogICAgICB9CgogICAgICBpZiAobGluayAhPT0gJ2h0dHBzOi8vbWFwcy5nb29nbGUuY29tLz9xPScpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ01hcHNMaW5rIikuaHJlZiA9IGxpbms7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdNYXBzTGluayIpLmhyZWYgPSAnIyc7CiAgICAgIH0KICAgIH0sCiAgICB2aWV3VXNlckdyb3VwOiBmdW5jdGlvbiB2aWV3VXNlckdyb3VwKHJlcXVlc3QpIHsKICAgICAgdmFyIGN1cnJlbnRSb2xlID0gand0X2RlY29kZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JykpOwogICAgICByZXR1cm4gY3VycmVudFJvbGUudXNlckdyb3VwLmluY2x1ZGVzKHJlcXVlc3QpOwogICAgfSwKICAgIGdldE5vdGVzOiBmdW5jdGlvbiBnZXROb3RlcygpIHsKICAgICAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHMsCiAgICAgICAgICBfdGhpczE1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNigpIHsKICAgICAgICB2YXIgaWQsIGRhdGEsIHBhdHRlcm4sIHBhdHRlcm4yLCB1cmw7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNiQoX2NvbnRleHQyNikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI2LnByZXYgPSBfY29udGV4dDI2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZCA9IF9hcmd1bWVudHMubGVuZ3RoID4gMCAmJiBfYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzWzBdIDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpOwogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgICAgICAgYWdlbnRJRDogaWQsCiAgICAgICAgICAgICAgICAgIGNsaWVudElEOiBpZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSAnL2NsaWVudC8nOwogICAgICAgICAgICAgICAgcGF0dGVybjIgPSAnL3Byb3NwZWN0cy8nOwogICAgICAgICAgICAgICAgdXJsID0gJyc7CgogICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLm1hdGNoKHBhdHRlcm4pKSB7CiAgICAgICAgICAgICAgICAgIHVybCA9ICcvYXBpL2NsaWVudC9nZXRDbGllbnROb3Rlcyc7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLm1hdGNoKHBhdHRlcm4yKSkgewogICAgICAgICAgICAgICAgICB1cmwgPSAnL2FwaS9jbGllbnQvZ2V0Q2xpZW50Tm90ZXMnOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdXJsID0gJy9hcGkvZ2V0VXNlck5vdGVzJzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDI2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QodXJsLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpczE1Lm5vdGVzRGF0YSA9IHJlc3BvbnNlLmRhdGE7IC8vIHRoaXMuJGVtaXQoJ29uRmlyZScsIHJlc3BvbnNlLmRhdGEpCiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJTdGF0dXMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTI2KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICB2YWxpZGF0aW9uczogewogICAgZm9ybTogewogICAgICBtZXNzYWdlOiB7CiAgICAgICAgcmVxdWlyZWQ6IGhlbHBlcnMud2l0aE1lc3NhZ2UoIk1lc3NhZ2UgaXMgcmVxdWlyZWQiLCByZXF1aXJlZCkKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjcoKSB7CiAgICAgIHZhciBkYXRhLCBhZGRFdmVudDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNyQoX2NvbnRleHQyNykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjcucHJldiA9IF9jb250ZXh0MjcubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgYWRkRXZlbnQgPSBmdW5jdGlvbiBfYWRkRXZlbnQocGFyZW50LCBldnQsIHNlbGVjdG9yLCBoYW5kbGVyKSB7CiAgICAgICAgICAgICAgICBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcihldnQsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Lm1hdGNoZXMoc2VsZWN0b3IgKyAnLCAnICsgc2VsZWN0b3IgKyAnIConKSkgewogICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuYXBwbHkoZXZlbnQudGFyZ2V0LmNsb3Nlc3Qoc2VsZWN0b3IpLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCBmYWxzZSk7CiAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICBpc1Byb3NwZWN0OiAwLAogICAgICAgICAgICAgICAgc2VhcmNoVmFsdWVzOiBfdGhpczE2LmRhdGEuc2VhcmNoVmFsdWVzLAogICAgICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgICAgICBkZWxldGVkOiAwCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dDI3Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2xpc3REZXBhcnRtZW50cycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBfdGhpczE2LmRlcGFydG1lbnRMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIkRlcGFydG1lbnRzIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgX2NvbnRleHQyNy5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9jbGllbnQvY2xpZW50U3RhdHVzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzMTYuc3RhdHVzTGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJTdGF0dXMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfY29udGV4dDI3Lm5leHQgPSA4OwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2NsaWVudC9jbGllbnRUeXBlcycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBfdGhpczE2LnR5cGVMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIlN0YXR1cyBjb3VsZCBub3QgYmUgbG9hZGVkLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIF9jb250ZXh0MjcubmV4dCA9IDEwOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2NsaWVudC9saXN0Q2xpZW50c0J5U3RhdHVzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzMTYuaXNDbGllbnRMaXN0ID0gd2luZG93LmxvY2F0aW9uLmhyZWYubWF0Y2goJy9jbGllbnQvJykgIT09IG51bGwgPyB0cnVlIDogZmFsc2U7CgogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIHZhciB2YXJOYW1lID0gW107CiAgICAgICAgICAgICAgICAgIHZhck5hbWUgPSByZXNwb25zZS5kYXRhW2ldLnN0YXR1c05hbWUucmVwbGFjZSgvXHMrL2csICctJykudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgICAgX3RoaXMxNi52YXJOYW1lID0gcmVzcG9uc2UuZGF0YVtpXS5jb250ZW50OwogICAgICAgICAgICAgICAgICBfdGhpczE2LnZhck5hbWVbJ2dyb3VwTmFtZSddID0gewogICAgICAgICAgICAgICAgICAgICdncm91cE5hbWUnOiB2YXJOYW1lLAogICAgICAgICAgICAgICAgICAgICdzdGF0dXNOYW1lJzogcmVzcG9uc2UuZGF0YVtpXS5zdGF0dXNOYW1lLAogICAgICAgICAgICAgICAgICAgICdncm91cElEJzogcmVzcG9uc2UuZGF0YVtpXS5zdGF0dXNJRCwKICAgICAgICAgICAgICAgICAgICAnc2VxdWVuY2UnOiAxLAogICAgICAgICAgICAgICAgICAgICdxdWFudGl0eSc6IHJlc3BvbnNlLmRhdGFbaV0uY29udGVudC5sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgJ3BlclBhZ2UnOiAzMCwKICAgICAgICAgICAgICAgICAgICAnc2hvd2luZyc6IHJlc3BvbnNlLmRhdGFbaV0uY29udGVudC5sZW5ndGggPCAzMCA/IHJlc3BvbnNlLmRhdGFbaV0uY29udGVudC5sZW5ndGggOiAzMAogICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgX3RoaXMxNi5saXN0LnB1c2goX3RoaXMxNi52YXJOYW1lKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNi5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvKmVsc2UgaWYgKGVycm9yLm1lc3NhZ2UpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpDQogICAgICAgICAgICAgICAgfSovCgogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAvKiBUbyBiZSB1c2VkIGFzICovCiAgICAgICAgICAgICAgYWRkRXZlbnQoZG9jdW1lbnQsICdjbGljaycsICdidXR0b24ucmVtb3ZlSXRlbUJlbicsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBidXR0b25faWQgPSB0aGlzLmlkOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvd0JlbicgKyBidXR0b25faWQpLnJlbW92ZSgpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGFkZEV2ZW50KGRvY3VtZW50LCAnY2xpY2snLCAnYnV0dG9uLnJlbW92ZUl0ZW1FY29uJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIGJ1dHRvbl9pZCA9IHRoaXMuaWQ7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm93RWNvbicgKyBidXR0b25faWQpLnJlbW92ZSgpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGFkZEV2ZW50KGRvY3VtZW50LCAnY2xpY2snLCAnYnV0dG9uLnJlbW92ZUl0ZW1BZGRpdGFtZW50cycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBidXR0b25faWQgPSB0aGlzLmlkOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvd0FkZGl0YW1lbnRzJyArIGJ1dHRvbl9pZCkucmVtb3ZlKCk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI3LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyNyk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"mappings":"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","names":["flatPickr","Multiselect","Layout","PageHeader","appConfig","axios","moment","Swal","helpers","required","useVuelidate","notes","kanbanBoard","messages","uploadClients","econtacts","benlist","additaments","chargeProspects","jwt_decode","page","title","meta","name","content","description","components","data","items","text","href","active","timeConfig","enableTime","dateFormat","dateTimeConfig","list","date1","date2","humanfriendlyConfig","eContactlist","benList","additamentsList","token","localStorage","getItem","searchValues","type","noteSearch","keyword","language","sortBy","orderBy","dateRange","department","toDate","Date","toLocaleDateString","year","month","day","fromDate","setFullYear","getFullYear","beneficiaryQty","eContactQty","additamentsQty","clientData","clientFormData","value","date","departmentList","statusList","typeList","isClientList","enabled","dragging","notesData","prospectsData","chatMessagesData","chatMessages","setup","v$","methods","validPhone","phone","isphone","test","filterList","search","result","filter","listSearch","statusID","Object","keys","map","objectKey","showTabs","id","tabs","actualSelected","index","attr","faqToggle","document","getElementById","classList","contains","remove","updateButton","add","resetClientData","username","email","firstName","lastName","status","gender","state","birthDate","address","country","zipCode","interview","agentNumber","createdBy","insuranceLicense","licenseNumber","innerHTML","validEmail","re","trim","formatDate","format","formatPhone","flag","replace","undefined","length","substring","x","match","updateAgentStatus","item","newList","oldList","agentID","userID","put","then","response","fire","position","icon","showConfirmButton","timer","catch","error","property","errors","push","message","updateInformation","pattern","window","location","updateClient","updateAgent","querySelector","phoneNumber","departmentID","postalCode","interviewDate","isLicensed","click","confirmButtonClass","buttonsStyling","showCloseButton","i","console","log","city","leadType","clientID","createClient","addAnotherClient","clientsInfo","JSON","parse","selectedUser","userEmail","totalClients","isProspect","post","reset","deleteAgent","userName","showDenyButton","confirmButtonText","denyButtonText","isConfirmed","isDenied","updateClientList","validate","filterLanguage","filterKeyword","filterType","filterNotes","filterFromDate","filterToDate","start","end","days","diff","deleted","res","varName","spectedList","statusName","toLowerCase","setClientData","clientInfo","age","dateOfBirth","getMapsLink","chatUsername","image","profile","usermessage","currentDate","time","getHours","getMinutes","formSubmit","submitted","$touch","$invalid","form","align","addNewClientModal","goBack","goNext","style","display","restoreForm","printEmit","notify","refreshContacts","getEcontacts","refreshBenList","getBeneficiaries","refreshAdditaments","getAdditaments","keyExists","key","constructor","Array","addBeneficiary","div","separator","checkIDExists","element","createElement","appendChild","addEcontact","eContact","append","addAdditaments","localAgentID","beneficiaries","getBenficiaries","emergencyContacts","getEmergency","addedChilds","getAddedChilds","formValues","values","elements","e","setItem","stringify","formNumber","Number","checkClientExists","potentialClientEmail","nameValues","lastValues","phoneValues","addressValues","stateValues","postalValues","relationValues","ageValues","benFirstName","querySelectorAll","benLastName","benPhone","benAddress","benState","benPostalCode","benRelation","benAge","eConFirstName","eConLastName","eConPhone","eConAddress","eConState","eConPostalCode","eConRelation","eConAge","genderValues","AddiGender","AddiAge","AddiRelation","setMessagesInfo","instruction","restore","resetForm","birthday","note","y","handleFocus","target","setAttribute","deleteclient","swalWithBootstrapButtons","mixin","customClass","confirmButton","cancelButton","cancelButtonText","showCancelButton","dismiss","DismissReason","cancel","link","viewUserGroup","request","currentRole","userGroup","includes","getNotes","pattern2","url","validations","withMessage","mounted","addEvent","parent","evt","selector","handler","addEventListener","event","matches","apply","closest","arguments","button_id"],"sourceRoot":"","sources":["C:\\wamp64\\www\\crm\\frontend\\src\\views\\clients\\clientskanban.vue"],"sourcesContent":["<script>\r\nimport flatPickr from \"vue-flatpickr-component\";\r\nimport Multiselect from \"@vueform/multiselect\";\r\nimport \"@vueform/multiselect/themes/default.scss\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\nimport Layout from \"../../layouts/main.vue\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport appConfig from \"../../../app.config\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport Swal from \"sweetalert2\";\r\nimport {helpers, required} from \"@vuelidate/validators\";\r\nimport useVuelidate from \"@vuelidate/core\";\r\n\r\n// components\r\nimport notes from '../../components/users/notes';\r\nimport kanbanBoard from '../../components/users/kanbanBoard';\r\nimport messages from '../../components/users/messages';\r\nimport uploadClients from '../../components/clients/uploadClients';\r\nimport econtacts from '../../components/clients/econtacts';\r\nimport benlist from '../../components/clients/benlist';\r\nimport additaments from '../../components/clients/additaments';\r\nimport chargeProspects from '../../components/uploadLists/chargeProspects';\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nexport default {\r\n  page: {\r\n    title: \"Agents List cards\",\r\n    meta: [{name: \"description\", content: appConfig.description}],\r\n  },\r\n  components: {\r\n    Layout,\r\n    PageHeader,\r\n    Multiselect,\r\n    flatPickr,\r\n    notes,\r\n    kanbanBoard,\r\n    messages,\r\n    uploadClients,\r\n    econtacts,\r\n    benlist,\r\n    additaments,\r\n    chargeProspects\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"Client cards\",\r\n      items: [\r\n        {\r\n          text: \"Clients\",\r\n          href: \"/\",\r\n        },\r\n        {\r\n          text: \"Client List cards\",\r\n          active: true,\r\n        },\r\n      ],\r\n      timeConfig: {\r\n        enableTime: false,\r\n        dateFormat: \"d M, Y\"\r\n      },\r\n      dateTimeConfig: {\r\n        enableTime: true,\r\n        dateFormat: \"F j, Y H:i K\"\r\n      },\r\n      list: [],\r\n      date1: null,\r\n      date2: null,\r\n      humanfriendlyConfig: {\r\n        dateFormat: \"F j, Y\",\r\n      },\r\n      eContactlist: [],\r\n      benList: [],\r\n      additamentsList: [],\r\n      data: {\r\n        token: localStorage.getItem('jwt'),\r\n        searchValues: {\r\n          type: '',\r\n          noteSearch: '',\r\n          keyword: '',\r\n          language: '3',\r\n          sortBy: 'name',\r\n          orderBy: 'ASC',\r\n          dateRange: '0',\r\n          department: '0' ,\r\n          toDate: new Date().toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}) ,\r\n          fromDate: new Date(new Date().setFullYear(new Date().getFullYear() - 1)).toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}),\r\n        },\r\n      },\r\n      beneficiaryQty: 0,\r\n      eContactQty: 0,\r\n      additamentsQty: 0,\r\n      clientData: [],\r\n      clientFormData: [],\r\n      value: null,\r\n      date: null,\r\n      departmentList: {},\r\n      statusList: {},\r\n      typeList: {},\r\n      isClientList: false,\r\n      enabled: true,\r\n      dragging: false,\r\n      notesData: [],\r\n      prospectsData: [],\r\n      chatMessagesData: [],\r\n      chatMessages: []\r\n    };\r\n  },\r\n  setup() {\r\n    return { v$: useVuelidate() }\r\n  },\r\n  methods: {\r\n    validPhone: function (phone) {\r\n      var isphone = /^(\\+{0,})(\\d{0,})([(]{1}\\d{1,3}[)]{0,}){0,}(\\s?\\d+|\\+\\d{2,3}\\s{1}\\d+|\\d+){1}[\\s|-]?\\d+([\\s|-]?\\d+){1,2}(\\s){0,}$/gm.test(phone);\r\n      return isphone;\r\n    },\r\n    filterList: function (list, search) {\r\n      var result = '';\r\n      result = list.filter(listSearch => listSearch.statusID === search);\r\n      Object.keys(result).map(function (objectKey) {\r\n        var value = result[objectKey];\r\n        return value;\r\n      });\r\n    },\r\n    showTabs: function (id) {\r\n\r\n      const tabs = ['mainTab', 'secondTab', 'thirdTab', 'quarterTab', 'fifthTab', 'sixthTab', 'seventhTab']\r\n      let actualSelected = localStorage.getItem('selectedUser')\r\n\r\n      for (var index in tabs) {\r\n        let attr = tabs[index];\r\n\r\n        const faqToggle = document.getElementById(attr);\r\n        if (faqToggle.classList.contains('active') && id !== actualSelected) {\r\n\r\n          faqToggle.classList.remove('active');\r\n          faqToggle.classList.remove('show');\r\n\r\n          const updateButton = document.getElementById('updateButton');\r\n\r\n          if (updateButton.classList.contains('hide') && id === tabs[0]) {\r\n            updateButton.classList.remove('hide');\r\n          }\r\n\r\n        } else if (attr === id) {\r\n\r\n          if (!faqToggle.classList.contains('active')) {\r\n            faqToggle.classList.add('active');\r\n            faqToggle.classList.add('show');\r\n          }\r\n\r\n          const updateButton = document.getElementById('updateButton');\r\n\r\n          if (!updateButton.classList.contains('hide') && id !== tabs[0]) {\r\n            updateButton.classList.add('hide');\r\n          }\r\n        }\r\n      }\r\n    },\r\n    resetClientData: function () {\r\n      this.clientData =\r\n          {\r\n            username: '',\r\n            email: '',\r\n            firstName: '',\r\n            lastName: '',\r\n            language: '',\r\n            status: '',\r\n            type: '',\r\n            gender: '',\r\n            phone: '',\r\n            department: '',\r\n            state: '',\r\n            birthDate: '',\r\n            address: '',\r\n            country: '',\r\n            zipCode: '',\r\n            interview: '',\r\n            agentNumber: '',\r\n            createdBy: '',\r\n            insuranceLicense: '',\r\n            licenseNumber: ''\r\n          }\r\n          document.getElementById(\"addBeneficiary\").innerHTML = \"\";\r\n          document.getElementById(\"addEcontact\").innerHTML = \"\";\r\n          document.getElementById(\"addAdditaments\").innerHTML = \"\";\r\n    },\r\n    validEmail: function (email) {\r\n      var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      return re.test(email.trim());\r\n    },\r\n    formatDate: function(date, format){\r\n      date = moment(date).format(format)\r\n      return date;\r\n    },\r\n    formatPhone: function(phone, flag=0) {\r\n\r\n      // if flag == 1 put value in phone Edit\r\n      phone = phone.replace(/\\D/g, '')\r\n\r\n      if(phone !== undefined) {\r\n        if(phone.length > 10) {\r\n          phone = phone.substring(1)\r\n        }\r\n        const x = phone.match(/(\\d{0,3})(\\d{0,3})(\\d{0,4})/);\r\n        phone = !x[2] ? x[1] : '(' + x[1] + ') ' + x[2] + (x[3] ? '-' + x[3] : '');\r\n\r\n      } else {\r\n        phone = ''\r\n      }\r\n\r\n      if(flag !== 1){\r\n        return phone;\r\n      }else{\r\n        document.getElementById('editPhoneNumber').value = phone;\r\n      }\r\n    },\r\n    async updateAgentStatus(item, newList, oldList, agentID) {\r\n\r\n      const data = {\r\n        item: item,\r\n        newList: newList,\r\n        oldList: oldList,\r\n        agentID: agentID,\r\n        userID: localStorage.getItem('id'),\r\n        token: localStorage.getItem('jwt'),\r\n      }\r\n\r\n      await axios\r\n          .put('/api/client/updateClientStatus', data)\r\n          .then(async response => {\r\n\r\n            if (response) {\r\n\r\n              await Swal.fire({\r\n                position: \"top-end\",\r\n                icon: \"success\",\r\n                title: \"Your work has been saved!\",\r\n                showConfirmButton: false,\r\n                timer: 1000,\r\n              });\r\n\r\n            } else {\r\n              await Swal.fire({\r\n                position: \"bottom-end\",\r\n                icon: 'error',\r\n                title: \"Something wrong happens!\",\r\n                showConfirmButton: false,\r\n                timer: 5000,\r\n              });\r\n            }\r\n\r\n          }).catch(async error => {\r\n            if (error.response) {\r\n              let list = '';\r\n              for (const property in error.response.data) {\r\n                this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n              }\r\n\r\n              await Swal.fire({\r\n                position: \"top-end\",\r\n                icon: \"success\",\r\n                title: \"Please check the following: \" + list,\r\n                showConfirmButton: false,\r\n                timer: 5000,\r\n              });\r\n\r\n            } else if (error.message) {\r\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n            }\r\n          })\r\n    },\r\n    async updateInformation() {\r\n      const pattern = '/client/';\r\n      if(window.location.href.match(pattern)) {\r\n        await this.updateClient();\r\n      } else {\r\n        await this.updateAgent();\r\n      }\r\n    },\r\n    async updateAgent() {\r\n\r\n      this.errors = []\r\n\r\n      if (!document.getElementById('editFirstName').value) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editLastName').value) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editLanguage').value) {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editStatus').value) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editPhoneNumber').value) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if (this.validPhone(document.getElementById('editPhoneNumber').value) === false && document.getElementById('editPhoneNumber').value !== '') {\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!document.getElementById('editDepartment').value) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editBirthDate').value) {\r\n        this.errors.push('Birth date is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editAddress').value) {\r\n        this.errors.push('Address is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editAgentNumber').value && document.getElementById('editStatus').value === 5) {\r\n        this.errors.push('Agent Number is required.');\r\n      }\r\n\r\n      if ((!document.getElementById('editLicensed').value && document.getElementById('editStatus').value === 5) || !document.getElementById('editLicensed').value) {\r\n        this.errors.push('Insurance Licensed? is required.');\r\n      }\r\n\r\n      if ((!document.getElementById('editLicensed').value && document.getElementById('editStatus').value === 5) /*|| (!this.clientData.licenseNumber && document.getElementById('editLicensed').value === 1)*/) {\r\n        this.errors.push('License number is required.');\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n        const data = {\r\n          username: '',\r\n          email: document.getElementById('editEmail').value,\r\n          firstName: document.getElementById('editFirstName').value,\r\n          lastName: document.getElementById('editLastName').value,\r\n          language: document.getElementById('editLanguage').value,\r\n          status: document.getElementById('editStatus').value,\r\n          type: document.getElementById('editType').value,\r\n          gender: document.querySelector(\"input[type='radio'][name=editGender]:checked\").value,\r\n          phoneNumber: document.getElementById('editPhoneNumber').value,\r\n          departmentID: document.getElementById('editDepartment').value,\r\n          state: document.getElementById('editState').value,\r\n          birthDate: document.getElementById('editBirthDate').value,\r\n          address: document.getElementById('editAddress').value,\r\n          country: document.getElementById('editCountry').value,\r\n          postalCode: document.getElementById('editPostalCode').value,\r\n          interviewDate: document.getElementById('editInterview').value,\r\n          agentNumber: document.getElementById('editAgentNumber').value,\r\n          createdBy: localStorage.getItem('email'),\r\n          isLicensed: document.getElementById('editLicensed').value,\r\n          licenseNumber: this.clientData.licenseNumber,\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('id'),\r\n          agentID: localStorage.getItem('selectedUser')\r\n        }\r\n\r\n        await axios\r\n            .put('/api/updateAgent', data)\r\n            .then(async response => {\r\n              if (response) {\r\n                document.getElementById('close-modal').click();\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Agent update successfully!'\r\n                });\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i] + '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    async updateClient() {\r\n\r\n      this.errors = []\r\n\r\n      if (!document.getElementById('editFirstName').value) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editLastName').value) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n      if (!document.querySelector(\"input[type='radio'][name=editGender1]:checked\")) {\r\n        this.errors.push('Gender is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editLanguage').value) {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editStatus').value) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editPhoneNumber').value) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if (this.validPhone(document.getElementById('editPhoneNumber').value) === false && document.getElementById('editPhoneNumber').value !== '') {\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!document.getElementById('editDepartment').value) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (document.getElementById('editType').value  === 'undefined') {\r\n        this.errors.push('Lead/Client Type is required.');\r\n        console.log(this.clientData)\r\n      }\r\n\r\n      if (document.querySelector(\"input[type='radio'][name=editGender1]:checked\").value !== 'M' && document.querySelector(\"input[type='radio'][name=editGender1]:checked\").value !== 'F') {\r\n        this.errors.push('Gender is required.');\r\n      }\r\n\r\n      if (document.getElementById('editLanguage').value !== '1' && document.getElementById('editLanguage').value !== '2') {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (document.getElementById('editType').value === 'undefined') {\r\n        this.errors.push('Lead/client Type is required.');\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n        const data = {\r\n          username: '',\r\n          email: document.getElementById('editEmail').value,\r\n          city: document.getElementById('editCity1').value,\r\n          firstName: document.getElementById('editFirstName').value,\r\n          lastName: document.getElementById('editLastName').value,\r\n          language: document.getElementById('editLanguage').value,\r\n          status: document.getElementById('editStatus').value,\r\n          leadType: document.getElementById('editType').value,\r\n          gender: document.querySelector(\"input[type='radio'][name=editGender1]:checked\").value,\r\n          phoneNumber: document.getElementById('editPhoneNumber').value,\r\n          departmentID: document.getElementById('editDepartment').value,\r\n          state: document.getElementById('editState').value,\r\n          birthDate: document.getElementById('editBirthDate').value,\r\n          address: document.getElementById('editAddress').value,\r\n          country: document.getElementById('editCountry').value,\r\n          postalCode: document.getElementById('editPostalCode').value,\r\n          interviewDate: document.getElementById('editInterview').value,\r\n          createdBy: localStorage.getItem('email'),\r\n          licenseNumber: this.clientData.licenseNumber,\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('id'),\r\n          clientID: localStorage.getItem('selectedUser')\r\n        }\r\n\r\n        await axios\r\n            .put('/api/client/updateClient', data)\r\n            .then(async response => {\r\n              if (response) {\r\n                document.getElementById('close-modal').click();\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Client update successfully!'\r\n                });\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i] + '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    async createClient() {\r\n      this.errors = []\r\n\r\n      if (!this.clientData.firstName) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!this.clientData.lastName) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (!this.clientData.status) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!this.clientData.phone) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if (this.validPhone(this.clientData.phone) === false && this.clientData.phone === '') {\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!this.clientData.department) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (this.clientData.type  === 'undefined') {\r\n        this.errors.push('Lead/Client Type is required.');\r\n        console.log(this.clientData)\r\n      }\r\n\r\n      if (this.clientData.gender !== 'M' && this.clientData.gender !== 'F') {\r\n        this.errors.push('Gender is required.');\r\n      }\r\n\r\n      if (this.clientData.language !== '1' && this.clientData.language !== '2') {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (this.clientData.leadType === 'undefined') {\r\n        this.errors.push('Lead/client Type is required.');\r\n      }\r\n\r\n\r\n      if (!this.errors.length) {\r\n\r\n        await this.addAnotherClient();\r\n\r\n        let data = {\r\n          clientsInfo: JSON.parse(localStorage.getItem(\"clientFormData\")),\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('id'),\r\n          selectedUser: localStorage.getItem('selectedUser'),\r\n          userEmail: localStorage.getItem('email'),\r\n          totalClients: JSON.parse(localStorage.getItem(\"clientFormData\")).length,\r\n          isProspect: 0,\r\n        }\r\n\r\n        await axios\r\n            .post('/api/client/create', data)\r\n            .then(async response => {\r\n              if (response.data['ID'] !== null) {\r\n                document.getElementById('closemodal').click();\r\n                document.getElementById(\"addform\").reset();\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Client created successfully!'\r\n                });\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i]+ '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    async deleteAgent() {\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        userID: localStorage.getItem('id'),\r\n        userName: localStorage.getItem('firstName') + ' ' + localStorage.getItem('lastname'),\r\n        userEmail: localStorage.getItem('email'),\r\n        agentID: localStorage.getItem('selectedUser')\r\n      }\r\n\r\n      Swal.fire({\r\n        title: 'Do you want to <b>Delete</b> this agent?',\r\n        showDenyButton: true,\r\n        confirmButtonText: 'Yes',\r\n        denyButtonText: `No`,\r\n      }).then(async (result) => {\r\n        /* Read more about isConfirmed, isDenied below */\r\n        if (result.isConfirmed) {\r\n          await axios\r\n              .put('/api/deleteUser', data)\r\n              .then(async response => {\r\n                if (response) {\r\n                  // document.getElementById('close-modal').click();\r\n\r\n                  await Swal.fire('Agent update successfully!', '', 'success');\r\n                }\r\n              })\r\n              .catch(async error => {\r\n                if (error.response) {\r\n                  let list = '';\r\n                  for (const property in error.response.data) {\r\n                    this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                    list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                  }\r\n\r\n                  await Swal.fire({\r\n                    title: \"Please check the following: \" + list,\r\n                    icon: 'warning',\r\n                    confirmButtonClass: \"btn btn-info\",\r\n                    buttonsStyling: false,\r\n                    showCloseButton: true,\r\n                  });\r\n\r\n                } else if (error.message) {\r\n                  this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n                }\r\n              })\r\n        } else if (result.isDenied) {\r\n          await Swal.fire('Agent wasn\\'t updated!', '', 'info');\r\n        }\r\n      })\r\n    },\r\n    async updateClientList() {\r\n\r\n      let validate = true;\r\n      let errors = [];\r\n      let filterLanguage = document.getElementById(\"filterLanguage\").value;\r\n      let filterKeyword = document.getElementById(\"filterKeyword\").value;\r\n      // let filterClients = document.getElementById(\"filterClients\").value;\r\n      let filterType = document.getElementById(\"filterType\").value;\r\n      let filterNotes = document.getElementById(\"filterNotes\").value;\r\n      let filterFromDate = document.getElementById(\"filterFromDate\").value;\r\n      let filterToDate = document.getElementById(\"filterToDate\").value;\r\n\r\n      if (filterLanguage !== '' && (filterLanguage === '1' || filterLanguage === '2')){\r\n        this.data.searchValues.language = filterLanguage;\r\n      }\r\n\r\n      if (filterKeyword !== '' && filterKeyword.length >= 3) {\r\n        this.data.searchValues.language = filterLanguage;\r\n      }else if(filterKeyword !== '' && filterKeyword.length < 3) {\r\n        errors.push('Keyword search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      if(filterType !== ''){\r\n        this.data.searchValues.type = filterType;\r\n      }\r\n\r\n      if (filterNotes !== '' && filterNotes.length >= 3) {\r\n        this.data.searchValues.noteSearch = filterNotes;\r\n      }else if(filterNotes !== '' && filterNotes.length < 3) {\r\n        errors.push('Notes search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      var start = moment(this.formatDate(filterFromDate, 'YYYY-MM-DD'));\r\n      var end = moment(this.formatDate(filterToDate, 'YYYY-MM-DD'));\r\n      var days = end.diff(start, \"days\");\r\n\r\n      if(days <= 365){\r\n        this.data.searchValues.fromDate = filterFromDate;\r\n        this.data.searchValues.toDate = filterToDate;\r\n      } else {\r\n        errors.push(\"From Date and To Date (range) couldn't be larger than a year (365 days)!\");\r\n        validate = false;\r\n      }\r\n\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        isProspect: 0,\r\n        searchValues: this.data.searchValues,\r\n        userEmail: localStorage.getItem('email'),\r\n        userID: localStorage.getItem('id'),\r\n        deleted: 0,\r\n      }\r\n\r\n      if(validate){\r\n        await axios\r\n            .post('/api/client/listClientsByStatus', data)\r\n            .then(response => {\r\n              this.isClientList = (window.location.href.match('/client/') !== null) ? true : false;\r\n              let res = response.data\r\n              var varName = []\r\n              var spectedList = []\r\n\r\n              for (let i = 0; i < res.length; i++) {\r\n                varName = response.data[i].statusName.replace(/\\s+/g, '-').toLowerCase();\r\n                varName = response.data[i].content;\r\n                varName['groupName'] = {\r\n                  'groupName': varName,\r\n                  'statusName': response.data[i].statusName,\r\n                  'groupID': response.data[i].statusID,\r\n                  'sequence': 1,\r\n                  'quantity': response.data[i].content.length,\r\n                  'perPage': 30,\r\n                  'showing': (response.data[i].content.length < 30 ? response.data[i].content.length: 30),\r\n                };\r\n                spectedList.push(varName);\r\n              }\r\n              this.list = spectedList;\r\n            })\r\n            .catch(error => {\r\n              if (error.response) {\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                }\r\n              }/* else if (error.message) {\r\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n            }*/\r\n            })\r\n      }else{\r\n        let list = '';\r\n        for (var i = 0; i < errors.length; i+=1) {\r\n          list += errors[i] + ' \\n';\r\n        }\r\n\r\n        await Swal.fire(\"\" + list, '', 'info');\r\n\r\n      }\r\n\r\n    },\r\n    setClientData(clientInfo){\r\n\r\n      this.clientData.email=clientInfo.email;\r\n      this.clientData.firstName=clientInfo.firstName;\r\n      this.clientData.lastName=clientInfo.lastName;\r\n      this.clientData.language=clientInfo.language;\r\n      this.clientData.status=clientInfo.status\r\n      this.clientData.phone=clientInfo.phoneNumber;\r\n      this.clientData.gender=clientInfo.gender;\r\n      this.clientData.age=clientInfo.age;\r\n      this.clientData.type=(clientInfo.type !== '') ? clientInfo.type: clientInfo.leadType;\r\n      this.clientData.city=clientInfo.city;\r\n      this.clientData.department=clientInfo.departmentID\r\n      this.clientData.birthDate= this.formatDate(clientInfo.dateOfBirth, 'DD MMM, YYYY');\r\n      this.clientData.interview= this.formatDate(clientInfo.interviewDate, 'MMMM D, YYYY h:mm A');\r\n      this.clientData.address=clientInfo.address;\r\n      this.clientData.state=clientInfo.state;\r\n      this.clientData.country=clientInfo.country;\r\n      this.clientData.zipCode=clientInfo.postalCode;\r\n      this.clientData.agentNumber=clientInfo.agentNumber;\r\n      this.clientData.createdBy=clientInfo.createdBy;\r\n      this.clientData.insuranceLicense=clientInfo.isLicensed;\r\n      this.getMapsLink()\r\n    },\r\n    /**\r\n     * Get the name of user\r\n     */\r\n    chatUsername(name, image) {\r\n      this.username = name;\r\n      this.profile = image;\r\n      this.usermessage = \"Hello\";\r\n      this.notesData = [];\r\n      const currentDate = new Date();\r\n\r\n      this.notesData.push({\r\n        name: this.username,\r\n        message: this.usermessage,\r\n        time: currentDate.getHours() + \":\" + currentDate.getMinutes(),\r\n      });\r\n    },\r\n    /**\r\n     * Char form Submit\r\n     */\r\n    formSubmit() {\r\n      this.submitted = true;\r\n\r\n      // stop here if form is invalid\r\n      this.v$.$touch();\r\n\r\n      if (this.v$.$invalid) {\r\n        return;\r\n      } else {\r\n        const message = this.form.message;\r\n        const currentDate = new Date();\r\n        this.notesData.push({\r\n          align: \"right\",\r\n          name: \"Henry Wells\",\r\n          message,\r\n          time: currentDate.getHours() + \":\" + currentDate.getMinutes(),\r\n        });\r\n      }\r\n      this.submitted = false;\r\n      this.form = {};\r\n    },\r\n    addNewClientModal() {\r\n      this.resetClientData()\r\n      document.querySelector(\"#localAgentID\").value = 0;\r\n      let goBack = document.getElementById('goBack');\r\n      let goNext = document.getElementById('goNext');\r\n      goBack.style.display = 'none';\r\n      goNext.style.display = 'none';\r\n\r\n\r\n      let clientData = JSON.parse(localStorage.getItem('clientFormData'));\r\n      if(clientData.length > 0) {\r\n\r\n        Swal.fire({\r\n          title: 'Do you want to continue the job you left?',\r\n          showDenyButton: true,\r\n          confirmButtonText: 'Yes',\r\n          denyButtonText: `No`,\r\n        }).then((result) => {\r\n          /* Read more about isConfirmed, isDenied below */\r\n          if (result.isConfirmed) {\r\n            Swal.fire('Restored!', '', 'success');\r\n            this.restoreForm();\r\n            let goBack = document.getElementById('goBack');\r\n            let goNext = document.getElementById('goNext');\r\n            goBack.style.display = 'none';\r\n            goNext.style.display = 'none';\r\n\r\n            if(clientData.length > 1) {\r\n              goBack.style.display = 'block';\r\n              goNext.style.display = 'block';\r\n            }\r\n\r\n          } else if (result.isDenied) {\r\n            this.resetClientData();\r\n            Swal.fire('Saved data removed!', '', 'info');\r\n          }\r\n        })\r\n      }\r\n      document.getElementById('clientModalLabelAdd').innerHTML=\"Add Client\";\r\n    },\r\n    printEmit(notify) {\r\n      this.notesData = notify;\r\n    },\r\n    refreshContacts(notify) {\r\n      this.getEcontacts();\r\n      console.log('execute! '+ notify);\r\n    },\r\n    refreshBenList(notify){\r\n      this.getBeneficiaries();\r\n      console.log('execute! '+ notify);\r\n    },\r\n    refreshAdditaments(notify) {\r\n      this.getAdditaments();\r\n      console.log('execute! '+ notify);\r\n    },\r\n    keyExists(key, search) {\r\n\r\n      if (!search || (search.constructor !== Array && search.constructor !== Object)) {\r\n        return false;\r\n      }\r\n\r\n      for (let i = 0; i < search.length; i++) {\r\n          const keys = Object.keys(search[i])\r\n          if (keys[0] === key) {\r\n            return true;\r\n          }\r\n      }\r\n      return key in search;\r\n    },\r\n    addBeneficiary( benList = [] ) {\r\n      this.beneficiaryQty = this.beneficiaryQty + 1;\r\n      let i = this.beneficiaryQty;\r\n      let div = document.getElementById('addBeneficiary');\r\n      let separator = '';\r\n      let checkIDExists = document.getElementById(\"benFirstName-1\");\r\n      var element = document.createElement('div');\r\n\r\n      if(benList.length <= 0){\r\n        benList.push(\r\n        benList['firstName'] = '',\r\n        benList['lastName'] = '',\r\n        benList['address'] = '',\r\n        benList['phoneNumber'] = '',\r\n        benList['state'] = '',\r\n        benList['postalCode'] = '',\r\n        benList['relationship'] = '',\r\n        benList['age']  = '');\r\n      }\r\n\r\n      if(checkIDExists) {\r\n        separator = '<hr style=\"border-top: 1px solid #2c9a2a;\">';\r\n      }\r\n\r\n      element.innerHTML += '<div class=\"row\" id=\"rowBen'+i+'\">\\n' + separator  +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benFirstName-'+i+'\" class=\"form-label\">First Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"benFirstName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" name=\"benFirstName[]\" required value=\"'+benList['firstName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benLastName-'+i+'\" class=\"form-label\">Last Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"benLastName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\"  name=\"benLastName[]\" required value=\"'+benList['lastName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benAddress-'+i+'\" class=\"form-label\">Address</label>\\n' +\r\n          '    <input type=\"text\" id=\"benAddress-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Address\"  name=\"benAddress[]\" required value=\"'+benList['address']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benPhone-'+i+'\" class=\"form-label\">Phone</label>\\n' +\r\n          '    <input type=\"text\" id=\"benPhone-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Phone\"  name=\"benPhone[]\" required value=\"'+benList['phoneNumber']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benState-'+i+'\" class=\"form-label\">State</label>\\n' +\r\n          '    <input type=\"text\" id=\"benState-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter State\"  name=\"benState[]\"  required value=\"'+benList['state']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benPostalCode-'+i+'\" class=\"form-label\">Postal Code</label>\\n' +\r\n          '    <input type=\"text\" id=\"benPostalCode-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Postal Code\"  name=\"benPostalCode[]\" required value=\"'+benList['postalCode']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benRelation-'+i+'\" class=\"form-label\">Relationship</label>\\n' +\r\n          '    <input type=\"text\" id=\"benRelation-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Relationship\"  name=\"benRelation[]\"  required value=\"'+benList['relationship']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benAge-'+i+'\" class=\"form-label\">Age</label>\\n' +\r\n          '    <input type=\"text\" id=\"benAge-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Age\"  name=\"benAge[]\" required value=\"'+benList['age']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          ' </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          '    <button type=\"button\" id=\"'+i+'\" class=\"btn btn-danger removeItemBen\" title=\"Delete\"><i class=\"ri-close-circle-line\"></i></button>\\n' +\r\n          ' </div>\\n' +\r\n          '</div>';\r\n\r\n      div.appendChild(element);\r\n    },\r\n    addEcontact( eContact = [] ) {\r\n      this.eContactQty = this.eContactQty + 1;\r\n      let i = this.eContactQty;\r\n      let div = document.getElementById('addEcontact');\r\n      let separator = '';\r\n      let checkIDExists = document.getElementById(\"eConFirstName-1\");\r\n      var element = document.createElement('div');\r\n\r\n      if(eContact.length <= 0){\r\n        eContact.push(\r\n            eContact['firstName'] = '',\r\n            eContact['lastName'] = '',\r\n            eContact['address'] = '',\r\n            eContact['phoneNumber'] = '',\r\n            eContact['state'] = '',\r\n            eContact['postalCode'] = '',\r\n            eContact['relationship'] = '',\r\n            eContact['age']  = '');\r\n      }\r\n\r\n      if(checkIDExists) {\r\n        separator = '<hr style=\"border-top: 1px solid #2c9a2a;\">';\r\n      }\r\n      element.innerHTML += separator +\r\n          '<div class=\"row\" id=\"rowEcon'+i+'\">\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConFirstName-'+i+'\" class=\"form-label\">First Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConFirstName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" name=\"eConFirstName[]\" required value=\"'+eContact['firstName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConLastName-'+i+'\" class=\"form-label\">Last Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConLastName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\"  name=\"eConLastName[]\" required  value=\"'+eContact['lastName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConAddress-'+i+'\" class=\"form-label\">Address</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConAddress-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Address\"  name=\"eConAddress[]\" required  value=\"'+eContact['address']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConPhone-'+i+'\" class=\"form-label\">Phone</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConPhone-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Phone\"  name=\"eConPhone[]\" required  value=\"'+eContact['phoneNumber']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConState-'+i+'\" class=\"form-label\">State</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConState-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter State\"  name=\"eConState[]\"  required  value=\"'+eContact['state']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConPostalCode-'+i+'\" class=\"form-label\">Postal Code</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConPostalCode-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Postal Code\"  name=\"eConPostalCode[]\" required  value=\"'+eContact['postalCode']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConRelation-'+i+'\" class=\"form-label\">Relationship</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConRelation-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Relationship\"  name=\"eConRelation[]\"  required  value=\"'+eContact['relationship']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConAge-'+i+'\" class=\"form-label\">Age</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConAge-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Age\"  name=\"eConAge[]\" required  value=\"'+eContact['age']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          ' </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          '    <button type=\"button\" id=\"'+i+'\" class=\"btn btn-danger removeItemEcon\" title=\"Delete\"><i class=\"ri-close-circle-line\"></i></button>\\n' +\r\n          ' </div>\\n' +\r\n          '</div>';\r\n\r\n      div.append(element);\r\n    },\r\n    addAdditaments( additaments = []) {\r\n      this.additamentsQty = this.additamentsQty + 1;\r\n      let i = this.additamentsQty;\r\n      let div = document.getElementById('addAdditaments');\r\n      let separator = '';\r\n      let checkIDExists = document.getElementById(\"eConFirstName-1\");\r\n      var element = document.createElement('div');\r\n\r\n      if(additaments.length <= 0){\r\n        additaments.push(\r\n            additaments['firstName'] = '',\r\n            additaments['lastName'] = '',\r\n            additaments['gender'] = 0,\r\n            additaments['retalionship'] = 0,\r\n            additaments['age']  = '');\r\n      }\r\n\r\n      if(checkIDExists) {\r\n        separator = '<hr style=\"border-top: 1px solid #2c9a2a;\">';\r\n      }\r\n\r\n      element.innerHTML += separator +\r\n          '<div class=\"row\" id=\"rowAdditaments'+i+'\">\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"AddiFirstName-'+i+'\" class=\"form-label\">First Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"AddiFirstName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" name=\"AddiFirstName[]\" required value=\"'+additaments['firstName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"AddiLastName-'+i+'\" class=\"form-label\">Last Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"AddiLastName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\"  name=\"AddiLastName[]\" required value=\"'+additaments['lastName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '<div class=\"col-lg-6\">'+\r\n          '  <label for=\"AddiGender\" class=\"form-label\">Gender</label>'+\r\n          '  <select class=\"form-select mb-2\" aria-label=\"Gender\" id=\"AddiGender-'+i+'\" name=\"AddiGender[]\">'+\r\n          '    <option value=\"0\" >Select...</option>'+\r\n          '    <option value=\"F\">Female</option>'+\r\n          '    <option value=\"M\">Male</option>'+\r\n          '</select>'+\r\n          '</div>\\n'+\r\n          '<div class=\"col-lg-6\">\\n' +\r\n          '  <label for=\"AddiAge-'+i+'\" class=\"form-label\">Age</label>\\n' +\r\n          '  <input type=\"text\" id=\"AddiAge-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Age\"  name=\"AddiAge[]\" required  value=\"'+additaments['age']+'\">\\n' +\r\n          '</div>\\n' +\r\n          ' <div class=\"col-md-6\">\\n' +\r\n          '  <label for=\"AddiRelation-'+i+'\" class=\"form-label\">Relationship</label>'+\r\n          '  <select class=\"form-select mb-2\" aria-label=\"AddiRelation\" id=\"AddiRelation-'+i+'\" name=\"AddiRelation[]\"  value=\"'+additaments['retalionship']+'\">'+\r\n          '    <option value=\"0\">Relation</option>'+\r\n          '    <option value=\"C\">Children</option>'+\r\n          '    <option value=\"S\">Stepson</option>'+\r\n          '    <option value=\"G\">Grandson</option>'+\r\n          '</select>'+\r\n          ' </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          '    <button type=\"button\" id=\"'+i+'\" class=\"btn btn-danger removeItemAdditaments\" title=\"Delete\"><i class=\"ri-close-circle-line\"></i></button>\\n' +\r\n          ' </div>\\n' +\r\n          '</div>';\r\n      div.append(element);\r\n      document.getElementById(\"AddiGender-\"+i+\"\").value = additaments['gender'];\r\n      document.getElementById(\"AddiRelation-\"+i+\"\").value = additaments['retalionship'];\r\n    },\r\n    async addAnotherClient() {\r\n\r\n      this.errors = []\r\n\r\n      if (!this.clientData.firstName) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!this.clientData.lastName) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (!this.clientData.status) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!this.clientData.phone) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if (this.validPhone(this.clientData.phone) === false && this.clientData.phone !== '') {\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!this.clientData.department) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (this.clientData.type  === 'undefined') {\r\n        this.errors.push('Lead/Client Type is required.');\r\n        console.log('add another')\r\n      }\r\n\r\n      if (this.clientData.gender !== 'M' && this.clientData.gender !== 'F') {\r\n        this.errors.push('Gender is required.');\r\n      }\r\n\r\n      if (this.clientData.language !== '1' && this.clientData.language !== '2') {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (this.clientData.leadType === 'undefined') {\r\n        this.errors.push('Lead/client Type is required.');\r\n      }\r\n\r\n\r\n      if (!this.errors.length) {\r\n\r\n        // let clientData = JSON.parse(localStorage.getItem('clientFormData'));\r\n        // let formNumber = Number(document.querySelector(\"#localAgentID\").value);\r\n        //\r\n        // if(clientData.length > 0){\r\n        //   document.querySelector(\"#localAgentID\").value = formNumber + 1;\r\n        // }\r\n\r\n        let localAgentID = 'id'+document.querySelector(\"#localAgentID\").value;\r\n        let beneficiaries = this.getBenficiaries();\r\n        let emergencyContacts = this.getEmergency();\r\n        let addedChilds = this.getAddedChilds();\r\n        let formValues = {};\r\n        let values = {};\r\n\r\n        let form = document.getElementById(\"addform\");\r\n\r\n        for (var i = 0; i < form.elements.length; i++) {\r\n          let e = form.elements[i];\r\n\r\n          if(e.name !== '') {\r\n            formValues[e.name] = e.value;\r\n          }\r\n          formValues['editGender'] = document.querySelector(\"input[type='radio'][name=editGender]:checked\").value;\r\n\r\n          if(this.isClientList){\r\n            formValues['editType'] = document.querySelector(\"#editType\").value;\r\n          }else{\r\n            formValues['editType'] = document.querySelector(\"#editType1\").value;\r\n          }\r\n        }\r\n\r\n        // if array data already exist just update.\r\n        if (this.keyExists(localAgentID, this.clientFormData)) {\r\n          for (let i = 0; i < this.clientFormData.length; i++) {\r\n              const keys = Object.keys(this.clientFormData[i])\r\n              if (keys[0] === localAgentID) {\r\n                console.log(this.clientFormData[i][keys])\r\n                // this.clientFormData[i][keys] = {formValues, beneficiaries, emergencyContacts, addedChilds}\r\n              }\r\n          }\r\n          localStorage.setItem('clientFormData', JSON.stringify(this.clientFormData));\r\n          this.resetClientData()\r\n          let formNumber = Number(document.querySelector(\"#localAgentID\").value);\r\n          document.querySelector(\"#localAgentID\").value = formNumber + 1;\r\n\r\n          let goBack = document.getElementById('goBack');\r\n          let goNext = document.getElementById('goNext');\r\n          goBack.style.display = '';\r\n          goNext.style.display = '';\r\n          goBack.style.display = 'block';\r\n          goNext.style.display = 'block';\r\n\r\n          // if array data do not exist create it.\r\n        } else {\r\n          values = {formValues, beneficiaries, emergencyContacts, addedChilds}\r\n          this.clientFormData.push({[localAgentID]: values});\r\n          localStorage.setItem('clientFormData', JSON.stringify(this.clientFormData));\r\n          this.resetClientData()\r\n          let formNumber = Number(document.querySelector(\"#localAgentID\").value);\r\n          document.querySelector(\"#localAgentID\").value = formNumber + 1;\r\n\r\n          let goBack = document.getElementById('goBack');\r\n          let goNext = document.getElementById('goNext');\r\n          goBack.style.display = '';\r\n          goNext.style.display = '';\r\n          goBack.style.display = 'block';\r\n          goNext.style.display = 'block';\r\n        }\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i] + '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    async getEcontacts(){\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        isProspect: 0,\r\n        userEmail: localStorage.getItem('email'),\r\n        clientID: localStorage.getItem('selectedUser'),\r\n        userID: localStorage.getItem('id'),\r\n      }\r\n\r\n      await axios\r\n          .post('/api/client/getecontacts', data)\r\n          .then(response => {\r\n            // document.getElementById('eContactList').innerHTML = \"\";\r\n            this.eContactlist = []\r\n            this.eContactlist = response.data;\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n              Swal.fire(\"Oops!\", \"Departments could not be loaded, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async getBeneficiaries(){\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        isProspect: 0,\r\n        userEmail: localStorage.getItem('email'),\r\n        clientID: localStorage.getItem('selectedUser'),\r\n        userID: localStorage.getItem('id'),\r\n      }\r\n\r\n      await axios\r\n          .post('/api/client/getbeneficiaries', data)\r\n          .then(response => {\r\n            // document.getElementById('eContactList').innerHTML = \"\";\r\n            this.benList = []\r\n            this.benList = response.data;\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n              Swal.fire(\"Oops!\", \"Departments could not be loaded, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async getAdditaments(){\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        isProspect: 0,\r\n        userEmail: localStorage.getItem('email'),\r\n        clientID: localStorage.getItem('selectedUser'),\r\n        userID: localStorage.getItem('id'),\r\n      }\r\n\r\n      await axios\r\n          .post('/api/client/getAdditaments', data)\r\n          .then(response => {\r\n            // document.getElementById('eContactList').innerHTML = \"\";\r\n            this.additamentsList = [];\r\n            this.additamentsList = response.data;\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n              Swal.fire(\"Oops!\", \"Departments could not be loaded, please contact your SysAdmin.\", \"error\");\r\n            }\r\n          })\r\n    },\r\n    async checkClientExists(){\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        isProspect: 0,\r\n        userEmail: localStorage.getItem('email'),\r\n        clientID: localStorage.getItem('selectedUser'),\r\n        userID: localStorage.getItem('id'),\r\n        potentialClientEmail: this.clientData.email\r\n      }\r\n\r\n      if (this.validEmail(data.potentialClientEmail)) {\r\n        await axios\r\n            .post('/api/client/emailExists', data)\r\n            .then(response => {\r\n              let div = document.querySelector(\".createEmail\");\r\n\r\n              if (response.data > 0) {\r\n                div.classList.add(\"is-invalid\");\r\n              } else {\r\n                div.classList.remove(\"is-invalid\");\r\n              }\r\n            })\r\n            .catch(error => {\r\n              if (error.response) {\r\n                Swal.fire(\"Oops!\", \"Please, contact your SysAdmin.\", \"error\");\r\n              }\r\n            })\r\n      }\r\n\r\n    },\r\n    getBenficiaries() {\r\n      let nameValues = [];\r\n      let lastValues = [];\r\n      let phoneValues = [];\r\n      let addressValues = [];\r\n      let stateValues = [];\r\n      let postalValues = [];\r\n      let relationValues = [];\r\n      let ageValues = [];\r\n      let values = [];\r\n\r\n      let benFirstName = document.querySelectorAll(\"input[name='benFirstName[]']\");\r\n      for (let i = 0; i < benFirstName.length; i++) {\r\n        nameValues.push(benFirstName[i].value);\r\n      }\r\n\r\n      let benLastName = document.querySelectorAll(\"input[name='benLastName[]']\");\r\n      for (let i = 0; i < benLastName.length; i++) {\r\n        lastValues.push(benLastName[i].value);\r\n      }\r\n\r\n      let benPhone = document.querySelectorAll(\"input[name='benPhone[]']\");\r\n      for (let i = 0; i < benPhone.length; i++) {\r\n        phoneValues.push(benPhone[i].value);\r\n      }\r\n\r\n      let benAddress = document.querySelectorAll(\"input[name='benAddress[]']\");\r\n      for (let i = 0; i < benAddress.length; i++) {\r\n        addressValues.push(benAddress[i].value);\r\n      }\r\n\r\n      let benState = document.querySelectorAll(\"input[name='benState[]']\");\r\n      for (let i = 0; i < benState.length; i++) {\r\n        stateValues.push(benState[i].value);\r\n      }\r\n\r\n      let benPostalCode = document.querySelectorAll(\"input[name='benPostalCode[]']\");\r\n      for (let i = 0; i < benPostalCode.length; i++) {\r\n        postalValues.push(benPostalCode[i].value);\r\n      }\r\n\r\n      let benRelation = document.querySelectorAll(\"input[name='benRelation[]']\");\r\n      for (let i = 0; i < benRelation.length; i++) {\r\n        relationValues.push(benRelation[i].value);\r\n      }\r\n\r\n      let benAge = document.querySelectorAll(\"input[name='benAge[]']\");\r\n      for (let i = 0; i < benAge.length; i++) {\r\n        ageValues.push(benAge[i].value);\r\n      }\r\n\r\n      let i;\r\n      for (i = 0; i < nameValues.length; i++) {\r\n        values.push({'firstName': nameValues[i], 'lastName': lastValues[i], 'phoneNumber': phoneValues[i],\r\n          'address': addressValues[i], 'state': stateValues[i], 'postalCode': postalValues[i], 'relationship': relationValues[i],\r\n          'age': ageValues[i]});\r\n      }\r\n      return values;\r\n    },\r\n    getEmergency() {\r\n      let nameValues = [];\r\n      let lastValues = [];\r\n      let phoneValues = [];\r\n      let addressValues = [];\r\n      let stateValues = [];\r\n      let postalValues = [];\r\n      let relationValues = [];\r\n      let ageValues = [];\r\n      let values = [];\r\n\r\n      let eConFirstName = document.querySelectorAll(\"input[name='eConFirstName[]']\");\r\n      for (let i = 0; i < eConFirstName.length; i++) {\r\n        nameValues.push(eConFirstName[i].value);\r\n      }\r\n\r\n      let eConLastName = document.querySelectorAll(\"input[name='eConLastName[]']\");\r\n      for (let i = 0; i < eConLastName.length; i++) {\r\n        lastValues.push(eConLastName[i].value);\r\n      }\r\n\r\n      let eConPhone = document.querySelectorAll(\"input[name='eConPhone[]']\");\r\n      for (let i = 0; i < eConPhone.length; i++) {\r\n        phoneValues.push(eConPhone[i].value);\r\n      }\r\n\r\n      let eConAddress = document.querySelectorAll(\"input[name='eConAddress[]']\");\r\n      for (let i = 0; i < eConAddress.length; i++) {\r\n        addressValues.push(eConAddress[i].value);\r\n      }\r\n\r\n      let eConState = document.querySelectorAll(\"input[name='eConState[]']\");\r\n      for (let i = 0; i < eConState.length; i++) {\r\n        stateValues.push(eConState[i].value);\r\n      }\r\n\r\n      let eConPostalCode = document.querySelectorAll(\"input[name='eConPostalCode[]']\");\r\n      for (let i = 0; i < eConPostalCode.length; i++) {\r\n        postalValues.push(eConPostalCode[i].value);\r\n      }\r\n\r\n      let eConRelation = document.querySelectorAll(\"input[name='eConRelation[]']\");\r\n      for (let i = 0; i < eConRelation.length; i++) {\r\n        relationValues.push(eConRelation[i].value);\r\n      }\r\n\r\n      let eConAge = document.querySelectorAll(\"input[name='eConAge[]']\");\r\n      for (let i = 0; i < eConAge.length; i++) {\r\n        ageValues.push(eConAge[i].value);\r\n      }\r\n\r\n      let i;\r\n      for (i = 0; i < nameValues.length; i++) {\r\n        values.push({'firstName':  nameValues[i], 'lastName':  lastValues[i], 'phoneNumber':  phoneValues[i], 'address':  addressValues[i],\r\n          'state':  stateValues[i], 'postalCode':  postalValues[i], 'relationship':  relationValues[i], 'age':  ageValues[i]});\r\n      }\r\n      return values;\r\n    },\r\n    getAddedChilds() {\r\n\r\n      let nameValues = [];\r\n      let lastValues = [];\r\n      let genderValues = [];\r\n      let ageValues = [];\r\n      let relationValues = [];\r\n      let values = [];\r\n\r\n      let eConFirstName = document.querySelectorAll(\"input[name='AddiFirstName[]']\");\r\n      for (let i = 0; i < eConFirstName.length; i++) {\r\n        nameValues.push(eConFirstName[i].value);\r\n      }\r\n\r\n      let eConLastName = document.querySelectorAll(\"input[name='AddiLastName[]']\");\r\n      for (let i = 0; i < eConLastName.length; i++) {\r\n        lastValues.push(eConLastName[i].value);\r\n      }\r\n\r\n      let AddiGender = document.querySelectorAll(\"select[name='AddiGender[]']\");\r\n      for (let i = 0; i < AddiGender.length; i++) {\r\n        genderValues.push(AddiGender[i].value);\r\n      }\r\n\r\n      let AddiAge = document.querySelectorAll(\"input[name='AddiAge[]']\");\r\n      for (let i = 0; i < AddiAge.length; i++) {\r\n        ageValues.push(AddiAge[i].value);\r\n      }\r\n\r\n      let AddiRelation = document.querySelectorAll(\"select[name='AddiRelation[]']\");\r\n      for (let i = 0; i < AddiRelation.length; i++) {\r\n        relationValues.push(AddiRelation[i].value);\r\n      }\r\n\r\n      let i;\r\n      for (i = 0; i < nameValues.length; i++) {\r\n        values.push({'firstName':  nameValues[i], 'lastName':  lastValues[i], 'gender': genderValues[i], 'age': ageValues[i],\r\n          'retalionship': relationValues[i]});\r\n      }\r\n      return values;\r\n    },\r\n    setMessagesInfo(messages){\r\n      this.chatMessages= messages;\r\n    },\r\n    restoreForm( instruction = '' ) {\r\n      let clientData = JSON.parse(localStorage.getItem('clientFormData'));\r\n      let formNumber = Number(document.querySelector(\"#localAgentID\").value);\r\n      let localAgentID = '';\r\n\r\n      if (instruction === 'next' && Number(formNumber) !== (Number(clientData.length) - 1)) {\r\n        document.querySelector(\"#localAgentID\").value = formNumber + 1;\r\n        localAgentID = 'id'+document.querySelector(\"#localAgentID\").value\r\n        this.restore(clientData, localAgentID);\r\n        Swal.fire('Agent information Restored!', '', 'success');\r\n\r\n      } else if(instruction === 'back' && formNumber !== 0) {\r\n        document.querySelector(\"#localAgentID\").value = formNumber - 1;\r\n        localAgentID = 'id'+document.querySelector(\"#localAgentID\").value\r\n        this.restore(clientData, localAgentID);\r\n        Swal.fire('Agent information Restored!', '', 'success');\r\n\r\n      } else if (instruction === '') {\r\n        localAgentID = 'id0';\r\n        this.restore(clientData, localAgentID);\r\n      }\r\n\r\n      let goBack = document.getElementById('goBack');\r\n      let goNext = document.getElementById('goNext');\r\n      goBack.style.display = 'none';\r\n      goNext.style.display = 'none';\r\n\r\n      if(clientData.length > 1) {\r\n        goBack.style.display = 'block';\r\n        goNext.style.display = 'block';\r\n      }\r\n    },\r\n    resetForm(){\r\n      document.getElementById(\"addform\").reset();\r\n    },\r\n    restore(clientData, localAgentID) {\r\n      this.resetClientData();\r\n\r\n      for (let i = 0; i < clientData.length; i++) {\r\n\r\n        const keys = Object.keys(clientData[i])\r\n\r\n        if (keys[0] === localAgentID) {\r\n          this.clientData.email = clientData[i][keys]['formValues']['editEmail'];\r\n          this.clientData.status = clientData[i][keys]['formValues']['editStatus'];\r\n          this.clientData.language = clientData[i][keys]['formValues']['editLanguage'];\r\n          this.clientData.lastName = clientData[i][keys]['formValues']['editLastName'];\r\n          this.clientData.firstName = clientData[i][keys]['formValues']['editFirstName'];\r\n          this.clientData.firstName = clientData[i][keys]['formValues']['editFirstName'];\r\n          this.clientData.gender = clientData[i][keys]['formValues']['editGender'];\r\n          this.clientData.type = (clientData[i][keys]['formValues']['editType'] !== '') ? clientData[i][keys]['formValues']['editType']: clientData[i][keys]['formValues']['type'];\r\n          this.clientData.phone = clientData[i][keys]['formValues']['editPhoneNumber'];\r\n          this.clientData.department = clientData[i][keys]['formValues']['editDepartment'];\r\n          this.clientData.interview = clientData[i][keys]['formValues']['editInterview'];\r\n          this.clientData.department = clientData[i][keys]['formValues']['editDepartment'];\r\n          this.clientData.address = clientData[i][keys]['formValues']['editAddress'];\r\n          this.clientData.birthday = clientData[i][keys]['formValues']['editBirthdate'];\r\n          this.clientData.note = clientData[i][keys]['formValues']['editNotes'];\r\n          this.clientData.state = clientData[i][keys]['formValues']['editState'];\r\n          this.clientData.country = clientData[i][keys]['formValues']['editCountry'];\r\n          this.clientData.zipCode = clientData[i][keys]['formValues']['editPostalCode'];\r\n          this.clientData.city = clientData[i][keys]['formValues']['editCity'];\r\n\r\n\r\n          localStorage.setItem('testData', JSON.stringify(this.clientData));\r\n          console.log(localStorage.getItem('testData'));\r\n          // console.log(clientData[i][keys]['addedChilds'])\r\n          // console.log(clientData[i][keys]['emergencyContacts'])\r\n\r\n          if (clientData[i][keys]['beneficiaries'].length > 0) {\r\n            let beneficiaries = clientData[i][keys]['beneficiaries'];\r\n            for (let y = 0; y < beneficiaries.length; y++) {\r\n              this.addBeneficiary(beneficiaries[y]);\r\n            }\r\n          }\r\n\r\n          if (clientData[i][keys]['emergencyContacts'].length > 0) {\r\n            let emergencyContacts = clientData[i][keys]['emergencyContacts'];\r\n            for (let y = 0; y < emergencyContacts.length; y++) {\r\n              this.addEcontact(emergencyContacts[y]);\r\n            }\r\n          }\r\n\r\n          if (clientData[i][keys]['addedChilds'].length > 0) {\r\n            let addedChilds = clientData[i][keys]['addedChilds'];\r\n            for (let y = 0; y < addedChilds.length; y++) {\r\n              this.addAdditaments(addedChilds[y]);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    handleFocus(e){\r\n      e.target.setAttribute(\"autocomplete\", \"nope\");\r\n    },\r\n    deleteclient() {\r\n      const swalWithBootstrapButtons = Swal.mixin({\r\n        customClass: {\r\n          confirmButton: \"btn btn-danger ml-2\",\r\n          cancelButton: \"btn btn-success\",\r\n        },\r\n        buttonsStyling: false,\r\n      });\r\n\r\n      swalWithBootstrapButtons\r\n          .fire({\r\n            title: \"Are you sure?\",\r\n            text: \"You won't be able to revert this!\",\r\n            icon: \"warning\",\r\n            confirmButtonText: \"Yes, delete it!\",\r\n            cancelButtonText: \"No, cancel!\",\r\n            showCancelButton: true,\r\n          })\r\n          .then((result) => {\r\n            if (result.value) {\r\n\r\n              const data = {\r\n                token: localStorage.getItem('jwt'),\r\n                userID: localStorage.getItem('id'),\r\n                userName: localStorage.getItem('firstName') + ' ' + localStorage.getItem('lastname'),\r\n                userEmail: localStorage.getItem('email'),\r\n                agentID: localStorage.getItem('selectedUser')\r\n              }\r\n\r\n              axios\r\n                  .put('/api/client/delete', data)\r\n                  .then(async response => {\r\n                    if (response) {\r\n                      await this.updateClientList()\r\n                      document.getElementById('close-modal').click();\r\n                      await swalWithBootstrapButtons.fire(\r\n                          \"Deleted!\",\r\n                          \"Client has been deleted.\",\r\n                          \"success\"\r\n                      );\r\n                    }\r\n                  })\r\n                  .catch(async error => {\r\n                    if (error.response) {\r\n                      let list = '';\r\n                      for (const property in error.response.data) {\r\n                        this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                        list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                      }\r\n\r\n                      await Swal.fire({\r\n                        title: \"Please check the following: \" + list,\r\n                        icon: 'warning',\r\n                        confirmButtonClass: \"btn btn-info\",\r\n                        buttonsStyling: false,\r\n                        showCloseButton: true,\r\n                      });\r\n\r\n                    } else if (error.message) {\r\n                      this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n                    }\r\n                  })\r\n            } else if (\r\n                /* Read more about handling dismissals below */\r\n                result.dismiss === Swal.DismissReason.cancel\r\n            ) {\r\n              swalWithBootstrapButtons.fire(\r\n                  \"Cancelled\",\r\n                  \"Client is in a safe place :)\",\r\n                  \"error\"\r\n              );\r\n            }\r\n          });\r\n    },\r\n    getMapsLink(){\r\n      let link = 'https://maps.google.com/?q='\r\n      let clientData = this.clientData;\r\n      if (clientData.address.length > 0){\r\n        link += '+'+this.clientData.address\r\n      }\r\n      if (clientData.zipCode.length > 0){\r\n        link += '+'+clientData.zipCode\r\n      }\r\n      if (clientData.city.length > 0){\r\n        link += '+'+clientData.city\r\n      }\r\n      if (clientData.state.length > 0){\r\n        link += '+'+clientData.state\r\n      }\r\n\r\n      if(link !== 'https://maps.google.com/?q=') {\r\n        document.getElementById(\"gMapsLink\").href = link;\r\n      } else {\r\n        document.getElementById(\"gMapsLink\").href = '#';\r\n      }\r\n\r\n    },\r\n    viewUserGroup(request) {\r\n      const currentRole = jwt_decode(localStorage.getItem('jwt'))\r\n      return currentRole.userGroup.includes(request)\r\n    },\r\n    async getNotes (id = localStorage.getItem('selectedUser')) {\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        userID: localStorage.getItem('id'),\r\n        agentID: id,\r\n        clientID: id,\r\n      }\r\n\r\n      const pattern = '/client/';\r\n      const pattern2 = '/prospects/';\r\n      let url = '';\r\n      if(window.location.href.match(pattern)) {\r\n        url = '/api/client/getClientNotes';\r\n      } else if(window.location.href.match(pattern2)){\r\n        url = '/api/client/getClientNotes';\r\n      } else {\r\n        url = '/api/getUserNotes';\r\n      }\r\n\r\n      await axios\r\n          .post(url, data)\r\n          .then(response => {\r\n            this.notesData = response.data;\r\n            // this.$emit('onFire', response.data)\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n              Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n  },\r\n  validations: {\r\n    form: {\r\n      message: {\r\n        required: helpers.withMessage(\"Message is required\", required),\r\n      },\r\n    },\r\n  },\r\n  async mounted() {\r\n\r\n    const data = {\r\n      token: localStorage.getItem('jwt'),\r\n      isProspect: 0,\r\n      searchValues: this.data.searchValues,\r\n      userEmail: localStorage.getItem('email'),\r\n      userID: localStorage.getItem('id'),\r\n      deleted: 0,\r\n    }\r\n\r\n    await axios\r\n        .post('/api/listDepartments', data)\r\n        .then(response => {\r\n          this.departmentList = response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n            Swal.fire(\"Oops!\", \"Departments could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/client/clientStatus', data)\r\n        .then(response => {\r\n          this.statusList = response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/client/clientTypes', data)\r\n        .then(response => {\r\n          this.typeList = response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/client/listClientsByStatus', data)\r\n        .then(response => {\r\n          this.isClientList = (window.location.href.match('/client/') !== null) ? true : false;\r\n\r\n          for (let i = 0; i < 10; i++) {\r\n            let varName = [];\r\n            varName = response.data[i].statusName.replace(/\\s+/g, '-').toLowerCase();\r\n            this.varName = response.data[i].content;\r\n            this.varName['groupName'] = {\r\n              'groupName': varName,\r\n              'statusName': response.data[i].statusName,\r\n              'groupID': response.data[i].statusID,\r\n              'sequence': 1,\r\n              'quantity': response.data[i].content.length,\r\n              'perPage': 30,\r\n              'showing': (response.data[i].content.length < 30 ? response.data[i].content.length: 30),\r\n            };\r\n            this.list.push(this.varName);\r\n          }\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n            for (const property in error.response.data) {\r\n            this.errors.push(`${property}: ${error.response.data[property]}`)\r\n            }\r\n          } /*else if (error.message) {\r\n            this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n          }*/\r\n        })\r\n\r\n    function addEvent(parent, evt, selector, handler) {\r\n      parent.addEventListener(evt, function(event) {\r\n        if (event.target.matches(selector + ', ' + selector + ' *')) {\r\n          handler.apply(event.target.closest(selector), arguments);\r\n        }\r\n      }, false);\r\n    }\r\n\r\n    /* To be used as */\r\n    addEvent(document, 'click', 'button.removeItemBen', function() {\r\n      let button_id = this.id;\r\n      document.getElementById('rowBen' + button_id).remove();\r\n    });\r\n    addEvent(document, 'click', 'button.removeItemEcon', function() {\r\n      let button_id = this.id;\r\n      document.getElementById('rowEcon' + button_id).remove()\r\n    });\r\n    addEvent(document, 'click', 'button.removeItemAdditaments', function() {\r\n      let button_id = this.id;\r\n      document.getElementById('rowAdditaments' + button_id).remove()\r\n    });\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.listProperties {\r\n  min-height: 30%;\r\n}\r\n\r\n.moveCard {\r\n  cursor: default;\r\n}\r\n\r\n.grayIcon {\r\n  color: #6b778c;\r\n}\r\n\r\n.eyeIcon {\r\n  margin: 5px;\r\n  max-width: 30px;\r\n}\r\n\r\n.hide {\r\n  transition: 0.01s;\r\n  transform: translateX(-9999px);\r\n}\r\n\r\n.card-body {\r\n  flex: 1 1 auto;\r\n  padding: 1rem 0.5rem;\r\n}\r\n\r\n#tab td {\r\n  vertical-align: top;\r\n}\r\n\r\n.side-buttons {\r\n  width: 100%;\r\n  text-align: left !important;\r\n}\r\n\r\n.window-sidebar {\r\n  float: right;\r\n  overflow: hidden;\r\n  padding: 0 16px 8px 8px;\r\n  width: calc(100% - 600px);\r\n  z-index: 10;\r\n}\r\n\r\n.window-module {\r\n  clear: both;\r\n  margin-bottom: 24px;\r\n  position: relative;\r\n}\r\n\r\n.window-module {\r\n  clear: both;\r\n  margin-bottom: 24px;\r\n  position: relative;\r\n  padding-right: 5px;\r\n}\r\n\r\n.u-clearfix:after {\r\n  clear: both;\r\n  content: \"\";\r\n  display: table\r\n}\r\n\r\n.window-sidebar h3.mod-no-top-margin {\r\n  margin-top: 0;\r\n}\r\n\r\n.window-sidebar h3 {\r\n  color: #5e6c84;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  line-height: 16px;\r\n  margin-bottom: -4px;\r\n  margin-top: 16px;\r\n}\r\n\r\n.button-link:hover {\r\n  background-color: #091e4214;\r\n  border: none;\r\n  box-shadow: none;\r\n}\r\n\r\n.button-link {\r\n  background-color: #091e420a;\r\n  border: none;\r\n  border-radius: 3px;\r\n  box-shadow: none;\r\n  box-sizing: border-box;\r\n  cursor: pointer;\r\n  display: block;\r\n  height: 32px;\r\n  margin-top: 8px;\r\n  max-width: 300px;\r\n  overflow: hidden;\r\n  padding: 6px 12px !important;\r\n  position: relative;\r\n  text-decoration: none;\r\n  text-overflow: ellipsis;\r\n  transition-duration: 85ms;\r\n  transition-property: background-color, border-color, box-shadow;\r\n  transition-timing-function: ease;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  white-space: nowrap;\r\n}\r\n\r\n.icon-lg, .icon-md, .icon-sm {\r\n  color: #e30000;\r\n}\r\n\r\n.icon-sm {\r\n  font-size: 16px;\r\n  height: 20px;\r\n  line-height: 20px;\r\n  width: 20px;\r\n}\r\n\r\n.icon-lg, .icon-md, .icon-sm {\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  display: inline-block;\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  line-height: 1;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  vertical-align: bottom;\r\n}\r\n\r\n.js-sidebar-action-text {\r\n  color: #7c7979;\r\n}\r\n\r\ndiv.u-clearfix > a > i {\r\n  color: #7c7979;\r\n}\r\n\r\n.tab-content {\r\n  padding: 10px;\r\n}\r\n\r\n.chat-conversation {\r\n  height: calc(100vh - 500px) !important;\r\n}\r\n\r\n.fieldset-style{\r\n  display: block;margin-inline-start: 2px;\r\n  margin-inline-end: 2px;\r\n  padding-block-start: 0.35em;\r\n  padding-inline-start: 0.75em;\r\n  padding-inline-end: 0.75em;\r\n  padding-block-end: 0.625em;\r\n  min-inline-size: min-content;\r\n  /*border-width: 2px;*/\r\n  /*border-style: groove;*/\r\n  border-color: threedface;\r\n  border-image: initial;\r\n  border-radius: 10px;\r\n}\r\n\r\n.legend-style{\r\n  display: block;\r\n  padding-inline-start: 2px;\r\n  padding-inline-end: 2px;\r\n  border-width: initial;\r\n  border-style: none;\r\n  border-color: initial;\r\n  border-image: initial;\r\n}\r\n\r\n@media (min-width: 768px) and (max-width: 1024px) {\r\n  .margin-left-menu{\r\n    margin-left: 5vw;\r\n  }\r\n}\r\n\r\n</style>\r\n\r\n<template>\r\n  <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\"/>\r\n    <div class=\"card\">\r\n      <div class=\"card-body\">\r\n        <div class=\"row g-3\">\r\n          <div class=\"col-md-3\">\r\n            <div class=\"search-box\">\r\n              <input type=\"text\" class=\"form-control search\"\r\n                     placeholder=\"Enter Keyword\" v-model=\"this.data.searchValues.keyword\"\r\n                     @change=\"this.data.searchValues.keyword.length >= 3 ? updateClientList(): ''\"\r\n                     v-on:keyup.enter=\"this.data.searchValues.keyword === '' ? updateClientList() : ''\">\r\n              <i class=\"ri-search-line search-icon\"></i>\r\n            </div>\r\n          </div><!--end col-->\r\n          <div class=\"col-md-auto ms-auto\">\r\n            <div class=\"d-flex hastck gap-2 flex-wrap\">\r\n              <div class=\"d-flex align-items-center gap-2\">\r\n                <span class=\"text-muted flex-shrink-0\">Sort by: </span>\r\n\r\n                <Multiselect class=\"form-control\"\r\n                             style=\"width:150px;padding: 0px;\"\r\n                             v-model=\"this.data.searchValues.sortBy\"\r\n                             autocomplete=\"off\"\r\n                             @focus=\"handleFocus\"\r\n                             :close-on-select=\"true\"\r\n                             :searchable=\"true\"\r\n                             :options=\"[\r\n                            { value: 'name', label: 'Name' },\r\n                            { value: 'postalCode', label: 'Postal Code' },\r\n                            { value: 'modified', label: 'Modified On' },\r\n                            { value: 'created', label: 'created On' },\r\n                            ]\"\r\n                             @select=\"updateClientList()\"\r\n                />\r\n\r\n              </div>\r\n              <div class=\"d-flex align-items-center gap-2\">\r\n                <span class=\"text-muted flex-shrink-0\">Order by: </span>\r\n\r\n                <Multiselect class=\"form-control\"\r\n                             style=\"width:150px;padding: 0px;\"\r\n                             v-model=\"this.data.searchValues.orderBy\"\r\n                             autocomplete=\"off\"\r\n                             @focus=\"handleFocus\"\r\n                             :close-on-select=\"true\"\r\n                             :searchable=\"true\"\r\n                             :options=\"[\r\n                            { value: 'ASC', label: 'Ascendance' },\r\n                            { value: 'DESC', label: 'Descendant' },\r\n                            ]\"\r\n                             @select=\"updateClientList()\"\r\n                />\r\n              </div>\r\n              <button type=\"button\" class=\"btn btn-soft-success add-btn\" id=\"filters-btn\" data-bs-toggle=\"modal\" data-bs-target=\"#open-filters\">\r\n                <i class=\"ri-add-line align-bottom me-1\"></i> Filters\r\n              </button>\r\n              <button type=\"button\" class=\"btn btn-soft-success add-btn\" id=\"create-btn\" data-bs-toggle=\"modal\" href=\"#clientModalAdd\" @click=\"addNewClientModal\">\r\n                <i class=\"ri-add-line align-bottom me-1\"></i> Add Client\r\n              </button>\r\n              <div class=\"dropdown\">\r\n                <button class=\"btn btn-soft-secondary btn-icon fs-14\" type=\"button\" id=\"dropdownMenuButton1\"\r\n                        data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                  <i class=\"ri-settings-4-line\"></i>\r\n                </button>\r\n                <ul class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\r\n                  <li><a class=\"dropdown-item\" href=\"#\">Copy</a></li>\r\n                  <li><a class=\"dropdown-item\" href=\"#\">Move to pipline</a></li>\r\n                  <li><a class=\"dropdown-item\" href=\"#\">Add to exceptions</a></li>\r\n                  <li><a class=\"dropdown-item\" href=\"#\">Switch to common form view</a></li>\r\n                  <li><a class=\"dropdown-item\" href=\"#\">Reset form view to default</a></li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div><!--end col-->\r\n        </div><!--end row-->\r\n      </div>\r\n    </div><!--end card-->\r\n\r\n    <kanbanBoard :key=\"list\" :list=\"list\" @onFire=\"printEmit\" @userData=\"setClientData\" style=\"min-height: 600px;\" @setMessages=\"setMessagesInfo\"/>\r\n\r\n    <div class=\"modal fade\" id=\"importData\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-fullscreen\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header bg-soft-primary p-3\">\r\n            <h5 class=\"modal-title\" id=\"uploadClient\">Upload Clients</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div style=\"padding: 1.25rem;\">\r\n            <p> <b>We spect the following column (12) in the .CSV file</b></p> <br>\r\n            <p>Last Name, First Name, Address, City, State, Zip, Daytime phone, Evening Phone, Age, Media, Language, Assigned</p>\r\n            <a href=\"\\assets\\images\\spectedList.PNG\" target=\"_blank\"> Check the picture</a>\r\n          </div>\r\n          <chargeProspects> </chargeProspects>\r\n        </div>\r\n      </div>\r\n    </div><!--end modal-->\r\n\r\n  <!--  UPDATE CLIENTS  -->\r\n    <div class=\"modal fade zoomIn\" id=\"agentModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\"  data-bs-focus=\"false\">\r\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\">\r\n        <div class=\"modal-content border-0\">\r\n          <div class=\"modal-header p-3 bg-soft-info\">\r\n            <h5 class=\"modal-title\" id=\"modalTitle\">Clients Card</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"\r\n                    id=\"close-modal\"></button>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-9\">\r\n              <div class=\"tab-content\">\r\n                <div\r\n                    class=\"tab-pane fade show active\"\r\n                    id=\"mainTab\"\r\n                    role=\"tabpanel\"\r\n                    aria-labelledby=\"pills-bill-info-tab\"\r\n                >\r\n                  <div>\r\n                    <form @submit.prevent=\"\">\r\n                      <div class=\"modal-body\">\r\n                        <p class=\"text-muted mb-4\">\r\n                          is in <a href=\"#\"><span style=\"text-decoration: underline;\"> X </span></a>\r\n                        </p>\r\n                        <h6> <span style=\"color:red; font-size: 0.7em;\">Required fields (*)</span></h6>\r\n                        <input type=\"hidden\" id=\"id\"/>\r\n                        <div class=\"row g-3\" v-if=\"this.isClientList == true\">\r\n                          <div class=\"col-lg-12\">\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editEmail\" class=\"form-label\">Email</label>\r\n                                <input type=\"text\" id=\"editEmail\" class=\"form-control mb-2\" placeholder=\"Enter Email\"\r\n                                       v-model=\"clientData.email\">\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editCreatedBy\" class=\"form-label\">Created By</label>\r\n                                <input type=\"text\" id=\"editCreatedBy\" name=\"editCreatedBy\" class=\"form-control mb-2\" disabled\r\n                                       v-model=\"this.clientData.createdBy\">\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editFirstName\" class=\"form-label\">First Name <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <input type=\"text\" id=\"editFirstName\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter First Name\" v-model=\"this.clientData.firstName\" required>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editLastName\" class=\"form-label\">Last Name <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <input type=\"text\" id=\"editLastName\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Last Name\" v-model=\"this.clientData.lastName\" required>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editType\" class=\"form-label\">Type <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editType1\" name=\"editType\" v-model=\"this.clientData.type\">\r\n                                  <option v-for=\"(type, typeIndex) of typeList\" :key=\"typeIndex\" v-bind:value=\"type.code\">{{ type.name }}</option>\r\n                                </select>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editGender\" class=\"form-label\"> Gender <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <br>\r\n                                <div class=\"form-check-success form-check-inline\" style=\"margin-top: 0.8em;\">\r\n                                  <input class=\"form-check-input\" type=\"radio\" name=\"editGender1\" id=\"editGender1\" value=\"M\" v-model=\"this.clientData.gender\">\r\n                                  <label class=\"form-check-label\" for=\"editGender1\"> &nbsp; Male</label>\r\n                                </div>\r\n                                <div class=\"form-check-success form-check-inline\" style=\"margin-top: 0.8em;\">\r\n                                  <input class=\"form-check-input\" type=\"radio\" name=\"editGender1\" id=\"editGender3\" value=\"F\" v-model=\"this.clientData.gender\">\r\n                                  <label class=\"form-check-label\" for=\"editGender3\"> &nbsp; Female</label>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editLanguage\" class=\"form-label\">Language <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"editLanguage\"\r\n                                        v-model=\"this.clientData.language\" required>\r\n                                  <option value=\"1\" selected>English</option>\r\n                                  <option value=\"2\">Spanish</option>\r\n                                </select>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editStatus\" class=\"form-label\">Status <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editStatus\"\r\n                                        v-model=\"this.clientData.status\">\r\n                                  <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\"\r\n                                          v-bind:value=\"status.statusID\">{{ status.name }}\r\n                                  </option>\r\n                                </select>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editPhoneNumber\" class=\"form-label\">Phone <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <input type=\"text\" id=\"editPhoneNumber\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Phone number\" required v-model=\"this.clientData.phone\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editDepartment\" class=\"form-label\">Department <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                                        v-model=\"this.clientData.department\" v-if=\"(departmentList.length > 1)\">\r\n                                    <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\r\n                                            v-bind:value=\"department.departmentID\">{{ department.name }}\r\n                                    </option>\r\n                                </select>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                                        v-model=\"this.clientData.department\" v-else>\r\n                                  <option v-bind:value=\"departmentList.departmentID\">{{ departmentList.name }}</option>\r\n                                </select>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editAddress\" class=\"form-label\">Address</label>&nbsp;<code><a href=\"#\" target=\"_blank\" id=\"gMapsLink\">Google Maps</a></code>\r\n                                <input type=\"text\" id=\"editAddress\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Address\" required v-model=\"this.clientData.address\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editBirthDate\" class=\"form-label mb-2\">Birth Date</label>\r\n                                <flat-pickr\r\n                                    placeholder=\"Select Birth Date\"\r\n                                    v-model=\"this.clientData.birthDate\"\r\n                                    :config=\"timeConfig\"\r\n                                    class=\"form-control flatpickr-input\"\r\n                                    id=\"editBirthDate\"></flat-pickr>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editState\" class=\"form-label\">State</label>\r\n                                <input type=\"text\" id=\"editState\" class=\"form-control mb-2\" placeholder=\"Enter State\"\r\n                                       required v-model=\"this.clientData.state\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editCountry\" class=\"form-label\">Country</label>\r\n                                <input type=\"text\" id=\"editCountry\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Country\" required v-model=\"this.clientData.country\"/>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editCity\" class=\"form-label\">City</label>\r\n                                <input type=\"text\" id=\"editCity1\" name=\"editCity1\" class=\"form-control mb-2\" placeholder=\"Enter City\" required v-model=\"this.clientData.city\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editPostalCode\" class=\"form-label\">Age</label>\r\n                                <span><p><b style=\"vertical-align: sub;\">{{ this.clientData.age }}</b></p></span>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editPostalCode\" class=\"form-label\">Postal code</label>\r\n                                <input type=\"text\" id=\"editPostalCode\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Address\" required v-model=\"this.clientData.zipCode\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editInterview\" class=\"form-label mb-2\">Interview Date</label>\r\n                                <flat-pickr\r\n                                    v-model=\"this.clientData.interview\"\r\n                                    :config=\"dateTimeConfig\"\r\n                                    id=\"editInterview\"\r\n                                    class=\"form-control\"\r\n                                    data-provider=\"timepickr\"\r\n                                    data-time-hrs=\"true\"\r\n                                ></flat-pickr>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <!--end col-->\r\n                        </div>\r\n                        <div class=\"row g-3\" v-else>\r\n                          <div class=\"col-lg-12\">\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editEmail\" class=\"form-label\">Email</label>\r\n                                <input type=\"text\" id=\"editEmail\" class=\"form-control mb-2\" placeholder=\"Enter Email\"\r\n                                       v-model=\"clientData.email\">\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editCreatedBy\" class=\"form-label\">Created By</label>\r\n                                <input type=\"text\" id=\"editCreatedBy\" name=\"editCreatedBy\" class=\"form-control mb-2\" disabled\r\n                                       v-model=\"this.clientData.createdBy\">\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editFirstName\" class=\"form-label\">First Name</label>\r\n                                <input type=\"text\" id=\"editFirstName\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter First Name\" v-model=\"this.clientData.firstName\" required>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editLastName\" class=\"form-label\">Last Name</label>\r\n                                <input type=\"text\" id=\"editLastName\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Last Name\" v-model=\"this.clientData.lastName\" required>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editLanguage\" class=\"form-label\">Language</label>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"editLanguage\"\r\n                                        v-model=\"this.clientData.language\" required>\r\n                                  <option value=\"1\" selected>English</option>\r\n                                  <option value=\"2\">Spanish</option>\r\n                                </select>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editStatus\" class=\"form-label\">Status</label>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editStatus\"\r\n                                        v-model=\"this.clientData.status\">\r\n                                  <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\"\r\n                                          v-bind:value=\"status.statusID\">{{ status.name }}\r\n                                  </option>\r\n                                </select>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editPhoneNumber\" class=\"form-label\">Phone</label>\r\n                                <input type=\"text\" id=\"editPhoneNumber\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Phone number\" required v-model=\"this.clientData.phone\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editDepartment\" class=\"form-label\">Department</label>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                                        v-model=\"this.clientData.department\" v-if=\"(departmentList.length > 1)\">\r\n                                  <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\r\n                                          v-bind:value=\"department.departmentID\">{{ department.name }}\r\n                                  </option>\r\n                                </select>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                                        v-model=\"this.clientData.department\" v-else>\r\n                                  <option v-bind:value=\"departmentList.departmentID\">{{ departmentList.name }}</option>\r\n                                </select>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editAddress\" class=\"form-label\">Address</label>\r\n                                <input type=\"text\" id=\"editAddress\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Address\" required v-model=\"this.clientData.address\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editBirthDate\" class=\"form-label mb-2\">Birth Date</label>\r\n                                <flat-pickr\r\n                                    placeholder=\"Select Birth Date\"\r\n                                    v-model=\"this.clientData.birthDate\"\r\n                                    :config=\"timeConfig\"\r\n                                    class=\"form-control flatpickr-input\"\r\n                                    id=\"editBirthDate\"></flat-pickr>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editState\" class=\"form-label\">State</label>\r\n                                <input type=\"text\" id=\"editState\" class=\"form-control mb-2\" placeholder=\"Enter State\"\r\n                                       required v-model=\"this.clientData.state\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editCountry\" class=\"form-label\">Country</label>\r\n                                <input type=\"text\" id=\"editCountry\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Country\" required v-model=\"this.clientData.country\"/>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editPostalCode\" class=\"form-label\">Postal code</label>\r\n                                <input type=\"text\" id=\"editPostalCode\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Address\" required v-model=\"this.clientData.zipCode\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editInterview\" class=\"form-label mb-2\">Interview</label>\r\n                                <flat-pickr\r\n                                    v-model=\"this.clientData.interview\"\r\n                                    :config=\"dateTimeConfig\"\r\n                                    id=\"editInterview\"\r\n                                    class=\"form-control\"\r\n                                    data-provider=\"timepickr\"\r\n                                    data-time-hrs=\"true\"\r\n                                ></flat-pickr>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editAgentNumber\" class=\"form-label\">Agent Number</label>\r\n                                <input type=\"text\" id=\"editAgentNumber\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Agent Number\" required v-model=\"this.clientData.agentNumber\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editLicensed\" class=\"form-label\">Insurance Licensed?</label>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editLicensed\"\r\n                                        v-model=\"this.clientData.insuranceLicense\">\r\n                                  <option value=\"0\">No</option>\r\n                                  <option value=\"1\">Yes</option>\r\n                                </select>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <!--end col-->\r\n                        </div>\r\n                        <!--end row-->\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n                <!-- end tab pane -->\r\n                <div\r\n                    class=\"tab-pane fade\"\r\n                    id=\"secondTab\"\r\n                    role=\"tabpanel\"\r\n                    aria-labelledby=\"pills-bill-info-tab\">\r\n\r\n                    <notes :dataList=\"notesData\" @onFire=\"getNotes()\"> </notes>\r\n\r\n                  <!-- end chat-wrapper -->\r\n                </div>\r\n                <!-- end tab pane -->\r\n\r\n                <div\r\n                    class=\"tab-pane fade\"\r\n                    id=\"thirdTab\"\r\n                    role=\"tabpanel\"\r\n                    aria-labelledby=\"pills-bill-info-tab\"\r\n                    style=\"height: 600px;\"\r\n                >\r\n\r\n                  <messages :dataList=\"chatMessages\"></messages>\r\n\r\n                </div>\r\n                <!-- end tab pane -->\r\n\r\n                <div\r\n                    class=\"tab-pane fade\"\r\n                    id=\"quarterTab\"\r\n                    role=\"tabpanel\"\r\n                    aria-labelledby=\"pills-bill-address-tab\"\r\n                    style=\"height: 600px;\"\r\n                >\r\n                  <uploadClients></uploadClients>\r\n                </div>\r\n                <!-- end tab pane -->\r\n\r\n                <div\r\n                    class=\"tab-pane fade\"\r\n                    id=\"fifthTab\"\r\n                    role=\"tabpanel\"\r\n                    aria-labelledby=\"pills-bill-address-tab\"\r\n                    style=\"height: 600px;\"\r\n                >\r\n                  <econtacts :eContactlist=\"eContactlist\" @eContactData=\"refreshContacts\"></econtacts>\r\n                </div>\r\n                <!-- end tab pane -->\r\n\r\n                <div\r\n                    class=\"tab-pane fade\"\r\n                    id=\"sixthTab\"\r\n                    role=\"tabpanel\"\r\n                    aria-labelledby=\"pills-bill-address-tab\"\r\n                    style=\"height: 600px;\"\r\n                >\r\n                  <benlist :benList=\"benList\" @benData=\"refreshBenList\"></benlist>\r\n                </div>\r\n                <!-- end tab pane -->\r\n\r\n                <div\r\n                    class=\"tab-pane fade\"\r\n                    id=\"seventhTab\"\r\n                    role=\"tabpanel\"\r\n                    aria-labelledby=\"pills-bill-address-tab\"\r\n                    style=\"height: 600px;\"\r\n                >\r\n                  <additaments :additamentsList=\"additamentsList\" @additamentData=\"refreshAdditaments\"></additaments>\r\n                </div>\r\n                <!-- end tab pane -->\r\n\r\n              </div>\r\n              <!-- end tab content -->\r\n            </div>\r\n            <div class=\"col-md-3 window-sidebar margin-left-menu\">\r\n              <div class=\"window-module\" style=\"margin-top: 10px;\">\r\n                <h3 class=\"mod-no-top-margin js-sidebar-add-heading\">Options</h3>\r\n                <div class=\"window-module\">\r\n                  <div class=\"u-clearfix\">\r\n                    <a class=\"button-link js-change-card-members\" href=\"#\" title=\"Information\"\r\n                       @click=\"showTabs('mainTab')\">\r\n                      <i class=\"ri-calendar-2-fill align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Information</span>\r\n                    </a>\r\n                    <a class=\"button-link js-change-card-members\" href=\"#\" title=\"econtacts\"\r\n                       @click=\"showTabs('fifthTab'), getEcontacts()\">\r\n                      <i class=\"ri-contacts-book-line align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">E. Contacts</span>\r\n                    </a>\r\n                    <a class=\"button-link js-change-card-members\" href=\"#\" title=\"beneficiaries\"\r\n                       @click=\"showTabs('sixthTab'), getBeneficiaries()\">\r\n                      <i class=\"ri-add-box-line align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Beneficiaries</span>\r\n                    </a>\r\n                    <a class=\"button-link js-change-card-members\" href=\"#\" title=\"additaments\"\r\n                       @click=\"showTabs('seventhTab'), getAdditaments()\">\r\n                      <i class=\"ri-hand-heart-line align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Additaments</span>\r\n                    </a>\r\n                    <a class=\"button-link js-edit-labels\" href=\"#\" title=\"Notes\" @click=\"showTabs('secondTab')\">\r\n                      <i class=\"ri-sticky-note-line align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Notes</span>\r\n                    </a>\r\n                    <a class=\"button-link js-edit-labels\" href=\"#\" title=\"Messages\" @click=\"showTabs('thirdTab')\">\r\n                      <i class=\"ri-message-2-line align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Messages</span>\r\n                    </a>\r\n                    <a class=\"button-link js-edit-labels\" href=\"#\" title=\"Attachements\" @click=\"showTabs('quarterTab')\">\r\n                      <i class=\"ri-attachment-2 align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Attachements</span>\r\n                    </a>\r\n                    <a class=\"button-link js-add-checklist-menu\" href=\"#\" title=\"Checklist\" @click=\"deleteclient\">\r\n                      <i class=\"ri-delete-bin-2-line align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Delete</span>\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <br>\r\n              <div class=\"window-module\">\r\n                <h3 class=\"mod-no-top-margin js-sidebar-add-heading\">Actions</h3>\r\n                <div class=\"window-module\">\r\n                  <div class=\"u-clearfix\">\r\n                    <a class=\"button-link js-change-card-members\" href=\"#\" title=\"Move\">\r\n                      <i class=\"ri-drag-move-2-fill align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Move</span>\r\n                    </a>\r\n                    <a class=\"button-link js-edit-labels\" href=\"#\" title=\"Share\">\r\n                      <i class=\"ri-share-line align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Share</span>\r\n                    </a>\r\n                    <a class=\"button-link js-edit-labels\" href=\"#\" title=\"Share\">\r\n                      <i class=\"ri-file-transfer-line align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Transfer</span>\r\n                    </a>\r\n                    <a class=\"button-link js-change-card-members\" href=\"#\" title=\"Update\" id=\"updateButton\"\r\n                       @click=\"updateInformation\" style=\"background-color: #2abb52;\">\r\n                      <i class=\"ri-save-3-line align-bottom me-1\" style=\"color:white;\"></i>\r\n                      <span class=\"js-sidebar-action-text\" style=\"color:white;\">Save</span>\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  Add client modal  -->\r\n    <div class=\"modal zoomIn\" id=\"clientModalAdd\" tabindex=\"-1\" aria-labelledby=\"clientModalLabel\" aria-hidden=\"true\"  data-bs-focus=\"false\">\r\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\" style=\"max-width: 1000px;\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header bg-light p-3\">\r\n            <h5 class=\"modal-title\" id=\"clientModalLabelAdd\"></h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"\r\n                    id=\"close-modal\"></button>\r\n          </div>\r\n          <form id=\"addform\" @submit.prevent=\"\">\r\n            <input type=\"hidden\" id=\"localAgentID\" value=\"0\">\r\n            <div class=\"modal-body\">\r\n              <h6> <span style=\"color:red; font-size: 0.7em;\">Required fields (*)</span></h6>\r\n              <div class=\"row g-3\">\r\n                <div class=\"col-lg-12\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-8\">\r\n                      <label for=\"editEmail\" class=\"form-label\">Email</label>\r\n                      <input type=\"text\" id=\"editEmail\" name=\"editEmail\" class=\"form-control mb-2 createEmail\" placeholder=\"Enter Email\"\r\n                             v-model=\"clientData.email\">\r\n                      <div class=\"invalid-feedback\">\r\n                        This email is already in use.\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editCreatedBy\" class=\"form-label\">Created By</label>\r\n                      <input type=\"text\" id=\"editCreatedBy\" name=\"editCreatedBy\" class=\"form-control mb-2\" disabled v-model=\"this.clientData.createdBy\">\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editFirstName\" class=\"form-label\">First Name <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <input type=\"text\" id=\"editFirstName\" name=\"editFirstName\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" v-model=\"this.clientData.firstName\" required>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editLastName\" class=\"form-label\">Last Name <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <input type=\"text\" id=\"editLastName\" name=\"editLastName\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\" v-model=\"this.clientData.lastName\" required>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editGender\" class=\"form-label\"> Gender <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <br>\r\n                        <div class=\"form-check-success form-check-inline\" style=\"margin-top: 0.8em;\">\r\n                          <input class=\"form-check-input\" type=\"radio\" name=\"editGender\" id=\"editGender\" value=\"M\" v-model=\"this.clientData.gender\">\r\n                          <label class=\"form-check-label\" for=\"editGender\"> &nbsp; Male</label>\r\n                        </div>\r\n                        <div class=\"form-check-success form-check-inline\" style=\"margin-top: 0.8em;\">\r\n                          <input class=\"form-check-input\" type=\"radio\" name=\"editGender\" id=\"editGender2\" value=\"F\" v-model=\"this.clientData.gender\">\r\n                          <label class=\"form-check-label\" for=\"editGender2\"> &nbsp; Female</label>\r\n                        </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editLanguage\" class=\"form-label\">Language <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"editLanguage\" name=\"editLanguage\" v-model=\"this.clientData.language\" required>\r\n                        <option value=\"1\" selected>English</option>\r\n                        <option value=\"2\">Spanish</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editStatus\" class=\"form-label\">Status <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editStatus\" name=\"editStatus\" v-model=\"this.clientData.status\">\r\n                        <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editType\" class=\"form-label\">Type clients <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editType\" name=\"editType\" v-model=\"this.clientData.type\">\r\n                        <option v-for=\"(type, typeIndex) of typeList\" :key=\"typeIndex\" v-bind:value=\"type.name\">{{ type.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editPhoneNumber\" class=\"form-label\">Phone <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <input type=\"text\" id=\"editPhoneNumber\" name=\"editPhoneNumber\" class=\"form-control mb-2\" placeholder=\"Phone number\" required v-model=\"this.clientData.phone\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editDepartment\" class=\"form-label\">Department <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                              v-model=\"this.clientData.department\" v-if=\"(departmentList.length > 1)\">\r\n                        <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\r\n                                v-bind:value=\"department.departmentID\">{{ department.name }}\r\n                        </option>\r\n                      </select>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                              v-model=\"this.clientData.department\" v-else>\r\n                        <option v-bind:value=\"departmentList.departmentID\">{{ departmentList.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editInterview\" class=\"form-label mb-2\">Interview</label>\r\n                      <flat-pickr\r\n                          v-model=\"this.clientData.interview\"\r\n                          :config=\"dateTimeConfig\"\r\n                          id=\"editInterview\"\r\n                          name=\"editInterview\"\r\n                          class=\"form-control\"\r\n                          data-provider=\"timepickr\"\r\n                          data-time-hrs=\"true\"\r\n                      ></flat-pickr>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-8\">\r\n                      <label for=\"editAddress\" class=\"form-label\">Address</label>\r\n                      <input type=\"text\" id=\"editAddress\" name=\"editAddress\" class=\"form-control mb-2\" placeholder=\"Enter Address\" required v-model=\"this.clientData.address\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editBirthdate\" class=\"form-label\"> Birthdate </label>\r\n                      <flat-pickr\r\n                          v-model=\"this.clientData.birthday\"\r\n                          :config=\"humanfriendlyConfig\"\r\n                          class=\"form-control flatpickr-input\"\r\n                          id=\"editBirthdate\"\r\n                          name=\"editBirthdate\"\r\n                      ></flat-pickr>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-2\">\r\n                      <label for=\"editState\" class=\"form-label\">State</label>\r\n                      <input type=\"text\" id=\"editState\" name=\"editState\" class=\"form-control mb-2\" placeholder=\"Enter State\" required v-model=\"this.clientData.state\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editCountry\" class=\"form-label\">Country</label>\r\n                      <input type=\"text\" id=\"editCountry\" name=\"editCountry\" class=\"form-control mb-2\" placeholder=\"Enter Country\" required v-model=\"this.clientData.country\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editCity\" class=\"form-label\">City</label>\r\n                      <input type=\"text\" id=\"editCity\" name=\"editCity\" class=\"form-control mb-2\" placeholder=\"Enter City\" required v-model=\"this.clientData.city\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editPostalCode\" class=\"form-label\">Postal code</label>\r\n                      <input type=\"text\" id=\"editPostalCode\" name=\"editPostalCode\" class=\"form-control mb-2\" placeholder=\"Enter Address\" required v-model=\"this.clientData.zipCode\"/>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"mt-4\">\r\n                      <label\r\n                          for=\"editNotes\"\r\n                          class=\"form-label text-muted text-uppercase fw-semibold\"\r\n                      >Notes</label>\r\n                      <textarea\r\n                          class=\"form-control alert alert-primary\"\r\n                          v-model=\"this.clientData.note\"\r\n                          id=\"editNotes\"\r\n                          name=\"editNotes\"\r\n                          placeholder=\"Notes\"\r\n                          rows=\"2\"\r\n                      ></textarea>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!--end col-->\r\n\r\n                <!-- Add beneficiaries -->\r\n                <fieldset class=\"fieldset-style\">\r\n                  <legend class=\"legend-style\"><small style=\"font-size: 0.7em;\">Add Beneficiary <b>+</b></small> <span class=\"btn btn-success\" @click=\"addBeneficiary()\" style=\"float: right;\"><i class=\"ri-add-line\"></i></span>\r\n                    <hr></legend>\r\n                  <div class=\"form-group\">\r\n                    <div id=\"addBeneficiary\">\r\n                    </div>\r\n                  </div>\r\n                </fieldset>\r\n\r\n                <!-- Add Emergency contacts -->\r\n                <fieldset class=\"fieldset-style\">\r\n                  <legend class=\"legend-style\"><small style=\"font-size: 0.7em;\">Emergency Contacts <b>+</b></small> <span class=\"btn btn-success\" @click=\"addEcontact()\" style=\"float: right;\"><i class=\"ri-add-line\"></i></span><hr></legend>\r\n                  <div class=\"form-group\">\r\n                    <form id=\"addEcontact\">\r\n                    </form>\r\n                  </div>\r\n                </fieldset>\r\n\r\n                <!-- Add Additaments -->\r\n                <fieldset class=\"fieldset-style\">\r\n                  <legend class=\"legend-style\"><small style=\"font-size: 0.7em;\">Add Additaments <b>+</b></small> <span class=\"btn btn-success\" @click=\"addAdditaments()\" style=\"float: right;\"><i class=\"ri-add-line\"></i></span><hr></legend>\r\n                  <div class=\"form-group\">\r\n                    <form id=\"addAdditaments\">\r\n                    </form>\r\n                  </div>\r\n                </fieldset>\r\n              </div>\r\n              <!--end row-->\r\n            </div>\r\n\r\n            <div class=\"modal-footer\">\r\n              <div class=\"hstack gap-2 justify-content-end\">\r\n                <button type=\"button\" class=\"btn btn-light\" id=\"closemodal\" data-bs-dismiss=\"modal\">Close</button>\r\n                <button type=\"button\" class=\"btn btn-danger\" @click=\"resetForm\" >Reset</button>\r\n                <button type=\"button\" class=\"btn btn-primary\" id=\"goBack\" style=\"display: none;\" @click=\"restoreForm('back')\">Back</button>\r\n                <button type=\"button\" class=\"btn btn-info\" id=\"add-another-client\" @click=\"addAnotherClient()\">Add Another</button>\r\n                <button type=\"button\" class=\"btn btn-primary\" id=\"goNext\" style=\"display: none;\" @click=\"restoreForm('next')\">Next</button>\r\n                <button type=\"submit\" class=\"btn btn-success\" id=\"add-btn\" @click=\"createClient\">Save</button>\r\n<!--                <button type=\"button\" class=\"btn btn-success\" id=\"edit-btn\" @click=\"updateAgent\">Update</button>-->\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Filters Modal -->\r\n    <div id=\"open-filters\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\"  data-bs-focus=\"false\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"myModalLabel\">Filters</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"> </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-12\">\r\n                <label for=\"filterKeyword\" class=\"form-label\">Keyword</label>\r\n                <input type=\"text\" id=\"filterKeyword\" name=\"filterKeyword\" class=\"form-control mb-2\" placeholder=\"Enter Keyword\" v-model=\"this.data.searchValues.keyword\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterType\" class=\"form-label\">Type</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"filterType\" name=\"filterType\" v-model=\"this.data.searchValues.type\">\r\n                  <option v-for=\"(type, typeIndex) of typeList\" :key=\"typeIndex\" v-bind:value=\"type.code\">{{ type.name }}</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editLanguage\" class=\"form-label\">Language</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"filterLanguage\" name=\"filterLanguage\" v-model=\"this.data.searchValues.language\">\r\n                  <option value=\"1\" selected>English</option>\r\n                  <option value=\"2\">Spanish</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editStatus\" class=\"form-label\">Search by Notes</label>\r\n                <input type=\"text\" id=\"filterNotes\" name=\"filterNotes\" class=\"form-control mb-2\" placeholder=\"Enter note\" v-model=\"this.data.searchValues.noteSearch\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterFromDate\" class=\"form-label\"> From date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.data.searchValues.fromDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterFromDate\"\r\n                    name=\"filterFromDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterToDate\" class=\"form-label\"> To Date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.data.searchValues.toDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterToDate\"\r\n                    name=\"filterToDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterDateRange\" class=\"form-label\">Time Range</label>\r\n                <select class=\"form-select mb-2\" id=\"filterDateRange\" name=\"filterDateRange\" v-model=\"this.data.searchValues.dateRange\">\r\n                  <option value=\"0\" selected>...</option>\r\n                  <option value=\"1\">Until 2 year Ago</option>\r\n                  <option value=\"2\">Until 4 year Ago</option>\r\n                  <option value=\"3\">Until 5 year Ago</option>\r\n                  <option value=\"4\">Begin of times</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <span v-if=\"viewUserGroup('SUPER_ADMIN_GROUP')\">\r\n                  <label for=\"filterDateRange\" class=\"form-label\">Department</label>\r\n                    <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"filterDepartment\" name=\"filterDepartment\"\r\n                            v-model=\"this.data.searchValues.department\">\r\n                        <option value=\"0\"> All</option>\r\n                        <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\r\n                                v-bind:value=\"department.departmentID\"> {{ department.name }}\r\n                        </option>\r\n                    </select>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-light\" data-bs-dismiss=\"modal\">Close</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"updateClientList()\">Search</button>\r\n          </div>\r\n\r\n        </div><!-- /.modal-content -->\r\n      </div><!-- /.modal-dialog -->\r\n    </div><!-- /.modal -->\r\n  </Layout>\r\n</template>\r\n"]}]}