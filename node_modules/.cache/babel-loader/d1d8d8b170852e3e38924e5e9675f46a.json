{"remainingRequest":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\wamp64\\www\\crm\\frontend\\src\\components\\users\\kanbanBoard.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\wamp64\\www\\crm\\frontend\\src\\components\\users\\kanbanBoard.vue","mtime":1680805953860},{"path":"C:\\wamp64\\www\\crm\\frontend\\babel.config.js","mtime":1645939880000},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1652458135842},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1668443313146}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L3dhbXA2NC93d3cvY3JtL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgeyBWdWVEcmFnZ2FibGVOZXh0IH0gZnJvbSAidnVlLWRyYWdnYWJsZS1uZXh0IjsKaW1wb3J0IHsgQWxpZ25MZWZ0SWNvbiwgRXllSWNvbiB9IGZyb20gIkB6aHVvd2VubGkvdnVlLWZlYXRoZXItaWNvbnMiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IHsgcmVmIH0gZnJvbSAidnVlIjsgLy8gaW1wb3J0IHsgc3RvcmUgfSBmcm9tICdAL3N0YXRlL3N0b3JlJwoKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdrYW5iYW5Cb2FyZCcsCiAgcHJvcHM6IFsnbGlzdCddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBub3RlczogW10sCiAgICAgIGNoYXRNZXNzYWdlczogW10sCiAgICAgIHBlclBhZ2U6IDEwMCwKICAgICAgbGlzdFRvVXBkYXRlOiAnJwogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIGRyYWdnYWJsZTogVnVlRHJhZ2dhYmxlTmV4dCwKICAgIEV5ZUljb246IEV5ZUljb24sCiAgICBBbGlnbkxlZnRJY29uOiBBbGlnbkxlZnRJY29uCiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2c6IGZ1bmN0aW9uIGxvZyhvbGRMaXN0LCBldmVudCkgewogICAgICB2YXIgcmVtb3ZlZCA9IGV2ZW50LnJlbW92ZWQ7CgogICAgICBpZiAocmVtb3ZlZCkgewogICAgICAgIHZhciB1c2VySUQgPSByZW1vdmVkLmVsZW1lbnQuSUQ7CiAgICAgICAgdmFyIG5ld0xpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzQ2FyZC0nICsgdXNlcklEKS52YWx1ZTsKICAgICAgICB2YXIgY2FyZElEID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmQtJyArIHVzZXJJRCk7CgogICAgICAgIGlmIChvbGRMaXN0ICE9PSBuZXdMaXN0KSB7CiAgICAgICAgICB2YXIgcGF0dGVybiA9ICcvY2xpZW50Lyc7CgogICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLm1hdGNoKHBhdHRlcm4pKSB7CiAgICAgICAgICAgIHRoaXMudXBkYXRlQ2xpZW50U3RhdHVzKGNhcmRJRCwgbmV3TGlzdCwgb2xkTGlzdCwgdXNlcklEKTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1c0NhcmQtJyArIHVzZXJJRCkudmFsdWUgPSBvbGRMaXN0OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy51cGRhdGVBZ2VudFN0YXR1cyhjYXJkSUQsIG5ld0xpc3QsIG9sZExpc3QsIHVzZXJJRCk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0dXNDYXJkLScgKyB1c2VySUQpLnZhbHVlID0gb2xkTGlzdDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBmb3JtYXREYXRlOiBmdW5jdGlvbiBmb3JtYXREYXRlKGRhdGUsIGZvcm1hdCkgewogICAgICBkYXRlID0gbW9tZW50KGRhdGUpLmZvcm1hdChmb3JtYXQpOwogICAgICByZXR1cm4gZGF0ZTsKICAgIH0sCiAgICBkYXlzRnJvbURhdGU6IGZ1bmN0aW9uIGRheXNGcm9tRGF0ZShkYXRlKSB7CiAgICAgIHZhciBkYXlzID0gJyc7CiAgICAgIGRheXMgPSBtb21lbnQoZGF0ZSkuZnJvbU5vdygpOwogICAgICByZXR1cm4gZGF5czsKICAgIH0sCiAgICAvLyBwcmludEVuZCAobnVtYmVyLCBzdGF0dXMpIHsKICAgIC8vICAgLy8gdmFyIG9sZExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzQ2FyZC0nICsgbnVtYmVyKS52YWx1ZTsKICAgIC8vICAgLy8gc2V0VGltZW91dCgoKSA9PiB7CiAgICAvLyAgIC8vICAgdmFyIGNhcmRJRCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJkLScgKyBudW1iZXIpOwogICAgLy8gICAvLyAgIHZhciBuZXdMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1c0NhcmQtJyArIG51bWJlcikudmFsdWU7CiAgICAvLyAgIC8vICAgaWYgKG9sZExpc3QgIT09IG5ld0xpc3QpIHsKICAgIC8vICAgLy8gICAgIHRoaXMudXBkYXRlQWdlbnRTdGF0dXMoY2FyZElELCBuZXdMaXN0LCBvbGRMaXN0LCBudW1iZXIpCiAgICAvLyAgIC8vICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzQ2FyZC0nICsgbnVtYmVyKS52YWx1ZSA9IHN0YXR1czsKICAgIC8vICAgLy8gICB9CiAgICAvLyAgIC8vIH0sIDMwMCk7CiAgICAvLyB9LAogICAgdXBkYXRlQWdlbnRTdGF0dXM6IGZ1bmN0aW9uIHVwZGF0ZUFnZW50U3RhdHVzKGl0ZW0sIG5ld0xpc3QsIG9sZExpc3QsIGFnZW50SUQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICBpdGVtOiBpdGVtLAogICAgICAgICAgICAgICAgICBuZXdMaXN0OiBuZXdMaXN0LAogICAgICAgICAgICAgICAgICBvbGRMaXN0OiBvbGRMaXN0LAogICAgICAgICAgICAgICAgICBhZ2VudElEOiBhZ2VudElELAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnB1dCgnL2FwaS91cGRhdGVVc2VyU3RhdHVzJywgZGF0YSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiWW91ciB3b3JrIGhhcyBiZWVuIHNhdmVkISIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDEwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogImJvdHRvbS1lbmQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlNvbWV0aGluZyB3cm9uZyBoYXBwZW5zISIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDUwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpLmNhdGNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QsIHByb3BlcnR5OwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSArICc8L2I+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjaGVjayB0aGUgZm9sbG93aW5nOiAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogNTAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwZGF0ZUNsaWVudFN0YXR1czogZnVuY3Rpb24gdXBkYXRlQ2xpZW50U3RhdHVzKGl0ZW0sIG5ld0xpc3QsIG9sZExpc3QsIGNsaWVudElEKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIGl0ZW06IGl0ZW0sCiAgICAgICAgICAgICAgICAgIG5ld0xpc3Q6IG5ld0xpc3QsCiAgICAgICAgICAgICAgICAgIG9sZExpc3Q6IG9sZExpc3QsCiAgICAgICAgICAgICAgICAgIGNsaWVudElEOiBjbGllbnRJRCwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoJy9hcGkvY2xpZW50L3VwZGF0ZUNsaWVudFN0YXR1cycsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiWW91ciB3b3JrIGhhcyBiZWVuIHNhdmVkISIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDEwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAiYm90dG9tLWVuZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiU29tZXRoaW5nIHdyb25nIGhhcHBlbnMhIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogNTAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gzKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpLmNhdGNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QsIHByb3BlcnR5OwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDUwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0VXNlckluZm86IGZ1bmN0aW9uIGdldFVzZXJJbmZvKGlkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIGRhdGEsIGFnZW50SW5mbzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXQtYnRuJykuc3R5bGUuZGlzcGxheT0nYmxvY2snOwogICAgICAgICAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC1idG4nKS5zdHlsZS5kaXNwbGF5PSdub25lJwogICAgICAgICAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FnZW50TW9kYWxMYWJlbCcpLmlubmVySFRNTD0iRWRpdCBBZ2VudCIKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzZWxlY3RlZFVzZXInLCBpZCk7CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICBJRDogaWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9nZXRVc2VyJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgYWdlbnRJbmZvID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMy4kZW1pdCgndXNlckRhdGEnLCBhZ2VudEluZm8pOwoKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3NlbGVjdGVkVXNlcicsIGFnZW50SW5mby5JRCk7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzZWxlY3RlZFVzZXJOYW1lJywgYWdlbnRJbmZvLmZpcnN0TmFtZSArICcgJyArIGFnZW50SW5mby5sYXN0TmFtZSk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIlNvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRDbGllbnRJbmZvOiBmdW5jdGlvbiBnZXRDbGllbnRJbmZvKGlkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgdmFyIGRhdGEsIGNsaWVudEluZm87CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIElEOiBpZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2NsaWVudC9nZXRDbGllbnQnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBjbGllbnRJbmZvID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNC4kZW1pdCgndXNlckRhdGEnLCBjbGllbnRJbmZvKTsKCiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzZWxlY3RlZFVzZXInLCBjbGllbnRJbmZvLklEKTsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3NlbGVjdGVkVXNlck5hbWUnLCBjbGllbnRJbmZvLmZpcnN0TmFtZSArICcgJyArIGNsaWVudEluZm8ubGFzdE5hbWUpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldENvbnZlcnNhdGlvbjogZnVuY3Rpb24gZ2V0Q29udmVyc2F0aW9uKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIGVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRVc2VyOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2VsZWN0ZWRVc2VyJykKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY29tbS9nZXRTTVNDb252ZXJzYXRpb24nLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5jaGF0TWVzc2FnZXMgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS4kZW1pdCgnc2V0TWVzc2FnZXMnLCByZXNwb25zZS5kYXRhKTsgLy8gdGhpcy5jaGF0TWVzc2FnZXNEYXRhLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBhbGlnbjogInJpZ2h0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgbmFtZTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZpcnN0TmFtZScpICsgJyAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhc3RuYW1lJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIG1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIHRpbWU6IGN1cnJlbnREYXRlLmdldEhvdXJzKCkgKyAiOiIgKyBjdXJyZW50RGF0ZS5nZXRNaW51dGVzKCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9KTsKCgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g1KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY1LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpLmNhdGNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuYWJydXB0KCJyZXR1cm4iLCBlcnJvcik7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDYpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YShpZCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICB2YXIgcGF0dGVybiwgcGF0dGVybjI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gJy9jbGllbnQvJzsKICAgICAgICAgICAgICAgIHBhdHRlcm4yID0gJy9wcm9zcGVjdHMvJzsKCiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5sb2NhdGlvbi5ocmVmLm1hdGNoKHBhdHRlcm4pKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWxUaXRsZScpLmlubmVySFRNTCA9ICdDbGllbnQgQ2FyZCc7CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5nZXRDbGllbnRJbmZvKGlkKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuZ2V0Tm90ZXMoaWQpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cubG9jYXRpb24uaHJlZi5tYXRjaChwYXR0ZXJuMikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbFRpdGxlJykuaW5uZXJIVE1MID0gJ1Byb3NwZWN0IENhcmQnOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmdldENsaWVudEluZm8oaWQpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmdldE5vdGVzKGlkKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuZ2V0VXNlckluZm8oaWQpOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmdldE5vdGVzKGlkKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5nZXRDb252ZXJzYXRpb24oKTsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0Tm90ZXM6IGZ1bmN0aW9uIGdldE5vdGVzKGlkKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKCkgewogICAgICAgIHZhciBkYXRhLCBwYXR0ZXJuLCBwYXR0ZXJuMiwgdXJsOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgICAgICAgYWdlbnRJRDogaWQsCiAgICAgICAgICAgICAgICAgIGNsaWVudElEOiBpZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSAnL2NsaWVudC8nOwogICAgICAgICAgICAgICAgcGF0dGVybjIgPSAnL3Byb3NwZWN0cy8nOwogICAgICAgICAgICAgICAgdXJsID0gJyc7CgogICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLm1hdGNoKHBhdHRlcm4pKSB7CiAgICAgICAgICAgICAgICAgIHVybCA9ICcvYXBpL2NsaWVudC9nZXRDbGllbnROb3Rlcyc7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLm1hdGNoKHBhdHRlcm4yKSkgewogICAgICAgICAgICAgICAgICB1cmwgPSAnL2FwaS9jbGllbnQvZ2V0Q2xpZW50Tm90ZXMnOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdXJsID0gJy9hcGkvZ2V0VXNlck5vdGVzJzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QodXJsLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpczcubm90ZXMgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICAgICAgX3RoaXM3LiRlbWl0KCdvbkZpcmUnLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIlN0YXR1cyBjb3VsZCBub3QgYmUgbG9hZGVkLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkTW9yZTogZnVuY3Rpb24gbG9hZE1vcmUobGlzdE5hbWUpIHsKICAgICAgdGhpcy5saXN0VG9VcGRhdGUgPSBsaXN0TmFtZTsKICAgICAgdmFyIGxpc3RGaWx0ZXJlZCA9IHRoaXMubGlzdC5maW5kKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgcmV0dXJuIG8uZ3JvdXBOYW1lLmdyb3VwTmFtZSA9PT0gbGlzdE5hbWU7CiAgICAgIH0pOwogICAgICBpZiAodGhpcy5wZXJQYWdlID4gbGlzdEZpbHRlcmVkLnBlclBhZ2UpIHJldHVybjsKICAgICAgbGlzdEZpbHRlcmVkLmdyb3VwTmFtZS5wZXJQYWdlID0gbGlzdEZpbHRlcmVkLmdyb3VwTmFtZS5wZXJQYWdlICsgdGhpcy5wZXJQYWdlOwogICAgICBsaXN0RmlsdGVyZWQuZ3JvdXBOYW1lLnNob3dpbmcgPSBsaXN0RmlsdGVyZWQuZ3JvdXBOYW1lLnBlclBhZ2U7CiAgICB9LAogICAgYWdlbnRzTG9hZGVkOiBmdW5jdGlvbiBhZ2VudHNMb2FkZWQobGlzdE5hbWUpIHsKICAgICAgdGhpcy5saXN0VG9VcGRhdGUgPSBsaXN0TmFtZTsKICAgICAgdmFyIGxpc3QgPSB0aGlzLmxpc3QuZmluZChmdW5jdGlvbiAobykgewogICAgICAgIHJldHVybiBvLmdyb3VwTmFtZS5ncm91cE5hbWUgPT09IGxpc3ROYW1lOwogICAgICB9KTsKICAgICAgcmV0dXJuIGxpc3Quc2xpY2UoMCwgbGlzdC5ncm91cE5hbWUucGVyUGFnZSk7CiAgICB9CiAgfSwKICBlbWl0czogWyJvbkZpcmUiLCAidXNlckRhdGEiLCAic2V0TWVzc2FnZXMiXSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIF9yZWY3KSB7CiAgICB2YXIgZW1pdCA9IF9yZWY3LmVtaXQ7CiAgICB2YXIgbm90aWZ5ID0gcmVmKCIxIik7CgogICAgdmFyIG5vdGlmeU5vdGVzID0gZnVuY3Rpb24gbm90aWZ5Tm90ZXMoKSB7CiAgICAgIGVtaXQoJ29uRmlyZScsIG5vdGlmeSk7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIG5vdGlmeTogbm90aWZ5LAogICAgICBub3RpZnlOb3Rlczogbm90aWZ5Tm90ZXMKICAgIH07CiAgfSwKICBjb21wdXRlZDogbWFwU3RhdGUoewogICAgaXRlbXM6IGZ1bmN0aW9uIGl0ZW1zKHMpIHsKICAgICAgcmV0dXJuIHMuaXRlbXMudG9kbzsKICAgIH0KICB9KQp9Ow=="},{"version":3,"mappings":"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","names":["VueDraggableNext","AlignLeftIcon","EyeIcon","moment","axios","Swal","ref","mapState","name","props","data","notes","chatMessages","perPage","listToUpdate","components","draggable","methods","log","oldList","event","removed","userID","element","ID","newList","document","getElementById","value","cardID","pattern","window","location","href","match","updateClientStatus","updateAgentStatus","formatDate","date","format","daysFromDate","days","fromNow","item","agentID","localStorage","getItem","token","put","then","response","fire","position","icon","title","showConfirmButton","timer","catch","error","list","property","errors","push","message","clientID","getUserInfo","id","setItem","post","agentInfo","$emit","firstName","lastName","detail","$router","getClientInfo","clientInfo","getConversation","email","selectedUser","getData","pattern2","innerHTML","getNotes","url","loadMore","listName","listFiltered","find","o","groupName","showing","agentsLoaded","slice","emits","setup","emit","notify","notifyNotes","computed","items","s","todo"],"sourceRoot":"","sources":["C:\\wamp64\\www\\crm\\frontend\\src\\components\\users\\kanbanBoard.vue"],"sourcesContent":["<script>\r\n\r\nimport {VueDraggableNext} from \"vue-draggable-next\";\r\nimport {AlignLeftIcon, EyeIcon} from \"@zhuowenli/vue-feather-icons\";\r\nimport moment from \"moment\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport { ref } from \"vue\";\r\n// import { store } from '@/state/store'\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n  name: 'kanbanBoard',\r\n  props:['list'],\r\n  data() {\r\n    return {\r\n      notes: [],\r\n      chatMessages: [],\r\n      perPage: 100,\r\n      listToUpdate: '',\r\n    };\r\n  },\r\n  components: {\r\n    draggable: VueDraggableNext,\r\n    EyeIcon,\r\n    AlignLeftIcon,\r\n  },\r\n  methods: {\r\n    log (oldList, event) {\r\n      const { removed } = event\r\n\r\n      if(removed) {\r\n        const userID = removed.element.ID;\r\n\r\n        let newList = document.getElementById('statusCard-' + userID).value;\r\n        let cardID = document.getElementById('card-' + userID);\r\n\r\n        if (oldList !== newList) {\r\n\r\n          const pattern = '/client/';\r\n          if(window.location.href.match(pattern)) {\r\n            this.updateClientStatus(cardID, newList, oldList, userID)\r\n            document.getElementById('statusCard-' + userID).value = oldList;\r\n          } else {\r\n            this.updateAgentStatus(cardID, newList, oldList, userID)\r\n            document.getElementById('statusCard-' + userID).value = oldList;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    formatDate: function (date, format) {\r\n      date = moment(date).format(format)\r\n      return date;\r\n    },\r\n    daysFromDate: function (date) {\r\n      let days = ''\r\n      days = moment(date).fromNow();\r\n      return days;\r\n    },\r\n    // printEnd (number, status) {\r\n    //   // var oldList = document.getElementById('statusCard-' + number).value;\r\n    //   // setTimeout(() => {\r\n    //   //   var cardID = document.getElementById('card-' + number);\r\n    //   //   var newList = document.getElementById('statusCard-' + number).value;\r\n    //   //   if (oldList !== newList) {\r\n    //   //     this.updateAgentStatus(cardID, newList, oldList, number)\r\n    //   //     document.getElementById('statusCard-' + number).value = status;\r\n    //   //   }\r\n    //   // }, 300);\r\n    // },\r\n    async updateAgentStatus (item, newList, oldList, agentID) {\r\n\r\n      const data = {\r\n        item: item,\r\n        newList: newList,\r\n        oldList: oldList,\r\n        agentID: agentID,\r\n        userID: localStorage.getItem('id'),\r\n        token: localStorage.getItem('jwt'),\r\n      }\r\n\r\n      await axios\r\n          .put('/api/updateUserStatus', data)\r\n          .then(async response => {\r\n\r\n            if (response) {\r\n\r\n              await Swal.fire({\r\n                position: \"top-end\",\r\n                icon: \"success\",\r\n                title: \"Your work has been saved!\",\r\n                showConfirmButton: false,\r\n                timer: 1000,\r\n              });\r\n\r\n            } else {\r\n              await Swal.fire({\r\n                position: \"bottom-end\",\r\n                icon: 'error',\r\n                title: \"Something wrong happens!\",\r\n                showConfirmButton: false,\r\n                timer: 5000,\r\n              });\r\n            }\r\n\r\n          }).catch(async error => {\r\n            if (error.response) {\r\n              let list = '';\r\n              for (const property in error.response.data) {\r\n                this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n              }\r\n\r\n              await Swal.fire({\r\n                position: \"top-end\",\r\n                icon: \"success\",\r\n                title: \"Please check the following: \" + list,\r\n                showConfirmButton: false,\r\n                timer: 5000,\r\n              });\r\n\r\n            } else if (error.message) {\r\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n            }\r\n          })\r\n    },\r\n    async updateClientStatus (item, newList, oldList, clientID) {\r\n\r\n      const data = {\r\n        item: item,\r\n        newList: newList,\r\n        oldList: oldList,\r\n        clientID: clientID,\r\n        userID: localStorage.getItem('id'),\r\n        token: localStorage.getItem('jwt'),\r\n      }\r\n\r\n      await axios\r\n          .put('/api/client/updateClientStatus', data)\r\n          .then(async response => {\r\n\r\n            if (response) {\r\n\r\n              await Swal.fire({\r\n                position: \"top-end\",\r\n                icon: \"success\",\r\n                title: \"Your work has been saved!\",\r\n                showConfirmButton: false,\r\n                timer: 1000,\r\n              });\r\n\r\n            } else {\r\n              await Swal.fire({\r\n                position: \"bottom-end\",\r\n                icon: 'error',\r\n                title: \"Something wrong happens!\",\r\n                showConfirmButton: false,\r\n                timer: 5000,\r\n              });\r\n            }\r\n\r\n          }).catch(async error => {\r\n            if (error.response) {\r\n              let list = '';\r\n              for (const property in error.response.data) {\r\n                this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n              }\r\n\r\n              await Swal.fire({\r\n                position: \"top-end\",\r\n                icon: \"success\",\r\n                title: \"Please check the following: \" + list,\r\n                showConfirmButton: false,\r\n                timer: 5000,\r\n              });\r\n\r\n            } else if (error.message) {\r\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n            }\r\n          })\r\n    },\r\n    async getUserInfo (id) {\r\n      // document.getElementById('edit-btn').style.display='block';\r\n      // document.getElementById('add-btn').style.display='none'\r\n      // document.getElementById('agentModalLabel').innerHTML=\"Edit Agent\"\r\n\r\n      localStorage.setItem('selectedUser', id)\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        ID: id\r\n      }\r\n\r\n      let agentInfo;\r\n\r\n      await axios\r\n          .post('/api/getUser', data)\r\n          .then(response => {\r\n            agentInfo = response.data\r\n            this.$emit('userData', agentInfo);\r\n            localStorage.setItem('selectedUser', agentInfo.ID)\r\n            localStorage.setItem('selectedUserName', agentInfo.firstName + ' ' + agentInfo.lastName)\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n              Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async getClientInfo (id) {\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        ID: id\r\n      }\r\n\r\n      let clientInfo;\r\n\r\n      await axios\r\n          .post('/api/client/getClient', data)\r\n          .then(response => {\r\n            clientInfo = response.data\r\n            this.$emit('userData', clientInfo);\r\n            localStorage.setItem('selectedUser', clientInfo.ID)\r\n            localStorage.setItem('selectedUserName', clientInfo.firstName + ' ' + clientInfo.lastName)\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n              Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async getConversation() {\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        email:  localStorage.getItem('email'),\r\n        userID: localStorage.getItem('id'),\r\n        selectedUser: localStorage.getItem('selectedUser')\r\n      }\r\n\r\n      await axios\r\n          .post('/api/comm/getSMSConversation', data)\r\n          .then(async response => {\r\n            this.chatMessages = response.data;\r\n            this.$emit('setMessages', response.data)\r\n\r\n            // this.chatMessagesData.push({\r\n            //   align: \"right\",\r\n            //   name: localStorage.getItem('firstName') + ' ' + localStorage.getItem('lastname'),\r\n            //   message,\r\n            //   time: currentDate.getHours() + \":\" + currentDate.getMinutes(),\r\n            // });\r\n          })\r\n          .catch(async error => {\r\n            return error;\r\n          })\r\n    },\r\n    async getData(id){\r\n\r\n      const pattern = '/client/';\r\n      const pattern2 = '/prospects/';\r\n      if(window.location.href.match(pattern)) {\r\n        document.getElementById('modalTitle').innerHTML = 'Client Card'\r\n        await this.getClientInfo(id);\r\n        await this.getNotes(id);\r\n      } else if(window.location.href.match(pattern2)){\r\n        document.getElementById('modalTitle').innerHTML = 'Prospect Card'\r\n        await this.getClientInfo(id);\r\n        await this.getNotes(id);\r\n      } else {\r\n        await this.getUserInfo(id);\r\n        await this.getNotes(id);\r\n      }\r\n      await this.getConversation()\r\n    },\r\n    async getNotes (id) {\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        userID: localStorage.getItem('id'),\r\n        agentID: id,\r\n        clientID: id,\r\n      }\r\n\r\n      const pattern = '/client/';\r\n      const pattern2 = '/prospects/';\r\n      let url = '';\r\n      if(window.location.href.match(pattern)) {\r\n        url = '/api/client/getClientNotes';\r\n      } else if(window.location.href.match(pattern2)){\r\n        url = '/api/client/getClientNotes';\r\n      } else {\r\n        url = '/api/getUserNotes';\r\n      }\r\n\r\n      await axios\r\n          .post(url, data)\r\n          .then(response => {\r\n            this.notes = response.data;\r\n            this.$emit('onFire', response.data)\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n              Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    loadMore(listName) {\r\n      this.listToUpdate = listName;\r\n      const listFiltered = this.list.find(o => o.groupName.groupName === listName);\r\n      if (this.perPage > listFiltered.perPage) return;\r\n      listFiltered.groupName.perPage = listFiltered.groupName.perPage + this.perPage;\r\n      listFiltered.groupName.showing = listFiltered.groupName.perPage;\r\n    },\r\n    agentsLoaded(listName) {\r\n      this.listToUpdate = listName;\r\n      const list = this.list.find(o => o.groupName.groupName === listName);\r\n      return list.slice(0, list.groupName.perPage);\r\n    },\r\n\r\n  },\r\n  emits: [\"onFire\", \"userData\", \"setMessages\"],\r\n  setup( props, { emit }) {\r\n    const notify = ref (\"1\")\r\n    const notifyNotes = () => {\r\n      emit('onFire', notify)\r\n    }\r\n    return {notify, notifyNotes}\r\n  },\r\n  computed:\r\n    mapState({\r\n    items: s => s.items.todo,\r\n  }),\r\n}\r\n</script>\r\n<style>\r\n.simplebar-scrollbar:before {\r\n  opacity: 0.5 !important;\r\n}\r\n</style>\r\n<template>\r\n  <div class=\"tasks-board mb-3\" id=\"kanbanboard\">\r\n    <div v-for=\"data in list\" :key=\"data.groupName.groupID\">\r\n      <div class=\"col tasks-list\">\r\n        <div class=\"card\">\r\n          <a class=\"card-header bg-soft-primary\" data-bs-toggle=\"collapse\" v-bind:href=\"'#'+data.groupName.groupName\"\r\n             role=\"button\"\r\n             aria-expanded=\"false\" v-bind:aria-controls=\"data.groupName.groupName\">\r\n            <div class=\"row\">\r\n              <div class=\"col-md-10\">\r\n                <h5 class=\"card-title text-uppercase fw-semibold mb-1 fs-15\"> {{ data.groupName.statusName }}</h5>\r\n              </div>\r\n              <div class=\"col-md-2\">\r\n                <small class=\"badge bg-success align-bottom ms-1\" style=\"float: right;\">{{\r\n                    data.groupName.showing +'/'+ data.groupName.quantity\r\n                  }}</small>\r\n              </div>\r\n            </div>\r\n<!--            <p class=\"text-muted mb-0\">$708,200 <span class=\"fw-medium\">7 Deals</span></p>-->\r\n          </a>\r\n        </div><!--end card-->\r\n        <div data-simplebar class=\"tasks-wrapper collapse show\" v-bind:id=\"data.groupName.groupName\" v-bind:class=\"[data.groupName.quantity > 0 ? '': 'tasks']\">\r\n          <!-- @drop=\"printEnd(d.ID, data.groupName.groupID)\" -->\r\n          <draggable\r\n              :list=\"data\"\r\n              class=\"dragArea\"\r\n              :group=\"{ name: 'todo' }\"\r\n              @change=\"log(data.groupName.groupID, $event)\"\r\n              animation=\"100\">\r\n            <div class=\"card mb-1\"\r\n                 v-for=\"d in agentsLoaded(data.groupName.groupName)\"\r\n                 :key=\"d.ID\"\r\n                 v-bind:id=\"'card-'+d.ID\" >\r\n              <input type=\"text\" v-bind:value=\"data.groupName.groupID\" v-bind:id=\"'statusCard-'+d.ID\"\r\n                     style=\"display: none\">\r\n              <div class=\"card-body\">\r\n                <div class=\"d-flex align-items-center\">\r\n                  <div class=\"flex-shrink-0\">\r\n                    <img src=\"@/assets/images/users/user-dummy-img.jpg\" alt=\"\" class=\"avatar-xs rounded-circle\"/>\r\n                  </div>\r\n                  <div class=\"flex-grow-1 ms-3\">\r\n                    <h6 class=\"fs-14 mb-1\">{{ d.firstName + ' ' + d.lastName }}</h6>\r\n                    <p class=\"text-muted mb-0\">{{ d.departmentName }} - {{\r\n                        formatDate(d.date_joined, 'MMMM Do YYYY')\r\n                      }}</p>\r\n                  </div>\r\n                </div>\r\n                <table id=\"tab\">\r\n                  <tr>\r\n                    <td>\r\n                      <a data-bs-toggle=\"collapse\" v-bind:href=\"'#leadDiscovered'+d.ID\" role=\"button\"\r\n                         aria-expanded=\"false\" aria-controls=\"leadDiscovered1\" v-bind:id=\"d.ID\"\r\n                         style=\"max-width: 20px;\">\r\n                        <EyeIcon class=\"grayIcon eyeIcon\"></EyeIcon>\r\n                      </a>\r\n                    </td>\r\n                    <td>\r\n                      <a data-bs-toggle=\"collapse\" style=\"max-width: 20px;\">\r\n                        <AlignLeftIcon class=\"grayIcon eyeIcon\"></AlignLeftIcon>\r\n                      </a>\r\n                    </td>\r\n                  </tr>\r\n                </table>\r\n              </div>\r\n              <div class=\"collapse border-top border-top-dashed\" v-bind:id=\"'leadDiscovered'+d.ID\">\r\n                <div class=\"card-body\">\r\n                  <h6 class=\"fs-14 mb-1\">{{ d.departmentName }} <small\r\n                      class=\"badge badge-soft-primary\">{{ daysFromDate(d.createdOn) }}</small></h6>\r\n                  <p class=\"text-muted\"></p>\r\n                  <ul class=\"list-unstyled vstack gap-2 mb-0\">\r\n                    <li>\r\n                      <div class=\"d-flex\">\r\n                        <div class=\"flex-shrink-0 avatar-xxs text-muted\">\r\n                          <i class=\"ri-calendar-2-fill\"></i>\r\n                        </div>\r\n                        <div class=\"flex-grow-1\">\r\n                          <h6 class=\"mb-0\">Interview</h6>\r\n                          <small class=\"text-muted\">{{\r\n                              formatDate(d.interviewDate, 'MMMM Do YYYY, h:mmA')\r\n                            }}</small>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                    <li>\r\n                      <div class=\"d-flex\">\r\n                        <div class=\"flex-shrink-0 avatar-xxs text-muted\">\r\n                          <i class=\"ri-phone-fill\"></i>\r\n                        </div>\r\n                        <div class=\"flex-grow-1\">\r\n                          <h6 class=\"mb-0\">Phone</h6>\r\n                          <small class=\"text-muted\">{{ d.phoneNumber }}</small>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                    <li>\r\n                      <div class=\"d-flex\">\r\n                        <div class=\"flex-shrink-0 avatar-xxs text-muted\">\r\n                          <i class=\"ri-earth-line\"></i>\r\n                        </div>\r\n                        <div class=\"flex-grow-1\">\r\n                          <h6 class=\"mb-0\">Email</h6>\r\n                          <small class=\"text-muted\">{{ d.email }}</small>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n                <div class=\"card-footer hstack gap-2\">\r\n                  <button class=\"btn btn-success btn-sm w-100\" data-bs-toggle=\"modal\" href=\"#agentModal\"\r\n                          data-bs-trigger=\"hover\" data-bs-placement=\"top\" @click=\"getData(d.ID), notifyNotes\"><i\r\n                      class=\"ri-door-open-line align-bottom me-1\"></i> Open\r\n                  </button>\r\n                  <button class=\"btn btn-primary btn-sm w-100\" data-bs-toggle=\"collapse\" v-bind:href=\"'#leadDiscovered'+d.ID\">\r\n                    <i class=\"ri-close-circle-line align-bottom me-1\"></i>\r\n                    Close\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div><!--end card-->\r\n            <div\r\n                class=\"btn-group list-group-item\"\r\n                role=\"group\"\r\n                aria-label=\"Basic example\"\r\n                key=\"footer\"\r\n                v-if=\"data.groupName.quantity > data.groupName.showing\"\r\n            >\r\n              <div class=\"d-grid gap-2\">\r\n                <b-button variant=\"outline-secondary\" class=\"waves-effect waves-light\" @click=\"loadMore(data.groupName.groupName)\">Load More</b-button>\r\n              </div>\r\n            </div>\r\n          </draggable>\r\n        </div>\r\n      </div><!--end col-->\r\n    </div>\r\n  </div>\r\n</template>"]}]}