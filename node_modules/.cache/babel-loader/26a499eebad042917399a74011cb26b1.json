{"remainingRequest":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\wamp64\\www\\crm\\frontend\\src\\views\\communication\\scheduleMessages.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\wamp64\\www\\crm\\frontend\\src\\views\\communication\\scheduleMessages.vue","mtime":1674224585895},{"path":"C:\\wamp64\\www\\crm\\frontend\\babel.config.js","mtime":1645939880000},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1652458135842},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1668443313146}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L3dhbXA2NC93d3cvY3JtL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgZmxhdFBpY2tyIGZyb20gInZ1ZS1mbGF0cGlja3ItY29tcG9uZW50IjsKaW1wb3J0ICJmbGF0cGlja3IvZGlzdC9mbGF0cGlja3IuY3NzIjsKaW1wb3J0IExheW91dCBmcm9tICIuLi8uLi9sYXlvdXRzL21haW4udnVlIjsKaW1wb3J0IFBhZ2VIZWFkZXIgZnJvbSAiQC9jb21wb25lbnRzL3BhZ2UtaGVhZGVyIjsKaW1wb3J0IGFwcENvbmZpZyBmcm9tICIuLi8uLi8uLi9hcHAuY29uZmlnIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmV4cG9ydCBkZWZhdWx0IHsKICBwYWdlOiB7CiAgICB0aXRsZTogIkFnZW50cyBMaXN0IGNhcmRzIiwKICAgIG1ldGE6IFt7CiAgICAgIG5hbWU6ICJkZXNjcmlwdGlvbiIsCiAgICAgIGNvbnRlbnQ6IGFwcENvbmZpZy5kZXNjcmlwdGlvbgogICAgfV0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIExheW91dDogTGF5b3V0LAogICAgUGFnZUhlYWRlcjogUGFnZUhlYWRlciwKICAgIGZsYXRQaWNrcjogZmxhdFBpY2tyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6ICJBZ2VudHMgfCBTY2hlZHVsZWQgTWVzc2FnZXMiLAogICAgICBpdGVtczogW3sKICAgICAgICB0ZXh0OiAiQWdlbnRzIiwKICAgICAgICBocmVmOiAiLyIKICAgICAgfSwgewogICAgICAgIHRleHQ6ICJBZ2VudCBMaXN0IGNhcmRzIiwKICAgICAgICBhY3RpdmU6IHRydWUKICAgICAgfV0sCiAgICAgIHRpbWVDb25maWc6IHsKICAgICAgICBlbmFibGVUaW1lOiBmYWxzZSwKICAgICAgICBkYXRlRm9ybWF0OiAiZCBNLCBZIgogICAgICB9LAogICAgICBkYXRlVGltZUNvbmZpZzogewogICAgICAgIGVuYWJsZVRpbWU6IHRydWUsCiAgICAgICAgZGF0ZUZvcm1hdDogIm0tZC15IEg6aSBLIgogICAgICB9LAogICAgICBsaXN0OiBbXSwKICAgICAgbWVzc2FnZUxpc3Q6IFtdLAogICAgICByZWNpZXBpZW50TGlzdDogW10sCiAgICAgIG51bWJlck9mUmVjaXBlbnRzOiAwLAogICAgICBodW1hbmZyaWVuZGx5Q29uZmlnOiB7CiAgICAgICAgZGF0ZUZvcm1hdDogIkYgaiwgWSIKICAgICAgfSwKICAgICAgc2NoZWR1bGVNZXNzYWdlQ29udGVudDogJycsCiAgICAgIHNjaGVkdWxlSG91cjogJzE0OjAwJywKICAgICAgcGFnZTogMSwKICAgICAgcGVyUGFnZTogNiwKICAgICAgcGFnZXM6IFtdLAogICAgICBzZWFyY2hRdWVyeTogbnVsbCwKICAgICAgZGF0YTogewogICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgc2VhcmNoVmFsdWVzOiB7CiAgICAgICAgICBpc0FjdGl2ZTogMSwKICAgICAgICAgIG5vdGVTZWFyY2g6ICcnLAogICAgICAgICAga2V5d29yZDogJycsCiAgICAgICAgICBsaWNlbnNlZDogMSwKICAgICAgICAgIGxhbmd1YWdlOiAzLAogICAgICAgICAgdG9EYXRlOiBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tdXMnLCB7CiAgICAgICAgICAgIHllYXI6ICJudW1lcmljIiwKICAgICAgICAgICAgbW9udGg6ICJsb25nIiwKICAgICAgICAgICAgZGF5OiAibnVtZXJpYyIKICAgICAgICAgIH0pLAogICAgICAgICAgZnJvbURhdGU6IG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RnVsbFllYXIobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpIC0gMSkpLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tdXMnLCB7CiAgICAgICAgICAgIHllYXI6ICJudW1lcmljIiwKICAgICAgICAgICAgbW9udGg6ICJsb25nIiwKICAgICAgICAgICAgZGF5OiAibnVtZXJpYyIKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9LAogICAgICBkYXRlOiBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldEZ1bGxZZWFyKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAtIDEpKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLXVzJywgewogICAgICAgIHllYXI6ICJudW1lcmljIiwKICAgICAgICBtb250aDogImxvbmciLAogICAgICAgIGRheTogIm51bWVyaWMiCiAgICAgIH0pCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGNvbnRhY3RzTGlzdDogZnVuY3Rpb24gY29udGFjdHNMaXN0KCkgewogICAgICB0aGlzLnNldFBhZ2VzKCk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgZGlzcGxheWVkUG9zdHM6IGZ1bmN0aW9uIGRpc3BsYXllZFBvc3RzKCkgewogICAgICByZXR1cm4gdGhpcy5wYWdpbmF0ZSh0aGlzLmxpc3QpOwogICAgfSwKICAgIHJlc3VsdFF1ZXJ5OiBmdW5jdGlvbiByZXN1bHRRdWVyeSgpIHsKICAgICAgaWYgKHRoaXMuc2VhcmNoUXVlcnkpIHsKICAgICAgICB2YXIgc2VhcmNoID0gdGhpcy5zZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpOwogICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXllZFBvc3RzLmZpbHRlcihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgcmV0dXJuIGRhdGEuYWRkcmVzcy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5hZ2VudE51bWJlci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5jaXR5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLmVtYWlsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLnBob25lTnVtYmVyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLmZpcnN0TmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5sYXN0TmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5zdGF0dXNOYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLmRlcGFydG1lbnROYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5ZWRQb3N0czsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZm9ybWF0RGF0ZTogZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlLCBmb3JtYXQpIHsKICAgICAgZGF0ZSA9IG1vbWVudChkYXRlKS5mb3JtYXQoZm9ybWF0KTsKICAgICAgcmV0dXJuIGRhdGU7CiAgICB9LAogICAgc2V0UGFnZXM6IGZ1bmN0aW9uIHNldFBhZ2VzKCkgewogICAgICB2YXIgbnVtYmVyT2ZQYWdlcyA9IE1hdGguY2VpbCh0aGlzLmxpc3QubGVuZ3RoIC8gdGhpcy5wZXJQYWdlKTsKCiAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPD0gbnVtYmVyT2ZQYWdlczsgaW5kZXgrKykgewogICAgICAgIHRoaXMucGFnZXMucHVzaChpbmRleCk7CiAgICAgIH0KICAgIH0sCiAgICBwYWdpbmF0ZTogZnVuY3Rpb24gcGFnaW5hdGUoY29udGFjdHNMaXN0KSB7CiAgICAgIHZhciBwYWdlID0gdGhpcy5wYWdlOwogICAgICB2YXIgcGVyUGFnZSA9IHRoaXMucGVyUGFnZTsKICAgICAgdmFyIGZyb20gPSBwYWdlICogcGVyUGFnZSAtIHBlclBhZ2U7CiAgICAgIHZhciB0byA9IHBhZ2UgKiBwZXJQYWdlOwogICAgICByZXR1cm4gY29udGFjdHNMaXN0LnNsaWNlKGZyb20sIHRvKTsKICAgIH0sCiAgICBmb3JtYXRQaG9uZTogZnVuY3Rpb24gZm9ybWF0UGhvbmUocGhvbmUpIHsKICAgICAgdmFyIGZsYWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7CgogICAgICAvLyBpZiBmbGFnID09IDEgcHV0IHZhbHVlIGluIHBob25lIEVkaXQKICAgICAgaWYgKHBob25lICE9PSB1bmRlZmluZWQpIHsKICAgICAgICB2YXIgeCA9IHBob25lLnJlcGxhY2UoL1xEL2csICcnKS5tYXRjaCgvKFxkezAsM30pKFxkezAsM30pKFxkezAsNH0pLyk7CiAgICAgICAgcGhvbmUgPSAheFsyXSA/IHhbMV0gOiAnKCcgKyB4WzFdICsgJykgJyArIHhbMl0gKyAoeFszXSA/ICctJyArIHhbM10gOiAnJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGhvbmUgPSAnJzsKICAgICAgfQoKICAgICAgaWYgKGZsYWcgIT09IDEpIHsKICAgICAgICByZXR1cm4gcGhvbmU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQaG9uZU51bWJlcicpLnZhbHVlID0gcGhvbmU7CiAgICAgIH0KICAgIH0sCiAgICBhZGRSZWNpcGllbnRzOiBmdW5jdGlvbiBhZGRSZWNpcGllbnRzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgaWRzX2FycmF5LCBpdGVtcywgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZHNfYXJyYXkgPSBbXTsKICAgICAgICAgICAgICAgIGl0ZW1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoImNoa19jaGlsZCIpOwogICAgICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlbGUuY2hlY2tlZCA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRyTm9kZSA9IGVsZS5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSB0ck5vZGUucXVlcnlTZWxlY3RvcigiLmlkIGEiKS5pbm5lckhUTUw7CgogICAgICAgICAgICAgICAgICAgIGlmICghaWRzX2FycmF5LmluY2x1ZGVzKGlkKSkgewogICAgICAgICAgICAgICAgICAgICAgaWRzX2FycmF5LnB1c2goaWQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgaWYgKCEodHlwZW9mIGlkc19hcnJheSAhPT0gInVuZGVmaW5lZCIgJiYgaWRzX2FycmF5Lmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICByZWNpcGllbnRzTGlzdDogaWRzX2FycmF5LmpvaW4oKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvZ2V0VXNlckJ5aWRzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgdmFyIGFycmF5MSA9IF90aGlzLnJlY2llcGllbnRMaXN0OwogICAgICAgICAgICAgICAgICB2YXIgYXJyYXkyID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgdmFyIGFycmF5MyA9IGFycmF5MS5jb25jYXQoYXJyYXkyKTsKICAgICAgICAgICAgICAgICAgYXJyYXkzID0gYXJyYXkzLmZpbHRlcihmdW5jdGlvbiAodmFsdWUsIGluZGV4LCBzZWxmKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4ID09PSBzZWxmLmZpbmRJbmRleChmdW5jdGlvbiAodCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuSUQgPT09IHZhbHVlLklEICYmIHQucGhvbmVOdW1iZXIgPT09IHZhbHVlLnBob25lTnVtYmVyOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgX3RoaXMucmVjaWVwaWVudExpc3QgPSBhcnJheTM7CiAgICAgICAgICAgICAgICAgIF90aGlzLm51bWJlck9mUmVjaXBlbnRzID0gX3RoaXMucmVjaWVwaWVudExpc3QubGVuZ3RoOwogICAgICAgICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGUpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZWxlLmNoZWNrZWQgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgICAgZWxlLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIGVsZS5jbG9zZXN0KCJ0ciIpLmNsYXNzTGlzdC5yZW1vdmUoInRhYmxlLWFjdGl2ZSIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJEZXBhcnRtZW50cyBjb3VsZCBub3QgYmUgbG9hZGVkLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlLCBzZWxlY3QgYXQgbGVhc3Qgb25lIHJlY2lwaWVudCEiLAogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVtb3ZlUmVjaXBpZW50OiBmdW5jdGlvbiByZW1vdmVSZWNpcGllbnQoaW5kZXgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBTd2FsLmZpcmUoewogICAgICAgIHRpdGxlOiAiQXJlIHlvdSBzdXJlPyIsCiAgICAgICAgdGV4dDogIlRoaXMgcmVjaXBpZW50IHdpbGwgYmUgcmVtb3ZlZCEiLAogICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiIzJjYTIxOSIsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiI2UxMmUyZSIsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJZZXMsIGRlbGV0ZSBpdCEiCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgIF90aGlzMi5yZWNpZXBpZW50TGlzdC5zcGxpY2UoX3RoaXMyLnJlY2llcGllbnRMaXN0LmluZGV4T2YoaW5kZXgpLCAxKTsKCiAgICAgICAgICBTd2FsLmZpcmUoIkRlbGV0ZWQhIiwgIlJlY2lwaWVudCBoYXMgYmVlbiBkZWxldGVkLiIsICJzdWNjZXNzIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzY2hlZHVsZU1lc3NhZ2U6IGZ1bmN0aW9uIHNjaGVkdWxlTWVzc2FnZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgdmFsaWRhdGUsIGVycm9ycywgZGF0YSwgbGlzdCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdmFsaWRhdGUgPSB0cnVlOwogICAgICAgICAgICAgICAgZXJyb3JzID0gW107CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMy5zY2hlZHVsZU1lc3NhZ2VDb250ZW50ID09PSAnJyAmJiBfdGhpczMuc2NoZWR1bGVNZXNzYWdlQ29udGVudC5sZW5ndGggPCAxMCkgewogICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCgnTWVzc2FnZSBzaG91bGQgYmUgbG9uZ2VyIHRoYW4gMTAgY2hhcmFjdGVycyEnKTsKICAgICAgICAgICAgICAgICAgdmFsaWRhdGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLnNjaGVkdWxlSG91ciA9PT0gJycgJiYgX3RoaXMzLnNjaGVkdWxlSG91ci5sZW5ndGggPCAzKSB7CiAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCdQbGVhc2UsIHNldCB0aGUgc2NoZWR1bGUgaG91ciBmb3IgdGhlIG1lc3NhZ2UhJyk7CiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMy5yZWNpZXBpZW50TGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goJ1BsZWFzZSwgYWRkIGFsbW9zdCBvbmUgcmVjaXBpZW50IHRvIHRoZSBsaXN0IScpOwogICAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHJlY2lwaWVudHM6IF90aGlzMy5yZWNpZXBpZW50TGlzdCwKICAgICAgICAgICAgICAgICAgaG91cjogX3RoaXMzLnNjaGVkdWxlSG91ciwKICAgICAgICAgICAgICAgICAgZGF0ZTogX3RoaXMzLmRhdGUsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IF90aGlzMy5zY2hlZHVsZU1lc3NhZ2VDb250ZW50LAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY29tbS9zYXZlU2NoZWR1bGVNZXNzYWdlJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlbW9kYWwnKS5jbGljaygpOwogICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgIHRleHQ6ICdNZXNzYWdlIHNjaGVkdWxlZCBzdWNjZXNzZnVsbHkhJwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiUGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZXJyb3JzLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICAgICAgICAgIGxpc3QgKz0gZXJyb3JzW2ldICsgJyBcbic7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoIiIgKyBsaXN0LCAnJywgJ2luZm8nKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlc2V0Rm9ybTogZnVuY3Rpb24gcmVzZXRGb3JtKCkgewogICAgICB0aGlzLnJlY2llcGllbnRMaXN0ID0gW107CiAgICAgIHRoaXMubnVtYmVyT2ZSZWNpcGVudHMgPSAwOwogICAgICB0aGlzLnNjaGVkdWxlTWVzc2FnZUNvbnRlbnQgPSAnJzsKICAgICAgdGhpcy5zY2hlZHVsZUhvdXIgPSAnMTQ6MDAnOwogICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldEZ1bGxZZWFyKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAtIDEpKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLXVzJywgewogICAgICAgIHllYXI6ICJudW1lcmljIiwKICAgICAgICBtb250aDogImxvbmciLAogICAgICAgIGRheTogIm51bWVyaWMiCiAgICAgIH0pOwogICAgfSwKICAgIGdldFNjaGVkdWxlZE1lc3NhZ2VzOiBmdW5jdGlvbiBnZXRTY2hlZHVsZWRNZXNzYWdlcygpIHsvLyBjb25zdCBkYXRhID0gewogICAgICAvLyAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgIC8vICAgcmVjaXBpZW50czogdGhpcy5yZWNpZXBpZW50TGlzdCwKICAgICAgLy8gICBob3VyOiB0aGlzLnNjaGVkdWxlSG91ciwKICAgICAgLy8gICBkYXRlOiB0aGlzLmRhdGUsCiAgICAgIC8vICAgbWVzc2FnZTogdGhpcy5zY2hlZHVsZU1lc3NhZ2VDb250ZW50LAogICAgICAvLyAgIHVzZXJFbWFpbDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgIC8vIH0KCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgdmFyIHBhdHRlcm4sIGlzQWdlbnQsIGRhdGE7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcGF0dGVybiA9ICdBZ2VudHMnOwogICAgICAgICAgICAgIGlzQWdlbnQgPSAwOwoKICAgICAgICAgICAgICBpZiAoX3RoaXM0LnRpdGxlLm1hdGNoKHBhdHRlcm4pKSB7CiAgICAgICAgICAgICAgICBpc0FnZW50ID0gMTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgc2VhcmNoVmFsdWVzOiBfdGhpczQuZGF0YS5zZWFyY2hWYWx1ZXMsCiAgICAgICAgICAgICAgICBpc0FnZW50OiBpc0FnZW50LAogICAgICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2xpc3REZXBhcnRtZW50cycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBfdGhpczQuZGVwYXJ0bWVudExpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiRGVwYXJ0bWVudHMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvbGlzdFN0YXR1cycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBfdGhpczQuc3RhdHVzTGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJTdGF0dXMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEwOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2xpc3RBZ2VudHMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXM0Lmxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7Ly8gZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZXJyb3JzLnB1c2goYCR7cHJvcGVydHl9OiAke2Vycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldfWApCiAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICBfdGhpczQuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY29tbS9nZXRTY2hlZHVsZWRNZXNzYWdlcycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBfdGhpczQubWVzc2FnZUxpc3QgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICAgIF90aGlzNC5zZXRQYWdlcygpOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczQuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgfSAvLyBmb3IgKGNvbnN0IHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgLy8gdGhpcy5lcnJvcnMucHVzaChgJHtwcm9wZXJ0eX06ICR7ZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV19YCkKICAgICAgICAgICAgICAgICAgLy8gfQoKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICBfdGhpczQuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["flatPickr","Layout","PageHeader","appConfig","moment","axios","Swal","page","title","meta","name","content","description","components","data","items","text","href","active","timeConfig","enableTime","dateFormat","dateTimeConfig","list","messageList","reciepientList","numberOfRecipents","humanfriendlyConfig","scheduleMessageContent","scheduleHour","perPage","pages","searchQuery","token","localStorage","getItem","searchValues","isActive","noteSearch","keyword","licensed","language","toDate","Date","toLocaleDateString","year","month","day","fromDate","setFullYear","getFullYear","date","watch","contactsList","setPages","computed","displayedPosts","paginate","resultQuery","search","toLowerCase","filter","address","includes","agentNumber","city","email","phoneNumber","firstName","lastName","statusName","departmentName","methods","formatDate","format","numberOfPages","Math","ceil","length","index","push","from","to","slice","formatPhone","phone","flag","undefined","x","replace","match","document","getElementById","value","addRecipients","ids_array","getElementsByName","forEach","ele","checked","trNode","parentNode","id","querySelector","innerHTML","recipientsList","join","post","then","array1","array2","response","array3","concat","self","findIndex","t","ID","closest","classList","remove","catch","error","fire","confirmButtonClass","buttonsStyling","showCloseButton","removeRecipient","icon","showCancelButton","cancelButtonColor","confirmButtonColor","confirmButtonText","result","splice","indexOf","scheduleMessage","validate","errors","recipients","hour","message","userEmail","click","console","log","i","resetForm","getScheduledMessages","mounted","pattern","isAgent","departmentList","statusList","detail","$router"],"sourceRoot":"","sources":["C:\\wamp64\\www\\crm\\frontend\\src\\views\\communication\\scheduleMessages.vue"],"sourcesContent":["<script>\r\nimport flatPickr from \"vue-flatpickr-component\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\nimport Layout from \"../../layouts/main.vue\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport appConfig from \"../../../app.config\";\r\nimport moment from \"moment\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport default {\r\n  page: {\r\n    title: \"Agents List cards\",\r\n    meta: [{name: \"description\", content: appConfig.description}],\r\n  },\r\n  components: {\r\n    Layout,\r\n    PageHeader,\r\n    flatPickr,\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"Agents | Scheduled Messages\",\r\n      items: [\r\n        {\r\n          text: \"Agents\",\r\n          href: \"/\",\r\n        },\r\n        {\r\n          text: \"Agent List cards\",\r\n          active: true,\r\n        },\r\n      ],\r\n      timeConfig: {\r\n        enableTime: false,\r\n        dateFormat: \"d M, Y\"\r\n      },\r\n      dateTimeConfig: {\r\n        enableTime: true,\r\n        dateFormat: \"m-d-y H:i K\"\r\n      },\r\n      list: [],\r\n      messageList: [],\r\n      reciepientList: [],\r\n      numberOfRecipents: 0,\r\n      humanfriendlyConfig: {\r\n        dateFormat: \"F j, Y\",\r\n      },\r\n      scheduleMessageContent: '',\r\n      scheduleHour: '14:00',\r\n      page: 1,\r\n      perPage: 6,\r\n      pages: [],\r\n      searchQuery: null,\r\n      data: {\r\n        token: localStorage.getItem('jwt'),\r\n        searchValues: {\r\n          isActive: 1,\r\n          noteSearch: '',\r\n          keyword: '',\r\n          licensed: 1,\r\n          language: 3,\r\n          toDate: new Date().toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}) ,\r\n          fromDate: new Date(new Date().setFullYear(new Date().getFullYear() - 1)).toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}),\r\n        }\r\n      },\r\n      date: new Date(new Date().setFullYear(new Date().getFullYear() - 1)).toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}),\r\n    };\r\n  },\r\n  watch: {\r\n    contactsList() {\r\n      this.setPages();\r\n    },\r\n  },\r\n  computed: {\r\n    displayedPosts() {\r\n      return this.paginate(this.list);\r\n    },\r\n    resultQuery() {\r\n      if (this.searchQuery) {\r\n        const search = this.searchQuery.toLowerCase();\r\n        return this.displayedPosts.filter((data) => {\r\n          return (\r\n              data.address.toLowerCase().includes(search) ||\r\n              data.agentNumber.toLowerCase().includes(search) ||\r\n              data.city.toLowerCase().includes(search) ||\r\n              data.email.toLowerCase().includes(search) ||\r\n              data.phoneNumber.toLowerCase().includes(search) ||\r\n              data.firstName.toLowerCase().includes(search) ||\r\n              data.lastName.toLowerCase().includes(search) ||\r\n              data.statusName.toLowerCase().includes(search) ||\r\n              data.departmentName.toLowerCase().includes(search)\r\n          );\r\n        });\r\n      } else {\r\n        return this.displayedPosts;\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    formatDate: function (date, format) {\r\n      date = moment(date).format(format)\r\n      return date;\r\n    },\r\n    setPages() {\r\n      let numberOfPages = Math.ceil(this.list.length / this.perPage);\r\n      for (let index = 1; index <= numberOfPages; index++) {\r\n        this.pages.push(index);\r\n      }\r\n    },\r\n    paginate(contactsList) {\r\n      let page = this.page;\r\n      let perPage = this.perPage;\r\n      let from = page * perPage - perPage;\r\n      let to = page * perPage;\r\n      return contactsList.slice(from, to);\r\n    },\r\n    formatPhone: function(phone, flag=0) {\r\n\r\n      // if flag == 1 put value in phone Edit\r\n      if(phone !== undefined){\r\n        const x = phone.replace(/\\D/g, '').match(/(\\d{0,3})(\\d{0,3})(\\d{0,4})/);\r\n        phone = !x[2] ? x[1] : '(' + x[1] + ') ' + x[2] + (x[3] ? '-' + x[3] : '');\r\n      }else{\r\n        phone = ''\r\n      }\r\n\r\n      if(flag !== 1){\r\n        return phone;\r\n      }else{\r\n        document.getElementById('editPhoneNumber').value = phone;\r\n      }\r\n    },\r\n    async addRecipients() {\r\n      let ids_array = [];\r\n      let items = document.getElementsByName(\"chk_child\");\r\n      items.forEach(function (ele) {\r\n        if (ele.checked == true) {\r\n          let trNode = ele.parentNode.parentNode.parentNode;\r\n          let id = trNode.querySelector(\".id a\").innerHTML;\r\n\r\n          if(!ids_array.includes(id)){\r\n            ids_array.push(id);\r\n          }\r\n        }\r\n      });\r\n\r\n      if (typeof ids_array !== \"undefined\" && ids_array.length > 0) {\r\n        const data = {\r\n          token: localStorage.getItem('jwt'),\r\n          recipientsList: ids_array.join(),\r\n        }\r\n\r\n        await axios\r\n            .post('/api/getUserByids', data)\r\n            .then(response => {\r\n              let array1 = this.reciepientList\r\n              let array2 = response.data\r\n              let array3 = array1.concat(array2);\r\n\r\n              array3 = array3.filter((value, index, self) =>\r\n                index === self.findIndex((t) => (\r\n                    t.ID === value.ID && t.phoneNumber === value.phoneNumber\r\n                ))\r\n              )\r\n\r\n              this.reciepientList = array3;\r\n              this.numberOfRecipents = this.reciepientList.length\r\n\r\n              items.forEach(function (ele) {\r\n                if (ele.checked == true) {\r\n                  ele.checked = false\r\n                  ele.closest(\"tr\").classList.remove(\"table-active\");\r\n                }\r\n              });\r\n            })\r\n            .catch(error => {\r\n              if (error.response) {\r\n                Swal.fire(\"Oops!\", \"Departments could not be loaded, please contact your SysAdmin.\", \"error\")\r\n              }\r\n              })\r\n      } else {\r\n        Swal.fire({\r\n          title: \"Please, select at least one recipient!\",\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    removeRecipient(index){\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This recipient will be removed!\",\r\n        icon: \"warning\",\r\n        showCancelButton: true,\r\n        cancelButtonColor: \"#2ca219\",\r\n        confirmButtonColor: \"#e12e2e\",\r\n        confirmButtonText: \"Yes, delete it!\",\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.reciepientList.splice(this.reciepientList.indexOf(index), 1);\r\n          Swal.fire(\"Deleted!\", \"Recipient has been deleted.\", \"success\");\r\n        }\r\n      });\r\n    },\r\n    async scheduleMessage() {\r\n\r\n      let validate = true;\r\n      let errors = [];\r\n\r\n      if (this.scheduleMessageContent === '' && this.scheduleMessageContent.length < 10) {\r\n        errors.push('Message should be longer than 10 characters!')\r\n        validate = false;\r\n      }\r\n\r\n      if (this.scheduleHour === '' && this.scheduleHour.length < 3) {\r\n        errors.push('Please, set the schedule hour for the message!')\r\n        validate = false;\r\n      }\r\n\r\n      if (this.reciepientList.length === 0) {\r\n        errors.push('Please, add almost one recipient to the list!')\r\n        validate = false;\r\n      }\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        recipients: this.reciepientList,\r\n        hour: this.scheduleHour,\r\n        date: this.date,\r\n        message: this.scheduleMessageContent,\r\n        userEmail: localStorage.getItem('email'),\r\n      }\r\n\r\n      if(validate){\r\n        await axios\r\n            .post('/api/comm/saveScheduleMessage', data)\r\n            .then(response => {\r\n              document.getElementById('closemodal').click();\r\n              Swal.fire({\r\n                icon: 'success',\r\n                title: 'Success',\r\n                text: 'Message scheduled successfully!'\r\n              });\r\n              console.log(response)\r\n            })\r\n            .catch(error => {\r\n              if (error.response) {\r\n                Swal.fire(\"Oops!\", \"Please contact your SysAdmin.\", \"error\")\r\n              }\r\n            })\r\n      }else{\r\n        let list = '';\r\n        for (var i = 0; i < errors.length; i+=1) {\r\n          list += errors[i] + ' \\n';\r\n        }\r\n\r\n        await Swal.fire(\"\" + list, '', 'info');\r\n\r\n      }\r\n    },\r\n    resetForm(){\r\n      this.reciepientList = [];\r\n      this.numberOfRecipents = 0;\r\n      this.scheduleMessageContent = '';\r\n      this.scheduleHour = '14:00'\r\n      this.date = new Date(new Date().setFullYear(new Date().getFullYear() - 1)).toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"})\r\n    },\r\n    async getScheduledMessages(){\r\n\r\n      // const data = {\r\n      //   token: localStorage.getItem('jwt'),\r\n      //   recipients: this.reciepientList,\r\n      //   hour: this.scheduleHour,\r\n      //   date: this.date,\r\n      //   message: this.scheduleMessageContent,\r\n      //   userEmail: localStorage.getItem('email'),\r\n      // }\r\n    },\r\n  },\r\n  async mounted() {\r\n\r\n    const pattern = 'Agents';\r\n    let isAgent = 0;\r\n    if(this.title.match(pattern)) {\r\n      isAgent = 1;\r\n    }\r\n\r\n    const data = {\r\n      token: localStorage.getItem('jwt'),\r\n      searchValues: this.data.searchValues,\r\n      isAgent: isAgent,\r\n      userEmail: localStorage.getItem('email'),\r\n    }\r\n\r\n    await axios\r\n        .post('/api/listDepartments', data)\r\n        .then(response => {\r\n          this.departmentList=response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n            Swal.fire(\"Oops!\", \"Departments could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/listStatus', data)\r\n        .then(response => {\r\n          this.statusList=response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n\r\n    await axios\r\n        .post('/api/listAgents', data)\r\n        .then(response => {\r\n          this.list=response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n            // for (const property in error.response.data) {\r\n            // this.errors.push(`${property}: ${error.response.data[property]}`)\r\n            // }\r\n          } else if (error.message) {\r\n            this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/comm/getScheduledMessages', data)\r\n        .then(response => {\r\n          this.messageList=response.data\r\n          this.setPages();\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n\r\n            // for (const property in error.response.data) {\r\n            // this.errors.push(`${property}: ${error.response.data[property]}`)\r\n            // }\r\n          } else if (error.message) {\r\n            this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n          }\r\n        })\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\"/>\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-12\">\r\n        <div class=\"card\" id=\"leadsList\">\r\n          <div class=\"card-header border-0\">\r\n            <div class=\"row g-4 align-items-center\">\r\n              <div class=\"col-sm-3\">\r\n                <div class=\"search-box\">\r\n                  <input\r\n                      type=\"text\"\r\n                      class=\"form-control search\"\r\n                      placeholder=\"Search for...\"\r\n                  />\r\n                  <i class=\"ri-search-line search-icon\"></i>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-sm-auto ms-auto\">\r\n                <div class=\"hstack gap-2\">\r\n                  <button type=\"button\" class=\"btn btn-soft-success add-btn\" href=\"#open-filters\" data-bs-toggle=\"modal\">\r\n                    <i class=\"ri-filter-line align-bottom me-1\"></i> Filters\r\n                  </button>\r\n                  <button type=\"button\" class=\"btn btn-soft-success\" href=\"#createMessage\" data-bs-toggle=\"modal\" @click=\"resetForm\">\r\n                    <i class=\"ri-message-2-line align-bottom me-1\"></i> Create Message\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Table Head -->\r\n          <div class=\"table-responsive\">\r\n            <table class=\"table align-middle table-nowrap mb-0\">\r\n              <thead class=\"table-light\">\r\n              <tr>\r\n                <th scope=\"col\" style=\"width: 50px\">\r\n                  <div class=\"form-check\">\r\n                    <input\r\n                        class=\"form-check-input\"\r\n                        type=\"checkbox\"\r\n                        id=\"checkAll\"\r\n                        value=\"option\"\r\n                    />\r\n                  </div>\r\n                </th>\r\n                <th scope=\"col\">Message</th>\r\n                <th scope=\"col\">Is Active</th>\r\n                <th scope=\"col\">Sent</th>\r\n                <th scope=\"col\">Scheduled To</th>\r\n                <th scope=\"col\">Create Date</th>\r\n                <th scope=\"col\">Actions</th>\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n              <tr v-for=\"(data, index) of list\" :key=\"index\">\r\n                <td>\r\n                  <div class=\"form-check\">\r\n                    <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"cardtableCheck01\">\r\n                    <label class=\"form-check-label\" for=\"cardtableCheck01\"></label>\r\n                  </div>\r\n                </td>\r\n                <td>{{ data.message }}</td>\r\n                <td><a href=\"javascript:void(0);\" :class=\" data.active === 1 ? 'link-success' : 'link-danger'\" >{{ data.active === 1 ? 'Yes' : 'No' }}</a></td>\r\n                <td>{{ data.sent === 1 ? 'Yes' : 'No' }}</td>\r\n                <td>{{formatDate(data.scheduledTo, 'MMMM Do YYYY, h:mmA') }}</td>\r\n                <td>{{formatDate(data.createdOn, 'MMM Do YYYY, h:mmA') }}</td>\r\n                <td>\r\n                  <ul class=\"list-inline hstack gap-2 mb-0\">\r\n                    <li class=\"list-inline-item\" data-bs-toggle=\"modal\" href=\"#agentModal\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Edit\" @click=\"getUserInfo(data.ID)\">\r\n                      <a class=\"edit-item-btn\" href=\"javascript:void(0);\"><i class=\"ri-pencil-fill align-bottom text-muted\"></i></a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\" data-bs-toggle=\"tooltip\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Delete\">\r\n                      <a class=\"remove-item-btn\" data-bs-toggle=\"modal\" href=\"javascript:void(0);\">\r\n                        <i class=\"ri-delete-bin-fill align-bottom text-muted\"></i>\r\n                      </a>\r\n                    </li>\r\n                  </ul>\r\n                </td>\r\n              </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!--end col-->\r\n    </div>\r\n    <!--end row-->\r\n\r\n    <!-- Filters Modal -->\r\n    <div id=\"open-filters\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"myModalLabel\">Filters</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"> </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-12\">\r\n                <label for=\"filterKeyword\" class=\"form-label\">Keyword</label>\r\n                <input type=\"text\" id=\"filterKeyword\" name=\"filterKeyword\" class=\"form-control mb-2\" placeholder=\"Enter Keyword\" v-model=\"this.data.searchValues.keyword\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterLicensed\" class=\"form-label\">Licensed agents?</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Licensed Agents?\" id=\"filterLicensed\" name=\"filterLicensed\" v-model=\"this.data.searchValues.licensed\">\r\n                  <option value=\"1\" selected>Both</option>\r\n                  <option value=\"2\">Yes</option>\r\n                  <option value=\"3\">No</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <div class=\"form-check form-switch form-switch-lg\" dir=\"ltr\" style=\"margin: 0;position: absolute;top: 50%;-ms-transform: translateY(-50%);transform: translateY(-50%);\">\r\n                  <input type=\"checkbox\" class=\"form-check-input\" id=\"isActive\" checked=\"\">\r\n                  <label class=\"form-check-label\" for=\"isActive\">Active</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editLanguage\" class=\"form-label\">Language</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"filterLanguage\" name=\"filterLanguage\" v-model=\"this.data.searchValues.language\">\r\n                  <option value=\"3\" selected>Both</option>\r\n                  <option value=\"1\" selected>English</option>\r\n                  <option value=\"2\">Spanish</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editStatus\" class=\"form-label\">Search by Notes</label>\r\n                <input type=\"text\" id=\"filterNotes\" name=\"filterNotes\" class=\"form-control mb-2\" placeholder=\"Enter note\" v-model=\"this.data.searchValues.noteSearch\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterFromDate\" class=\"form-label\"> From date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.data.searchValues.fromDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterFromDate\"\r\n                    name=\"filterFromDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterToDate\" class=\"form-label\"> To Date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.data.searchValues.toDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterToDate\"\r\n                    name=\"filterToDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-light\" data-bs-dismiss=\"modal\">Close</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"updateAgentList()\">Search</button>\r\n          </div>\r\n\r\n        </div><!-- /.modal-content -->\r\n      </div><!-- /.modal-dialog -->\r\n    </div><!-- /.modal -->\r\n\r\n    <div id=\"createMessage\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\">\r\n      <div class=\"modal-dialog modal-dialog-centered modal-xl\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"myModalLabel\">Create Schedule Message</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"> </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-5\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-lg-6\">\r\n                    <label for=\"filterFromDate\" class=\"form-label\"> Date</label>\r\n                    <flat-pickr\r\n                        v-model=\"date\"\r\n                        :config=\"humanfriendlyConfig\"\r\n                        class=\"form-control flatpickr-input\"\r\n                        id=\"filterFromDate\"\r\n                        name=\"filterFromDate\"\r\n                    ></flat-pickr>\r\n                  </div>\r\n                  <div class=\"col-lg-6\">\r\n                    <div>\r\n                      <label for=\"exampleInputtime\" class=\"form-label\">Hour</label>\r\n                      <input type=\"time\" class=\"form-control\" id=\"exampleInputtime\" v-model=\"scheduleHour\">\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\" style=\"margin-top: 10px;\">\r\n                    <div>\r\n                      <label for=\"exampleFormControlTextarea5\" class=\"form-label\">Message Content</label>\r\n                      <textarea class=\"form-control\" id=\"exampleFormControlTextarea5\" rows=\"15\" v-model=\"scheduleMessageContent\"></textarea>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-lg-7\">\r\n                  <div class=\"row\" style=\"margin-top: 0px;\">\r\n                    <div class=\"col-sm-6\">\r\n                      <label for=\"filterKeyword\" class=\"form-label\">Keyword Search</label>\r\n                      <input type=\"text\" id=\"filterKeyword\" name=\"filterKeyword\" class=\"form-control mb-2\" placeholder=\"Enter Keyword\" v-model=\"searchQuery\">\r\n                    </div>\r\n                    <div class=\"col-sm-3\">\r\n                      <label for=\"filterLicensed\" class=\"form-label\">Licensed agents?</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Licensed Agents?\" id=\"filterLicensed\" name=\"filterLicensed\" v-model=\"this.data.searchValues.licensed\">\r\n                        <option value=\"1\" selected>Both</option>\r\n                        <option value=\"2\">Yes</option>\r\n                        <option value=\"3\">No</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-sm-3\">\r\n                      <label for=\"editLanguage\" class=\"form-label\">Language</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"filterLanguage\" name=\"filterLanguage\" v-model=\"this.data.searchValues.language\">\r\n                        <option value=\"3\" selected>Both</option>\r\n                        <option value=\"1\" selected>English</option>\r\n                        <option value=\"2\">Spanish</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                <div class=\"table-responsive\" style=\"max-height: 500px;\">\r\n                  <table class=\"table align-middle table-nowrap mb-0\">\r\n                    <thead class=\"table-light\">\r\n                    <tr>\r\n                      <th scope=\"col\" style=\"width: 50px\">\r\n                        #\r\n                      </th>\r\n                      <th scope=\"col\">Name</th>\r\n                      <th scope=\"col\">Status</th>\r\n                      <th scope=\"col\">Phone</th>\r\n                      <th scope=\"col\">Department</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr v-for=\"(data, index) of resultQuery\" :key=\"index\">\r\n                      <td>\r\n                        <div class=\"form-check\">\r\n                          <input class=\"form-check-input\"\r\n                                 type=\"checkbox\"\r\n                                 name=\"chk_child\"\r\n                                 value=\"option1\">\r\n<!--                          <label class=\"form-check-label\" :bind-for=\"'cardtableCheckdata'+data.ID\"></label>-->\r\n                        </div>\r\n                      </td>\r\n                      <td class=\"id\" style=\"display: none\">\r\n                        <a\r\n                            href=\"javascript:void(0);\"\r\n                            class=\"fw-medium link-primary\"\r\n                        >{{ data.ID }}</a>\r\n                      </td>\r\n                      <td>{{ data.firstName }} {{ data.lastName }}</td>\r\n                      <td><a href=\"javascript:void(0);\" class=\"link-success\">{{ data.statusName }}</a></td>\r\n                      <td>{{ formatPhone(data.phoneNumber) }}</td>\r\n                      <td>{{ data.departmentName }}</td>\r\n                    </tr>\r\n                    </tbody>\r\n                  </table>\r\n                  <div class=\"d-flex justify-content-end mt-3\">\r\n                    <button type=\"button\" class=\"btn btn-soft-success custom-toggle active\" data-bs-toggle=\"button\" @click=\"addRecipients()\" style=\"margin-right: 5px;\">\r\n                      <span class=\"icon-on\">+ Recipient</span>\r\n                    </button>\r\n                    <div class=\"pagination-wrap hstack gap-2\">\r\n                      <a  class=\"page-item pagination-prev disabled\"\r\n                          href=\"#\"\r\n                          v-if=\"page != 1\"\r\n                          @click=\"page--\">\r\n                        Previous\r\n                      </a>\r\n                      <ul class=\"pagination listjs-pagination mb-0\">\r\n                        <li\r\n                            :class=\"{\r\n                              active: pageNumber == page,\r\n                              disabled: pageNumber == '...',\r\n                            }\"\r\n                            v-for=\"(pageNumber, index) in pages.slice(page - 1, page + 5)\"\r\n                            :key=\"index\"\r\n                            @click=\"page = pageNumber\"\r\n                        >\r\n                          <a class=\"page\" href=\"#\">{{ pageNumber }}</a>\r\n                        </li>\r\n                      </ul>\r\n                      <a\r\n                          class=\"page-item pagination-next\"\r\n                          href=\"#\"\r\n                          @click=\"page++\"\r\n                          v-if=\"page < pages.length\"\r\n                      >\r\n                        Next\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"align-middle \">\r\n                <p><b style=\"font-size: 1.5em;\">Number Of Recipients: {{ numberOfRecipents }}</b></p>\r\n              </div>\r\n              <div class=\"table-responsive\" style=\"max-height: 500px;\">\r\n                <table class=\"table align-middle table-nowrap mb-0\">\r\n                  <thead class=\"table-light\">\r\n                  <tr>\r\n                    <th scope=\"col\" style=\"width: 50px\">\r\n                      #\r\n                    </th>\r\n                    <th scope=\"col\">Name</th>\r\n                    <th scope=\"col\">Status</th>\r\n                    <th scope=\"col\">Phone</th>\r\n                    <th scope=\"col\">Department</th>\r\n                    <th scope=\"col\">Remove</th>\r\n                  </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                  <tr v-for=\"(data, index) of reciepientList\" :key=\"index\">\r\n                    <td>\r\n                      <div class=\"form-check\">\r\n                        <input class=\"form-check-input\"\r\n                               type=\"checkbox\"\r\n                               name=\"chk_child\"\r\n                               value=\"option1\">\r\n                      </div>\r\n                    </td>\r\n                    <td class=\"id\" style=\"display: none\">\r\n                      <a\r\n                          href=\"javascript:void(0);\"\r\n                          class=\"fw-medium link-primary\"\r\n                      >{{ data.ID }}</a>\r\n                    </td>\r\n                    <td>{{ data.firstName }} {{ data.lastName }}</td>\r\n                    <td><a href=\"javascript:void(0);\" class=\"link-success\">{{ data.statusName }}</a></td>\r\n                    <td>{{ formatPhone(data.phoneNumber) }}</td>\r\n                    <td>{{ data.departmentName }}</td>\r\n                    <td>\r\n                      <b-button variant=\"danger\" class=\"btn-icon waves-effect waves-light\" size=\"sm\" @click=\"removeRecipient(index)\">\r\n                        <i class=\"ri-delete-bin-5-line\"></i>\r\n                      </b-button>\r\n                    </td>\r\n                  </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-light\" id=\"closemodal\" data-bs-dismiss=\"modal\">Close</button>\r\n            <button type=\"button\" class=\"btn btn-success\" @click=\"scheduleMessage()\">Scheduled</button>\r\n          </div>\r\n\r\n        </div><!-- /.modal-content -->\r\n      </div><!-- /.modal-dialog -->\r\n    </div><!-- /.modal -->\r\n\r\n  </Layout>\r\n</template>\r\n"]}]}