{"remainingRequest":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\wamp64\\www\\crm\\frontend\\src\\views\\clients\\clientlist.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\wamp64\\www\\crm\\frontend\\src\\views\\clients\\clientlist.vue","mtime":1677602028680},{"path":"C:\\wamp64\\www\\crm\\frontend\\babel.config.js","mtime":1645939880000},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1652458135842},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1668443313146}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L3dhbXA2NC93d3cvY3JtL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRlc3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgZmxhdFBpY2tyIGZyb20gInZ1ZS1mbGF0cGlja3ItY29tcG9uZW50IjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgImZsYXRwaWNrci9kaXN0L2ZsYXRwaWNrci5jc3MiOwppbXBvcnQgTGF5b3V0IGZyb20gIi4uLy4uL2xheW91dHMvbWFpbi52dWUiOwppbXBvcnQgUGFnZUhlYWRlciBmcm9tICJAL2NvbXBvbmVudHMvcGFnZS1oZWFkZXIiOwppbXBvcnQgYXBwQ29uZmlnIGZyb20gIi4uLy4uLy4uL2FwcC5jb25maWciOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBMb3R0aWUgZnJvbSAiQC9jb21wb25lbnRzL3dpZGdldHMvbG90dGllLnZ1ZSI7CmltcG9ydCBhbmltYXRpb25EYXRhIGZyb20gIkAvY29tcG9uZW50cy93aWRnZXRzL21zb2Vhd3FtLmpzb24iOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgTXVsdGlzZWxlY3QgZnJvbSAiQHZ1ZWZvcm0vbXVsdGlzZWxlY3QiOwppbXBvcnQgIkB2dWVmb3JtL211bHRpc2VsZWN0L3RoZW1lcy9kZWZhdWx0LnNjc3MiOyAvLyBjb21wb25lbnRzCgppbXBvcnQgbm90ZXMgZnJvbSAnLi4vLi4vY29tcG9uZW50cy91c2Vycy9ub3Rlcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBwYWdlOiB7CiAgICB0aXRsZTogIkNsaWVudHMiLAogICAgbWV0YTogW3sKICAgICAgbmFtZTogImRlc2NyaXB0aW9uIiwKICAgICAgY29udGVudDogYXBwQ29uZmlnLmRlc2NyaXB0aW9uCiAgICB9XQogIH0sCiAgY29tcG9uZW50czogewogICAgTGF5b3V0OiBMYXlvdXQsCiAgICBQYWdlSGVhZGVyOiBQYWdlSGVhZGVyLAogICAgZmxhdFBpY2tyOiBmbGF0UGlja3IsCiAgICBNdWx0aXNlbGVjdDogTXVsdGlzZWxlY3QsCiAgICBMb3R0aWU6IExvdHRpZSwKICAgIG5vdGVzOiBub3RlcwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAiQ2xpZW50IExpc3QiLAogICAgICBpdGVtczogW3sKICAgICAgICB0ZXh0OiAiQ2xpZW50cyIsCiAgICAgICAgaHJlZjogIi8iCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiQ2xpZW50IExpc3QiLAogICAgICAgIGFjdGl2ZTogdHJ1ZQogICAgICB9XSwKICAgICAgb3BlbkNyZWF0ZTogMCwKICAgICAgcGFnZTogMSwKICAgICAgcGVyUGFnZTogMTAwLAogICAgICBwYWdlczogW10sCiAgICAgIHNlYXJjaFF1ZXJ5OiBudWxsLAogICAgICB0aW1lQ29uZmlnOiB7CiAgICAgICAgZW5hYmxlVGltZTogZmFsc2UsCiAgICAgICAgZGF0ZUZvcm1hdDogImQgTSwgWSIKICAgICAgfSwKICAgICAgZGF0ZVRpbWVDb25maWc6IHsKICAgICAgICBlbmFibGVUaW1lOiB0cnVlLAogICAgICAgIGRhdGVGb3JtYXQ6ICJGIGosIFkgSDppIEsiCiAgICAgIH0sCiAgICAgIGh1bWFuZnJpZW5kbHlDb25maWc6IHsKICAgICAgICBkYXRlRm9ybWF0OiAiRiBqLCBZIgogICAgICB9LAogICAgICB0eXBlTGlzdDoge30sCiAgICAgIGNsaWVudERhdGE6IFtdLAogICAgICBkYXRhOiB7CiAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICBzZWFyY2hWYWx1ZXM6IHsKICAgICAgICAgIHR5cGU6ICcnLAogICAgICAgICAgbm90ZVNlYXJjaDogJycsCiAgICAgICAgICBrZXl3b3JkOiAnJywKICAgICAgICAgIGxhbmd1YWdlOiAnMycsCiAgICAgICAgICBjbGllbnRzOiAxLAogICAgICAgICAgc3RhdHVzOiAwLAogICAgICAgICAgc29ydEJ5OiAnbmFtZScsCiAgICAgICAgICBvcmRlckJ5OiAnQVNDJywKICAgICAgICAgIHRvRGF0ZTogbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLXVzJywgewogICAgICAgICAgICB5ZWFyOiAibnVtZXJpYyIsCiAgICAgICAgICAgIG1vbnRoOiAibG9uZyIsCiAgICAgICAgICAgIGRheTogIm51bWVyaWMiCiAgICAgICAgICB9KSwKICAgICAgICAgIGZyb21EYXRlOiBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldEZ1bGxZZWFyKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAtIDEpKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLXVzJywgewogICAgICAgICAgICB5ZWFyOiAibnVtZXJpYyIsCiAgICAgICAgICAgIG1vbnRoOiAibG9uZyIsCiAgICAgICAgICAgIGRheTogIm51bWVyaWMiCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVmYXVsdE9wdGlvbnM6IHsKICAgICAgICBhbmltYXRpb25EYXRhOiBhbmltYXRpb25EYXRhCiAgICAgIH0sCiAgICAgIGxpc3Q6IFtdLAogICAgICBhZ2VudERhdGE6IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIGZpcnN0TmFtZTogJycsCiAgICAgICAgbGFzdE5hbWU6ICcnLAogICAgICAgIGxhbmd1YWdlOiAnJywKICAgICAgICBzdGF0dXM6ICcnLAogICAgICAgIHBob25lOiAnJywKICAgICAgICBkZXBhcnRtZW50OiAnJywKICAgICAgICBzdGF0ZTogJycsCiAgICAgICAgYmlydGhEYXRlOiAnJywKICAgICAgICBhZGRyZXNzOiAnJywKICAgICAgICBjb3VudHJ5OiAnJywKICAgICAgICB6aXBDb2RlOiAnJywKICAgICAgICBpbnRlcnZpZXc6ICcnLAogICAgICAgIGFnZW50TnVtYmVyOiAnJywKICAgICAgICBjcmVhdGVkQnk6ICcnLAogICAgICAgIGluc3VyYW5jZUxpY2Vuc2U6ICcnLAogICAgICAgIGxpY2Vuc2VOdW1iZXI6ICcnCiAgICAgIH0sCiAgICAgIGRlcGFydG1lbnRMaXN0OiB7fSwKICAgICAgc3RhdHVzTGlzdDoge30sCiAgICAgIHByb3NwZWN0U3RhdHVzTGlzdDoge30sCiAgICAgIG5vdGVzRGF0YTogW10KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgY29tcGFuaWVzOiBmdW5jdGlvbiBjb21wYW5pZXMoKSB7CiAgICAgIHRoaXMuc2V0UGFnZXMoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNldFBhZ2VzKCk7CiAgfSwKICBmaWx0ZXJzOiB7CiAgICB0cmltV29yZHM6IGZ1bmN0aW9uIHRyaW1Xb3Jkcyh2YWx1ZSkgewogICAgICByZXR1cm4gdmFsdWUuc3BsaXQoIiAiKS5zcGxpY2UoMCwgMjApLmpvaW4oIiAiKSArICIuLi4iOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZWRpdGRhdGE6IGZ1bmN0aW9uIGVkaXRkYXRhKGRhdGEpIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkJykudmFsdWUgPSBkYXRhLmlkOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VzdG9tZXJuYW1lJykudmFsdWUgPSBkYXRhLm5hbWU7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wYW55bmFtZScpLnZhbHVlID0gZGF0YS5jb21wYW55OwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhZHNzY29yZScpLnZhbHVlID0gZGF0YS5zY29yZTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bob25lJykudmFsdWUgPSBkYXRhLnBob25lOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9jYXRpb24nKS52YWx1ZSA9IGRhdGEubG9jYXRpb247CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlJykudmFsdWUgPSBkYXRhLmRhdGU7CiAgICB9LAogICAgYWRkTmV3QWdlbnRNb2RhbDogZnVuY3Rpb24gYWRkTmV3QWdlbnRNb2RhbCgpIHsKICAgICAgdGhpcy5vcGVuQ3JlYXRlID0gMTsKICAgICAgdGhpcy5yZXNldEFnZW50RGF0YSgpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkZm9ybSIpLnJlc2V0KCk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZ2VudE1vZGFsTGFiZWwnKS5pbm5lckhUTUwgPSAiQWRkIENsaWVudCI7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtYnRuJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWJ0bicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICB9LAogICAgY2hlY2tDbGllbnRFeGlzdHM6IGZ1bmN0aW9uIGNoZWNrQ2xpZW50RXhpc3RzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICBpc1Byb3NwZWN0OiAwLAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICBjbGllbnRJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICBwb3RlbnRpYWxDbGllbnRFbWFpbDogX3RoaXMuY2xpZW50RGF0YS5lbWFpbAogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLnZhbGlkRW1haWwoZGF0YS5wb3RlbnRpYWxDbGllbnRFbWFpbCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY2xpZW50L2VtYWlsRXhpc3RzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5jcmVhdGVFbWFpbCIpOwoKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoImlzLWludmFsaWQiKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBkaXYuY2xhc3NMaXN0LnJlbW92ZSgiaXMtaW52YWxpZCIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJQbGVhc2UsIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVDbGllbnQ6IGZ1bmN0aW9uIHVwZGF0ZUNsaWVudCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgZGF0YSwgbGlzdCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycyA9IFtdOwoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmNsaWVudERhdGEubGFzdE5hbWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdMYXN0IE5hbWUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuY2xpZW50RGF0YS5nZW5kZXIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdHZW5kZXIgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuY2xpZW50RGF0YS5sYW5ndWFnZSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0xhbmd1YWdlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmNsaWVudERhdGEuc3RhdHVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnU3RhdHVzIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmNsaWVudERhdGEucGhvbmVOdW1iZXIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdQaG9uZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLnZhbGlkUGhvbmUoX3RoaXMyLmNsaWVudERhdGEucGhvbmVOdW1iZXIpID09PSBmYWxzZSAmJiBfdGhpczIuY2xpZW50RGF0YS5waG9uZU51bWJlciAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdQbGVhc2UsIHdyaXRlIGEgdmFsaWQgcGhvbmUgbnVtYmVyIScpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmNsaWVudERhdGEuZGVwYXJ0bWVudElEKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnRGVwYXJ0bWVudCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmVycm9ycy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgICAgICAgICAgICBlbWFpbDogX3RoaXMyLmNsaWVudERhdGEuZW1haWwsCiAgICAgICAgICAgICAgICAgIGNpdHk6IF90aGlzMi5jbGllbnREYXRhLmNpdHksCiAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogX3RoaXMyLmNsaWVudERhdGEuZmlyc3ROYW1lLAogICAgICAgICAgICAgICAgICBsYXN0TmFtZTogX3RoaXMyLmNsaWVudERhdGEubGFzdE5hbWUsCiAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBfdGhpczIuY2xpZW50RGF0YS5sYW5ndWFnZSwKICAgICAgICAgICAgICAgICAgc3RhdHVzOiBfdGhpczIuY2xpZW50RGF0YS5zdGF0dXMsCiAgICAgICAgICAgICAgICAgIGxlYWRUeXBlOiBfdGhpczIuY2xpZW50RGF0YS5sZWFkVHlwZSwKICAgICAgICAgICAgICAgICAgZ2VuZGVyOiBfdGhpczIuY2xpZW50RGF0YS5nZW5kZXIsCiAgICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiBfdGhpczIuY2xpZW50RGF0YS5waG9uZU51bWJlciwKICAgICAgICAgICAgICAgICAgZGVwYXJ0bWVudElEOiBfdGhpczIuY2xpZW50RGF0YS5kZXBhcnRtZW50SUQsCiAgICAgICAgICAgICAgICAgIHN0YXRlOiBfdGhpczIuY2xpZW50RGF0YS5zdGF0ZSwKICAgICAgICAgICAgICAgICAgYmlydGhEYXRlOiBfdGhpczIuZm9ybWF0RGF0ZShfdGhpczIuY2xpZW50RGF0YS5iaXJ0aGRheSwgJ0REIE1NTSwgWVlZWScpLAogICAgICAgICAgICAgICAgICBhZGRyZXNzOiBfdGhpczIuY2xpZW50RGF0YS5hZGRyZXNzLAogICAgICAgICAgICAgICAgICBjb3VudHJ5OiBfdGhpczIuY2xpZW50RGF0YS5jb3VudHJ5LAogICAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBfdGhpczIuY2xpZW50RGF0YS5wb3N0YWxDb2RlLAogICAgICAgICAgICAgICAgICBpbnRlcnZpZXdEYXRlOiBfdGhpczIuY2xpZW50RGF0YS5pbnRlcnZpZXcsCiAgICAgICAgICAgICAgICAgIGNyZWF0ZWRCeTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgICAgICAgIGxpY2Vuc2VOdW1iZXI6IF90aGlzMi5jbGllbnREYXRhLmxpY2Vuc2VOdW1iZXIsCiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgICAgICAgIGNsaWVudElEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2VsZWN0ZWRVc2VyJykKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnB1dCgnL2FwaS9jbGllbnQvdXBkYXRlQ2xpZW50JywgZGF0YSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2UtbW9kYWwnKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0NsaWVudCB1cGRhdGUgc3VjY2Vzc2Z1bGx5IScKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjogIikuY29uY2F0KGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjaGVjayB0aGUgZm9sbG93aW5nOiAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBfdGhpczIuZXJyb3JzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgX3RoaXMyLmVycm9yc1tpXSArICc8L2I+JzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNvbXBsZXRlIHRoZSBmb3JtISAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjcmVhdGVDbGllbnQ6IGZ1bmN0aW9uIGNyZWF0ZUNsaWVudCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgYmVuZWZpY2lhcmllcywgZW1lcmdlbmN5Q29udGFjdHMsIGFkZGVkQ2hpbGRzLCBub3RlLCBmb3JtVmFsdWVzLCB2YWx1ZXMsIGRhdGEsIGxpc3QsIGk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMgPSBbXTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMy5jbGllbnREYXRhLmZpcnN0TmFtZSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ0ZpcnN0IE5hbWUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczMuY2xpZW50RGF0YS5sYXN0TmFtZSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ0xhc3QgTmFtZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMy5jbGllbnREYXRhLnN0YXR1cykgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ1N0YXR1cyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMy5jbGllbnREYXRhLnBob25lTnVtYmVyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnUGhvbmUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMy52YWxpZFBob25lKF90aGlzMy5jbGllbnREYXRhLnBob25lKSA9PT0gZmFsc2UgJiYgX3RoaXMzLmNsaWVudERhdGEucGhvbmUgPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnUGxlYXNlLCB3cml0ZSBhIHZhbGlkIHBob25lIG51bWJlciEnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMy5jbGllbnREYXRhLmRlcGFydG1lbnRJRCkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ0RlcGFydG1lbnQgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMy5jbGllbnREYXRhLnR5cGUgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnTGVhZC9DbGllbnQgVHlwZSBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzMy5jbGllbnREYXRhKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLmNsaWVudERhdGEuZ2VuZGVyICE9PSAnTScgJiYgX3RoaXMzLmNsaWVudERhdGEuZ2VuZGVyICE9PSAnRicpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmVycm9ycy5wdXNoKCdHZW5kZXIgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMy5jbGllbnREYXRhLmxhbmd1YWdlICE9PSAnMScgJiYgX3RoaXMzLmNsaWVudERhdGEubGFuZ3VhZ2UgIT09ICcyJykgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ0xhbmd1YWdlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczMuY2xpZW50RGF0YS5sZWFkVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmVycm9ycy5wdXNoKCdMZWFkL2NsaWVudCBUeXBlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczMuZXJyb3JzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBiZW5lZmljaWFyaWVzID0gX3RoaXMzLmdldEJlbmZpY2lhcmllcygpOwogICAgICAgICAgICAgICAgZW1lcmdlbmN5Q29udGFjdHMgPSBfdGhpczMuZ2V0RW1lcmdlbmN5KCk7CiAgICAgICAgICAgICAgICBhZGRlZENoaWxkcyA9IF90aGlzMy5nZXRBZGRlZENoaWxkcygpOwogICAgICAgICAgICAgICAgbm90ZSA9IHsKICAgICAgICAgICAgICAgICAgJ25vdGUnOiBfdGhpczMuY2xpZW50RGF0YS5ub3RlCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgZm9ybVZhbHVlcyA9IHsKICAgICAgICAgICAgICAgICAgJ2FkZHJlc3MnOiBfdGhpczMuY2xpZW50RGF0YS5hZGRyZXNzLAogICAgICAgICAgICAgICAgICAnYmlydGhkYXknOiBfdGhpczMuY2xpZW50RGF0YS5iaXJ0aGRheSwKICAgICAgICAgICAgICAgICAgJ2NpdHknOiBfdGhpczMuY2xpZW50RGF0YS5jaXR5LAogICAgICAgICAgICAgICAgICAnY291bnRyeSc6IF90aGlzMy5jbGllbnREYXRhLmNvdW50cnksCiAgICAgICAgICAgICAgICAgICdkZXBhcnRtZW50JzogX3RoaXMzLmNsaWVudERhdGEuZGVwYXJ0bWVudElELAogICAgICAgICAgICAgICAgICAnZW1haWwnOiBfdGhpczMuY2xpZW50RGF0YS5lbWFpbCwKICAgICAgICAgICAgICAgICAgJ2ZpcnN0TmFtZSc6IF90aGlzMy5jbGllbnREYXRhLmZpcnN0TmFtZSwKICAgICAgICAgICAgICAgICAgJ2ludGVydmlldyc6IF90aGlzMy5jbGllbnREYXRhLmludGVydmlldywKICAgICAgICAgICAgICAgICAgJ2xhbmd1YWdlJzogX3RoaXMzLmNsaWVudERhdGEubGFuZ3VhZ2UsCiAgICAgICAgICAgICAgICAgICdsYXN0TmFtZSc6IF90aGlzMy5jbGllbnREYXRhLmxhc3ROYW1lLAogICAgICAgICAgICAgICAgICAnbGVhZFR5cGUnOiBfdGhpczMuY2xpZW50RGF0YS5sZWFkVHlwZSwKICAgICAgICAgICAgICAgICAgJ25vdGUnOiBfdGhpczMuY2xpZW50RGF0YS5ub3RlLAogICAgICAgICAgICAgICAgICAncGhvbmVOdW1iZXInOiBfdGhpczMuY2xpZW50RGF0YS5waG9uZU51bWJlciwKICAgICAgICAgICAgICAgICAgJ3Bvc3RhbENvZGUnOiBfdGhpczMuY2xpZW50RGF0YS5wb3N0YWxDb2RlLAogICAgICAgICAgICAgICAgICAnc3RhdGUnOiBfdGhpczMuY2xpZW50RGF0YS5zdGF0ZSwKICAgICAgICAgICAgICAgICAgJ3N0YXR1cyc6IF90aGlzMy5jbGllbnREYXRhLnN0YXR1cywKICAgICAgICAgICAgICAgICAgJ2xlbmd0aCc6IF90aGlzMy5jbGllbnREYXRhLmxlbmd0aCwKICAgICAgICAgICAgICAgICAgJ2dlbmRlcic6IF90aGlzMy5jbGllbnREYXRhLmdlbmRlcgogICAgICAgICAgICAgICAgfTsgLy8gbGV0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkZm9ybSIpOwogICAgICAgICAgICAgICAgLy8gZm9yICh2YXIgaSA9IDA7IGkgPCBmb3JtLmVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAvLyAgIGxldCBlID0gZm9ybS5lbGVtZW50c1tpXTsKICAgICAgICAgICAgICAgIC8vCiAgICAgICAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKGUpCiAgICAgICAgICAgICAgICAvLyBpZihlLm5hbWUgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAvLyAgIGZvcm1WYWx1ZXNbZS5uYW1lXSA9IGUudmFsdWU7CiAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAvLyBmb3JtVmFsdWVzWydlZGl0R2VuZGVyJ10gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFt0eXBlPSdyYWRpbyddW25hbWU9ZWRpdEdlbmRlcl06Y2hlY2tlZCIpLnZhbHVlOwogICAgICAgICAgICAgICAgLy8KICAgICAgICAgICAgICAgIC8vIGlmKHRoaXMuaXNDbGllbnRMaXN0KXsKICAgICAgICAgICAgICAgIC8vICAgZm9ybVZhbHVlc1snZWRpdFR5cGUnXSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNlZGl0VHlwZSIpLnZhbHVlOwogICAgICAgICAgICAgICAgLy8gfWVsc2V7CiAgICAgICAgICAgICAgICAvLyAgIGZvcm1WYWx1ZXNbJ2VkaXRUeXBlJ10gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjZWRpdFR5cGUxIikudmFsdWU7CiAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAvLyB9CgogICAgICAgICAgICAgICAgdmFsdWVzID0gewogICAgICAgICAgICAgICAgICAwOiB7CiAgICAgICAgICAgICAgICAgICAgZm9ybVZhbHVlczogZm9ybVZhbHVlcywKICAgICAgICAgICAgICAgICAgICBiZW5lZmljaWFyaWVzOiBiZW5lZmljaWFyaWVzLAogICAgICAgICAgICAgICAgICAgIGVtZXJnZW5jeUNvbnRhY3RzOiBlbWVyZ2VuY3lDb250YWN0cywKICAgICAgICAgICAgICAgICAgICBhZGRlZENoaWxkczogYWRkZWRDaGlsZHMsCiAgICAgICAgICAgICAgICAgICAgbm90ZTogbm90ZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgY2xpZW50c0luZm86IHZhbHVlcywKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgaXNQcm9zcGVjdDogMCwKICAgICAgICAgICAgICAgICAgdG90YWxDbGllbnRzOiAxCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2NsaWVudC9jcmVhdGVDbGllbnRMaXN0JywgZGF0YSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNShyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZS5kYXRhWydJRCddICE9PSBudWxsKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZW1vZGFsJykuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRmb3JtIikucmVzZXQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdDbGllbnQgY3JlYXRlZCBzdWNjZXNzZnVsbHkhJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gzKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpLmNhdGNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QsIHByb3BlcnR5OwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNoZWNrIHRoZSBmb2xsb3dpbmc6ICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDI3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IF90aGlzMy5lcnJvcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBfdGhpczMuZXJyb3JzW2ldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY29tcGxldGUgdGhlIGZvcm0hICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGRlbGV0ZUFnZW50OiBmdW5jdGlvbiBkZWxldGVBZ2VudCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICB1c2VyTmFtZTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZpcnN0TmFtZScpICsgJyAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhc3RuYW1lJyksCiAgICAgICAgICAgICAgICAgIHVzZXJFbWFpbDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgICAgICAgIGFnZW50SUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWxlY3RlZFVzZXInKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRG8geW91IHdhbnQgdG8gPGI+RGVsZXRlPC9iPiB0aGlzIGFnZW50PycsCiAgICAgICAgICAgICAgICAgIHNob3dEZW55QnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ1llcycsCiAgICAgICAgICAgICAgICAgIGRlbnlCdXR0b25UZXh0OiAiTm8iCiAgICAgICAgICAgICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0LmlzQ29uZmlybWVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucHV0KCcvYXBpL2RlbGV0ZVVzZXInLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlZjYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKCdBZ2VudCB1cGRhdGUgc3VjY2Vzc2Z1bGx5IScsICcnLCAnc3VjY2VzcycpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSgpKS5jYXRjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9yZWY3ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOShlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaXN0LCBwcm9wZXJ0eTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjogIikuY29uY2F0KGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjaGVjayB0aGUgZm9sbG93aW5nOiAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g3KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY3LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0LmlzRGVuaWVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKCdBZ2VudCB3YXNuXCd0IHVwZGF0ZWQhJywgJycsICdpbmZvJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0RGVwYXJ0bWVudHM6IGZ1bmN0aW9uIGdldERlcGFydG1lbnRzKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9nZXREZXBhcnRtZW50cycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0VXNlckluZm86IGZ1bmN0aW9uIGdldFVzZXJJbmZvKGlkKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKCkgewogICAgICAgIHZhciBkYXRhLCBhZ2VudEluZm87CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC1idG4nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtYnRuJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZ2VudE1vZGFsTGFiZWwnKS5pbm5lckhUTUwgPSAiRWRpdCBBZ2VudCI7CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICBJRDogaWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvZ2V0VXNlcicsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGFnZW50SW5mbyA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICAgICAgICBfdGhpczYuc2V0QWdlbnREYXRhKGFnZW50SW5mbyk7CgogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQnKS52YWx1ZSA9IGFnZW50SW5mby5JRDsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRFbWFpbCcpLnZhbHVlID0gYWdlbnRJbmZvLmVtYWlsOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEZpcnN0TmFtZScpLnZhbHVlID0gYWdlbnRJbmZvLmZpcnN0TmFtZTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYXN0TmFtZScpLnZhbHVlID0gYWdlbnRJbmZvLmxhc3ROYW1lOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExhbmd1YWdlJykudmFsdWUgPSBhZ2VudEluZm8ubGFuZ3VhZ2U7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdHVzJykudmFsdWUgPSBhZ2VudEluZm8uc3RhdHVzOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBob25lTnVtYmVyJykudmFsdWUgPSBhZ2VudEluZm8ucGhvbmVOdW1iZXI7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RGVwYXJ0bWVudCcpLnZhbHVlID0gYWdlbnRJbmZvLmRlcGFydG1lbnRJRDsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRCaXJ0aERhdGUnKS52YWx1ZSA9IGFnZW50SW5mby5kYXRlT2ZCaXJ0aDsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRBZGRyZXNzJykudmFsdWUgPSBhZ2VudEluZm8uYWRkcmVzczsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0ZScpLnZhbHVlID0gYWdlbnRJbmZvLnN0YXRlOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdENvdW50cnknKS52YWx1ZSA9IGFnZW50SW5mby5jb3VudHJ5OwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBvc3RhbENvZGUnKS52YWx1ZSA9IGFnZW50SW5mby5wb3N0YWxDb2RlOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEFnZW50TnVtYmVyJykudmFsdWUgPSBhZ2VudEluZm8uYWdlbnROdW1iZXI7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Q3JlYXRlZEJ5JykudmFsdWUgPSBhZ2VudEluZm8uY3JlYXRlZEJ5OwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExpY2Vuc2VkJykudmFsdWUgPSBhZ2VudEluZm8uaXNMaWNlbnNlZDsgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRJbnRlcnZpZXcnKS52YWx1ZT1hZ2VudEluZm8uaW50ZXJ2aWV3RGF0ZTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0Q2xpZW50SW5mbzogZnVuY3Rpb24gZ2V0Q2xpZW50SW5mbyhpZCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHsKICAgICAgICB2YXIgZGF0YSwgY2xpZW50SW5mbzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNy5vcGVuQ3JlYXRlID0gMDsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWJ0bicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC1idG4nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FnZW50TW9kYWxMYWJlbCcpLmlubmVySFRNTCA9ICJFZGl0IENsaWVudCI7CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICBJRDogaWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY2xpZW50L2dldENsaWVudCcsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGNsaWVudEluZm8gPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICAgICAgX3RoaXM3LnNldENsaWVudERhdGEocmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc2VsZWN0ZWRVc2VyJywgY2xpZW50SW5mby5JRCk7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzZWxlY3RlZFVzZXJOYW1lJywgY2xpZW50SW5mby5maXJzdE5hbWUgKyAnICcgKyBjbGllbnRJbmZvLmxhc3ROYW1lKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdXBkYXRlQ2xpZW50TGlzdDogZnVuY3Rpb24gdXBkYXRlQ2xpZW50TGlzdCgpIHsKICAgICAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHMsCiAgICAgICAgICBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KCkgewogICAgICAgIHZhciBzdGF0dXMsIHZhbGlkYXRlLCBlcnJvcnMsIGZpbHRlckxhbmd1YWdlLCBmaWx0ZXJLZXl3b3JkLCBmaWx0ZXJUeXBlLCBmaWx0ZXJOb3RlcywgZmlsdGVyRnJvbURhdGUsIGZpbHRlclRvRGF0ZSwgc3RhcnQsIGVuZCwgZGF5cywgZGF0YSwgbGlzdCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXR1cyA9IF9hcmd1bWVudHMubGVuZ3RoID4gMCAmJiBfYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzWzBdIDogMDsKICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGVycm9ycyA9IFtdOwogICAgICAgICAgICAgICAgZmlsdGVyTGFuZ3VhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyTGFuZ3VhZ2UiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlcktleXdvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyS2V5d29yZCIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyVHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJUeXBlIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJOb3RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJOb3RlcyIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyRnJvbURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyRnJvbURhdGUiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlclRvRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJUb0RhdGUiKS52YWx1ZTsKICAgICAgICAgICAgICAgIF90aGlzOC5kYXRhLnNlYXJjaFZhbHVlcy5zdGF0dXMgPSBzdGF0dXM7CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlckxhbmd1YWdlICE9PSAnJyAmJiAoZmlsdGVyTGFuZ3VhZ2UgPT09ICcxJyB8fCBmaWx0ZXJMYW5ndWFnZSA9PT0gJzInKSkgewogICAgICAgICAgICAgICAgICBfdGhpczguZGF0YS5zZWFyY2hWYWx1ZXMubGFuZ3VhZ2UgPSBmaWx0ZXJMYW5ndWFnZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyS2V5d29yZCAhPT0gJycgJiYgZmlsdGVyS2V5d29yZC5sZW5ndGggPj0gMykgewogICAgICAgICAgICAgICAgICBfdGhpczguZGF0YS5zZWFyY2hWYWx1ZXMua2V5d29yZCA9IGZpbHRlcktleXdvcmQ7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlcktleXdvcmQgIT09ICcnICYmIGZpbHRlcktleXdvcmQubGVuZ3RoIDwgMykgewogICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCgnS2V5d29yZCBzZWFyY2ggc2hvdWxkIGhhdmUgMyBvciBtb3JlIGNoYXJhY3RlcnMhJyk7CiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlclR5cGUgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOC5kYXRhLnNlYXJjaFZhbHVlcy50eXBlID0gZmlsdGVyVHlwZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyTm90ZXMgIT09ICcnICYmIGZpbHRlck5vdGVzLmxlbmd0aCA+PSAzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOC5kYXRhLnNlYXJjaFZhbHVlcy5ub3RlU2VhcmNoID0gZmlsdGVyTm90ZXM7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlck5vdGVzICE9PSAnJyAmJiBmaWx0ZXJOb3Rlcy5sZW5ndGggPCAzKSB7CiAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCdOb3RlcyBzZWFyY2ggc2hvdWxkIGhhdmUgMyBvciBtb3JlIGNoYXJhY3RlcnMhJyk7CiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc3RhcnQgPSBtb21lbnQoX3RoaXM4LmZvcm1hdERhdGUoZmlsdGVyRnJvbURhdGUsICdZWVlZLU1NLUREJykpOwogICAgICAgICAgICAgICAgZW5kID0gbW9tZW50KF90aGlzOC5mb3JtYXREYXRlKGZpbHRlclRvRGF0ZSwgJ1lZWVktTU0tREQnKSk7CiAgICAgICAgICAgICAgICBkYXlzID0gZW5kLmRpZmYoc3RhcnQsICJkYXlzIik7CgogICAgICAgICAgICAgICAgaWYgKGRheXMgPD0gMzY1KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOC5kYXRhLnNlYXJjaFZhbHVlcy5mcm9tRGF0ZSA9IGZpbHRlckZyb21EYXRlOwogICAgICAgICAgICAgICAgICBfdGhpczguZGF0YS5zZWFyY2hWYWx1ZXMudG9EYXRlID0gZmlsdGVyVG9EYXRlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goIkZyb20gRGF0ZSBhbmQgVG8gRGF0ZSAocmFuZ2UpIGNvdWxkbid0IGJlIGxhcmdlciB0aGFuIGEgeWVhciAoMzY1IGRheXMpISIpOwogICAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIGlzUHJvc3BlY3Q6IDAsCiAgICAgICAgICAgICAgICAgIHNlYXJjaFZhbHVlczogX3RoaXM4LmRhdGEuc2VhcmNoVmFsdWVzLAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICBkZWxldGVkOiAwCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY2xpZW50L2xpc3RDbGllbnRzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM4Lmxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgICBfdGhpczgucGFnZSA9IDE7CgogICAgICAgICAgICAgICAgICBfdGhpczguc2V0UGFnZXMoKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczguJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAvKiBlbHNlIGlmIChlcnJvci5tZXNzYWdlKSB7DQogICAgICAgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpDQogICAgICAgICAgICAgICAgICB9Ki8KCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGVycm9ycy5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgICAgICAgICAgICBsaXN0ICs9IGVycm9yc1tpXSArICcgXG4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSgiIiArIGxpc3QsICcnLCAnaW5mbycpOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB2YWxpZEVtYWlsOiBmdW5jdGlvbiB2YWxpZEVtYWlsKGVtYWlsKSB7CiAgICAgIHZhciByZSA9IC9eKChbXjw+KClbXF1cXC4sOzpcc0AiXSsoXC5bXjw+KClbXF1cXC4sOzpcc0AiXSspKil8KCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVxdKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsfSkpJC87CiAgICAgIHJldHVybiByZS50ZXN0KGVtYWlsLnRyaW0oKSk7CiAgICB9LAogICAgdmFsaWRQaG9uZTogZnVuY3Rpb24gdmFsaWRQaG9uZShwaG9uZSkgewogICAgICB2YXIgaXNwaG9uZSA9IC9eKFwrezAsfSkoXGR7MCx9KShbKF17MX1cZHsxLDN9WyldezAsfSl7MCx9KFxzP1xkK3xcK1xkezIsM31cc3sxfVxkK3xcZCspezF9W1xzfC1dP1xkKyhbXHN8LV0/XGQrKXsxLDJ9KFxzKXswLH0kL2dtLnRlc3QocGhvbmUpOwogICAgICByZXR1cm4gaXNwaG9uZTsKICAgIH0sCiAgICBmb3JtYXREYXRlOiBmdW5jdGlvbiBmb3JtYXREYXRlKGRhdGUsIGZvcm1hdCkgewogICAgICBkYXRlID0gbW9tZW50KGRhdGUpLmZvcm1hdChmb3JtYXQpOwogICAgICByZXR1cm4gZGF0ZTsKICAgIH0sCiAgICBmb3JtYXRQaG9uZTogZnVuY3Rpb24gZm9ybWF0UGhvbmUocGhvbmUpIHsKICAgICAgdmFyIGZsYWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7CiAgICAgIC8vIGlmIGZsYWcgPT0gMSBwdXQgdmFsdWUgaW4gcGhvbmUgRWRpdAogICAgICBwaG9uZSA9IHBob25lLnJlcGxhY2UoL1xEL2csICcnKTsKCiAgICAgIGlmIChwaG9uZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaWYgKHBob25lLmxlbmd0aCA+IDEwKSB7CiAgICAgICAgICBwaG9uZSA9IHBob25lLnN1YnN0cmluZygxKTsKICAgICAgICB9CgogICAgICAgIHZhciB4ID0gcGhvbmUubWF0Y2goLyhcZHswLDN9KShcZHswLDN9KShcZHswLDR9KS8pOwogICAgICAgIHBob25lID0gIXhbMl0gPyB4WzFdIDogJygnICsgeFsxXSArICcpICcgKyB4WzJdICsgKHhbM10gPyAnLScgKyB4WzNdIDogJycpOwogICAgICB9IGVsc2UgewogICAgICAgIHBob25lID0gJyc7CiAgICAgIH0KCiAgICAgIGlmIChmbGFnICE9PSAxKSB7CiAgICAgICAgcmV0dXJuIHBob25lOwogICAgICB9IGVsc2UgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UGhvbmVOdW1iZXInKS52YWx1ZSA9IHBob25lOwogICAgICB9CiAgICB9LAogICAgc2V0QWdlbnREYXRhOiBmdW5jdGlvbiBzZXRBZ2VudERhdGEoZGF0YSkgewogICAgICB0aGlzLmFnZW50RGF0YS5lbWFpbCA9IGRhdGEuZW1haWw7CiAgICAgIHRoaXMuYWdlbnREYXRhLmZpcnN0TmFtZSA9IGRhdGEuZmlyc3ROYW1lOwogICAgICB0aGlzLmFnZW50RGF0YS5sYXN0TmFtZSA9IGRhdGEubGFzdE5hbWU7CiAgICAgIHRoaXMuYWdlbnREYXRhLmxhbmd1YWdlID0gZGF0YS5sYW5ndWFnZTsKICAgICAgdGhpcy5hZ2VudERhdGEuc3RhdHVzID0gZGF0YS5zdGF0dXM7CiAgICAgIHRoaXMuYWdlbnREYXRhLnBob25lID0gZGF0YS5waG9uZU51bWJlcjsKICAgICAgdGhpcy5hZ2VudERhdGEuZGVwYXJ0bWVudCA9IGRhdGEuZGVwYXJ0bWVudElEOwogICAgICB0aGlzLmFnZW50RGF0YS5iaXJ0aERhdGUgPSB0aGlzLmZvcm1hdERhdGUoZGF0YS5kYXRlT2ZCaXJ0aCwgJ0REIE1NLCBZWVlZJyk7CiAgICAgIHRoaXMuYWdlbnREYXRhLmludGVydmlldyA9IHRoaXMuZm9ybWF0RGF0ZShkYXRhLmludGVydmlld0RhdGUsICdtLWQteSBIOmkgSycpOwogICAgICB0aGlzLmFnZW50RGF0YS5hZGRyZXNzID0gZGF0YS5hZGRyZXNzOwogICAgICB0aGlzLmFnZW50RGF0YS5zdGF0ZSA9IGRhdGEuc3RhdGU7CiAgICAgIHRoaXMuYWdlbnREYXRhLmNvdW50cnkgPSBkYXRhLmNvdW50cnk7CiAgICAgIHRoaXMuYWdlbnREYXRhLnppcENvZGUgPSBkYXRhLnBvc3RhbENvZGU7CiAgICAgIHRoaXMuYWdlbnREYXRhLmFnZW50TnVtYmVyID0gZGF0YS5hZ2VudE51bWJlcjsKICAgICAgdGhpcy5hZ2VudERhdGEuY3JlYXRlZEJ5ID0gZGF0YS5jcmVhdGVkQnk7CiAgICAgIHRoaXMuYWdlbnREYXRhLmluc3VyYW5jZUxpY2Vuc2UgPSBkYXRhLmlzTGljZW5zZWQ7CiAgICB9LAogICAgcmVzZXRBZ2VudERhdGE6IGZ1bmN0aW9uIHJlc2V0QWdlbnREYXRhKCkgewogICAgICB0aGlzLmFnZW50RGF0YSA9IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIGZpcnN0TmFtZTogJycsCiAgICAgICAgbGFzdE5hbWU6ICcnLAogICAgICAgIGxhbmd1YWdlOiAnJywKICAgICAgICBzdGF0dXM6ICcnLAogICAgICAgIHBob25lOiAnJywKICAgICAgICBkZXBhcnRtZW50OiAnJywKICAgICAgICBzdGF0ZTogJycsCiAgICAgICAgYmlydGhEYXRlOiAnJywKICAgICAgICBhZGRyZXNzOiAnJywKICAgICAgICBjb3VudHJ5OiAnJywKICAgICAgICB6aXBDb2RlOiAnJywKICAgICAgICBpbnRlcnZpZXc6ICcnLAogICAgICAgIGFnZW50TnVtYmVyOiAnJywKICAgICAgICBjcmVhdGVkQnk6ICcnLAogICAgICAgIGluc3VyYW5jZUxpY2Vuc2U6ICcnLAogICAgICAgIGxpY2Vuc2VOdW1iZXI6ICcnCiAgICAgIH07CiAgICB9LAogICAgc2V0UGFnZXM6IGZ1bmN0aW9uIHNldFBhZ2VzKCkgewogICAgICB2YXIgbnVtYmVyT2ZQYWdlcyA9IE1hdGguY2VpbCh0aGlzLmxpc3QubGVuZ3RoIC8gdGhpcy5wZXJQYWdlKTsKICAgICAgdGhpcy5wYWdlcyA9IFtdOwoKICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8PSBudW1iZXJPZlBhZ2VzOyBpbmRleCsrKSB7CiAgICAgICAgdGhpcy5wYWdlcy5wdXNoKGluZGV4KTsKICAgICAgfQogICAgfSwKICAgIHBhZ2luYXRlOiBmdW5jdGlvbiBwYWdpbmF0ZShjb21wYW5pZXMpIHsKICAgICAgdmFyIHBhZ2UgPSB0aGlzLnBhZ2U7CiAgICAgIHZhciBwZXJQYWdlID0gdGhpcy5wZXJQYWdlOwogICAgICB2YXIgZnJvbSA9IHBhZ2UgKiBwZXJQYWdlIC0gcGVyUGFnZTsKICAgICAgdmFyIHRvID0gcGFnZSAqIHBlclBhZ2U7CiAgICAgIHJldHVybiBjb21wYW5pZXMuc2xpY2UoZnJvbSwgdG8pOwogICAgfSwKICAgIGFkZEJlbmVmaWNpYXJ5OiBmdW5jdGlvbiBhZGRCZW5lZmljaWFyeSgpIHsKICAgICAgdmFyIGJlbkxpc3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdOwogICAgICB0aGlzLmJlbmVmaWNpYXJ5UXR5ID0gdGhpcy5iZW5lZmljaWFyeVF0eSArIDE7CiAgICAgIHZhciBpID0gdGhpcy5iZW5lZmljaWFyeVF0eTsKICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRCZW5lZmljaWFyeScpOwogICAgICB2YXIgc2VwYXJhdG9yID0gJyc7CiAgICAgIHZhciBjaGVja0lERXhpc3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJlbkZpcnN0TmFtZS0xIik7CiAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgogICAgICBpZiAoYmVuTGlzdC5sZW5ndGggPD0gMCkgewogICAgICAgIGJlbkxpc3QucHVzaChiZW5MaXN0WydmaXJzdE5hbWUnXSA9ICcnLCBiZW5MaXN0WydsYXN0TmFtZSddID0gJycsIGJlbkxpc3RbJ2FkZHJlc3MnXSA9ICcnLCBiZW5MaXN0WydwaG9uZU51bWJlciddID0gJycsIGJlbkxpc3RbJ3N0YXRlJ10gPSAnJywgYmVuTGlzdFsncG9zdGFsQ29kZSddID0gJycsIGJlbkxpc3RbJ3JlbGF0aW9uc2hpcCddID0gJycsIGJlbkxpc3RbJ2FnZSddID0gJycpOwogICAgICB9CgogICAgICBpZiAoY2hlY2tJREV4aXN0cykgewogICAgICAgIHNlcGFyYXRvciA9ICc8aHIgc3R5bGU9ImJvcmRlci10b3A6IDFweCBzb2xpZCAjMmM5YTJhOyI+JzsKICAgICAgfQoKICAgICAgZWxlbWVudC5pbm5lckhUTUwgKz0gJzxkaXYgY2xhc3M9InJvdyIgaWQ9InJvd0JlbicgKyBpICsgJyI+XG4nICsgc2VwYXJhdG9yICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iYmVuRmlyc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPkZpcnN0IE5hbWU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJiZW5GaXJzdE5hbWUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBGaXJzdCBOYW1lIiBuYW1lPSJiZW5GaXJzdE5hbWVbXSIgcmVxdWlyZWQgdmFsdWU9IicgKyBiZW5MaXN0WydmaXJzdE5hbWUnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImJlbkxhc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPkxhc3QgTmFtZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImJlbkxhc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgTGFzdCBOYW1lIiAgbmFtZT0iYmVuTGFzdE5hbWVbXSIgcmVxdWlyZWQgdmFsdWU9IicgKyBiZW5MaXN0WydsYXN0TmFtZSddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iYmVuQWRkcmVzcy0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5BZGRyZXNzPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iYmVuQWRkcmVzcy0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIEFkZHJlc3MiICBuYW1lPSJiZW5BZGRyZXNzW10iIHJlcXVpcmVkIHZhbHVlPSInICsgYmVuTGlzdFsnYWRkcmVzcyddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iYmVuUGhvbmUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+UGhvbmU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJiZW5QaG9uZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIFBob25lIiAgbmFtZT0iYmVuUGhvbmVbXSIgcmVxdWlyZWQgdmFsdWU9IicgKyBiZW5MaXN0WydwaG9uZU51bWJlciddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iYmVuU3RhdGUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+U3RhdGU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJiZW5TdGF0ZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIFN0YXRlIiAgbmFtZT0iYmVuU3RhdGVbXSIgIHJlcXVpcmVkIHZhbHVlPSInICsgYmVuTGlzdFsnc3RhdGUnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImJlblBvc3RhbENvZGUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+UG9zdGFsIENvZGU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJiZW5Qb3N0YWxDb2RlLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgUG9zdGFsIENvZGUiICBuYW1lPSJiZW5Qb3N0YWxDb2RlW10iIHJlcXVpcmVkIHZhbHVlPSInICsgYmVuTGlzdFsncG9zdGFsQ29kZSddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iYmVuUmVsYXRpb24tJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+UmVsYXRpb25zaGlwPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iYmVuUmVsYXRpb24tJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBSZWxhdGlvbnNoaXAiICBuYW1lPSJiZW5SZWxhdGlvbltdIiAgcmVxdWlyZWQgdmFsdWU9IicgKyBiZW5MaXN0WydyZWxhdGlvbnNoaXAnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImJlbkFnZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5BZ2U8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJiZW5BZ2UtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBBZ2UiICBuYW1lPSJiZW5BZ2VbXSIgcmVxdWlyZWQgdmFsdWU9IicgKyBiZW5MaXN0WydhZ2UnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgPGRpdiBjbGFzcz0iY29sLW1kLTYiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOyI+XG4nICsgJyA8L2Rpdj5cbicgKyAnIDxkaXYgY2xhc3M9ImNvbC1tZC02IiBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsiPlxuJyArICcgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSInICsgaSArICciIGNsYXNzPSJidG4gYnRuLWRhbmdlciByZW1vdmVJdGVtQmVuIiB0aXRsZT0iRGVsZXRlIj48aSBjbGFzcz0icmktY2xvc2UtY2lyY2xlLWxpbmUiPjwvaT48L2J1dHRvbj5cbicgKyAnIDwvZGl2PlxuJyArICc8L2Rpdj4nOwogICAgICBkaXYuYXBwZW5kQ2hpbGQoZWxlbWVudCk7CiAgICB9LAogICAgYWRkRWNvbnRhY3Q6IGZ1bmN0aW9uIGFkZEVjb250YWN0KCkgewogICAgICB2YXIgZUNvbnRhY3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdOwogICAgICB0aGlzLmVDb250YWN0UXR5ID0gdGhpcy5lQ29udGFjdFF0eSArIDE7CiAgICAgIHZhciBpID0gdGhpcy5lQ29udGFjdFF0eTsKICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRFY29udGFjdCcpOwogICAgICB2YXIgc2VwYXJhdG9yID0gJyc7CiAgICAgIHZhciBjaGVja0lERXhpc3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVDb25GaXJzdE5hbWUtMSIpOwogICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoKICAgICAgaWYgKGVDb250YWN0Lmxlbmd0aCA8PSAwKSB7CiAgICAgICAgZUNvbnRhY3QucHVzaChlQ29udGFjdFsnZmlyc3ROYW1lJ10gPSAnJywgZUNvbnRhY3RbJ2xhc3ROYW1lJ10gPSAnJywgZUNvbnRhY3RbJ2FkZHJlc3MnXSA9ICcnLCBlQ29udGFjdFsncGhvbmVOdW1iZXInXSA9ICcnLCBlQ29udGFjdFsnc3RhdGUnXSA9ICcnLCBlQ29udGFjdFsncG9zdGFsQ29kZSddID0gJycsIGVDb250YWN0WydyZWxhdGlvbnNoaXAnXSA9ICcnLCBlQ29udGFjdFsnYWdlJ10gPSAnJyk7CiAgICAgIH0KCiAgICAgIGlmIChjaGVja0lERXhpc3RzKSB7CiAgICAgICAgc2VwYXJhdG9yID0gJzxociBzdHlsZT0iYm9yZGVyLXRvcDogMXB4IHNvbGlkICMyYzlhMmE7Ij4nOwogICAgICB9CgogICAgICBlbGVtZW50LmlubmVySFRNTCArPSBzZXBhcmF0b3IgKyAnPGRpdiBjbGFzcz0icm93IiBpZD0icm93RWNvbicgKyBpICsgJyI+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iZUNvbkZpcnN0TmFtZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5GaXJzdCBOYW1lPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZUNvbkZpcnN0TmFtZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIEZpcnN0IE5hbWUiIG5hbWU9ImVDb25GaXJzdE5hbWVbXSIgcmVxdWlyZWQgdmFsdWU9IicgKyBlQ29udGFjdFsnZmlyc3ROYW1lJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJlQ29uTGFzdE5hbWUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+TGFzdCBOYW1lPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZUNvbkxhc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgTGFzdCBOYW1lIiAgbmFtZT0iZUNvbkxhc3ROYW1lW10iIHJlcXVpcmVkICB2YWx1ZT0iJyArIGVDb250YWN0WydsYXN0TmFtZSddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iZUNvbkFkZHJlc3MtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+QWRkcmVzczwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImVDb25BZGRyZXNzLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgQWRkcmVzcyIgIG5hbWU9ImVDb25BZGRyZXNzW10iIHJlcXVpcmVkICB2YWx1ZT0iJyArIGVDb250YWN0WydhZGRyZXNzJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJlQ29uUGhvbmUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+UGhvbmU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJlQ29uUGhvbmUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBQaG9uZSIgIG5hbWU9ImVDb25QaG9uZVtdIiByZXF1aXJlZCAgdmFsdWU9IicgKyBlQ29udGFjdFsncGhvbmVOdW1iZXInXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImVDb25TdGF0ZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5TdGF0ZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImVDb25TdGF0ZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIFN0YXRlIiAgbmFtZT0iZUNvblN0YXRlW10iICByZXF1aXJlZCAgdmFsdWU9IicgKyBlQ29udGFjdFsnc3RhdGUnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImVDb25Qb3N0YWxDb2RlLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPlBvc3RhbCBDb2RlPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZUNvblBvc3RhbENvZGUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBQb3N0YWwgQ29kZSIgIG5hbWU9ImVDb25Qb3N0YWxDb2RlW10iIHJlcXVpcmVkICB2YWx1ZT0iJyArIGVDb250YWN0Wydwb3N0YWxDb2RlJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJlQ29uUmVsYXRpb24tJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+UmVsYXRpb25zaGlwPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZUNvblJlbGF0aW9uLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgUmVsYXRpb25zaGlwIiAgbmFtZT0iZUNvblJlbGF0aW9uW10iICByZXF1aXJlZCAgdmFsdWU9IicgKyBlQ29udGFjdFsncmVsYXRpb25zaGlwJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJlQ29uQWdlLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPkFnZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImVDb25BZ2UtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBBZ2UiICBuYW1lPSJlQ29uQWdlW10iIHJlcXVpcmVkICB2YWx1ZT0iJyArIGVDb250YWN0WydhZ2UnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgPGRpdiBjbGFzcz0iY29sLW1kLTYiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOyI+XG4nICsgJyA8L2Rpdj5cbicgKyAnIDxkaXYgY2xhc3M9ImNvbC1tZC02IiBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsiPlxuJyArICcgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSInICsgaSArICciIGNsYXNzPSJidG4gYnRuLWRhbmdlciByZW1vdmVJdGVtRWNvbiIgdGl0bGU9IkRlbGV0ZSI+PGkgY2xhc3M9InJpLWNsb3NlLWNpcmNsZS1saW5lIj48L2k+PC9idXR0b24+XG4nICsgJyA8L2Rpdj5cbicgKyAnPC9kaXY+JzsKICAgICAgZGl2LmFwcGVuZChlbGVtZW50KTsKICAgIH0sCiAgICBhZGRBZGRpdGFtZW50czogZnVuY3Rpb24gYWRkQWRkaXRhbWVudHMoKSB7CiAgICAgIHZhciBhZGRpdGFtZW50cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107CiAgICAgIHRoaXMuYWRkaXRhbWVudHNRdHkgPSB0aGlzLmFkZGl0YW1lbnRzUXR5ICsgMTsKICAgICAgdmFyIGkgPSB0aGlzLmFkZGl0YW1lbnRzUXR5OwogICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZEFkZGl0YW1lbnRzJyk7CiAgICAgIHZhciBzZXBhcmF0b3IgPSAnJzsKICAgICAgdmFyIGNoZWNrSURFeGlzdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZUNvbkZpcnN0TmFtZS0xIik7CiAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgogICAgICBpZiAoYWRkaXRhbWVudHMubGVuZ3RoIDw9IDApIHsKICAgICAgICBhZGRpdGFtZW50cy5wdXNoKGFkZGl0YW1lbnRzWydmaXJzdE5hbWUnXSA9ICcnLCBhZGRpdGFtZW50c1snbGFzdE5hbWUnXSA9ICcnLCBhZGRpdGFtZW50c1snZ2VuZGVyJ10gPSAwLCBhZGRpdGFtZW50c1sncmV0YWxpb25zaGlwJ10gPSAwLCBhZGRpdGFtZW50c1snYWdlJ10gPSAnJyk7CiAgICAgIH0KCiAgICAgIGlmIChjaGVja0lERXhpc3RzKSB7CiAgICAgICAgc2VwYXJhdG9yID0gJzxociBzdHlsZT0iYm9yZGVyLXRvcDogMXB4IHNvbGlkICMyYzlhMmE7Ij4nOwogICAgICB9CgogICAgICBlbGVtZW50LmlubmVySFRNTCArPSBzZXBhcmF0b3IgKyAnPGRpdiBjbGFzcz0icm93IiBpZD0icm93QWRkaXRhbWVudHMnICsgaSArICciPlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9IkFkZGlGaXJzdE5hbWUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+Rmlyc3QgTmFtZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9IkFkZGlGaXJzdE5hbWUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBGaXJzdCBOYW1lIiBuYW1lPSJBZGRpRmlyc3ROYW1lW10iIHJlcXVpcmVkIHZhbHVlPSInICsgYWRkaXRhbWVudHNbJ2ZpcnN0TmFtZSddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iQWRkaUxhc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPkxhc3QgTmFtZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9IkFkZGlMYXN0TmFtZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIExhc3QgTmFtZSIgIG5hbWU9IkFkZGlMYXN0TmFtZVtdIiByZXF1aXJlZCB2YWx1ZT0iJyArIGFkZGl0YW1lbnRzWydsYXN0TmFtZSddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJzxkaXYgY2xhc3M9ImNvbC1sZy02Ij4nICsgJyAgPGxhYmVsIGZvcj0iQWRkaUdlbmRlciIgY2xhc3M9ImZvcm0tbGFiZWwiPkdlbmRlcjwvbGFiZWw+JyArICcgIDxzZWxlY3QgY2xhc3M9ImZvcm0tc2VsZWN0IG1iLTIiIGFyaWEtbGFiZWw9IkdlbmRlciIgaWQ9IkFkZGlHZW5kZXItJyArIGkgKyAnIiBuYW1lPSJBZGRpR2VuZGVyW10iPicgKyAnICAgIDxvcHRpb24gdmFsdWU9IjAiID5TZWxlY3QuLi48L29wdGlvbj4nICsgJyAgICA8b3B0aW9uIHZhbHVlPSJGIj5GZW1hbGU8L29wdGlvbj4nICsgJyAgICA8b3B0aW9uIHZhbHVlPSJNIj5NYWxlPC9vcHRpb24+JyArICc8L3NlbGVjdD4nICsgJzwvZGl2PlxuJyArICc8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgPGxhYmVsIGZvcj0iQWRkaUFnZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5BZ2U8L2xhYmVsPlxuJyArICcgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iQWRkaUFnZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIEFnZSIgIG5hbWU9IkFkZGlBZ2VbXSIgcmVxdWlyZWQgIHZhbHVlPSInICsgYWRkaXRhbWVudHNbJ2FnZSddICsgJyI+XG4nICsgJzwvZGl2PlxuJyArICcgPGRpdiBjbGFzcz0iY29sLW1kLTYiPlxuJyArICcgIDxsYWJlbCBmb3I9IkFkZGlSZWxhdGlvbi0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5SZWxhdGlvbnNoaXA8L2xhYmVsPicgKyAnICA8c2VsZWN0IGNsYXNzPSJmb3JtLXNlbGVjdCBtYi0yIiBhcmlhLWxhYmVsPSJBZGRpUmVsYXRpb24iIGlkPSJBZGRpUmVsYXRpb24tJyArIGkgKyAnIiBuYW1lPSJBZGRpUmVsYXRpb25bXSIgIHZhbHVlPSInICsgYWRkaXRhbWVudHNbJ3JldGFsaW9uc2hpcCddICsgJyI+JyArICcgICAgPG9wdGlvbiB2YWx1ZT0iMCI+UmVsYXRpb248L29wdGlvbj4nICsgJyAgICA8b3B0aW9uIHZhbHVlPSJDIj5DaGlsZHJlbjwvb3B0aW9uPicgKyAnICAgIDxvcHRpb24gdmFsdWU9IlMiPlN0ZXBzb248L29wdGlvbj4nICsgJyAgICA8b3B0aW9uIHZhbHVlPSJHIj5HcmFuZHNvbjwvb3B0aW9uPicgKyAnPC9zZWxlY3Q+JyArICcgPC9kaXY+XG4nICsgJyA8ZGl2IGNsYXNzPSJjb2wtbWQtNiIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7Ij5cbicgKyAnICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBpZD0iJyArIGkgKyAnIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgcmVtb3ZlSXRlbUFkZGl0YW1lbnRzIiB0aXRsZT0iRGVsZXRlIj48aSBjbGFzcz0icmktY2xvc2UtY2lyY2xlLWxpbmUiPjwvaT48L2J1dHRvbj5cbicgKyAnIDwvZGl2PlxuJyArICc8L2Rpdj4nOwogICAgICBkaXYuYXBwZW5kKGVsZW1lbnQpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiQWRkaUdlbmRlci0iICsgaSArICIiKS52YWx1ZSA9IGFkZGl0YW1lbnRzWydnZW5kZXInXTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkFkZGlSZWxhdGlvbi0iICsgaSArICIiKS52YWx1ZSA9IGFkZGl0YW1lbnRzWydyZXRhbGlvbnNoaXAnXTsKICAgIH0sCiAgICBnZXRCZW5maWNpYXJpZXM6IGZ1bmN0aW9uIGdldEJlbmZpY2lhcmllcygpIHsKICAgICAgdmFyIG5hbWVWYWx1ZXMgPSBbXTsKICAgICAgdmFyIGxhc3RWYWx1ZXMgPSBbXTsKICAgICAgdmFyIHBob25lVmFsdWVzID0gW107CiAgICAgIHZhciBhZGRyZXNzVmFsdWVzID0gW107CiAgICAgIHZhciBzdGF0ZVZhbHVlcyA9IFtdOwogICAgICB2YXIgcG9zdGFsVmFsdWVzID0gW107CiAgICAgIHZhciByZWxhdGlvblZhbHVlcyA9IFtdOwogICAgICB2YXIgYWdlVmFsdWVzID0gW107CiAgICAgIHZhciB2YWx1ZXMgPSBbXTsKICAgICAgdmFyIGJlbkZpcnN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9J2JlbkZpcnN0TmFtZVtdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBiZW5GaXJzdE5hbWUubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgbmFtZVZhbHVlcy5wdXNoKGJlbkZpcnN0TmFtZVtfaV0udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgYmVuTGFzdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFtuYW1lPSdiZW5MYXN0TmFtZVtdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IGJlbkxhc3ROYW1lLmxlbmd0aDsgX2kyKyspIHsKICAgICAgICBsYXN0VmFsdWVzLnB1c2goYmVuTGFzdE5hbWVbX2kyXS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBiZW5QaG9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9J2JlblBob25lW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgYmVuUGhvbmUubGVuZ3RoOyBfaTMrKykgewogICAgICAgIHBob25lVmFsdWVzLnB1c2goYmVuUGhvbmVbX2kzXS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBiZW5BZGRyZXNzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nYmVuQWRkcmVzc1tdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pNCA9IDA7IF9pNCA8IGJlbkFkZHJlc3MubGVuZ3RoOyBfaTQrKykgewogICAgICAgIGFkZHJlc3NWYWx1ZXMucHVzaChiZW5BZGRyZXNzW19pNF0udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgYmVuU3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFtuYW1lPSdiZW5TdGF0ZVtdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pNSA9IDA7IF9pNSA8IGJlblN0YXRlLmxlbmd0aDsgX2k1KyspIHsKICAgICAgICBzdGF0ZVZhbHVlcy5wdXNoKGJlblN0YXRlW19pNV0udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgYmVuUG9zdGFsQ29kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9J2JlblBvc3RhbENvZGVbXSddIik7CgogICAgICBmb3IgKHZhciBfaTYgPSAwOyBfaTYgPCBiZW5Qb3N0YWxDb2RlLmxlbmd0aDsgX2k2KyspIHsKICAgICAgICBwb3N0YWxWYWx1ZXMucHVzaChiZW5Qb3N0YWxDb2RlW19pNl0udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgYmVuUmVsYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFtuYW1lPSdiZW5SZWxhdGlvbltdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pNyA9IDA7IF9pNyA8IGJlblJlbGF0aW9uLmxlbmd0aDsgX2k3KyspIHsKICAgICAgICByZWxhdGlvblZhbHVlcy5wdXNoKGJlblJlbGF0aW9uW19pN10udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgYmVuQWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nYmVuQWdlW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2k4ID0gMDsgX2k4IDwgYmVuQWdlLmxlbmd0aDsgX2k4KyspIHsKICAgICAgICBhZ2VWYWx1ZXMucHVzaChiZW5BZ2VbX2k4XS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBpOwoKICAgICAgZm9yIChpID0gMDsgaSA8IG5hbWVWYWx1ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YWx1ZXMucHVzaCh7CiAgICAgICAgICAnZmlyc3ROYW1lJzogbmFtZVZhbHVlc1tpXSwKICAgICAgICAgICdsYXN0TmFtZSc6IGxhc3RWYWx1ZXNbaV0sCiAgICAgICAgICAncGhvbmVOdW1iZXInOiBwaG9uZVZhbHVlc1tpXSwKICAgICAgICAgICdhZGRyZXNzJzogYWRkcmVzc1ZhbHVlc1tpXSwKICAgICAgICAgICdzdGF0ZSc6IHN0YXRlVmFsdWVzW2ldLAogICAgICAgICAgJ3Bvc3RhbENvZGUnOiBwb3N0YWxWYWx1ZXNbaV0sCiAgICAgICAgICAncmVsYXRpb25zaGlwJzogcmVsYXRpb25WYWx1ZXNbaV0sCiAgICAgICAgICAnYWdlJzogYWdlVmFsdWVzW2ldCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB2YWx1ZXM7CiAgICB9LAogICAgZ2V0RW1lcmdlbmN5OiBmdW5jdGlvbiBnZXRFbWVyZ2VuY3koKSB7CiAgICAgIHZhciBuYW1lVmFsdWVzID0gW107CiAgICAgIHZhciBsYXN0VmFsdWVzID0gW107CiAgICAgIHZhciBwaG9uZVZhbHVlcyA9IFtdOwogICAgICB2YXIgYWRkcmVzc1ZhbHVlcyA9IFtdOwogICAgICB2YXIgc3RhdGVWYWx1ZXMgPSBbXTsKICAgICAgdmFyIHBvc3RhbFZhbHVlcyA9IFtdOwogICAgICB2YXIgcmVsYXRpb25WYWx1ZXMgPSBbXTsKICAgICAgdmFyIGFnZVZhbHVlcyA9IFtdOwogICAgICB2YXIgdmFsdWVzID0gW107CiAgICAgIHZhciBlQ29uRmlyc3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nZUNvbkZpcnN0TmFtZVtdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pOSA9IDA7IF9pOSA8IGVDb25GaXJzdE5hbWUubGVuZ3RoOyBfaTkrKykgewogICAgICAgIG5hbWVWYWx1ZXMucHVzaChlQ29uRmlyc3ROYW1lW19pOV0udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgZUNvbkxhc3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nZUNvbkxhc3ROYW1lW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2kxMCA9IDA7IF9pMTAgPCBlQ29uTGFzdE5hbWUubGVuZ3RoOyBfaTEwKyspIHsKICAgICAgICBsYXN0VmFsdWVzLnB1c2goZUNvbkxhc3ROYW1lW19pMTBdLnZhbHVlKTsKICAgICAgfQoKICAgICAgdmFyIGVDb25QaG9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9J2VDb25QaG9uZVtdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pMTEgPSAwOyBfaTExIDwgZUNvblBob25lLmxlbmd0aDsgX2kxMSsrKSB7CiAgICAgICAgcGhvbmVWYWx1ZXMucHVzaChlQ29uUGhvbmVbX2kxMV0udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgZUNvbkFkZHJlc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFtuYW1lPSdlQ29uQWRkcmVzc1tdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pMTIgPSAwOyBfaTEyIDwgZUNvbkFkZHJlc3MubGVuZ3RoOyBfaTEyKyspIHsKICAgICAgICBhZGRyZXNzVmFsdWVzLnB1c2goZUNvbkFkZHJlc3NbX2kxMl0udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgZUNvblN0YXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nZUNvblN0YXRlW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2kxMyA9IDA7IF9pMTMgPCBlQ29uU3RhdGUubGVuZ3RoOyBfaTEzKyspIHsKICAgICAgICBzdGF0ZVZhbHVlcy5wdXNoKGVDb25TdGF0ZVtfaTEzXS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBlQ29uUG9zdGFsQ29kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9J2VDb25Qb3N0YWxDb2RlW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2kxNCA9IDA7IF9pMTQgPCBlQ29uUG9zdGFsQ29kZS5sZW5ndGg7IF9pMTQrKykgewogICAgICAgIHBvc3RhbFZhbHVlcy5wdXNoKGVDb25Qb3N0YWxDb2RlW19pMTRdLnZhbHVlKTsKICAgICAgfQoKICAgICAgdmFyIGVDb25SZWxhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9J2VDb25SZWxhdGlvbltdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pMTUgPSAwOyBfaTE1IDwgZUNvblJlbGF0aW9uLmxlbmd0aDsgX2kxNSsrKSB7CiAgICAgICAgcmVsYXRpb25WYWx1ZXMucHVzaChlQ29uUmVsYXRpb25bX2kxNV0udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgZUNvbkFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9J2VDb25BZ2VbXSddIik7CgogICAgICBmb3IgKHZhciBfaTE2ID0gMDsgX2kxNiA8IGVDb25BZ2UubGVuZ3RoOyBfaTE2KyspIHsKICAgICAgICBhZ2VWYWx1ZXMucHVzaChlQ29uQWdlW19pMTZdLnZhbHVlKTsKICAgICAgfQoKICAgICAgdmFyIGk7CgogICAgICBmb3IgKGkgPSAwOyBpIDwgbmFtZVZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhbHVlcy5wdXNoKHsKICAgICAgICAgICdmaXJzdE5hbWUnOiBuYW1lVmFsdWVzW2ldLAogICAgICAgICAgJ2xhc3ROYW1lJzogbGFzdFZhbHVlc1tpXSwKICAgICAgICAgICdwaG9uZU51bWJlcic6IHBob25lVmFsdWVzW2ldLAogICAgICAgICAgJ2FkZHJlc3MnOiBhZGRyZXNzVmFsdWVzW2ldLAogICAgICAgICAgJ3N0YXRlJzogc3RhdGVWYWx1ZXNbaV0sCiAgICAgICAgICAncG9zdGFsQ29kZSc6IHBvc3RhbFZhbHVlc1tpXSwKICAgICAgICAgICdyZWxhdGlvbnNoaXAnOiByZWxhdGlvblZhbHVlc1tpXSwKICAgICAgICAgICdhZ2UnOiBhZ2VWYWx1ZXNbaV0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHZhbHVlczsKICAgIH0sCiAgICBnZXRBZGRlZENoaWxkczogZnVuY3Rpb24gZ2V0QWRkZWRDaGlsZHMoKSB7CiAgICAgIHZhciBuYW1lVmFsdWVzID0gW107CiAgICAgIHZhciBsYXN0VmFsdWVzID0gW107CiAgICAgIHZhciBnZW5kZXJWYWx1ZXMgPSBbXTsKICAgICAgdmFyIGFnZVZhbHVlcyA9IFtdOwogICAgICB2YXIgcmVsYXRpb25WYWx1ZXMgPSBbXTsKICAgICAgdmFyIHZhbHVlcyA9IFtdOwogICAgICB2YXIgZUNvbkZpcnN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9J0FkZGlGaXJzdE5hbWVbXSddIik7CgogICAgICBmb3IgKHZhciBfaTE3ID0gMDsgX2kxNyA8IGVDb25GaXJzdE5hbWUubGVuZ3RoOyBfaTE3KyspIHsKICAgICAgICBuYW1lVmFsdWVzLnB1c2goZUNvbkZpcnN0TmFtZVtfaTE3XS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBlQ29uTGFzdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFtuYW1lPSdBZGRpTGFzdE5hbWVbXSddIik7CgogICAgICBmb3IgKHZhciBfaTE4ID0gMDsgX2kxOCA8IGVDb25MYXN0TmFtZS5sZW5ndGg7IF9pMTgrKykgewogICAgICAgIGxhc3RWYWx1ZXMucHVzaChlQ29uTGFzdE5hbWVbX2kxOF0udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgQWRkaUdlbmRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInNlbGVjdFtuYW1lPSdBZGRpR2VuZGVyW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2kxOSA9IDA7IF9pMTkgPCBBZGRpR2VuZGVyLmxlbmd0aDsgX2kxOSsrKSB7CiAgICAgICAgZ2VuZGVyVmFsdWVzLnB1c2goQWRkaUdlbmRlcltfaTE5XS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBBZGRpQWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nQWRkaUFnZVtdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pMjAgPSAwOyBfaTIwIDwgQWRkaUFnZS5sZW5ndGg7IF9pMjArKykgewogICAgICAgIGFnZVZhbHVlcy5wdXNoKEFkZGlBZ2VbX2kyMF0udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgQWRkaVJlbGF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgic2VsZWN0W25hbWU9J0FkZGlSZWxhdGlvbltdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pMjEgPSAwOyBfaTIxIDwgQWRkaVJlbGF0aW9uLmxlbmd0aDsgX2kyMSsrKSB7CiAgICAgICAgcmVsYXRpb25WYWx1ZXMucHVzaChBZGRpUmVsYXRpb25bX2kyMV0udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgaTsKCiAgICAgIGZvciAoaSA9IDA7IGkgPCBuYW1lVmFsdWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFsdWVzLnB1c2goewogICAgICAgICAgJ2ZpcnN0TmFtZSc6IG5hbWVWYWx1ZXNbaV0sCiAgICAgICAgICAnbGFzdE5hbWUnOiBsYXN0VmFsdWVzW2ldLAogICAgICAgICAgJ2dlbmRlcic6IGdlbmRlclZhbHVlc1tpXSwKICAgICAgICAgICdhZ2UnOiBhZ2VWYWx1ZXNbaV0sCiAgICAgICAgICAncmV0YWxpb25zaGlwJzogcmVsYXRpb25WYWx1ZXNbaV0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHZhbHVlczsKICAgIH0sCiAgICBzZXRDbGllbnREYXRhOiBmdW5jdGlvbiBzZXRDbGllbnREYXRhKGNsaWVudEluZm8pIHsKICAgICAgdGhpcy5jbGllbnREYXRhLmVtYWlsID0gY2xpZW50SW5mby5lbWFpbDsKICAgICAgdGhpcy5jbGllbnREYXRhLmZpcnN0TmFtZSA9IGNsaWVudEluZm8uZmlyc3ROYW1lOwogICAgICB0aGlzLmNsaWVudERhdGEubGFzdE5hbWUgPSBjbGllbnRJbmZvLmxhc3ROYW1lOwogICAgICB0aGlzLmNsaWVudERhdGEubGFuZ3VhZ2UgPSBjbGllbnRJbmZvLmxhbmd1YWdlOwogICAgICB0aGlzLmNsaWVudERhdGEuc3RhdHVzID0gY2xpZW50SW5mby5zdGF0dXM7CiAgICAgIHRoaXMuY2xpZW50RGF0YS5waG9uZU51bWJlciA9IGNsaWVudEluZm8ucGhvbmVOdW1iZXI7CiAgICAgIHRoaXMuY2xpZW50RGF0YS5nZW5kZXIgPSBjbGllbnRJbmZvLmdlbmRlcjsKICAgICAgdGhpcy5jbGllbnREYXRhLmFnZSA9IGNsaWVudEluZm8uYWdlOwogICAgICB0aGlzLmNsaWVudERhdGEudHlwZSA9IGNsaWVudEluZm8udHlwZSAhPT0gJycgPyBjbGllbnRJbmZvLnR5cGUgOiBjbGllbnRJbmZvLmxlYWRUeXBlOwogICAgICB0aGlzLmNsaWVudERhdGEuY2l0eSA9IGNsaWVudEluZm8uY2l0eTsKICAgICAgdGhpcy5jbGllbnREYXRhLmRlcGFydG1lbnRJRCA9IGNsaWVudEluZm8uZGVwYXJ0bWVudElEOwogICAgICB0aGlzLmNsaWVudERhdGEubGVhZFR5cGUgPSBjbGllbnRJbmZvLmxlYWRUeXBlOwogICAgICB0aGlzLmNsaWVudERhdGEuYmlydGhkYXkgPSB0aGlzLmZvcm1hdERhdGUoY2xpZW50SW5mby5kYXRlT2ZCaXJ0aCwgJ0REIE1NTSwgWVlZWScpOwogICAgICB0aGlzLmNsaWVudERhdGEuaW50ZXJ2aWV3ID0gdGhpcy5mb3JtYXREYXRlKGNsaWVudEluZm8uaW50ZXJ2aWV3RGF0ZSwgJ01NTU0gRCwgWVlZWSBoOm1tIEEnKTsKICAgICAgdGhpcy5jbGllbnREYXRhLmFkZHJlc3MgPSBjbGllbnRJbmZvLmFkZHJlc3M7CiAgICAgIHRoaXMuY2xpZW50RGF0YS5zdGF0ZSA9IGNsaWVudEluZm8uc3RhdGU7CiAgICAgIHRoaXMuY2xpZW50RGF0YS5jb3VudHJ5ID0gY2xpZW50SW5mby5jb3VudHJ5OwogICAgICB0aGlzLmNsaWVudERhdGEucG9zdGFsQ29kZSA9IGNsaWVudEluZm8ucG9zdGFsQ29kZTsKICAgICAgdGhpcy5jbGllbnREYXRhLmFnZW50TnVtYmVyID0gY2xpZW50SW5mby5hZ2VudE51bWJlcjsKICAgICAgdGhpcy5jbGllbnREYXRhLmNyZWF0ZWRCeSA9IGNsaWVudEluZm8uY3JlYXRlZEJ5OwogICAgICB0aGlzLmNsaWVudERhdGEuaW5zdXJhbmNlTGljZW5zZSA9IGNsaWVudEluZm8uaXNMaWNlbnNlZDsKICAgIH0sCiAgICBnZXROb3RlczogZnVuY3Rpb24gZ2V0Tm90ZXMoKSB7CiAgICAgIHZhciBfYXJndW1lbnRzMiA9IGFyZ3VtZW50cywKICAgICAgICAgIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYoKSB7CiAgICAgICAgdmFyIGlkLCBuYW1lLCBkYXRhLCB1cmw7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZCA9IF9hcmd1bWVudHMyLmxlbmd0aCA+IDAgJiYgX2FyZ3VtZW50czJbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHMyWzBdIDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpOwogICAgICAgICAgICAgICAgbmFtZSA9IF9hcmd1bWVudHMyLmxlbmd0aCA+IDEgPyBfYXJndW1lbnRzMlsxXSA6IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgICAgICAgIGFnZW50SUQ6IGlkLAogICAgICAgICAgICAgICAgICBjbGllbnRJRDogaWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc2VsZWN0ZWRVc2VyTmFtZScsIG5hbWUpOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3NlbGVjdGVkVXNlcicsIGlkKTsKICAgICAgICAgICAgICAgIHVybCA9ICcnOwogICAgICAgICAgICAgICAgdXJsID0gJy9hcGkvY2xpZW50L2dldENsaWVudE5vdGVzJzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCh1cmwsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOS5ub3Rlc0RhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiTm90ZXMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0UHJvc3BlY3RTdGF0dXM6IGZ1bmN0aW9uIGdldFByb3NwZWN0U3RhdHVzKGlkKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNygpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTcucHJldiA9IF9jb250ZXh0MTcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzZWxlY3RlZFVzZXInLCBpZCk7CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICBzZWFyY2hWYWx1ZXM6IF90aGlzMTAuZGF0YS5zZWFyY2hWYWx1ZXMsCiAgICAgICAgICAgICAgICAgIHVzZXJFbWFpbDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgICAgICAgIGlzUHJvc3BlY3Q6IDEKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY2xpZW50L2NsaWVudFN0YXR1cycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTAucHJvc3BlY3RTdGF0dXNMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIlN0YXR1cyBjb3VsZCBub3QgYmUgbG9hZGVkLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBtb3ZlQ2xpZW50OiBmdW5jdGlvbiBtb3ZlQ2xpZW50KCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTkoKSB7CiAgICAgICAgdmFyIGNsaWVudCwgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE5JChfY29udGV4dDE5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTkucHJldiA9IF9jb250ZXh0MTkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNsaWVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWxlY3RlZFVzZXInKTsKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHNlYXJjaFZhbHVlczogX3RoaXMxMS5kYXRhLnNlYXJjaFZhbHVlcywKICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgY2xpZW50OiBjbGllbnQsCiAgICAgICAgICAgICAgICAgIHN0YXR1czogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vdmVTdGF0dXMnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgaXNQcm9zcGVjdDogMQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucHV0KCcvYXBpL2NsaWVudC9tb3ZlQ2xpZW50JywgZGF0YSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY4ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTgocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE4JChfY29udGV4dDE4KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTgucHJldiA9IF9jb250ZXh0MTgubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZU1vdmUnKS5jbGljaygpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTEudXBkYXRlQ2xpZW50TGlzdCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJZb3VyIENsaWVudCB3YXMgbW92ZWQgdG8gUHJvc3BlY3QgTGlzdCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDUwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxOCk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g4KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY4LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczExLiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIlN0YXR1cyBjb3VsZCBub3QgYmUgbG9hZGVkLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBmaWx0ZXJTdGF0dXM6IGZ1bmN0aW9uIGZpbHRlclN0YXR1cyhzdGF0dXMpIHsKICAgICAgdmFyIHN0YXR1c0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN0YXR1cyk7CiAgICAgIHN0YXR1c0J1dHRvbi5jbGljaygpOwogICAgfSwKICAgIGRlbGV0ZWNsaWVudDogZnVuY3Rpb24gZGVsZXRlY2xpZW50KElEKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHZhciBzd2FsV2l0aEJvb3RzdHJhcEJ1dHRvbnMgPSBTd2FsLm1peGluKHsKICAgICAgICBjdXN0b21DbGFzczogewogICAgICAgICAgY29uZmlybUJ1dHRvbjogImJ0biBidG4tZGFuZ2VyIG1sLTIiLAogICAgICAgICAgY2FuY2VsQnV0dG9uOiAiYnRuIGJ0bi1zdWNjZXNzIgogICAgICAgIH0sCiAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlCiAgICAgIH0pOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc2VsZWN0ZWRVc2VyJywgSUQpOwogICAgICBzd2FsV2l0aEJvb3RzdHJhcEJ1dHRvbnMuZmlyZSh7CiAgICAgICAgdGl0bGU6ICJBcmUgeW91IHN1cmU/IiwKICAgICAgICB0ZXh0OiAiWW91IHdvbid0IGJlIGFibGUgdG8gcmV2ZXJ0IHRoaXMhIiwKICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJZZXMsIGRlbGV0ZSBpdCEiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICJObywgY2FuY2VsISIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgdXNlck5hbWU6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmaXJzdE5hbWUnKSArICcgJyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsYXN0bmFtZScpLAogICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICBhZ2VudElEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2VsZWN0ZWRVc2VyJykKICAgICAgICAgIH07CiAgICAgICAgICBheGlvcy5wdXQoJy9hcGkvY2xpZW50L2RlbGV0ZScsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfcmVmOSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIwKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMCQoX2NvbnRleHQyMCkgewogICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIwLnByZXYgPSBfY29udGV4dDIwLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMi51cGRhdGVDbGllbnRMaXN0KCk7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3dhbFdpdGhCb290c3RyYXBCdXR0b25zLmZpcmUoIkRlbGV0ZWQhIiwgIkNsaWVudCBoYXMgYmVlbiBkZWxldGVkLiIsICJzdWNjZXNzIik7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuc3RvcCgpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwgX2NhbGxlZTIwKTsKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDkpIHsKICAgICAgICAgICAgICByZXR1cm4gX3JlZjkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfcmVmMTAgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMShlcnJvcikgewogICAgICAgICAgICAgIHZhciBsaXN0LCBwcm9wZXJ0eTsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIxJChfY29udGV4dDIxKSB7CiAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjEucHJldiA9IF9jb250ZXh0MjEubmV4dCkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjogIikuY29uY2F0KGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldKSk7CgogICAgICAgICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTIuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuc3RvcCgpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwgX2NhbGxlZTIxKTsKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDEwKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9yZWYxMC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICB9OwogICAgICAgICAgfSgpKTsKICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgIC8qIFJlYWQgbW9yZSBhYm91dCBoYW5kbGluZyBkaXNtaXNzYWxzIGJlbG93ICovCiAgICAgICAgcmVzdWx0LmRpc21pc3MgPT09IFN3YWwuRGlzbWlzc1JlYXNvbi5jYW5jZWwpIHsKICAgICAgICAgIHN3YWxXaXRoQm9vdHN0cmFwQnV0dG9ucy5maXJlKCJDYW5jZWxsZWQiLCAiQ2xpZW50IGlzIGluIGEgc2FmZSBwbGFjZSA6KSIsICJlcnJvciIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRm9jdXM6IGZ1bmN0aW9uIGhhbmRsZUZvY3VzKGUpIHsKICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCAibm9wZSIpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjIoKSB7CiAgICAgIHZhciBmaWVsZCwgdXJsLCBxdWVyeVN0cmluZywgdXJsUGFyYW1zLCBzdGF0dXMsIGRhdGEsIGNoZWNrQWxsLCBhZGRFdmVudDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMiQoX2NvbnRleHQyMikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjIucHJldiA9IF9jb250ZXh0MjIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgYWRkRXZlbnQgPSBmdW5jdGlvbiBfYWRkRXZlbnQocGFyZW50LCBldnQsIHNlbGVjdG9yLCBoYW5kbGVyKSB7CiAgICAgICAgICAgICAgICBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcihldnQsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Lm1hdGNoZXMoc2VsZWN0b3IgKyAnLCAnICsgc2VsZWN0b3IgKyAnIConKSkgewogICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuYXBwbHkoZXZlbnQudGFyZ2V0LmNsb3Nlc3Qoc2VsZWN0b3IpLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCBmYWxzZSk7CiAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgZmllbGQgPSAnbic7CiAgICAgICAgICAgICAgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CiAgICAgICAgICAgICAgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoOwogICAgICAgICAgICAgIHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocXVlcnlTdHJpbmcpOwogICAgICAgICAgICAgIHN0YXR1cyA9IHVybFBhcmFtcy5nZXQoZmllbGQpOwogICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgc2VhcmNoVmFsdWVzOiBfdGhpczEzLmRhdGEuc2VhcmNoVmFsdWVzLAogICAgICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgICAgICBpc1Byb3NwZWN0OiAwLAogICAgICAgICAgICAgICAgZGVsZXRlZDogMAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gOTsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9saXN0RGVwYXJ0bWVudHMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXMxMy5kZXBhcnRtZW50TGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTMuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJEZXBhcnRtZW50cyBjb3VsZCBub3QgYmUgbG9hZGVkLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDExOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2NsaWVudC9jbGllbnRTdGF0dXMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXMxMy5zdGF0dXNMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIlN0YXR1cyBjb3VsZCBub3QgYmUgbG9hZGVkLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBfY29udGV4dDIyLm5leHQgPSAxMzsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9jbGllbnQvY2xpZW50VHlwZXMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXMxMy50eXBlTGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTMuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJTdGF0dXMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgaWYgKCEodXJsLmluZGV4T2YoJz8nICsgZmllbGQgKyAnPScpICE9PSAtMSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdGF0dXMpLmNsaWNrKCk7CiAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDE5OwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2NsaWVudC9saXN0Q2xpZW50cycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBfdGhpczEzLmxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMxMy5wYWdlID0gMTsKCiAgICAgICAgICAgICAgICBfdGhpczEzLnNldFBhZ2VzKCk7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTMuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgfSAvLyBmb3IgKGNvbnN0IHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgLy8gdGhpcy5lcnJvcnMucHVzaChgJHtwcm9wZXJ0eX06ICR7ZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV19YCkKICAgICAgICAgICAgICAgICAgLy8gfQoKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICBfdGhpczEzLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBjaGVja0FsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGVja0FsbCIpOwoKICAgICAgICAgICAgICBpZiAoY2hlY2tBbGwpIHsKICAgICAgICAgICAgICAgIGNoZWNrQWxsLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBjaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0tY2hlY2stYWxsIGlucHV0W3R5cGU9ImNoZWNrYm94Il0nKTsKCiAgICAgICAgICAgICAgICAgIGlmIChjaGVja0FsbC5jaGVja2VkID09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICBjaGVja2JveGVzLmZvckVhY2goZnVuY3Rpb24gKGNoZWNrYm94KSB7CiAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNsb3Nlc3QoInRyIikuY2xhc3NMaXN0LmFkZCgidGFibGUtYWN0aXZlIik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hlcy5mb3JFYWNoKGZ1bmN0aW9uIChjaGVja2JveCkgewogICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guY2xvc2VzdCgidHIiKS5jbGFzc0xpc3QucmVtb3ZlKCJ0YWJsZS1hY3RpdmUiKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGFkZEV2ZW50KGRvY3VtZW50LCAnY2xpY2snLCAnYnV0dG9uLnJlbW92ZUl0ZW1CZW4nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgYnV0dG9uX2lkID0gdGhpcy5pZDsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb3dCZW4nICsgYnV0dG9uX2lkKS5yZW1vdmUoKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBhZGRFdmVudChkb2N1bWVudCwgJ2NsaWNrJywgJ2J1dHRvbi5yZW1vdmVJdGVtRWNvbicsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBidXR0b25faWQgPSB0aGlzLmlkOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvd0Vjb24nICsgYnV0dG9uX2lkKS5yZW1vdmUoKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBhZGRFdmVudChkb2N1bWVudCwgJ2NsaWNrJywgJ2J1dHRvbi5yZW1vdmVJdGVtQWRkaXRhbWVudHMnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgYnV0dG9uX2lkID0gdGhpcy5pZDsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb3dBZGRpdGFtZW50cycgKyBidXR0b25faWQpLnJlbW92ZSgpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMjIpOwogICAgfSkpKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgZGlzcGxheWVkUG9zdHM6IGZ1bmN0aW9uIGRpc3BsYXllZFBvc3RzKCkgewogICAgICByZXR1cm4gdGhpcy5wYWdpbmF0ZSh0aGlzLmxpc3QpOwogICAgfSwKICAgIHJlc3VsdFF1ZXJ5OiBmdW5jdGlvbiByZXN1bHRRdWVyeSgpIHsKICAgICAgaWYgKHRoaXMuZGF0YS5zZWFyY2hWYWx1ZXMua2V5d29yZC5sZW5ndGggPj0gMykgewogICAgICAgIHZhciBzZWFyY2ggPSB0aGlzLmRhdGEuc2VhcmNoVmFsdWVzLmtleXdvcmQudG9Mb3dlckNhc2UoKTsKICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5ZWRQb3N0cy5maWx0ZXIoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBkYXRhLmFkZHJlc3MudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpIHx8IGRhdGEuY2l0eS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5wb2xpY3lOdW1iZXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpIHx8IGRhdGEuZW1haWwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpIHx8IGRhdGEucGhvbmVOdW1iZXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpIHx8IGRhdGEuZmlyc3ROYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLmxhc3ROYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLkZ1bGxOYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLnBvc3RhbENvZGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXllZFBvc3RzOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["flatPickr","moment","Layout","PageHeader","appConfig","Swal","Lottie","animationData","axios","Multiselect","notes","page","title","meta","name","content","description","components","data","items","text","href","active","openCreate","perPage","pages","searchQuery","timeConfig","enableTime","dateFormat","dateTimeConfig","humanfriendlyConfig","typeList","clientData","token","localStorage","getItem","searchValues","type","noteSearch","keyword","language","clients","status","sortBy","orderBy","toDate","Date","toLocaleDateString","year","month","day","fromDate","setFullYear","getFullYear","defaultOptions","list","agentData","username","email","firstName","lastName","phone","department","state","birthDate","address","country","zipCode","interview","agentNumber","createdBy","insuranceLicense","licenseNumber","departmentList","statusList","prospectStatusList","notesData","watch","companies","setPages","created","filters","trimWords","value","split","splice","join","methods","editdata","document","getElementById","id","company","score","location","date","addNewAgentModal","resetAgentData","reset","innerHTML","style","display","checkClientExists","isProspect","userEmail","clientID","userID","potentialClientEmail","validEmail","post","then","div","querySelector","response","classList","add","remove","catch","error","fire","updateClient","errors","push","gender","phoneNumber","validPhone","departmentID","length","city","leadType","formatDate","birthday","postalCode","interviewDate","put","click","icon","detail","$router","property","confirmButtonClass","buttonsStyling","showCloseButton","message","i","createClient","console","log","beneficiaries","getBenficiaries","emergencyContacts","getEmergency","addedChilds","getAddedChilds","note","formValues","values","clientsInfo","totalClients","deleteAgent","userName","agentID","showDenyButton","confirmButtonText","denyButtonText","result","isConfirmed","isDenied","getDepartments","getUserInfo","ID","agentInfo","setAgentData","dateOfBirth","isLicensed","getClientInfo","clientInfo","setClientData","setItem","updateClientList","validate","filterLanguage","filterKeyword","filterType","filterNotes","filterFromDate","filterToDate","start","end","days","diff","deleted","re","test","trim","isphone","format","formatPhone","flag","replace","undefined","substring","x","match","numberOfPages","Math","ceil","index","paginate","from","to","slice","addBeneficiary","benList","beneficiaryQty","separator","checkIDExists","element","createElement","appendChild","addEcontact","eContact","eContactQty","append","addAdditaments","additaments","additamentsQty","nameValues","lastValues","phoneValues","addressValues","stateValues","postalValues","relationValues","ageValues","benFirstName","querySelectorAll","benLastName","benPhone","benAddress","benState","benPostalCode","benRelation","benAge","eConFirstName","eConLastName","eConPhone","eConAddress","eConState","eConPostalCode","eConRelation","eConAge","genderValues","AddiGender","AddiAge","AddiRelation","age","getNotes","url","getProspectStatus","moveClient","client","position","showConfirmButton","timer","filterStatus","statusButton","deleteclient","swalWithBootstrapButtons","mixin","customClass","confirmButton","cancelButton","cancelButtonText","showCancelButton","dismiss","DismissReason","cancel","handleFocus","e","target","setAttribute","mounted","addEvent","parent","evt","selector","handler","addEventListener","event","matches","apply","closest","arguments","field","window","queryString","search","urlParams","URLSearchParams","get","indexOf","checkAll","onclick","checkboxes","checked","forEach","checkbox","button_id","computed","displayedPosts","resultQuery","toLowerCase","filter","includes","policyNumber","FullName"],"sourceRoot":"","sources":["C:\\wamp64\\www\\crm\\frontend\\src\\views\\clients\\clientlist.vue"],"sourcesContent":["<script>\r\nimport flatPickr from \"vue-flatpickr-component\";\r\nimport moment from \"moment\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\nimport Layout from \"../../layouts/main.vue\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport appConfig from \"../../../app.config\";\r\nimport Swal from \"sweetalert2\";\r\nimport Lottie from \"@/components/widgets/lottie.vue\";\r\nimport animationData from \"@/components/widgets/msoeawqm.json\";\r\nimport axios from \"axios\";\r\nimport Multiselect from \"@vueform/multiselect\";\r\nimport \"@vueform/multiselect/themes/default.scss\";\r\n\r\n// components\r\nimport notes from '../../components/users/notes';\r\n\r\nexport default {\r\n  page: {\r\n    title: \"Clients\",\r\n    meta: [{name: \"description\", content: appConfig.description}],\r\n  },\r\n  components: {\r\n    Layout,\r\n    PageHeader,\r\n    flatPickr,\r\n    Multiselect,\r\n    Lottie,\r\n    notes\r\n  },\r\n  data() {\r\n    return{\r\n      title: \"Client List\",\r\n      items: [\r\n        {\r\n          text: \"Clients\",\r\n          href: \"/\",\r\n        },\r\n        {\r\n          text: \"Client List\",\r\n          active: true,\r\n        },\r\n      ],\r\n      openCreate: 0,\r\n      page: 1,\r\n      perPage: 100,\r\n      pages: [],\r\n      searchQuery: null,\r\n      timeConfig: {\r\n        enableTime: false,\r\n        dateFormat: \"d M, Y\"\r\n      },\r\n      dateTimeConfig: {\r\n        enableTime: true,\r\n        dateFormat: \"F j, Y H:i K\"\r\n      },\r\n      humanfriendlyConfig: {\r\n        dateFormat: \"F j, Y\",\r\n      },\r\n      typeList: {},\r\n      clientData: [],\r\n      data: {\r\n        token: localStorage.getItem('jwt'),\r\n        searchValues: {\r\n          type: '',\r\n          noteSearch: '',\r\n          keyword: '',\r\n          language: '3',\r\n          clients: 1,\r\n          status: 0,\r\n          sortBy: 'name',\r\n          orderBy: 'ASC',\r\n          toDate: new Date().toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}) ,\r\n          fromDate: new Date(new Date().setFullYear(new Date().getFullYear() - 1)).toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}),\r\n        },\r\n      },\r\n      defaultOptions: { animationData: animationData },\r\n      list: [],\r\n      agentData: {\r\n        username: '',\r\n        email: '',\r\n        firstName: '',\r\n        lastName: '',\r\n        language: '',\r\n        status: '',\r\n        phone: '',\r\n        department: '',\r\n        state: '',\r\n        birthDate: '',\r\n        address: '',\r\n        country: '',\r\n        zipCode: '',\r\n        interview: '',\r\n        agentNumber: '',\r\n        createdBy: '',\r\n        insuranceLicense: '',\r\n        licenseNumber: ''\r\n      },\r\n      departmentList: {},\r\n      statusList: {},\r\n      prospectStatusList: {},\r\n      notesData: [],\r\n    }\r\n  },\r\n  watch: {\r\n    companies() {\r\n      this.setPages();\r\n    },\r\n  },\r\n  created() {\r\n    this.setPages();\r\n  },\r\n  filters: {\r\n    trimWords(value) {\r\n      return value.split(\" \").splice(0, 20).join(\" \") + \"...\";\r\n    },\r\n  },\r\n  methods: {\r\n    editdata(data){\r\n\r\n      document.getElementById('id').value= data.id\r\n      document.getElementById('customername').value=data.name;\r\n      document.getElementById('companyname').value=data.company;\r\n      document.getElementById('leadsscore').value=data.score;\r\n      document.getElementById('phone').value=data.phone;\r\n      document.getElementById('location').value=data.location;\r\n      document.getElementById('date').value=data.date;\r\n    },\r\n    addNewAgentModal() {\r\n      this.openCreate = 1;\r\n      this.resetAgentData()\r\n      document.getElementById(\"addform\").reset();\r\n      document.getElementById('agentModalLabel').innerHTML=\"Add Client\";\r\n      document.getElementById('add-btn').style.display='block';\r\n      document.getElementById('edit-btn').style.display='none';\r\n    },\r\n    async checkClientExists(){\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        isProspect: 0,\r\n        userEmail: localStorage.getItem('email'),\r\n        clientID: localStorage.getItem('selectedUser'),\r\n        userID: localStorage.getItem('id'),\r\n        potentialClientEmail: this.clientData.email\r\n      }\r\n\r\n      if (this.validEmail(data.potentialClientEmail)) {\r\n        await axios\r\n            .post('/api/client/emailExists', data)\r\n            .then(response => {\r\n              let div = document.querySelector(\".createEmail\");\r\n\r\n              if (response.data > 0) {\r\n                div.classList.add(\"is-invalid\");\r\n              } else {\r\n                div.classList.remove(\"is-invalid\");\r\n              }\r\n            })\r\n            .catch(error => {\r\n              if (error.response) {\r\n                Swal.fire(\"Oops!\", \"Please, contact your SysAdmin.\", \"error\");\r\n              }\r\n            })\r\n      }\r\n\r\n    },\r\n    async updateClient() {\r\n\r\n      this.errors = []\r\n\r\n      if (!this.clientData.lastName) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n      if (!this.clientData.gender) {\r\n        this.errors.push('Gender is required.');\r\n      }\r\n\r\n      if (!this.clientData.language) {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (!this.clientData.status) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!this.clientData.phoneNumber) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if (this.validPhone(this.clientData.phoneNumber) === false && this.clientData.phoneNumber !== '') {\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!this.clientData.departmentID) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n\r\n        const data = {\r\n          username: '',\r\n          email: this.clientData.email,\r\n          city: this.clientData.city,\r\n          firstName: this.clientData.firstName,\r\n          lastName: this.clientData.lastName,\r\n          language: this.clientData.language,\r\n          status: this.clientData.status,\r\n          leadType: this.clientData.leadType,\r\n          gender: this.clientData.gender,\r\n          phoneNumber: this.clientData.phoneNumber,\r\n          departmentID: this.clientData.departmentID,\r\n          state: this.clientData.state,\r\n          birthDate: this.formatDate(this.clientData.birthday, 'DD MMM, YYYY'),\r\n          address: this.clientData.address,\r\n          country: this.clientData.country,\r\n          postalCode: this.clientData.postalCode,\r\n          interviewDate: this.clientData.interview,\r\n          createdBy: localStorage.getItem('email'),\r\n          licenseNumber: this.clientData.licenseNumber,\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('id'),\r\n          clientID: localStorage.getItem('selectedUser')\r\n        }\r\n\r\n        await axios\r\n            .put('/api/client/updateClient', data)\r\n            .then(async response => {\r\n              if (response) {\r\n                document.getElementById('close-modal').click();\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Client update successfully!'\r\n                });\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  this.$router.push('logout')\r\n                }\r\n\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i] + '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    async createClient() {\r\n      this.errors = []\r\n\r\n      if (!this.clientData.firstName) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!this.clientData.lastName) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (!this.clientData.status) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!this.clientData.phoneNumber) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if (this.validPhone(this.clientData.phone) === false && this.clientData.phone === '') {\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!this.clientData.departmentID) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (this.clientData.type  === 'undefined') {\r\n        this.errors.push('Lead/Client Type is required.');\r\n        console.log(this.clientData)\r\n      }\r\n\r\n      if (this.clientData.gender !== 'M' && this.clientData.gender !== 'F') {\r\n        this.errors.push('Gender is required.');\r\n      }\r\n\r\n      if (this.clientData.language !== '1' && this.clientData.language !== '2') {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (this.clientData.leadType === 'undefined') {\r\n        this.errors.push('Lead/client Type is required.');\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n        let beneficiaries = this.getBenficiaries();\r\n        let emergencyContacts = this.getEmergency();\r\n        let addedChilds = this.getAddedChilds();\r\n        let note = {'note': this.clientData.note};\r\n\r\n        let formValues = {'address': this.clientData.address, 'birthday': this.clientData.birthday,\r\n        'city': this.clientData.city, 'country': this.clientData.country, 'department': this.clientData.departmentID,\r\n        'email': this.clientData.email, 'firstName': this.clientData.firstName,\r\n        'interview': this.clientData.interview, 'language': this.clientData.language, 'lastName': this.clientData.lastName,\r\n        'leadType': this.clientData.leadType, 'note': this.clientData.note, 'phoneNumber': this.clientData.phoneNumber,\r\n        'postalCode': this.clientData.postalCode,'state': this.clientData.state,'status': this.clientData.status,\r\n        'length': this.clientData.length, 'gender': this.clientData.gender};\r\n\r\n        // let form = document.getElementById(\"addform\");\r\n\r\n        // for (var i = 0; i < form.elements.length; i++) {\r\n        //   let e = form.elements[i];\r\n        //\r\n        //   console.log(e)\r\n          // if(e.name !== '') {\r\n          //   formValues[e.name] = e.value;\r\n          // }\r\n          // formValues['editGender'] = document.querySelector(\"input[type='radio'][name=editGender]:checked\").value;\r\n          //\r\n          // if(this.isClientList){\r\n          //   formValues['editType'] = document.querySelector(\"#editType\").value;\r\n          // }else{\r\n          //   formValues['editType'] = document.querySelector(\"#editType1\").value;\r\n          // }\r\n        // }\r\n\r\n        let values = {0: {formValues, beneficiaries, emergencyContacts, addedChilds, note}}\r\n\r\n        let data = {\r\n          clientsInfo: values,\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('id'),\r\n          userEmail: localStorage.getItem('email'),\r\n          isProspect: 0,\r\n          totalClients: 1,\r\n        }\r\n\r\n        await axios\r\n            .post('/api/client/createClientList', data)\r\n            .then(async response => {\r\n              if (response.data['ID'] !== null) {\r\n                document.getElementById('closemodal').click();\r\n                document.getElementById(\"addform\").reset();\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Client created successfully!'\r\n                });\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i]+ '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    async deleteAgent() {\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        userID: localStorage.getItem('id'),\r\n        userName: localStorage.getItem('firstName') + ' ' + localStorage.getItem('lastname'),\r\n        userEmail: localStorage.getItem('email'),\r\n        agentID: localStorage.getItem('selectedUser')\r\n      }\r\n\r\n      Swal.fire({\r\n        title: 'Do you want to <b>Delete</b> this agent?',\r\n        showDenyButton: true,\r\n        confirmButtonText: 'Yes',\r\n        denyButtonText: `No`,\r\n      }).then(async (result) => {\r\n        /* Read more about isConfirmed, isDenied below */\r\n        if (result.isConfirmed) {\r\n          await axios\r\n              .put('/api/deleteUser', data)\r\n              .then(async response => {\r\n                if (response) {\r\n                  // document.getElementById('close-modal').click();\r\n\r\n                  await Swal.fire('Agent update successfully!', '', 'success');\r\n                }\r\n              })\r\n              .catch(async error => {\r\n                if (error.response) {\r\n                  let list = '';\r\n                  for (const property in error.response.data) {\r\n                    this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                    list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                  }\r\n\r\n                  await Swal.fire({\r\n                    title: \"Please check the following: \" + list,\r\n                    icon: 'warning',\r\n                    confirmButtonClass: \"btn btn-info\",\r\n                    buttonsStyling: false,\r\n                    showCloseButton: true,\r\n                  });\r\n\r\n                } else if (error.message) {\r\n                  this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n                }\r\n              })\r\n        } else if (result.isDenied) {\r\n          await Swal.fire('Agent wasn\\'t updated!', '', 'info');\r\n        }\r\n      })\r\n    },\r\n    async getDepartments() {\r\n\r\n      await axios\r\n          .post('/api/getDepartments')\r\n          .then(response => {\r\n            console.log(response);\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async getUserInfo(id) {\r\n      document.getElementById('edit-btn').style.display='block';\r\n      document.getElementById('add-btn').style.display='none'\r\n      document.getElementById('agentModalLabel').innerHTML=\"Edit Agent\"\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        ID: id\r\n      }\r\n\r\n      let agentInfo;\r\n\r\n      await axios\r\n          .post('/api/getUser', data)\r\n          .then(response => {\r\n            agentInfo=response.data\r\n            this.setAgentData(agentInfo);\r\n            document.getElementById('id').value=agentInfo.ID\r\n            document.getElementById('editEmail').value=agentInfo.email;\r\n            document.getElementById('editFirstName').value=agentInfo.firstName;\r\n            document.getElementById('editLastName').value=agentInfo.lastName;\r\n            document.getElementById('editLanguage').value=agentInfo.language;\r\n            document.getElementById('editStatus').value=agentInfo.status\r\n            document.getElementById('editPhoneNumber').value= agentInfo.phoneNumber;\r\n            document.getElementById('editDepartment').value=agentInfo.departmentID;\r\n            document.getElementById('editBirthDate').value=agentInfo.dateOfBirth;\r\n            document.getElementById('editAddress').value=agentInfo.address;\r\n            document.getElementById('editState').value=agentInfo.state;\r\n            document.getElementById('editCountry').value=agentInfo.country;\r\n            document.getElementById('editPostalCode').value=agentInfo.postalCode;\r\n            document.getElementById('editAgentNumber').value=agentInfo.agentNumber;\r\n            document.getElementById('editCreatedBy').value=agentInfo.createdBy;\r\n            document.getElementById('editLicensed').value=agentInfo.isLicensed;\r\n            // document.getElementById('editInterview').value=agentInfo.interviewDate;\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async getClientInfo (id) {\r\n      this.openCreate = 0;\r\n      document.getElementById('edit-btn').style.display='block';\r\n      document.getElementById('add-btn').style.display='none'\r\n      document.getElementById('agentModalLabel').innerHTML=\"Edit Client\"\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        ID: id\r\n      }\r\n\r\n      let clientInfo;\r\n\r\n      await axios\r\n          .post('/api/client/getClient', data)\r\n          .then(response => {\r\n            clientInfo = response.data;\r\n            this.setClientData(response.data);\r\n            localStorage.setItem('selectedUser', clientInfo.ID);\r\n            localStorage.setItem('selectedUserName', clientInfo.firstName + ' ' + clientInfo.lastName);\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async updateClientList(status=0) {\r\n\r\n      let validate = true;\r\n      let errors = [];\r\n      let filterLanguage = document.getElementById(\"filterLanguage\").value;\r\n      let filterKeyword = document.getElementById(\"filterKeyword\").value;\r\n      let filterType = document.getElementById(\"filterType\").value;\r\n      let filterNotes = document.getElementById(\"filterNotes\").value;\r\n      let filterFromDate = document.getElementById(\"filterFromDate\").value;\r\n      let filterToDate = document.getElementById(\"filterToDate\").value;\r\n      this.data.searchValues.status = status;\r\n\r\n      if (filterLanguage !== '' && (filterLanguage === '1' || filterLanguage === '2')){\r\n        this.data.searchValues.language = filterLanguage;\r\n      }\r\n\r\n      if (filterKeyword !== '' && filterKeyword.length >= 3) {\r\n        this.data.searchValues.keyword = filterKeyword;\r\n      }else if(filterKeyword !== '' && filterKeyword.length < 3) {\r\n        errors.push('Keyword search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      if(filterType !== ''){\r\n        this.data.searchValues.type = filterType;\r\n      }\r\n\r\n      if (filterNotes !== '' && filterNotes.length >= 3) {\r\n        this.data.searchValues.noteSearch = filterNotes;\r\n      }else if(filterNotes !== '' && filterNotes.length < 3) {\r\n        errors.push('Notes search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      var start = moment(this.formatDate(filterFromDate, 'YYYY-MM-DD'));\r\n      var end = moment(this.formatDate(filterToDate, 'YYYY-MM-DD'));\r\n      var days = end.diff(start, \"days\");\r\n\r\n      if(days <= 365){\r\n        this.data.searchValues.fromDate = filterFromDate;\r\n        this.data.searchValues.toDate = filterToDate;\r\n      } else {\r\n        errors.push(\"From Date and To Date (range) couldn't be larger than a year (365 days)!\");\r\n        validate = false;\r\n      }\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        isProspect: 0,\r\n        searchValues: this.data.searchValues,\r\n        userEmail: localStorage.getItem('email'),\r\n        userID: localStorage.getItem('id'),\r\n        deleted: 0,\r\n      }\r\n\r\n      if(validate){\r\n        await axios\r\n            .post('/api/client/listClients', data)\r\n            .then(response => {\r\n              this.list = response.data\r\n              this.page = 1\r\n              this.setPages()\r\n            })\r\n            .catch(error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  this.$router.push('logout')\r\n                }\r\n\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                }\r\n              }/* else if (error.message) {\r\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n            }*/\r\n            })\r\n      }else{\r\n        let list = '';\r\n        for (var i = 0; i < errors.length; i+=1) {\r\n          list += errors[i] + ' \\n';\r\n        }\r\n\r\n        await Swal.fire(\"\" + list, '', 'info');\r\n\r\n      }\r\n\r\n    },\r\n    validEmail: function (email) {\r\n      var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      return re.test(email.trim());\r\n    },\r\n    validPhone: function (phone) {\r\n      var isphone = /^(\\+{0,})(\\d{0,})([(]{1}\\d{1,3}[)]{0,}){0,}(\\s?\\d+|\\+\\d{2,3}\\s{1}\\d+|\\d+){1}[\\s|-]?\\d+([\\s|-]?\\d+){1,2}(\\s){0,}$/gm.test(phone);\r\n      return isphone;\r\n    },\r\n    formatDate: function(date, format){\r\n      date = moment(date).format(format)\r\n      return date;\r\n    },\r\n    formatPhone: function(phone, flag=0) {\r\n\r\n      // if flag == 1 put value in phone Edit\r\n      phone = phone.replace(/\\D/g, '')\r\n\r\n      if(phone !== undefined) {\r\n        if(phone.length > 10) {\r\n          phone = phone.substring(1)\r\n        }\r\n        const x = phone.match(/(\\d{0,3})(\\d{0,3})(\\d{0,4})/);\r\n        phone = !x[2] ? x[1] : '(' + x[1] + ') ' + x[2] + (x[3] ? '-' + x[3] : '');\r\n\r\n      } else {\r\n        phone = ''\r\n      }\r\n\r\n      if(flag !== 1){\r\n        return phone;\r\n      }else{\r\n        document.getElementById('editPhoneNumber').value = phone;\r\n      }\r\n    },\r\n    setAgentData: function(data) {\r\n      this.agentData.email=data.email;\r\n      this.agentData.firstName=data.firstName;\r\n      this.agentData.lastName=data.lastName;\r\n      this.agentData.language=data.language;\r\n      this.agentData.status=data.status\r\n      this.agentData.phone=data.phoneNumber;\r\n      this.agentData.department=data.departmentID\r\n      this.agentData.birthDate= this.formatDate(data.dateOfBirth, 'DD MM, YYYY');\r\n      this.agentData.interview= this.formatDate(data.interviewDate, 'm-d-y H:i K');\r\n      this.agentData.address=data.address;\r\n      this.agentData.state=data.state;\r\n      this.agentData.country=data.country;\r\n      this.agentData.zipCode=data.postalCode;\r\n      this.agentData.agentNumber=data.agentNumber;\r\n      this.agentData.createdBy=data.createdBy;\r\n      this.agentData.insuranceLicense=data.isLicensed;\r\n    },\r\n    resetAgentData: function(){\r\n      this.agentData =\r\n          {username: '',\r\n            email: '',\r\n            firstName: '',\r\n            lastName: '',\r\n            language: '',\r\n            status: '',\r\n            phone: '',\r\n            department: '',\r\n            state: '',\r\n            birthDate: '',\r\n            address: '',\r\n            country: '',\r\n            zipCode: '',\r\n            interview: '',\r\n            agentNumber: '',\r\n            createdBy: '',\r\n            insuranceLicense: '',\r\n            licenseNumber: ''\r\n          }\r\n    },\r\n    setPages() {\r\n      let numberOfPages = Math.ceil(this.list.length / this.perPage);\r\n      this.pages = []\r\n      for (let index = 1; index <= numberOfPages; index++) {\r\n        this.pages.push(index);\r\n      }\r\n    },\r\n    paginate(companies) {\r\n      let page = this.page;\r\n      let perPage = this.perPage;\r\n      let from = page * perPage - perPage;\r\n      let to = page * perPage;\r\n      return companies.slice(from, to);\r\n    },\r\n    addBeneficiary( benList = [] ) {\r\n      this.beneficiaryQty = this.beneficiaryQty + 1;\r\n      let i = this.beneficiaryQty;\r\n      let div = document.getElementById('addBeneficiary');\r\n      let separator = '';\r\n      let checkIDExists = document.getElementById(\"benFirstName-1\");\r\n      var element = document.createElement('div');\r\n\r\n      if(benList.length <= 0){\r\n        benList.push(\r\n            benList['firstName'] = '',\r\n            benList['lastName'] = '',\r\n            benList['address'] = '',\r\n            benList['phoneNumber'] = '',\r\n            benList['state'] = '',\r\n            benList['postalCode'] = '',\r\n            benList['relationship'] = '',\r\n            benList['age']  = '');\r\n      }\r\n\r\n      if(checkIDExists) {\r\n        separator = '<hr style=\"border-top: 1px solid #2c9a2a;\">';\r\n      }\r\n\r\n      element.innerHTML += '<div class=\"row\" id=\"rowBen'+i+'\">\\n' + separator  +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benFirstName-'+i+'\" class=\"form-label\">First Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"benFirstName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" name=\"benFirstName[]\" required value=\"'+benList['firstName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benLastName-'+i+'\" class=\"form-label\">Last Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"benLastName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\"  name=\"benLastName[]\" required value=\"'+benList['lastName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benAddress-'+i+'\" class=\"form-label\">Address</label>\\n' +\r\n          '    <input type=\"text\" id=\"benAddress-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Address\"  name=\"benAddress[]\" required value=\"'+benList['address']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benPhone-'+i+'\" class=\"form-label\">Phone</label>\\n' +\r\n          '    <input type=\"text\" id=\"benPhone-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Phone\"  name=\"benPhone[]\" required value=\"'+benList['phoneNumber']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benState-'+i+'\" class=\"form-label\">State</label>\\n' +\r\n          '    <input type=\"text\" id=\"benState-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter State\"  name=\"benState[]\"  required value=\"'+benList['state']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benPostalCode-'+i+'\" class=\"form-label\">Postal Code</label>\\n' +\r\n          '    <input type=\"text\" id=\"benPostalCode-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Postal Code\"  name=\"benPostalCode[]\" required value=\"'+benList['postalCode']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benRelation-'+i+'\" class=\"form-label\">Relationship</label>\\n' +\r\n          '    <input type=\"text\" id=\"benRelation-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Relationship\"  name=\"benRelation[]\"  required value=\"'+benList['relationship']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benAge-'+i+'\" class=\"form-label\">Age</label>\\n' +\r\n          '    <input type=\"text\" id=\"benAge-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Age\"  name=\"benAge[]\" required value=\"'+benList['age']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          ' </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          '    <button type=\"button\" id=\"'+i+'\" class=\"btn btn-danger removeItemBen\" title=\"Delete\"><i class=\"ri-close-circle-line\"></i></button>\\n' +\r\n          ' </div>\\n' +\r\n          '</div>';\r\n\r\n      div.appendChild(element);\r\n    },\r\n    addEcontact( eContact = [] ) {\r\n      this.eContactQty = this.eContactQty + 1;\r\n      let i = this.eContactQty;\r\n      let div = document.getElementById('addEcontact');\r\n      let separator = '';\r\n      let checkIDExists = document.getElementById(\"eConFirstName-1\");\r\n      var element = document.createElement('div');\r\n\r\n      if(eContact.length <= 0){\r\n        eContact.push(\r\n            eContact['firstName'] = '',\r\n            eContact['lastName'] = '',\r\n            eContact['address'] = '',\r\n            eContact['phoneNumber'] = '',\r\n            eContact['state'] = '',\r\n            eContact['postalCode'] = '',\r\n            eContact['relationship'] = '',\r\n            eContact['age']  = '');\r\n      }\r\n\r\n      if(checkIDExists) {\r\n        separator = '<hr style=\"border-top: 1px solid #2c9a2a;\">';\r\n      }\r\n      element.innerHTML += separator +\r\n          '<div class=\"row\" id=\"rowEcon'+i+'\">\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConFirstName-'+i+'\" class=\"form-label\">First Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConFirstName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" name=\"eConFirstName[]\" required value=\"'+eContact['firstName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConLastName-'+i+'\" class=\"form-label\">Last Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConLastName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\"  name=\"eConLastName[]\" required  value=\"'+eContact['lastName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConAddress-'+i+'\" class=\"form-label\">Address</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConAddress-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Address\"  name=\"eConAddress[]\" required  value=\"'+eContact['address']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConPhone-'+i+'\" class=\"form-label\">Phone</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConPhone-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Phone\"  name=\"eConPhone[]\" required  value=\"'+eContact['phoneNumber']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConState-'+i+'\" class=\"form-label\">State</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConState-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter State\"  name=\"eConState[]\"  required  value=\"'+eContact['state']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConPostalCode-'+i+'\" class=\"form-label\">Postal Code</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConPostalCode-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Postal Code\"  name=\"eConPostalCode[]\" required  value=\"'+eContact['postalCode']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConRelation-'+i+'\" class=\"form-label\">Relationship</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConRelation-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Relationship\"  name=\"eConRelation[]\"  required  value=\"'+eContact['relationship']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConAge-'+i+'\" class=\"form-label\">Age</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConAge-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Age\"  name=\"eConAge[]\" required  value=\"'+eContact['age']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          ' </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          '    <button type=\"button\" id=\"'+i+'\" class=\"btn btn-danger removeItemEcon\" title=\"Delete\"><i class=\"ri-close-circle-line\"></i></button>\\n' +\r\n          ' </div>\\n' +\r\n          '</div>';\r\n\r\n      div.append(element);\r\n    },\r\n    addAdditaments( additaments = []) {\r\n      this.additamentsQty = this.additamentsQty + 1;\r\n      let i = this.additamentsQty;\r\n      let div = document.getElementById('addAdditaments');\r\n      let separator = '';\r\n      let checkIDExists = document.getElementById(\"eConFirstName-1\");\r\n      var element = document.createElement('div');\r\n\r\n      if(additaments.length <= 0){\r\n        additaments.push(\r\n            additaments['firstName'] = '',\r\n            additaments['lastName'] = '',\r\n            additaments['gender'] = 0,\r\n            additaments['retalionship'] = 0,\r\n            additaments['age']  = '');\r\n      }\r\n\r\n      if(checkIDExists) {\r\n        separator = '<hr style=\"border-top: 1px solid #2c9a2a;\">';\r\n      }\r\n\r\n      element.innerHTML += separator +\r\n          '<div class=\"row\" id=\"rowAdditaments'+i+'\">\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"AddiFirstName-'+i+'\" class=\"form-label\">First Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"AddiFirstName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" name=\"AddiFirstName[]\" required value=\"'+additaments['firstName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"AddiLastName-'+i+'\" class=\"form-label\">Last Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"AddiLastName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\"  name=\"AddiLastName[]\" required value=\"'+additaments['lastName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '<div class=\"col-lg-6\">'+\r\n          '  <label for=\"AddiGender\" class=\"form-label\">Gender</label>'+\r\n          '  <select class=\"form-select mb-2\" aria-label=\"Gender\" id=\"AddiGender-'+i+'\" name=\"AddiGender[]\">'+\r\n          '    <option value=\"0\" >Select...</option>'+\r\n          '    <option value=\"F\">Female</option>'+\r\n          '    <option value=\"M\">Male</option>'+\r\n          '</select>'+\r\n          '</div>\\n'+\r\n          '<div class=\"col-lg-6\">\\n' +\r\n          '  <label for=\"AddiAge-'+i+'\" class=\"form-label\">Age</label>\\n' +\r\n          '  <input type=\"text\" id=\"AddiAge-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Age\"  name=\"AddiAge[]\" required  value=\"'+additaments['age']+'\">\\n' +\r\n          '</div>\\n' +\r\n          ' <div class=\"col-md-6\">\\n' +\r\n          '  <label for=\"AddiRelation-'+i+'\" class=\"form-label\">Relationship</label>'+\r\n          '  <select class=\"form-select mb-2\" aria-label=\"AddiRelation\" id=\"AddiRelation-'+i+'\" name=\"AddiRelation[]\"  value=\"'+additaments['retalionship']+'\">'+\r\n          '    <option value=\"0\">Relation</option>'+\r\n          '    <option value=\"C\">Children</option>'+\r\n          '    <option value=\"S\">Stepson</option>'+\r\n          '    <option value=\"G\">Grandson</option>'+\r\n          '</select>'+\r\n          ' </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          '    <button type=\"button\" id=\"'+i+'\" class=\"btn btn-danger removeItemAdditaments\" title=\"Delete\"><i class=\"ri-close-circle-line\"></i></button>\\n' +\r\n          ' </div>\\n' +\r\n          '</div>';\r\n      div.append(element);\r\n      document.getElementById(\"AddiGender-\"+i+\"\").value = additaments['gender'];\r\n      document.getElementById(\"AddiRelation-\"+i+\"\").value = additaments['retalionship'];\r\n    },\r\n    getBenficiaries() {\r\n      let nameValues = [];\r\n      let lastValues = [];\r\n      let phoneValues = [];\r\n      let addressValues = [];\r\n      let stateValues = [];\r\n      let postalValues = [];\r\n      let relationValues = [];\r\n      let ageValues = [];\r\n      let values = [];\r\n\r\n      let benFirstName = document.querySelectorAll(\"input[name='benFirstName[]']\");\r\n      for (let i = 0; i < benFirstName.length; i++) {\r\n        nameValues.push(benFirstName[i].value);\r\n      }\r\n\r\n      let benLastName = document.querySelectorAll(\"input[name='benLastName[]']\");\r\n      for (let i = 0; i < benLastName.length; i++) {\r\n        lastValues.push(benLastName[i].value);\r\n      }\r\n\r\n      let benPhone = document.querySelectorAll(\"input[name='benPhone[]']\");\r\n      for (let i = 0; i < benPhone.length; i++) {\r\n        phoneValues.push(benPhone[i].value);\r\n      }\r\n\r\n      let benAddress = document.querySelectorAll(\"input[name='benAddress[]']\");\r\n      for (let i = 0; i < benAddress.length; i++) {\r\n        addressValues.push(benAddress[i].value);\r\n      }\r\n\r\n      let benState = document.querySelectorAll(\"input[name='benState[]']\");\r\n      for (let i = 0; i < benState.length; i++) {\r\n        stateValues.push(benState[i].value);\r\n      }\r\n\r\n      let benPostalCode = document.querySelectorAll(\"input[name='benPostalCode[]']\");\r\n      for (let i = 0; i < benPostalCode.length; i++) {\r\n        postalValues.push(benPostalCode[i].value);\r\n      }\r\n\r\n      let benRelation = document.querySelectorAll(\"input[name='benRelation[]']\");\r\n      for (let i = 0; i < benRelation.length; i++) {\r\n        relationValues.push(benRelation[i].value);\r\n      }\r\n\r\n      let benAge = document.querySelectorAll(\"input[name='benAge[]']\");\r\n      for (let i = 0; i < benAge.length; i++) {\r\n        ageValues.push(benAge[i].value);\r\n      }\r\n\r\n      let i;\r\n      for (i = 0; i < nameValues.length; i++) {\r\n        values.push({'firstName': nameValues[i], 'lastName': lastValues[i], 'phoneNumber': phoneValues[i],\r\n          'address': addressValues[i], 'state': stateValues[i], 'postalCode': postalValues[i], 'relationship': relationValues[i],\r\n          'age': ageValues[i]});\r\n      }\r\n      return values;\r\n    },\r\n    getEmergency() {\r\n      let nameValues = [];\r\n      let lastValues = [];\r\n      let phoneValues = [];\r\n      let addressValues = [];\r\n      let stateValues = [];\r\n      let postalValues = [];\r\n      let relationValues = [];\r\n      let ageValues = [];\r\n      let values = [];\r\n\r\n      let eConFirstName = document.querySelectorAll(\"input[name='eConFirstName[]']\");\r\n      for (let i = 0; i < eConFirstName.length; i++) {\r\n        nameValues.push(eConFirstName[i].value);\r\n      }\r\n\r\n      let eConLastName = document.querySelectorAll(\"input[name='eConLastName[]']\");\r\n      for (let i = 0; i < eConLastName.length; i++) {\r\n        lastValues.push(eConLastName[i].value);\r\n      }\r\n\r\n      let eConPhone = document.querySelectorAll(\"input[name='eConPhone[]']\");\r\n      for (let i = 0; i < eConPhone.length; i++) {\r\n        phoneValues.push(eConPhone[i].value);\r\n      }\r\n\r\n      let eConAddress = document.querySelectorAll(\"input[name='eConAddress[]']\");\r\n      for (let i = 0; i < eConAddress.length; i++) {\r\n        addressValues.push(eConAddress[i].value);\r\n      }\r\n\r\n      let eConState = document.querySelectorAll(\"input[name='eConState[]']\");\r\n      for (let i = 0; i < eConState.length; i++) {\r\n        stateValues.push(eConState[i].value);\r\n      }\r\n\r\n      let eConPostalCode = document.querySelectorAll(\"input[name='eConPostalCode[]']\");\r\n      for (let i = 0; i < eConPostalCode.length; i++) {\r\n        postalValues.push(eConPostalCode[i].value);\r\n      }\r\n\r\n      let eConRelation = document.querySelectorAll(\"input[name='eConRelation[]']\");\r\n      for (let i = 0; i < eConRelation.length; i++) {\r\n        relationValues.push(eConRelation[i].value);\r\n      }\r\n\r\n      let eConAge = document.querySelectorAll(\"input[name='eConAge[]']\");\r\n      for (let i = 0; i < eConAge.length; i++) {\r\n        ageValues.push(eConAge[i].value);\r\n      }\r\n\r\n      let i;\r\n      for (i = 0; i < nameValues.length; i++) {\r\n        values.push({'firstName':  nameValues[i], 'lastName':  lastValues[i], 'phoneNumber':  phoneValues[i], 'address':  addressValues[i],\r\n          'state':  stateValues[i], 'postalCode':  postalValues[i], 'relationship':  relationValues[i], 'age':  ageValues[i]});\r\n      }\r\n      return values;\r\n    },\r\n    getAddedChilds() {\r\n\r\n      let nameValues = [];\r\n      let lastValues = [];\r\n      let genderValues = [];\r\n      let ageValues = [];\r\n      let relationValues = [];\r\n      let values = [];\r\n\r\n      let eConFirstName = document.querySelectorAll(\"input[name='AddiFirstName[]']\");\r\n      for (let i = 0; i < eConFirstName.length; i++) {\r\n        nameValues.push(eConFirstName[i].value);\r\n      }\r\n\r\n      let eConLastName = document.querySelectorAll(\"input[name='AddiLastName[]']\");\r\n      for (let i = 0; i < eConLastName.length; i++) {\r\n        lastValues.push(eConLastName[i].value);\r\n      }\r\n\r\n      let AddiGender = document.querySelectorAll(\"select[name='AddiGender[]']\");\r\n      for (let i = 0; i < AddiGender.length; i++) {\r\n        genderValues.push(AddiGender[i].value);\r\n      }\r\n\r\n      let AddiAge = document.querySelectorAll(\"input[name='AddiAge[]']\");\r\n      for (let i = 0; i < AddiAge.length; i++) {\r\n        ageValues.push(AddiAge[i].value);\r\n      }\r\n\r\n      let AddiRelation = document.querySelectorAll(\"select[name='AddiRelation[]']\");\r\n      for (let i = 0; i < AddiRelation.length; i++) {\r\n        relationValues.push(AddiRelation[i].value);\r\n      }\r\n\r\n      let i;\r\n      for (i = 0; i < nameValues.length; i++) {\r\n        values.push({'firstName':  nameValues[i], 'lastName':  lastValues[i], 'gender': genderValues[i], 'age': ageValues[i],\r\n          'retalionship': relationValues[i]});\r\n      }\r\n      return values;\r\n    },\r\n    setClientData(clientInfo){\r\n\r\n      this.clientData.email=clientInfo.email;\r\n      this.clientData.firstName=clientInfo.firstName;\r\n      this.clientData.lastName=clientInfo.lastName;\r\n      this.clientData.language=clientInfo.language;\r\n      this.clientData.status=clientInfo.status;\r\n      this.clientData.phoneNumber=clientInfo.phoneNumber;\r\n      this.clientData.gender=clientInfo.gender;\r\n      this.clientData.age=clientInfo.age;\r\n      this.clientData.type=(clientInfo.type !== '') ? clientInfo.type: clientInfo.leadType;\r\n      this.clientData.city=clientInfo.city;\r\n      this.clientData.departmentID=clientInfo.departmentID;\r\n      this.clientData.leadType= clientInfo.leadType;\r\n      this.clientData.birthday= this.formatDate(clientInfo.dateOfBirth, 'DD MMM, YYYY');\r\n      this.clientData.interview= this.formatDate(clientInfo.interviewDate, 'MMMM D, YYYY h:mm A');\r\n      this.clientData.address=clientInfo.address;\r\n      this.clientData.state=clientInfo.state;\r\n      this.clientData.country=clientInfo.country;\r\n      this.clientData.postalCode=clientInfo.postalCode;\r\n      this.clientData.agentNumber=clientInfo.agentNumber;\r\n      this.clientData.createdBy=clientInfo.createdBy;\r\n      this.clientData.insuranceLicense=clientInfo.isLicensed;\r\n    },\r\n    async getNotes (id = localStorage.getItem('selectedUser'), name) {\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        userID: localStorage.getItem('id'),\r\n        agentID: id,\r\n        clientID: id,\r\n      }\r\n      localStorage.setItem('selectedUserName', name)\r\n\r\n      localStorage.setItem('selectedUser', id)\r\n\r\n      let url = '';\r\n      url = '/api/client/getClientNotes';\r\n\r\n      await axios\r\n          .post(url, data)\r\n          .then(response => {\r\n            this.notesData = response.data;\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n              Swal.fire(\"Oops!\", \"Notes could not be loaded, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async getProspectStatus(id) {\r\n\r\n      localStorage.setItem('selectedUser', id)\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        searchValues: this.data.searchValues,\r\n        userEmail: localStorage.getItem('email'),\r\n        userID: localStorage.getItem('id'),\r\n        isProspect: 1,\r\n      }\r\n\r\n      await axios\r\n          .post('/api/client/clientStatus', data)\r\n          .then(response => {\r\n            this.prospectStatusList = response.data\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if (error.response.data.detail === 'Your session is expired!') {\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async moveClient() {\r\n\r\n      let client = localStorage.getItem('selectedUser');\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        searchValues: this.data.searchValues,\r\n        userEmail: localStorage.getItem('email'),\r\n        client: client,\r\n        status: document.getElementById('moveStatus').value,\r\n        isProspect: 1,\r\n      }\r\n\r\n      await axios\r\n          .put('/api/client/moveClient', data)\r\n          .then(async response => {\r\n            document.getElementById('closeMove').click();\r\n            if(response.status === 200){\r\n              await this.updateClientList();\r\n\r\n              await Swal.fire({\r\n                position: \"top-end\",\r\n                icon: \"success\",\r\n                title: \"Your Client was moved to Prospect List\",\r\n                showConfirmButton: false,\r\n                timer: 5000,\r\n              });\r\n            }\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if (error.response.data.detail === 'Your session is expired!') {\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    filterStatus(status){\r\n      var statusButton= document.getElementById(status);\r\n      statusButton.click();\r\n    },\r\n    deleteclient(ID) {\r\n      const swalWithBootstrapButtons = Swal.mixin({\r\n        customClass: {\r\n          confirmButton: \"btn btn-danger ml-2\",\r\n          cancelButton: \"btn btn-success\",\r\n        },\r\n        buttonsStyling: false,\r\n      });\r\n      localStorage.setItem('selectedUser', ID)\r\n      swalWithBootstrapButtons\r\n          .fire({\r\n            title: \"Are you sure?\",\r\n            text: \"You won't be able to revert this!\",\r\n            icon: \"warning\",\r\n            confirmButtonText: \"Yes, delete it!\",\r\n            cancelButtonText: \"No, cancel!\",\r\n            showCancelButton: true,\r\n          })\r\n          .then((result) => {\r\n            if (result.value) {\r\n\r\n              const data = {\r\n                token: localStorage.getItem('jwt'),\r\n                userID: localStorage.getItem('id'),\r\n                userName: localStorage.getItem('firstName') + ' ' + localStorage.getItem('lastname'),\r\n                userEmail: localStorage.getItem('email'),\r\n                agentID: localStorage.getItem('selectedUser')\r\n              }\r\n\r\n              axios\r\n                  .put('/api/client/delete', data)\r\n                  .then(async response => {\r\n                    if (response) {\r\n                      await this.updateClientList()\r\n                      await swalWithBootstrapButtons.fire(\r\n                          \"Deleted!\",\r\n                          \"Client has been deleted.\",\r\n                          \"success\"\r\n                      );\r\n                    }\r\n                  })\r\n                  .catch(async error => {\r\n                    if (error.response) {\r\n                      let list = '';\r\n                      for (const property in error.response.data) {\r\n                        this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                        list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                      }\r\n\r\n                      await Swal.fire({\r\n                        title: \"Please check the following: \" + list,\r\n                        icon: 'warning',\r\n                        confirmButtonClass: \"btn btn-info\",\r\n                        buttonsStyling: false,\r\n                        showCloseButton: true,\r\n                      });\r\n\r\n                    } else if (error.message) {\r\n                      this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n                    }\r\n                  })\r\n            } else if (\r\n                /* Read more about handling dismissals below */\r\n                result.dismiss === Swal.DismissReason.cancel\r\n            ) {\r\n              swalWithBootstrapButtons.fire(\r\n                  \"Cancelled\",\r\n                  \"Client is in a safe place :)\",\r\n                  \"error\"\r\n              );\r\n            }\r\n          });\r\n    },\r\n    handleFocus(e){\r\n      e.target.setAttribute(\"autocomplete\", \"nope\");\r\n    },\r\n  },\r\n  async mounted() {\r\n\r\n    let field = 'n';\r\n    let url = window.location.href;\r\n\r\n    const queryString = window.location.search;\r\n    const urlParams = new URLSearchParams(queryString);\r\n    const status = urlParams.get(field)\r\n\r\n    const data = {\r\n      token: localStorage.getItem('jwt'),\r\n      searchValues: this.data.searchValues,\r\n      userEmail: localStorage.getItem('email'),\r\n      userID: localStorage.getItem('id'),\r\n      isProspect: 0,\r\n      deleted: 0,\r\n    }\r\n\r\n    await axios\r\n        .post('/api/listDepartments', data)\r\n        .then(response => {\r\n          this.departmentList=response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n            Swal.fire(\"Oops!\", \"Departments could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/client/clientStatus', data)\r\n        .then(response => {\r\n          this.statusList=response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n\r\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/client/clientTypes', data)\r\n        .then(response => {\r\n          this.typeList = response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n\r\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    if((url.indexOf('?' + field + '=') !== -1))\r\n      document.getElementById(status).click()\r\n    else\r\n      await axios\r\n          .post('/api/client/listClients', data)\r\n          .then(response => {\r\n            this.list=response.data\r\n            this.page = 1\r\n            this.setPages()\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              // for (const property in error.response.data) {\r\n              // this.errors.push(`${property}: ${error.response.data[property]}`)\r\n              // }\r\n            } else if (error.message) {\r\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n            }\r\n          })\r\n\r\n    const checkAll = document.getElementById(\"checkAll\");\r\n\r\n    if (checkAll) {\r\n      checkAll.onclick = function () {\r\n        var checkboxes = document.querySelectorAll(\r\n            '.form-check-all input[type=\"checkbox\"]'\r\n        );\r\n        if (checkAll.checked == true) {\r\n          checkboxes.forEach(function (checkbox) {\r\n            checkbox.checked = true;\r\n            checkbox.closest(\"tr\").classList.add(\"table-active\");\r\n          });\r\n        } else {\r\n          checkboxes.forEach(function (checkbox) {\r\n            checkbox.checked = false;\r\n            checkbox.closest(\"tr\").classList.remove(\"table-active\");\r\n          });\r\n        }\r\n      };\r\n    }\r\n\r\n    function addEvent(parent, evt, selector, handler) {\r\n      parent.addEventListener(evt, function(event) {\r\n        if (event.target.matches(selector + ', ' + selector + ' *')) {\r\n          handler.apply(event.target.closest(selector), arguments);\r\n        }\r\n      }, false);\r\n    }\r\n\r\n    addEvent(document, 'click', 'button.removeItemBen', function() {\r\n      let button_id = this.id;\r\n      document.getElementById('rowBen' + button_id).remove();\r\n    });\r\n    addEvent(document, 'click', 'button.removeItemEcon', function() {\r\n      let button_id = this.id;\r\n      document.getElementById('rowEcon' + button_id).remove()\r\n    });\r\n    addEvent(document, 'click', 'button.removeItemAdditaments', function() {\r\n      let button_id = this.id;\r\n      document.getElementById('rowAdditaments' + button_id).remove()\r\n    });\r\n  },\r\n  computed: {\r\n    displayedPosts() {\r\n      return this.paginate(this.list);\r\n    },\r\n    resultQuery() {\r\n      if (this.data.searchValues.keyword.length >= 3) {\r\n        const search = this.data.searchValues.keyword.toLowerCase();\r\n        return this.displayedPosts.filter((data) => {\r\n          return (\r\n              data.address.toLowerCase().includes(search) ||\r\n              data.city.toLowerCase().includes(search) ||\r\n              data.policyNumber.toLowerCase().includes(search) ||\r\n              data.email.toLowerCase().includes(search) ||\r\n              data.phoneNumber.toLowerCase().includes(search) ||\r\n              data.firstName.toLowerCase().includes(search) ||\r\n              data.lastName.toLowerCase().includes(search) ||\r\n              data.FullName.toLowerCase().includes(search) ||\r\n              data.postalCode.toLowerCase().includes(search)\r\n          );\r\n        });\r\n      } else {\r\n        return this.displayedPosts;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\"/>\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-12\">\r\n        <div class=\"card\" id=\"leadsList\">\r\n          <div class=\"card-header border-0\">\r\n            <div class=\"row g-4 align-items-center\">\r\n              <div class=\"col-sm-3\">\r\n                <div class=\"search-box\">\r\n                  <input\r\n                      type=\"text\"\r\n                      class=\"form-control search\"\r\n                      placeholder=\"Search for...\"\r\n                      v-model=\"this.data.searchValues.keyword\"\r\n                      @change=\"this.data.searchValues.keyword.length >= 3 ? updateClientList(): ''\"\r\n                      v-on:keyup.enter=\"this.data.searchValues.keyword === '' ? updateClientList() : ''\"\r\n                  />\r\n                  <i class=\"ri-search-line search-icon\"></i>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-sm-auto ms-auto\">\r\n                <div class=\"hstack gap-2\">\r\n                  <div class=\"d-flex align-items-center gap-2\">\r\n                    <span class=\"text-muted flex-shrink-0\">Sort by: </span>\r\n\r\n                    <Multiselect class=\"form-control\"\r\n                                 style=\"width:150px;padding: 0px;\"\r\n                                 autocomplete=\"off\"\r\n                                 @focus=\"handleFocus\"\r\n                                 v-model=\"this.data.searchValues.sortBy\"\r\n                                 :close-on-select=\"true\"\r\n                                 :searchable=\"true\"\r\n                                 :options=\"[\r\n                            { value: 'name', label: 'Name' },\r\n                            { value: 'postalCode', label: 'Postal Code' },\r\n                            { value: 'modified', label: 'Modified On' },\r\n                            { value: 'created', label: 'created On' },\r\n                            ]\"\r\n                                 @select=\"updateClientList()\"\r\n                    />\r\n\r\n                  </div>\r\n                  <div class=\"d-flex align-items-center gap-2\">\r\n                    <span class=\"text-muted flex-shrink-0\">Order by: </span>\r\n\r\n                    <Multiselect class=\"form-control\"\r\n                                 style=\"width:150px;padding: 0px;\"\r\n                                 v-model=\"this.data.searchValues.orderBy\"\r\n                                 autocomplete=\"off\"\r\n                                 @focus=\"handleFocus\"\r\n                                 :close-on-select=\"true\"\r\n                                 :searchable=\"true\"\r\n                                 :options=\"[\r\n                            { value: 'ASC', label: 'Ascendance' },\r\n                            { value: 'DESC', label: 'Descendant' },\r\n                            ]\"\r\n                                 @select=\"updateClientList()\"\r\n                    />\r\n\r\n                  </div>\r\n                  <button type=\"button\" class=\"btn btn-soft-success add-btn\" href=\"#open-filters\" data-bs-toggle=\"modal\">\r\n                    <i class=\"ri-filter-line align-bottom me-1\"></i> Filters\r\n                  </button>\r\n                  <button type=\"button\" class=\"btn btn-soft-success add-btn\" id=\"create-btn\" data-bs-toggle=\"modal\" href=\"#agentModal\" @click=\"addNewAgentModal\">\r\n                    <i class=\"ri-add-line align-bottom me-1\"></i> Add Client\r\n                  </button>\r\n                  <span class=\"dropdown\">\r\n                    <button\r\n                        class=\"btn btn-soft-primary btn-icon fs-14\"\r\n                        type=\"button\"\r\n                        id=\"dropdownMenuButton1\"\r\n                        data-bs-toggle=\"dropdown\"\r\n                        aria-expanded=\"false\"\r\n                    >\r\n                      <i class=\"ri-settings-4-line\"></i>\r\n                    </button>\r\n                    <ul\r\n                        class=\"dropdown-menu\"\r\n                        aria-labelledby=\"dropdownMenuButton1\"\r\n                    >\r\n                      <li><a class=\"dropdown-item\" href=\"#\">Copy</a></li>\r\n                      <li>\r\n                        <a class=\"dropdown-item\" href=\"#\">Move to pipline</a>\r\n                      </li>\r\n                      <li>\r\n                        <a class=\"dropdown-item\" href=\"#\">Add to exceptions</a>\r\n                      </li>\r\n                      <li>\r\n                        <a class=\"dropdown-item\" href=\"#\"\r\n                        >Switch to common form view</a\r\n                        >\r\n                      </li>\r\n                      <li>\r\n                        <a class=\"dropdown-item\" href=\"#\"\r\n                        >Reset form view to default</a\r\n                        >\r\n                      </li>\r\n                    </ul>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Table Head -->\r\n          <ul\r\n              class=\"nav nav-tabs nav-tabs-custom nav-primary mb-3\"\r\n              role=\"tablist\">\r\n            <li class=\"nav-item\">\r\n              <a\r\n                  class=\"nav-link active All py-3\"\r\n                  data-bs-toggle=\"tab\"\r\n                  id=\"All\"\r\n                  href=\"#home1\"\r\n                  role=\"tab\"\r\n                  aria-selected=\"true\"\r\n                  @click=\"updateClientList(0)\"\r\n              >\r\n                <i class=\"ri-file-search-line me-1 align-bottom\"></i> All\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\" v-for=\"(data, index) of statusList\" :key=\"index\">\r\n              <a\r\n                  class=\"nav-link py-3 \" v-bind:class=\"data.name\"\r\n                  data-bs-toggle=\"tab\"\r\n                  v-bind:id=\"data.name\"\r\n                  v-bind:href=\"'#'+data.name\"\r\n                  role=\"tab\"\r\n                  aria-selected=\"false\"\r\n                  @click=\"updateClientList(data.statusID)\"\r\n              >\r\n                <i class=\"me-1 align-bottom\"></i>\r\n                {{ data.name }}\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          <table class=\"table align-middle table-nowrap mb-0\">\r\n            <thead class=\"table-light\">\r\n            <tr>\r\n              <th scope=\"col\" style=\"width: 50px\">\r\n                <div class=\"form-check\">\r\n                  <input\r\n                      class=\"form-check-input\"\r\n                      type=\"checkbox\"\r\n                      id=\"checkAll\"\r\n                      value=\"option\"\r\n                  />\r\n                </div>\r\n              </th>\r\n              <th scope=\"col\">Name</th>\r\n              <th scope=\"col\">Department</th>\r\n              <th scope=\"col\">Email</th>\r\n              <th scope=\"col\">Phone</th>\r\n              <th scope=\"col\">Create Date</th>\r\n              <th scope=\"col\">Status</th>\r\n              <th scope=\"col\">Actions</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr v-for=\"(data, index) of resultQuery\" :key=\"index\">\r\n              <td>\r\n                <div class=\"form-check\">\r\n                  <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"cardtableCheck01\">\r\n                  <label class=\"form-check-label\" for=\"cardtableCheck01\"></label>\r\n                </div>\r\n              </td>\r\n              <td>{{ data.firstName }} {{ data.lastName }}</td>\r\n              <td>{{ data.departmentName }}</td>\r\n              <td>{{ data.email }}</td>\r\n              <td>{{ formatPhone(data.phoneNumber) }}</td>\r\n              <td> {{ formatDate(data.createdOn, 'MMMM Do YYYY, h:mmA') }} </td>\r\n              <td><a href=\"javascript:void(0);\" v-bind:style=\"'color:'+data.colors\"  @click=\"filterStatus(data.statusName)\">{{ data.statusName}}</a></td>\r\n              <td>\r\n                <ul class=\"list-inline hstack gap-2 mb-0\">\r\n                  <li class=\"list-inline-item\" data-bs-toggle=\"modal\" href=\"#agentModal\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Edit\" @click=\"getClientInfo(data.ID)\">\r\n                    <a class=\"edit-item-btn\" href=\"javascript:void(0);\"><i class=\"ri-pencil-fill align-bottom text-muted\"></i></a>\r\n                  </li>\r\n                  <li class=\"list-inline-item\" data-bs-toggle=\"modal\" href=\"#open-notes\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Notes\" @click=\"getNotes(data.ID, data.firstName + ' ' + data.lastName)\">\r\n                    <a href=\"javascript:void(0);\" class=\"text-muted d-inline-block\" >\r\n                      <i class=\"ri-sticky-note-line fs-16\"></i>\r\n                    </a>\r\n                  </li>\r\n                  <li class=\"list-inline-item\" data-bs-toggle=\"modal\" data-bs-trigger=\"hover\"  href=\"#changeStatus\"  data-bs-placement=\"top\" title=\"Update Status\" @click=\"getProspectStatus(data.ID)\">\r\n                    <a href=\"javascript:void(0);\" ><i class=\"ri-refresh-fill align-bottom text-muted\"></i></a>\r\n                  </li>\r\n                  <li class=\"list-inline-item\" data-bs-toggle=\"tooltip\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Delete\" @click=\"deleteclient(data.ID)\">\r\n                    <a class=\"remove-item-btn\" data-bs-toggle=\"modal\" href=\"javascript:void(0);\">\r\n                      <i class=\"ri-delete-bin-fill align-bottom text-muted\"></i>\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              </td>\r\n            </tr>\r\n            </tbody>\r\n          </table>\r\n          <div class=\"noresult\" v-if=\"list.length <= 0\">\r\n            <div class=\"text-center\">\r\n              <lottie\r\n                  class=\"avatar-xl\"\r\n                  colors=\"primary:#121331,secondary:#08a88a\"\r\n                  :options=\"defaultOptions\"\r\n                  :height=\"75\"\r\n                  :width=\"75\"\r\n              />\r\n              <h5 class=\"mt-2\">Sorry! No Result Found</h5>\r\n              <p class=\"text-muted mb-0\">\r\n                We've searched and didn't find any\r\n                client for you.\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div class=\"d-flex justify-content-end mt-3\" v-if=\"resultQuery.length >= 0\">\r\n            <div class=\"pagination-wrap hstack gap-2\">\r\n              <a\r\n                  class=\"page-item pagination-prev disabled\"\r\n                  href=\"#\"\r\n                  v-if=\"page !== 1\"\r\n                  @click=\"page--\"\r\n              >\r\n                Previous\r\n              </a>\r\n              <ul class=\"pagination listjs-pagination mb-0\">\r\n                <li\r\n                    :class=\"{\r\n                      active: pageNumber === page,\r\n                      disabled: pageNumber === '...',\r\n                    }\"\r\n                    v-for=\"(pageNumber, index) in pages.slice(\r\n                      page - 1,\r\n                      page + 5\r\n                    )\"\r\n                    :key=\"index\"\r\n                    @click=\"page = pageNumber\"\r\n                >\r\n                  <a class=\"page\" href=\"#\">{{ pageNumber }}</a>\r\n                </li>\r\n              </ul>\r\n              <a\r\n                  class=\"page-item pagination-next\"\r\n                  href=\"#\"\r\n                  @click=\"page++\"\r\n                  v-if=\"page < pages.length\"\r\n              >\r\n                Next\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!--end col-->\r\n    </div>\r\n    <!--end row-->\r\n\r\n    <!--  Add agent modal  -->\r\n    <div class=\"modal zoomIn\" id=\"agentModal\" tabindex=\"-1\" aria-labelledby=\"agentModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\" style=\"max-width: 1000px;\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header bg-light p-3\">\r\n            <h5 class=\"modal-title\" id=\"agentModalLabel\"></h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"\r\n                    id=\"close-modal\"></button>\r\n          </div>\r\n          <form id=\"addform\" @submit.prevent=\"\">\r\n            <div class=\"modal-body\">\r\n              <h6> <span style=\"color:red; font-size: 0.7em;\">Required fields (*)</span></h6>\r\n              <input type=\"hidden\" id=\"id\"/>\r\n              <div class=\"row g-3\">\r\n                <div class=\"col-lg-12\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-8\">\r\n                      <label for=\"editEmail\" class=\"form-label\">Email</label>\r\n                      <input type=\"text\" id=\"editEmail\" name=\"editEmail\" class=\"form-control mb-2 createEmail\" placeholder=\"Enter Email\"\r\n                             v-model=\"this.clientData.email\">\r\n                      <div class=\"invalid-feedback\">\r\n                        This email is already in use.\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editCreatedBy\" class=\"form-label\">Created By</label>\r\n                      <input type=\"text\" id=\"editCreatedBy\" name=\"editCreatedBy\" class=\"form-control mb-2\" disabled v-model=\"this.clientData.createdBy\">\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editFirstName\" class=\"form-label\">First Name <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <input type=\"text\" id=\"editFirstName\" name=\"editFirstName\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" v-model=\"this.clientData.firstName\" required>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editLastName\" class=\"form-label\">Last Name <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <input type=\"text\" id=\"editLastName\" name=\"editLastName\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\" v-model=\"this.clientData.lastName\" required>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editGender\" class=\"form-label\"> Gender <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <br>\r\n                      <div class=\"form-check-success form-check-inline\" style=\"margin-top: 0.8em;\">\r\n                        <input class=\"form-check-input\" type=\"radio\" name=\"editGender\" id=\"editGender\" value=\"M\" v-model=\"this.clientData.gender\">\r\n                        <label class=\"form-check-label\" for=\"editGender\"> &nbsp; Male</label>\r\n                      </div>\r\n                      <div class=\"form-check-success form-check-inline\" style=\"margin-top: 0.8em;\">\r\n                        <input class=\"form-check-input\" type=\"radio\" name=\"editGender\" id=\"editGender2\" value=\"F\" v-model=\"this.clientData.gender\">\r\n                        <label class=\"form-check-label\" for=\"editGender2\"> &nbsp; Female</label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editLanguage\" class=\"form-label\">Language <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"editLanguage\" name=\"editLanguage\" v-model=\"this.clientData.language\" required>\r\n                        <option value=\"1\" selected>English</option>\r\n                        <option value=\"2\">Spanish</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editStatus\" class=\"form-label\">Status <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editStatus\" name=\"editStatus\" v-model=\"this.clientData.status\">\r\n                        <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editType\" class=\"form-label\">Type clients <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editType\" name=\"editType\" v-model=\"this.clientData.leadType\">\r\n                        <option v-for=\"(type, typeIndex) of typeList\" :key=\"typeIndex\" v-bind:value=\"type.name\">{{ type.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editPhoneNumber\" class=\"form-label\">Phone <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <input type=\"text\" id=\"editPhoneNumber\" name=\"editPhoneNumber\" class=\"form-control mb-2\" placeholder=\"Phone number\" required v-model=\"this.clientData.phoneNumber\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editDepartment\" class=\"form-label\">Department <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                              v-model=\"this.clientData.departmentID\" v-if=\"(departmentList.length > 1)\">\r\n                        <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\r\n                                v-bind:value=\"department.departmentID\">{{ department.name }}\r\n                        </option>\r\n                      </select>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                              v-model=\"this.clientData.departmentID\" v-else>\r\n                        <option v-bind:value=\"departmentList.departmentID\">{{ departmentList.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editInterview\" class=\"form-label mb-2\">Interview</label>\r\n                      <flat-pickr\r\n                          v-model=\"this.clientData.interview\"\r\n                          :config=\"dateTimeConfig\"\r\n                          id=\"editInterview\"\r\n                          name=\"editInterview\"\r\n                          class=\"form-control\"\r\n                          data-provider=\"timepickr\"\r\n                          data-time-hrs=\"true\"\r\n                      ></flat-pickr>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-8\">\r\n                      <label for=\"editAddress\" class=\"form-label\">Address</label>\r\n                      <input type=\"text\" id=\"editAddress\" name=\"editAddress\" class=\"form-control mb-2\" placeholder=\"Enter Address\" required v-model=\"this.clientData.address\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editBirthdate\" class=\"form-label\"> Birthdate </label>\r\n                      <flat-pickr\r\n                          v-model=\"this.clientData.birthday\"\r\n                          :config=\"timeConfig\"\r\n                          class=\"form-control flatpickr-input\"\r\n                          id=\"editBirthdate\"\r\n                          name=\"editBirthdate\"\r\n                      ></flat-pickr>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-2\">\r\n                      <label for=\"editState\" class=\"form-label\">State</label>\r\n                      <input type=\"text\" id=\"editState\" name=\"editState\" class=\"form-control mb-2\" placeholder=\"Enter State\" required v-model=\"this.clientData.state\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editCountry\" class=\"form-label\">Country</label>\r\n                      <input type=\"text\" id=\"editCountry\" name=\"editCountry\" class=\"form-control mb-2\" placeholder=\"Enter Country\" required v-model=\"this.clientData.country\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editCity\" class=\"form-label\">City</label>\r\n                      <input type=\"text\" id=\"editCity\" name=\"editCity\" class=\"form-control mb-2\" placeholder=\"Enter City\" required v-model=\"this.clientData.city\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editPostalCode\" class=\"form-label\">Postal code</label>\r\n                      <input type=\"text\" id=\"editPostalCode\" name=\"editPostalCode\" class=\"form-control mb-2\" placeholder=\"Enter Address\" required v-model=\"this.clientData.postalCode\"/>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\" v-if=\"this.openCreate === 1\">\r\n                    <div class=\"mt-4\">\r\n                      <label\r\n                          for=\"editNotes\"\r\n                          class=\"form-label text-muted text-uppercase fw-semibold\"\r\n                      >Notes</label>\r\n                      <textarea\r\n                          class=\"form-control alert alert-primary\"\r\n                          v-model=\"this.clientData.note\"\r\n                          id=\"editNotes\"\r\n                          name=\"editNotes\"\r\n                          placeholder=\"Notes\"\r\n                          rows=\"2\"\r\n                      ></textarea>\r\n                    </div>\r\n                  </div >\r\n                  <div class=\"row\" v-if=\"this.openCreate === 1\">\r\n                    <!-- Add beneficiaries -->\r\n                    <fieldset class=\"fieldset-style\">\r\n                      <legend class=\"legend-style\"><small style=\"font-size: 0.7em;\">Add Beneficiary <b>+</b></small> <span class=\"btn btn-success\" @click=\"addBeneficiary()\" style=\"float: right;\"><i class=\"ri-add-line\"></i></span>\r\n                        <hr></legend>\r\n                      <div class=\"form-group\">\r\n                        <div id=\"addBeneficiary\">\r\n                        </div>\r\n                      </div>\r\n                    </fieldset>\r\n\r\n                    <!-- Add Emergency contacts -->\r\n                    <fieldset class=\"fieldset-style\">\r\n                      <legend class=\"legend-style\"><small style=\"font-size: 0.7em;\">Emergency Contacts <b>+</b></small> <span class=\"btn btn-success\" @click=\"addEcontact()\" style=\"float: right;\"><i class=\"ri-add-line\"></i></span><hr></legend>\r\n                      <div class=\"form-group\">\r\n                        <form id=\"addEcontact\">\r\n                        </form>\r\n                      </div>\r\n                    </fieldset>\r\n\r\n                    <!-- Add Additaments -->\r\n                    <fieldset class=\"fieldset-style\">\r\n                      <legend class=\"legend-style\"><small style=\"font-size: 0.7em;\">Add Additaments <b>+</b></small> <span class=\"btn btn-success\" @click=\"addAdditaments()\" style=\"float: right;\"><i class=\"ri-add-line\"></i></span><hr></legend>\r\n                      <div class=\"form-group\">\r\n                        <form id=\"addAdditaments\">\r\n                        </form>\r\n                      </div>\r\n                    </fieldset>\r\n                  </div>\r\n                </div>\r\n                <!--end col-->\r\n              </div>\r\n              <!--end row-->\r\n            </div>\r\n\r\n            <div class=\"modal-footer\">\r\n              <div class=\"hstack gap-2 justify-content-end\">\r\n                <button type=\"button\" class=\"btn btn-light\" id=\"closemodal\" data-bs-dismiss=\"modal\">Close</button>\r\n                <button type=\"submit\" class=\"btn btn-success\" id=\"add-btn\" @click=\"createClient\">Save</button>\r\n                <button type=\"button\" class=\"btn btn-success\" id=\"edit-btn\" @click=\"updateClient\">Update</button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Filters Modal -->\r\n    <div id=\"open-filters\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"myModalLabel\">Filters</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"> </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-12\">\r\n                <label for=\"filterKeyword\" class=\"form-label\">Keyword</label>\r\n                <input type=\"text\" id=\"filterKeyword\" name=\"filterKeyword\" class=\"form-control mb-2\" placeholder=\"Enter Keyword\" v-model=\"this.data.searchValues.keyword\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterType\" class=\"form-label\">Type</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"filterType\" name=\"filterType\" v-model=\"this.data.searchValues.type\">\r\n                  <option v-for=\"(type, typeIndex) of typeList\" :key=\"typeIndex\" v-bind:value=\"type.code\">{{ type.name }}</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterStatus\" class=\"form-label\">Status</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"filterStatus\" v-model=\"this.data.searchValues.status\">\r\n                  <option value=\"0\">All</option>\r\n                  <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editLanguage\" class=\"form-label\">Language</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"filterLanguage\" name=\"filterLanguage\" v-model=\"this.data.searchValues.language\">\r\n                  <option value=\"1\">English</option>\r\n                  <option value=\"2\">Spanish</option>\r\n                  <option value=\"3\">Both</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editStatus\" class=\"form-label\">Search by Notes</label>\r\n                <input type=\"text\" id=\"filterNotes\" name=\"filterNotes\" class=\"form-control mb-2\" placeholder=\"Enter note\" v-model=\"this.data.searchValues.noteSearch\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterFromDate\" class=\"form-label\"> From date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.data.searchValues.fromDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterFromDate\"\r\n                    name=\"filterFromDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterToDate\" class=\"form-label\"> To Date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.data.searchValues.toDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterToDate\"\r\n                    name=\"filterToDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-light\" data-bs-dismiss=\"modal\">Close</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"updateClientList()\">Search</button>\r\n          </div>\r\n        </div><!-- /.modal-content -->\r\n      </div><!-- /.modal-dialog -->\r\n    </div><!-- /.modal -->\r\n\r\n    <!-- Notes Modal -->\r\n    <div id=\"open-notes\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <notes :dataList=\"notesData\" @onFire=\"getNotes()\"> </notes>\r\n        </div><!-- /.modal-content -->\r\n      </div><!-- /.modal-dialog -->\r\n    </div><!-- /.modal -->\r\n\r\n    <!-- Move to Prospect Modal -->\r\n    <div id=\"changeStatus\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\">\r\n      <div class=\"modal-dialog modal-dialog-centered\">\r\n        <div class=\"modal-content \">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"myModalLabel\">Move Prospects</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"> </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-12\">\r\n                <label for=\"filterStatus\" class=\"form-label\">Status</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"moveStatus\">\r\n                  <option value=\"0\">All</option>\r\n                  <option v-for=\"(status, statusIndex) of prospectStatusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-light\" id=\"closeMove\" data-bs-dismiss=\"modal\">Close</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"moveClient()\">Move</button>\r\n          </div>\r\n        </div><!-- /.modal-content -->\r\n      </div><!-- /.modal-dialog -->\r\n    </div><!-- /.modal -->\r\n\r\n  </Layout>\r\n</template>\r\n<style>\r\n.row-spacer{\r\n  margin-bottom: 10px;\r\n}\r\n</style>"]}]}