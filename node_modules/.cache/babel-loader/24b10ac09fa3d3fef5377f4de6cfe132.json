{"remainingRequest":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\wamp64\\www\\crm\\frontend\\src\\views\\agents\\agentPayments.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\wamp64\\www\\crm\\frontend\\src\\views\\agents\\agentPayments.vue","mtime":1682716975729},{"path":"C:\\wamp64\\www\\crm\\frontend\\babel.config.js","mtime":1645939880000},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1668443304941},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1652458135842},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1668443313146}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L3dhbXA2NC93d3cvY3JtL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRlc3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgZmxhdFBpY2tyIGZyb20gInZ1ZS1mbGF0cGlja3ItY29tcG9uZW50IjsKaW1wb3J0ICJmbGF0cGlja3IvZGlzdC9mbGF0cGlja3IuY3NzIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgTXVsdGlzZWxlY3QgZnJvbSAiQHZ1ZWZvcm0vbXVsdGlzZWxlY3QiOwppbXBvcnQgIkB2dWVmb3JtL211bHRpc2VsZWN0L3RoZW1lcy9kZWZhdWx0LnNjc3MiOwppbXBvcnQgTGF5b3V0IGZyb20gIi4uLy4uL2xheW91dHMvbWFpbi52dWUiOwppbXBvcnQgUGFnZUhlYWRlciBmcm9tICJAL2NvbXBvbmVudHMvcGFnZS1oZWFkZXIiOwppbXBvcnQgYXBwQ29uZmlnIGZyb20gIi4uLy4uLy4uL2FwcC5jb25maWciOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBMb3R0aWUgZnJvbSAiQC9jb21wb25lbnRzL3dpZGdldHMvbG90dGllLnZ1ZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhbmltYXRpb25EYXRhIGZyb20gIkAvY29tcG9uZW50cy93aWRnZXRzL21zb2Vhd3FtLmpzb24iOwppbXBvcnQgand0X2RlY29kZSBmcm9tICJqd3QtZGVjb2RlIjsKZXhwb3J0IGRlZmF1bHQgewogIHBhZ2U6IHsKICAgIHRpdGxlOiAiQWdlbnRzIiwKICAgIG1ldGE6IFt7CiAgICAgIG5hbWU6ICJkZXNjcmlwdGlvbiIsCiAgICAgIGNvbnRlbnQ6IGFwcENvbmZpZy5kZXNjcmlwdGlvbgogICAgfV0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIExheW91dDogTGF5b3V0LAogICAgUGFnZUhlYWRlcjogUGFnZUhlYWRlciwKICAgIGxvdHRpZTogTG90dGllLAogICAgTXVsdGlzZWxlY3Q6IE11bHRpc2VsZWN0LAogICAgZmxhdFBpY2tyOiBmbGF0UGlja3IKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogIkFnZW50IFBheW1lbnRzIiwKICAgICAgaXRlbXM6IFt7CiAgICAgICAgdGV4dDogIkFnZW50cyIsCiAgICAgICAgaHJlZjogIi8iCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiQWdlbnQgUGF5bWVudHMiLAogICAgICAgIGFjdGl2ZTogdHJ1ZQogICAgICB9XSwKICAgICAgdGltZUNvbmZpZzogewogICAgICAgIGVuYWJsZVRpbWU6IGZhbHNlLAogICAgICAgIGRhdGVGb3JtYXQ6ICJkIE0sIFkiCiAgICAgIH0sCiAgICAgIGRhdGVUaW1lQ29uZmlnOiB7CiAgICAgICAgZW5hYmxlVGltZTogdHJ1ZSwKICAgICAgICBkYXRlRm9ybWF0OiAiRiBqLCBZIEg6aSBLIgogICAgICB9LAogICAgICBsaXN0OiBbXSwKICAgICAgYWdlbnREYXRhOiB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIGVtYWlsOiAnJywKICAgICAgICBmaXJzdE5hbWU6ICcnLAogICAgICAgIGxhc3ROYW1lOiAnJywKICAgICAgICBsYW5ndWFnZTogJycsCiAgICAgICAgc3RhdHVzOiAnJywKICAgICAgICBwaG9uZTogJycsCiAgICAgICAgZGVwYXJ0bWVudDogJycsCiAgICAgICAgc3RhdGU6ICcnLAogICAgICAgIGJpcnRoRGF0ZTogJycsCiAgICAgICAgYWRkcmVzczogJycsCiAgICAgICAgY291bnRyeTogJycsCiAgICAgICAgemlwQ29kZTogJycsCiAgICAgICAgaW50ZXJ2aWV3OiAnJywKICAgICAgICBhZ2VudE51bWJlcjogJycsCiAgICAgICAgY3JlYXRlZEJ5OiAnJywKICAgICAgICBpbnN1cmFuY2VMaWNlbnNlOiAnJywKICAgICAgICBsaWNlbnNlTnVtYmVyOiAnJwogICAgICB9LAogICAgICBkZXBhcnRtZW50TGlzdDoge30sCiAgICAgIHN0YXR1c0xpc3Q6IHt9LAogICAgICBzb3VyY2VzTGlzdDoge30sCiAgICAgIHBhZ2U6IDEsCiAgICAgIHBlclBhZ2U6IDEwMCwKICAgICAgcGFnZXM6IFtdLAogICAgICBzZWFyY2hRdWVyeTogbnVsbCwKICAgICAgaHVtYW5mcmllbmRseUNvbmZpZzogewogICAgICAgIGRhdGVGb3JtYXQ6ICJGIGosIFkiCiAgICAgIH0sCiAgICAgIGRhdGE6IHsKICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgIHNlYXJjaFZhbHVlczogewogICAgICAgICAgbGltaXRUbzogdGhpcy5wZXJQYWdlLAogICAgICAgICAgaXNBY3RpdmU6IDEsCiAgICAgICAgICBub3RlU2VhcmNoOiAnJywKICAgICAgICAgIGtleXdvcmQ6ICcnLAogICAgICAgICAgbGljZW5zZWQ6IDEsCiAgICAgICAgICBsYW5ndWFnZTogMywKICAgICAgICAgIHN0YXR1czogMCwKICAgICAgICAgIHNvcnRCeTogJ2NyZWF0ZWRPbicsCiAgICAgICAgICBvcmRlckJ5OiAnREVTQycsCiAgICAgICAgICBkYXRlUmFuZ2U6IDAsCiAgICAgICAgICBkZXBhcnRtZW50OiAnMCcsCiAgICAgICAgICB0b0RhdGU6IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi11cycsIHsKICAgICAgICAgICAgeWVhcjogIm51bWVyaWMiLAogICAgICAgICAgICBtb250aDogImxvbmciLAogICAgICAgICAgICBkYXk6ICJudW1lcmljIgogICAgICAgICAgfSksCiAgICAgICAgICBmcm9tRGF0ZTogbmV3IERhdGUobmV3IERhdGUoKS5zZXRGdWxsWWVhcihuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgLSAxKSkudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi11cycsIHsKICAgICAgICAgICAgeWVhcjogIm51bWVyaWMiLAogICAgICAgICAgICBtb250aDogImxvbmciLAogICAgICAgICAgICBkYXk6ICJudW1lcmljIgogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlZmF1bHRPcHRpb25zOiB7CiAgICAgICAgYW5pbWF0aW9uRGF0YTogYW5pbWF0aW9uRGF0YQogICAgICB9LAogICAgICBub3Rlc0RhdGE6IFtdLAogICAgICBpZE51bWJlcjogMSwKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBjb25maXJtUGFzd29yZDogJycsCiAgICAgIGhhdmVQZXJtaXNzaW9uczogJycKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgY29tcGFuaWVzOiBmdW5jdGlvbiBjb21wYW5pZXMoKSB7CiAgICAgIHRoaXMuc2V0UGFnZXMoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNldFBhZ2VzKCk7CiAgfSwKICBmaWx0ZXJzOiB7CiAgICB0cmltV29yZHM6IGZ1bmN0aW9uIHRyaW1Xb3Jkcyh2YWx1ZSkgewogICAgICByZXR1cm4gdmFsdWUuc3BsaXQoIiAiKS5zcGxpY2UoMCwgMjApLmpvaW4oIiAiKSArICIuLi4iOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZWRpdGRhdGE6IGZ1bmN0aW9uIGVkaXRkYXRhKGRhdGEpIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkJykudmFsdWUgPSBkYXRhLmlkOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VzdG9tZXJuYW1lJykudmFsdWUgPSBkYXRhLm5hbWU7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wYW55bmFtZScpLnZhbHVlID0gZGF0YS5jb21wYW55OwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhZHNzY29yZScpLnZhbHVlID0gZGF0YS5zY29yZTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bob25lJykudmFsdWUgPSBkYXRhLnBob25lOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9jYXRpb24nKS52YWx1ZSA9IGRhdGEubG9jYXRpb247CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlJykudmFsdWUgPSBkYXRhLmRhdGU7CiAgICB9LAogICAgdXBkYXRlQWdlbnQ6IGZ1bmN0aW9uIHVwZGF0ZUFnZW50KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGRhdGEsIGxpc3QsIGk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycyA9IFtdOwoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRFbWFpbCcpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdFbWFpbCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIV90aGlzLnZhbGlkRW1haWwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRFbWFpbCcpLnZhbHVlKSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnVmFsaWQgZW1haWwgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEZpcnN0TmFtZScpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdGaXJzdCBOYW1lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYXN0TmFtZScpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdMYXN0IE5hbWUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExhbmd1YWdlJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ0xhbmd1YWdlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0dXMnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnU3RhdHVzIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQaG9uZU51bWJlcicpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdQaG9uZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMudmFsaWRQaG9uZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBob25lTnVtYmVyJykudmFsdWUpID09PSBmYWxzZSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBob25lTnVtYmVyJykudmFsdWUgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdQbGVhc2UsIHdyaXRlIGEgdmFsaWQgcGhvbmUgbnVtYmVyIScpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXREZXBhcnRtZW50JykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ0RlcGFydG1lbnQgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEJpcnRoRGF0ZScpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdCaXJ0aCBkYXRlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRBZGRyZXNzJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ0FkZHJlc3MgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEFnZW50TnVtYmVyJykudmFsdWUgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0dXMnKS52YWx1ZSA9PT0gNSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnQWdlbnQgTnVtYmVyIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMaWNlbnNlZCcpLnZhbHVlICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdHVzJykudmFsdWUgPT09IDUgfHwgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGljZW5zZWQnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnSW5zdXJhbmNlIExpY2Vuc2VkPyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGljZW5zZWQnKS52YWx1ZSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFN0YXR1cycpLnZhbHVlID09PSA1IHx8ICFfdGhpcy5hZ2VudERhdGEubGljZW5zZU51bWJlciAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExpY2Vuc2VkJykudmFsdWUgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ0xpY2Vuc2UgbnVtYmVyIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5lcnJvcnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICAgICAgICAgICAgZW1haWw6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RW1haWwnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgZmlyc3ROYW1lOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEZpcnN0TmFtZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBsYXN0TmFtZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYXN0TmFtZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBsYW5ndWFnZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYW5ndWFnZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBzdGF0dXM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdHVzJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBob25lTnVtYmVyJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGRlcGFydG1lbnRJRDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXREZXBhcnRtZW50JykudmFsdWUsCiAgICAgICAgICAgICAgICAgIHN0YXRlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFN0YXRlJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIHNvdXJjZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTb3VyY2UnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgY2l0eTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRDaXR5JykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGJpcnRoRGF0ZTogX3RoaXMuZm9ybWF0RGF0ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEJpcnRoRGF0ZScpLnZhbHVlLCAnREQgTU1NLCBZWVlZJyksCiAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QWRkcmVzcycpLnZhbHVlLAogICAgICAgICAgICAgICAgICBjb3VudHJ5OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdENvdW50cnknKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQb3N0YWxDb2RlJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGludGVydmlld0RhdGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0SW50ZXJ2aWV3JykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGFnZW50TnVtYmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEFnZW50TnVtYmVyJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGNyZWF0ZWRCeTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgICAgICAgIGlzTGljZW5zZWQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGljZW5zZWQnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgbGljZW5zZU51bWJlcjogX3RoaXMuYWdlbnREYXRhLmxpY2Vuc2VOdW1iZXIsCiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgICAgICAgIGFnZW50SUQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpLnZhbHVlCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxODsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoJy9hcGkvdXBkYXRlQWdlbnQnLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZW1vZGFsJykuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0FnZW50IHVwZGF0ZSBzdWNjZXNzZnVsbHkhJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjogIikuY29uY2F0KGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjaGVjayB0aGUgZm9sbG93aW5nOiAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IF90aGlzLmVycm9ycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIF90aGlzLmVycm9yc1tpXSArICc8L2I+JzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNvbXBsZXRlIHRoZSBmb3JtISAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZGROZXdBZ2VudE1vZGFsOiBmdW5jdGlvbiBhZGROZXdBZ2VudE1vZGFsKCkgewogICAgICB0aGlzLnJlc2V0QWdlbnREYXRhKCk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRmb3JtIikucmVzZXQoKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FnZW50TW9kYWxMYWJlbCcpLmlubmVySFRNTCA9ICJBZGQgQWdlbnQiOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLWJ0bicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC1idG4nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdE5vdGVPcGVuJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdNYXBzTGluayIpLmhyZWYgPSAnIyc7CiAgICB9LAogICAgY3JlYXRlQWdlbnQ6IGZ1bmN0aW9uIGNyZWF0ZUFnZW50KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciBkYXRhLCBsaXN0LCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzID0gW107CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuYWdlbnREYXRhLmVtYWlsKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnRW1haWwgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFfdGhpczIudmFsaWRFbWFpbChfdGhpczIuYWdlbnREYXRhLmVtYWlsKSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ1ZhbGlkIGVtYWlsIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmFnZW50RGF0YS5maXJzdE5hbWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdGaXJzdCBOYW1lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmFnZW50RGF0YS5sYXN0TmFtZSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0xhc3QgTmFtZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5hZ2VudERhdGEubGFuZ3VhZ2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdMYW5ndWFnZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5hZ2VudERhdGEuc3RhdHVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnU3RhdHVzIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmFnZW50RGF0YS5waG9uZSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ1Bob25lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIudmFsaWRQaG9uZShfdGhpczIuYWdlbnREYXRhLnBob25lKSA9PT0gZmFsc2UgJiYgX3RoaXMyLmFnZW50RGF0YS5waG9uZSAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdQbGVhc2UsIHdyaXRlIGEgdmFsaWQgcGhvbmUgbnVtYmVyIScpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmFnZW50RGF0YS5kZXBhcnRtZW50KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnRGVwYXJ0bWVudCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5hZ2VudERhdGEuYmlydGhEYXRlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnQmlydGggZGF0ZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5hZ2VudERhdGEuYWRkcmVzcykgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0FkZHJlc3MgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuYWdlbnREYXRhLmFnZW50TnVtYmVyICYmIF90aGlzMi5hZ2VudERhdGEuc3RhdHVzID09PSA1KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnQWdlbnQgTnVtYmVyIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmFnZW50RGF0YS5pbnN1cmFuY2VMaWNlbnNlICYmIF90aGlzMi5hZ2VudERhdGEuc3RhdHVzID09PSA1IHx8ICFfdGhpczIuYWdlbnREYXRhLmluc3VyYW5jZUxpY2Vuc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdpcyBJbnN1cmFuY2UgTGljZW5zZWQ/IGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmFnZW50RGF0YS5saWNlbnNlTnVtYmVyICYmIF90aGlzMi5hZ2VudERhdGEuc3RhdHVzID09PSA1IHx8ICFfdGhpczIuYWdlbnREYXRhLmxpY2Vuc2VOdW1iZXIgJiYgX3RoaXMyLmFnZW50RGF0YS5pbnN1cmFuY2VMaWNlbnNlID09PSAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnTGljZW5zZSBudW1iZXIgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi5lcnJvcnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICAgICAgICAgICAgZW1haWw6IF90aGlzMi5hZ2VudERhdGEuZW1haWwsCiAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogX3RoaXMyLmFnZW50RGF0YS5maXJzdE5hbWUsCiAgICAgICAgICAgICAgICAgIGxhc3ROYW1lOiBfdGhpczIuYWdlbnREYXRhLmxhc3ROYW1lLAogICAgICAgICAgICAgICAgICBsYW5ndWFnZTogX3RoaXMyLmFnZW50RGF0YS5sYW5ndWFnZSwKICAgICAgICAgICAgICAgICAgc3RhdHVzOiBfdGhpczIuYWdlbnREYXRhLnN0YXR1cywKICAgICAgICAgICAgICAgICAgc291cmNlOiBfdGhpczIuYWdlbnREYXRhLnNvdXJjZSwKICAgICAgICAgICAgICAgICAgcGhvbmVOdW1iZXI6IF90aGlzMi5hZ2VudERhdGEucGhvbmUsCiAgICAgICAgICAgICAgICAgIGRlcGFydG1lbnRJRDogX3RoaXMyLmFnZW50RGF0YS5kZXBhcnRtZW50LAogICAgICAgICAgICAgICAgICBzdGF0ZTogX3RoaXMyLmFnZW50RGF0YS5zdGF0ZSwKICAgICAgICAgICAgICAgICAgY2l0eTogX3RoaXMyLmFnZW50RGF0YS5jaXR5LAogICAgICAgICAgICAgICAgICBiaXJ0aERhdGU6IF90aGlzMi5mb3JtYXREYXRlKF90aGlzMi5hZ2VudERhdGEuYmlydGhEYXRlLCAnREQgTU1NLCBZWVlZJyksCiAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IF90aGlzMi5hZ2VudERhdGEuYWRkcmVzcywKICAgICAgICAgICAgICAgICAgY291bnRyeTogX3RoaXMyLmFnZW50RGF0YS5jb3VudHJ5LAogICAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBfdGhpczIuYWdlbnREYXRhLnppcENvZGUsCiAgICAgICAgICAgICAgICAgIGludGVydmlld0RhdGU6IF90aGlzMi5hZ2VudERhdGEuaW50ZXJ2aWV3LAogICAgICAgICAgICAgICAgICBhZ2VudE51bWJlcjogX3RoaXMyLmFnZW50RGF0YS5hZ2VudE51bWJlciwKICAgICAgICAgICAgICAgICAgY3JlYXRlZEJ5OiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgaXNMaWNlbnNlZDogX3RoaXMyLmFnZW50RGF0YS5pbnN1cmFuY2VMaWNlbnNlLAogICAgICAgICAgICAgICAgICBsaWNlbnNlTnVtYmVyOiBfdGhpczIuYWdlbnREYXRhLmxpY2Vuc2VOdW1iZXIsCiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJykKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY3JlYXRlQWdlbnQnLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRmb3JtIikucmVzZXQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZS5kYXRhWydJRCddICE9PSBudWxsKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZW1vZGFsJykuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdBZ2VudCBjcmVhdGVkIHN1Y2Nlc3NmdWxseSEnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmNCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNoZWNrIHRoZSBmb2xsb3dpbmc6ICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IF90aGlzMi5lcnJvcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBfdGhpczIuZXJyb3JzW2ldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY29tcGxldGUgdGhlIGZvcm0hICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldERlcGFydG1lbnRzOiBmdW5jdGlvbiBnZXREZXBhcnRtZW50cygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvZ2V0RGVwYXJ0bWVudHMnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIlNvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRVc2VySW5mbzogZnVuY3Rpb24gZ2V0VXNlckluZm8oaWQpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgZGF0YSwgYWdlbnRJbmZvOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC1idG4nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtYnRuJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZ2VudE1vZGFsTGFiZWwnKS5pbm5lckhUTUwgPSAiRWRpdCBBZ2VudCI7CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICBJRDogaWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdE5vdGVPcGVuJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LmdldE5vdGVzKGlkKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvZ2V0VXNlcicsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGFnZW50SW5mbyA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICAgICAgICBfdGhpczQuc2V0QWdlbnREYXRhKGFnZW50SW5mbyk7CgogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQnKS52YWx1ZSA9IGFnZW50SW5mby5JRDsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRFbWFpbCcpLnZhbHVlID0gYWdlbnRJbmZvLmVtYWlsOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEZpcnN0TmFtZScpLnZhbHVlID0gYWdlbnRJbmZvLmZpcnN0TmFtZTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYXN0TmFtZScpLnZhbHVlID0gYWdlbnRJbmZvLmxhc3ROYW1lOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExhbmd1YWdlJykudmFsdWUgPSBhZ2VudEluZm8ubGFuZ3VhZ2U7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdHVzJykudmFsdWUgPSBhZ2VudEluZm8uc3RhdHVzOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBob25lTnVtYmVyJykudmFsdWUgPSBhZ2VudEluZm8ucGhvbmVOdW1iZXI7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RGVwYXJ0bWVudCcpLnZhbHVlID0gYWdlbnRJbmZvLmRlcGFydG1lbnRJRDsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRCaXJ0aERhdGUnKS52YWx1ZSA9IGFnZW50SW5mby5kYXRlT2ZCaXJ0aDsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRBZGRyZXNzJykudmFsdWUgPSBhZ2VudEluZm8uYWRkcmVzczsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0ZScpLnZhbHVlID0gYWdlbnRJbmZvLnN0YXRlOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdENvdW50cnknKS52YWx1ZSA9IGFnZW50SW5mby5jb3VudHJ5OwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBvc3RhbENvZGUnKS52YWx1ZSA9IGFnZW50SW5mby5wb3N0YWxDb2RlOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEFnZW50TnVtYmVyJykudmFsdWUgPSBhZ2VudEluZm8uYWdlbnROdW1iZXI7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Q3JlYXRlZEJ5JykudmFsdWUgPSBhZ2VudEluZm8uY3JlYXRlZEJ5OwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExpY2Vuc2VkJykudmFsdWUgPSBhZ2VudEluZm8uaXNMaWNlbnNlZDsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRJbnRlcnZpZXcnKS52YWx1ZSA9IF90aGlzNC5mb3JtYXREYXRlKGFnZW50SW5mby5pbnRlcnZpZXdEYXRlLCAnTU1NTSBERCwgWVlZWSBIOm1tIEEnKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNC5nZXRNYXBzTGluaygpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdmFsaWRFbWFpbDogZnVuY3Rpb24gdmFsaWRFbWFpbChlbWFpbCkgewogICAgICB2YXIgcmUgPSAvXigoW148PigpW1xdXFwuLDs6XHNAIl0rKFwuW148PigpW1xdXFwuLDs6XHNAIl0rKSopfCgiLisiKSlAKChcW1swLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cXSl8KChbYS16QS1aXC0wLTldK1wuKStbYS16QS1aXXsyLH0pKSQvOwogICAgICByZXR1cm4gcmUudGVzdChlbWFpbC50cmltKCkpOwogICAgfSwKICAgIHZhbGlkUGhvbmU6IGZ1bmN0aW9uIHZhbGlkUGhvbmUocGhvbmUpIHsKICAgICAgcmV0dXJuIC9eKFwrezAsfSkoXGR7MCx9KShbKF17MX1cZHsxLDN9WyldezAsfSl7MCx9KFxzP1xkK3xcK1xkezIsM31cc3sxfVxkK3xcZCspezF9W1xzfC1dP1xkKyhbXHN8LV0/XGQrKXsxLDJ9KFxzKXswLH0kL2dtLnRlc3QocGhvbmUpOwogICAgfSwKICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSwgZm9ybWF0KSB7CiAgICAgIGRhdGUgPSBtb21lbnQoZGF0ZSkuZm9ybWF0KGZvcm1hdCk7CiAgICAgIHJldHVybiBkYXRlOwogICAgfSwKICAgIGZvcm1hdFBob25lOiBmdW5jdGlvbiBmb3JtYXRQaG9uZShwaG9uZSkgewogICAgICB2YXIgZmxhZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDsKCiAgICAgIC8vIGlmIGZsYWcgPT0gMSBwdXQgdmFsdWUgaW4gcGhvbmUgRWRpdAogICAgICBpZiAocGhvbmUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHZhciB4ID0gcGhvbmUucmVwbGFjZSgvXEQvZywgJycpLm1hdGNoKC8oXGR7MCwzfSkoXGR7MCwzfSkoXGR7MCw0fSkvKTsKICAgICAgICBwaG9uZSA9ICF4WzJdID8geFsxXSA6ICcoJyArIHhbMV0gKyAnKSAnICsgeFsyXSArICh4WzNdID8gJy0nICsgeFszXSA6ICcnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwaG9uZSA9ICcnOwogICAgICB9CgogICAgICBpZiAoZmxhZyAhPT0gMSkgewogICAgICAgIHJldHVybiBwaG9uZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBob25lTnVtYmVyJykudmFsdWUgPSBwaG9uZTsKICAgICAgfQogICAgfSwKICAgIHNldEFnZW50RGF0YTogZnVuY3Rpb24gc2V0QWdlbnREYXRhKGRhdGEpIHsKICAgICAgdGhpcy5hZ2VudERhdGEuZW1haWwgPSBkYXRhLmVtYWlsOwogICAgICB0aGlzLmFnZW50RGF0YS5maXJzdE5hbWUgPSBkYXRhLmZpcnN0TmFtZTsKICAgICAgdGhpcy5hZ2VudERhdGEubGFzdE5hbWUgPSBkYXRhLmxhc3ROYW1lOwogICAgICB0aGlzLmFnZW50RGF0YS5sYW5ndWFnZSA9IGRhdGEubGFuZ3VhZ2U7CiAgICAgIHRoaXMuYWdlbnREYXRhLnN0YXR1cyA9IGRhdGEuc3RhdHVzOwogICAgICB0aGlzLmFnZW50RGF0YS5zb3VyY2UgPSBkYXRhLnNvdXJjZTsKICAgICAgdGhpcy5hZ2VudERhdGEucGhvbmUgPSBkYXRhLnBob25lTnVtYmVyOwogICAgICB0aGlzLmFnZW50RGF0YS5kZXBhcnRtZW50ID0gZGF0YS5kZXBhcnRtZW50SUQ7CiAgICAgIHRoaXMuYWdlbnREYXRhLmJpcnRoRGF0ZSA9IHRoaXMuZm9ybWF0RGF0ZShkYXRhLmRhdGVPZkJpcnRoLCAnREQgTU1NLCBZWVlZJyk7CiAgICAgIHRoaXMuYWdlbnREYXRhLmludGVydmlldyA9IHRoaXMuZm9ybWF0RGF0ZShkYXRhLmludGVydmlld0RhdGUsICdNTU1NIERELCBZWVlZIEg6TU0gQScpOwogICAgICB0aGlzLmFnZW50RGF0YS5hZGRyZXNzID0gZGF0YS5hZGRyZXNzOwogICAgICB0aGlzLmFnZW50RGF0YS5zdGF0ZSA9IGRhdGEuc3RhdGU7CiAgICAgIHRoaXMuYWdlbnREYXRhLmNpdHkgPSBkYXRhLmNpdHk7CiAgICAgIHRoaXMuYWdlbnREYXRhLmNvdW50cnkgPSBkYXRhLmNvdW50cnk7CiAgICAgIHRoaXMuYWdlbnREYXRhLnppcENvZGUgPSBkYXRhLnBvc3RhbENvZGU7CiAgICAgIHRoaXMuYWdlbnREYXRhLmFnZW50TnVtYmVyID0gZGF0YS5hZ2VudE51bWJlcjsKICAgICAgdGhpcy5hZ2VudERhdGEuY3JlYXRlZEJ5ID0gZGF0YS5jcmVhdGVkQnk7CiAgICAgIHRoaXMuYWdlbnREYXRhLmluc3VyYW5jZUxpY2Vuc2UgPSBkYXRhLmlzTGljZW5zZWQ7CiAgICAgIHRoaXMuYWdlbnREYXRhLmxpY2Vuc2VOdW1iZXIgPSBkYXRhLmxpY2Vuc2VOdW1iZXI7CiAgICB9LAogICAgcmVzZXRBZ2VudERhdGE6IGZ1bmN0aW9uIHJlc2V0QWdlbnREYXRhKCkgewogICAgICB0aGlzLmFnZW50RGF0YSA9IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIGZpcnN0TmFtZTogJycsCiAgICAgICAgbGFzdE5hbWU6ICcnLAogICAgICAgIGxhbmd1YWdlOiAnJywKICAgICAgICBzdGF0dXM6ICcnLAogICAgICAgIHBob25lOiAnJywKICAgICAgICBkZXBhcnRtZW50OiAnJywKICAgICAgICBzdGF0ZTogJycsCiAgICAgICAgYmlydGhEYXRlOiAnJywKICAgICAgICBhZGRyZXNzOiAnJywKICAgICAgICBjb3VudHJ5OiAnJywKICAgICAgICB6aXBDb2RlOiAnJywKICAgICAgICBpbnRlcnZpZXc6ICcnLAogICAgICAgIGFnZW50TnVtYmVyOiAnJywKICAgICAgICBjcmVhdGVkQnk6ICcnLAogICAgICAgIGluc3VyYW5jZUxpY2Vuc2U6ICcnLAogICAgICAgIGxpY2Vuc2VOdW1iZXI6ICcnCiAgICAgIH07CiAgICB9LAogICAgdXBkYXRlT3JkZXJMaXN0OiBmdW5jdGlvbiB1cGRhdGVPcmRlckxpc3QoKSB7CiAgICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzLAogICAgICAgICAgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHZhciBzdGF0dXMsIHZhbGlkYXRlLCBlcnJvcnMsIGZpbHRlckxhbmd1YWdlLCBmaWx0ZXJLZXl3b3JkLCBmaWx0ZXJMaWNlbnNlZCwgZmlsdGVyTm90ZXMsIGZpbHRlckZyb21EYXRlLCBmaWx0ZXJUb0RhdGUsIGlzQWN0aXZlLCBzdGFydCwgZW5kLCBkYXlzLCBkYXRhLCBsaXN0LCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0dXMgPSBfYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgX2FyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50c1swXSA6IDA7CiAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IHRydWU7CiAgICAgICAgICAgICAgICBlcnJvcnMgPSBbXTsKICAgICAgICAgICAgICAgIGZpbHRlckxhbmd1YWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlckxhbmd1YWdlIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJLZXl3b3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlcktleXdvcmQiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlckxpY2Vuc2VkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlckxpY2Vuc2VkIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJOb3RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJOb3RlcyIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyRnJvbURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyRnJvbURhdGUiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlclRvRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJUb0RhdGUiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGlzQWN0aXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2lzQWN0aXZlJykuY2hlY2tlZDsKICAgICAgICAgICAgICAgIF90aGlzNS5kYXRhLnNlYXJjaFZhbHVlcy5zdGF0dXMgPSBzdGF0dXM7CgogICAgICAgICAgICAgICAgaWYgKGlzQWN0aXZlID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5kYXRhLnNlYXJjaFZhbHVlcy5pc0FjdGl2ZSA9IDE7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczUuZGF0YS5zZWFyY2hWYWx1ZXMuaXNBY3RpdmUgPSAyOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJMYW5ndWFnZSAhPT0gJycgJiYgKGZpbHRlckxhbmd1YWdlID09PSAnMScgfHwgZmlsdGVyTGFuZ3VhZ2UgPT09ICcyJykpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmRhdGEuc2VhcmNoVmFsdWVzLmxhbmd1YWdlID0gZmlsdGVyTGFuZ3VhZ2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlcktleXdvcmQgIT09ICcnICYmIGZpbHRlcktleXdvcmQubGVuZ3RoID49IDMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmRhdGEuc2VhcmNoVmFsdWVzLmtleXdvcmQgPSBmaWx0ZXJLZXl3b3JkOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJLZXl3b3JkICE9PSAnJyAmJiBmaWx0ZXJLZXl3b3JkLmxlbmd0aCA8IDMpIHsKICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goJ0tleXdvcmQgc2VhcmNoIHNob3VsZCBoYXZlIDMgb3IgbW9yZSBjaGFyYWN0ZXJzIScpOwogICAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJMaWNlbnNlZCAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmRhdGEuc2VhcmNoVmFsdWVzLmxpY2Vuc2VkID0gZmlsdGVyTGljZW5zZWQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlck5vdGVzICE9PSAnJyAmJiBmaWx0ZXJOb3Rlcy5sZW5ndGggPj0gMykgewogICAgICAgICAgICAgICAgICBfdGhpczUuZGF0YS5zZWFyY2hWYWx1ZXMubm90ZVNlYXJjaCA9IGZpbHRlck5vdGVzOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJOb3RlcyAhPT0gJycgJiYgZmlsdGVyTm90ZXMubGVuZ3RoIDwgMykgewogICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCgnTm90ZXMgc2VhcmNoIHNob3VsZCBoYXZlIDMgb3IgbW9yZSBjaGFyYWN0ZXJzIScpOwogICAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHN0YXJ0ID0gbW9tZW50KF90aGlzNS5mb3JtYXREYXRlKGZpbHRlckZyb21EYXRlLCAnWVlZWS1NTS1ERCcpKTsKICAgICAgICAgICAgICAgIGVuZCA9IG1vbWVudChfdGhpczUuZm9ybWF0RGF0ZShmaWx0ZXJUb0RhdGUsICdZWVlZLU1NLUREJykpOwogICAgICAgICAgICAgICAgZGF5cyA9IGVuZC5kaWZmKHN0YXJ0LCAiZGF5cyIpOwoKICAgICAgICAgICAgICAgIGlmIChkYXlzIDw9IDM2NSkgewogICAgICAgICAgICAgICAgICBfdGhpczUuZGF0YS5zZWFyY2hWYWx1ZXMuZnJvbURhdGUgPSBmaWx0ZXJGcm9tRGF0ZTsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmRhdGEuc2VhcmNoVmFsdWVzLnRvRGF0ZSA9IGZpbHRlclRvRGF0ZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCJGcm9tIERhdGUgYW5kIFRvIERhdGUgKHJhbmdlKSBjb3VsZG4ndCBiZSBsYXJnZXIgdGhhbiBhIHllYXIgKDM2NSBkYXlzKSEiKTsKICAgICAgICAgICAgICAgICAgdmFsaWRhdGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICBpc1Byb3NwZWN0OiAwLAogICAgICAgICAgICAgICAgICBzZWFyY2hWYWx1ZXM6IF90aGlzNS5kYXRhLnNlYXJjaFZhbHVlcywKICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkYXRlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QoJy9hcGkvY29tbS9saXN0T2ZPcmRlcicsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5saXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgX3RoaXM1LnBhZ2UgPSAxOwoKICAgICAgICAgICAgICAgICAgX3RoaXM1LnNldFBhZ2VzKCk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgfSAvLyBmb3IgKGNvbnN0IHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmVycm9ycy5wdXNoKGAke3Byb3BlcnR5fTogJHtlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XX1gKQogICAgICAgICAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNS5lcnJvcnMucHVzaCgnU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4nKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGVycm9ycy5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgICAgICAgICAgICBsaXN0ICs9IGVycm9yc1tpXSArICcgXG4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjk7CiAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKCIiICsgbGlzdCwgJycsICdpbmZvJyk7CgogICAgICAgICAgICAgIGNhc2UgMjk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZXRQYWdlczogZnVuY3Rpb24gc2V0UGFnZXMoKSB7CiAgICAgIHZhciBudW1iZXJPZlBhZ2VzID0gTWF0aC5jZWlsKHRoaXMubGlzdC5sZW5ndGggLyB0aGlzLnBlclBhZ2UpOwogICAgICB0aGlzLnBhZ2VzID0gW107CgogICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDw9IG51bWJlck9mUGFnZXM7IGluZGV4KyspIHsKICAgICAgICB0aGlzLnBhZ2VzLnB1c2goaW5kZXgpOwogICAgICB9CiAgICB9LAogICAgcGFnaW5hdGU6IGZ1bmN0aW9uIHBhZ2luYXRlKGNvbXBhbmllcykgewogICAgICB2YXIgcGFnZSA9IHRoaXMucGFnZTsKICAgICAgdmFyIHBlclBhZ2UgPSB0aGlzLnBlclBhZ2U7CiAgICAgIHZhciBmcm9tID0gcGFnZSAqIHBlclBhZ2UgLSBwZXJQYWdlOwogICAgICB2YXIgdG8gPSBwYWdlICogcGVyUGFnZTsKICAgICAgcmV0dXJuIGNvbXBhbmllcy5zbGljZShmcm9tLCB0byk7CiAgICB9LAogICAgZmlsdGVyU3RhdHVzOiBmdW5jdGlvbiBmaWx0ZXJTdGF0dXMoc3RhdHVzKSB7CiAgICAgIHZhciBzdGF0dXNCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdGF0dXMpOwogICAgICBzdGF0dXNCdXR0b24uY2xpY2soKTsKICAgIH0sCiAgICBkZWxldGVVc2VyOiBmdW5jdGlvbiBkZWxldGVVc2VyKElEKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdmFyIHN3YWxXaXRoQm9vdHN0cmFwQnV0dG9ucyA9IFN3YWwubWl4aW4oewogICAgICAgIGN1c3RvbUNsYXNzOiB7CiAgICAgICAgICBjb25maXJtQnV0dG9uOiAiYnRuIGJ0bi1kYW5nZXIgbWwtMiIsCiAgICAgICAgICBjYW5jZWxCdXR0b246ICJidG4gYnRuLXN1Y2Nlc3MiCiAgICAgICAgfSwKICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UKICAgICAgfSk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzZWxlY3RlZFVzZXInLCBJRCk7CiAgICAgIHN3YWxXaXRoQm9vdHN0cmFwQnV0dG9ucy5maXJlKHsKICAgICAgICB0aXRsZTogIkFyZSB5b3Ugc3VyZT8iLAogICAgICAgIHRleHQ6ICJZb3Ugd29uJ3QgYmUgYWJsZSB0byByZXZlcnQgdGhpcyEiLAogICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlllcywgZGVsZXRlIGl0ISIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIk5vLCBjYW5jZWwhIiwKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICB1c2VyTmFtZTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZpcnN0TmFtZScpICsgJyAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhc3RuYW1lJyksCiAgICAgICAgICAgIHVzZXJFbWFpbDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgIGFnZW50SUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWxlY3RlZFVzZXInKQogICAgICAgICAgfTsKICAgICAgICAgIGF4aW9zLnB1dCgnL2FwaS9kZWxldGVVc2VyJywgZGF0YSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIF9yZWY1ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYudXBkYXRlT3JkZXJMaXN0KCk7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3dhbFdpdGhCb290c3RyYXBCdXR0b25zLmZpcmUoIkRlbGV0ZWQhIiwgIkFnZW50IGhhcyBiZWVuIGRlbGV0ZWQuIiwgInN1Y2Nlc3MiKTsKCiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCBfY2FsbGVlMTApOwogICAgICAgICAgICB9KSk7CgogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NSkgewogICAgICAgICAgICAgIHJldHVybiBfcmVmNS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICB9OwogICAgICAgICAgfSgpKS5jYXRjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIF9yZWY2ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoZXJyb3IpIHsKICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjogIikuY29uY2F0KGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldKSk7CgogICAgICAgICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5lcnJvcnMucHVzaCgnU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4nKTsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCBfY2FsbGVlMTEpOwogICAgICAgICAgICB9KSk7CgogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NikgewogICAgICAgICAgICAgIHJldHVybiBfcmVmNi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICB9OwogICAgICAgICAgfSgpKTsKICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgIC8qIFJlYWQgbW9yZSBhYm91dCBoYW5kbGluZyBkaXNtaXNzYWxzIGJlbG93ICovCiAgICAgICAgcmVzdWx0LmRpc21pc3MgPT09IFN3YWwuRGlzbWlzc1JlYXNvbi5jYW5jZWwpIHsKICAgICAgICAgIHN3YWxXaXRoQm9vdHN0cmFwQnV0dG9ucy5maXJlKCJDYW5jZWxsZWQiLCAiQWdlbnQgaXMgaW4gYSBzYWZlIHBsYWNlIDopIiwgImVycm9yIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVGb2N1czogZnVuY3Rpb24gaGFuZGxlRm9jdXMoZSkgewogICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoImF1dG9jb21wbGV0ZSIsICJub3BlIik7CiAgICB9LAogICAgdmlld1VzZXJHcm91cDogZnVuY3Rpb24gdmlld1VzZXJHcm91cChyZXF1ZXN0KSB7CiAgICAgIHZhciBjdXJyZW50Um9sZSA9IGp3dF9kZWNvZGUobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpKTsKICAgICAgcmV0dXJuIGN1cnJlbnRSb2xlLnVzZXJHcm91cC5pbmNsdWRlcyhyZXF1ZXN0KTsKICAgIH0sCiAgICBwcmludEVtaXQ6IGZ1bmN0aW9uIHByaW50RW1pdChub3RpZnkpIHsKICAgICAgdGhpcy5jaGF0TWVzc2FnZXNEYXRhID0gbm90aWZ5OwogICAgfSwKICAgIGZvcm1TdWJtaXQ6IGZ1bmN0aW9uIGZvcm1TdWJtaXQoKSB7CiAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsgLy8gc3RvcCBoZXJlIGlmIGZvcm0gaXMgaW52YWxpZAoKICAgICAgdGhpcy52JC4kdG91Y2goKTsKCiAgICAgIGlmICh0aGlzLnYkLiRpbnZhbGlkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5mb3JtLm1lc3NhZ2U7CiAgICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTsKICAgICAgICB0aGlzLmNoYXRNZXNzYWdlc0RhdGEucHVzaCh7CiAgICAgICAgICBhbGlnbjogInJpZ2h0IiwKICAgICAgICAgIG5hbWU6ICJIZW5yeSBXZWxscyIsCiAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgICAgICAgdGltZTogY3VycmVudERhdGUuZ2V0SG91cnMoKSArICI6IiArIGN1cnJlbnREYXRlLmdldE1pbnV0ZXMoKQogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOwogICAgICB0aGlzLmZvcm0gPSB7fTsKICAgIH0sCiAgICBjaGF0VXNlcm5hbWU6IGZ1bmN0aW9uIGNoYXRVc2VybmFtZShuYW1lLCBpbWFnZSkgewogICAgICB0aGlzLnVzZXJuYW1lID0gbmFtZTsKICAgICAgdGhpcy5wcm9maWxlID0gaW1hZ2U7CiAgICAgIHRoaXMudXNlcm1lc3NhZ2UgPSAiSGVsbG8iOwogICAgICB0aGlzLmNoYXRNZXNzYWdlc0RhdGEgPSBbXTsKICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5jaGF0TWVzc2FnZXNEYXRhLnB1c2goewogICAgICAgIG5hbWU6IHRoaXMudXNlcm5hbWUsCiAgICAgICAgbWVzc2FnZTogdGhpcy51c2VybWVzc2FnZSwKICAgICAgICB0aW1lOiBjdXJyZW50RGF0ZS5nZXRIb3VycygpICsgIjoiICsgY3VycmVudERhdGUuZ2V0TWludXRlcygpCiAgICAgIH0pOwogICAgfSwKICAgIGdldE5vdGVzOiBmdW5jdGlvbiBnZXROb3RlcygpIHsKICAgICAgdmFyIF9hcmd1bWVudHMyID0gYXJndW1lbnRzLAogICAgICAgICAgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICB2YXIgaWQsIGRhdGEsIHVybDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlkID0gX2FyZ3VtZW50czIubGVuZ3RoID4gMCAmJiBfYXJndW1lbnRzMlswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50czJbMF0gOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2VsZWN0ZWRVc2VyJyk7CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICBhZ2VudElEOiBpZCwKICAgICAgICAgICAgICAgICAgY2xpZW50SUQ6IGlkCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3NlbGVjdGVkVXNlcicsIGlkKTsKICAgICAgICAgICAgICAgIHVybCA9ICcnOwogICAgICAgICAgICAgICAgdXJsID0gJy9hcGkvZ2V0VXNlck5vdGVzJzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCh1cmwsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5ub3Rlc0RhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiTm90ZXMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdXBkYXRlVXNlclBhc3N3b3JkOiBmdW5jdGlvbiB1cGRhdGVVc2VyUGFzc3dvcmQoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KCkgewogICAgICAgIHZhciBkYXRhLCBsaXN0LCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM4LmVycm9ycyA9IFtdOwoKICAgICAgICAgICAgICAgIGlmICghX3RoaXM4LnBhc3N3b3JkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOC5lcnJvcnMucHVzaCgnTmV3IHBhc3N3b3JkIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXM4LmNvbmZpcm1QYXN3b3JkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOC5lcnJvcnMucHVzaCgnQ29uZmlybSBQYXNzd29yZCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM4LnBhc3N3b3JkICE9PSBfdGhpczguY29uZmlybVBhc3dvcmQgfHwgX3RoaXM4LnBhc3N3b3JkLmxlbmd0aCA8PSAwICYmIF90aGlzOC5jb25maXJtUGFzd29yZC5sZW5ndGggPD0gMCkgewogICAgICAgICAgICAgICAgICBfdGhpczguZXJyb3JzLnB1c2goJ1Bhc3N3b3JkcyBkb25cJ3QgbWF0Y2guJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzOC5lcnJvcnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWxlY3RlZFVzZXInKSwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzOC5wYXNzd29yZCwKICAgICAgICAgICAgICAgICAgY29uZmlybVBhc3N3b3JkOiBfdGhpczguY29uZmlybVBhc3dvcmQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnB1dCgnL2FwaS91cGRhdGVVc2VyUGFzc3dvcmQnLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMyhyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnUGFzc3dvcmQgdXBkYXRlZCEnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlbW9kYWxQYXNzd29yZCcpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczgucGFzc3dvcmQgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5jb25maXJtUGFzd29yZCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxMyk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g3KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY3LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpLmNhdGNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjggPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIHZhciBsaXN0LCBwcm9wZXJ0eTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczguJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSArICc8L2I+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNoZWNrIHRoZSBmb2xsb3dpbmc6ICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczguZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTE0KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjguYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IF90aGlzOC5lcnJvcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBfdGhpczguZXJyb3JzW2ldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNvbXBsZXRlIHRoZSBmb3JtISAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNldFVzZXJJRDogZnVuY3Rpb24gc2V0VXNlcklEKElEKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzZWxlY3RlZFVzZXInLCBJRCk7CiAgICB9LAogICAgZ2V0TWFwc0xpbms6IGZ1bmN0aW9uIGdldE1hcHNMaW5rKCkgewogICAgICB2YXIgbGluayA9ICdodHRwczovL21hcHMuZ29vZ2xlLmNvbS8/cT0nOwoKICAgICAgaWYgKHRoaXMuYWdlbnREYXRhLmFkZHJlc3MubGVuZ3RoID4gMCkgewogICAgICAgIGxpbmsgKz0gJysnICsgdGhpcy5hZ2VudERhdGEuYWRkcmVzczsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuYWdlbnREYXRhLnppcENvZGUubGVuZ3RoID4gMCkgewogICAgICAgIGxpbmsgKz0gJysnICsgdGhpcy5hZ2VudERhdGEuemlwQ29kZTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuYWdlbnREYXRhLmNpdHkubGVuZ3RoID4gMCkgewogICAgICAgIGxpbmsgKz0gJysnICsgdGhpcy5hZ2VudERhdGEuY2l0eTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuYWdlbnREYXRhLnN0YXRlLmxlbmd0aCA+IDApIHsKICAgICAgICBsaW5rICs9ICcrJyArIHRoaXMuYWdlbnREYXRhLnN0YXRlOwogICAgICB9CgogICAgICBpZiAobGluayAhPT0gJ2h0dHBzOi8vbWFwcy5nb29nbGUuY29tLz9xPScpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ01hcHNMaW5rIikuaHJlZiA9IGxpbms7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdNYXBzTGluayIpLmhyZWYgPSAnIyc7CiAgICAgIH0KICAgIH0sCiAgICBnZXRVc2VyUGVybWlzc2lvbnM6IGZ1bmN0aW9uIGdldFVzZXJQZXJtaXNzaW9ucygpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTgoKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOCQoX2NvbnRleHQxOCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE4LnByZXYgPSBfY29udGV4dDE4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWxlY3RlZFVzZXInKSwKICAgICAgICAgICAgICAgICAgc2VsZWN0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2l2ZVBlcm1pc3Npb25zJykKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvZ2V0UGVybWlzc2lvbnNDb3VudCcsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmOSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczkuaGF2ZVBlcm1pc3Npb25zID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczkuaGF2ZVBlcm1pc3Npb25zID0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxNik7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g5KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpLmNhdGNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjEwID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTcoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNyQoX2NvbnRleHQxNykgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM5LiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczkuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjaGVjayB0aGUgZm9sbG93aW5nOiAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM5LmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxNyk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gxMCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMTAuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcGVybWlzc2lvbnNUb1VzZXI6IGZ1bmN0aW9uIHBlcm1pc3Npb25zVG9Vc2VyKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjEoKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMSQoX2NvbnRleHQyMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIxLnByZXYgPSBfY29udGV4dDIxLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2l2ZVBlcm1pc3Npb25zJykgIT09ICcnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWxlY3RlZFVzZXInKSwKICAgICAgICAgICAgICAgICAgc2VsZWN0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2l2ZVBlcm1pc3Npb25zJyksCiAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb246IF90aGlzMTAuaGF2ZVBlcm1pc3Npb25zCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL3VwZGF0ZVBlcm1pc3Npb25zJywgZGF0YSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYxMSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE5KHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOSQoX2NvbnRleHQxOSkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE5LnByZXYgPSBfY29udGV4dDE5Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTAuaGF2ZVBlcm1pc3Npb25zID09PSAnMScgJiYgcmVzcG9uc2UuZGF0YSA9PT0gMSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdQZXJtaXNzaW9ucyBhc3NpZ25lZCEnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZS5kYXRhID09PSAwKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdpbmZvJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdObyBjaGFuZ2UgYXBwbGllZC4nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnTm90aGluZyBIYXBwZW5zIScKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdQZXJtaXNzaW9ucyByZW1vdmVkIScKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlbW9kYWxQYXNzd29yZCcpLmNsaWNrKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxOSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gxMSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMTEuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMTIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIHZhciBsaXN0LCBwcm9wZXJ0eTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIwJChfY29udGV4dDIwKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjAucHJldiA9IF9jb250ZXh0MjAubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjogIikuY29uY2F0KGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIwLm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIwKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDEyKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYxMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjEpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIyKCkgewogICAgICB2YXIgZmllbGQsIHVybCwgcXVlcnlTdHJpbmcsIHVybFBhcmFtcywgc3RhdHVzLCBkYXRhLCBjaGVja0FsbDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMiQoX2NvbnRleHQyMikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjIucHJldiA9IF9jb250ZXh0MjIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZmllbGQgPSAnbic7CiAgICAgICAgICAgICAgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CiAgICAgICAgICAgICAgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoOwogICAgICAgICAgICAgIHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocXVlcnlTdHJpbmcpOwogICAgICAgICAgICAgIHN0YXR1cyA9IHVybFBhcmFtcy5nZXQoZmllbGQpOwogICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgc2VhcmNoVmFsdWVzOiBfdGhpczExLmRhdGEuc2VhcmNoVmFsdWVzCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dDIyLm5leHQgPSA4OwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2xpc3REZXBhcnRtZW50cycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBfdGhpczExLmRlcGFydG1lbnRMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIkRlcGFydG1lbnRzIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvbGlzdFN0YXR1cycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBfdGhpczExLnN0YXR1c0xpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczExLiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiU3RhdHVzIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDEyOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2xpc3RTb3VyY2UnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXMxMS5zb3VyY2VzTGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTEuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJTdGF0dXMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgaWYgKCEodXJsLmluZGV4T2YoJz8nICsgZmllbGQgKyAnPScpICE9PSAtMSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdGF0dXMpLmNsaWNrKCk7CiAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDE4OwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2NvbW0vbGlzdE9mT3JkZXInLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXMxMS5saXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzMTEucGFnZSA9IDE7CgogICAgICAgICAgICAgICAgX3RoaXMxMS5zZXRQYWdlcygpOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczExLiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgIH0gLy8gZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZXJyb3JzLnB1c2goYCR7cHJvcGVydHl9OiAke2Vycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldfWApCiAgICAgICAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMS5lcnJvcnMucHVzaCgnU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2hlY2tBbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hlY2tBbGwiKTsKCiAgICAgICAgICAgICAgaWYgKGNoZWNrQWxsKSB7CiAgICAgICAgICAgICAgICBjaGVja0FsbC5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgY2hlY2tib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtLWNoZWNrLWFsbCBpbnB1dFt0eXBlPSJjaGVja2JveCJdJyk7CgogICAgICAgICAgICAgICAgICBpZiAoY2hlY2tBbGwuY2hlY2tlZCA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hlcy5mb3JFYWNoKGZ1bmN0aW9uIChjaGVja2JveCkgewogICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5jbG9zZXN0KCJ0ciIpLmNsYXNzTGlzdC5hZGQoInRhYmxlLWFjdGl2ZSIpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNoZWNrYm94ZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hlY2tib3gpIHsKICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNsb3Nlc3QoInRyIikuY2xhc3NMaXN0LnJlbW92ZSgidGFibGUtYWN0aXZlIik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMjIpOwogICAgfSkpKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgZGlzcGxheWVkUG9zdHM6IGZ1bmN0aW9uIGRpc3BsYXllZFBvc3RzKCkgewogICAgICByZXR1cm4gdGhpcy5wYWdpbmF0ZSh0aGlzLmxpc3QpOwogICAgfSwKICAgIHJlc3VsdFF1ZXJ5OiBmdW5jdGlvbiByZXN1bHRRdWVyeSgpIHsKICAgICAgaWYgKHRoaXMuZGF0YS5zZWFyY2hWYWx1ZXMua2V5d29yZC5sZW5ndGggPj0gMykgewogICAgICAgIHZhciBzZWFyY2ggPSB0aGlzLmRhdGEuc2VhcmNoVmFsdWVzLmtleXdvcmQudG9Mb3dlckNhc2UoKTsKICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5ZWRQb3N0cy5maWx0ZXIoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBkYXRhLmFkZHJlc3MudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpIHx8IGRhdGEuYWdlbnROdW1iZXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpIHx8IGRhdGEuY2l0eS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5lbWFpbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5waG9uZU51bWJlci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5maXJzdE5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpIHx8IGRhdGEubGFzdE5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpIHx8IGRhdGEuZnVsbG5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpIHx8IGRhdGEuc3RhdHVzTmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheWVkUG9zdHM7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"mappings":"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","names":["flatPickr","moment","Multiselect","Layout","PageHeader","appConfig","Swal","Lottie","axios","animationData","jwt_decode","page","title","meta","name","content","description","components","lottie","data","items","text","href","active","timeConfig","enableTime","dateFormat","dateTimeConfig","list","agentData","username","email","firstName","lastName","language","status","phone","department","state","birthDate","address","country","zipCode","interview","agentNumber","createdBy","insuranceLicense","licenseNumber","departmentList","statusList","sourcesList","perPage","pages","searchQuery","humanfriendlyConfig","token","localStorage","getItem","searchValues","limitTo","isActive","noteSearch","keyword","licensed","sortBy","orderBy","dateRange","toDate","Date","toLocaleDateString","year","month","day","fromDate","setFullYear","getFullYear","defaultOptions","notesData","idNumber","password","confirmPasword","havePermissions","watch","companies","setPages","created","filters","trimWords","value","split","splice","join","methods","editdata","document","getElementById","id","company","score","location","date","updateAgent","errors","push","validEmail","validPhone","length","phoneNumber","departmentID","source","city","formatDate","postalCode","interviewDate","isLicensed","userID","agentID","put","then","response","click","fire","icon","catch","error","detail","$router","property","confirmButtonClass","buttonsStyling","showCloseButton","message","i","addNewAgentModal","resetAgentData","reset","innerHTML","style","display","createAgent","post","getDepartments","console","log","getUserInfo","ID","getNotes","agentInfo","setAgentData","dateOfBirth","getMapsLink","re","test","trim","format","formatPhone","flag","undefined","x","replace","match","updateOrderList","validate","filterLanguage","filterKeyword","filterLicensed","filterNotes","filterFromDate","filterToDate","querySelector","checked","start","end","days","diff","isProspect","userEmail","numberOfPages","Math","ceil","index","paginate","from","to","slice","filterStatus","statusButton","deleteUser","swalWithBootstrapButtons","mixin","customClass","confirmButton","cancelButton","setItem","confirmButtonText","cancelButtonText","showCancelButton","result","userName","dismiss","DismissReason","cancel","handleFocus","e","target","setAttribute","viewUserGroup","request","currentRole","userGroup","includes","printEmit","notify","chatMessagesData","formSubmit","submitted","v$","$touch","$invalid","form","currentDate","align","time","getHours","getMinutes","chatUsername","image","profile","usermessage","clientID","url","updateUserPassword","confirmPassword","setUserID","link","getUserPermissions","select","permissionsToUser","permission","mounted","field","window","queryString","search","urlParams","URLSearchParams","get","indexOf","checkAll","onclick","checkboxes","querySelectorAll","forEach","checkbox","closest","classList","add","remove","computed","displayedPosts","resultQuery","toLowerCase","filter","fullname","statusName"],"sourceRoot":"","sources":["C:\\wamp64\\www\\crm\\frontend\\src\\views\\agents\\agentPayments.vue"],"sourcesContent":["<script>\r\nimport flatPickr from \"vue-flatpickr-component\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\nimport moment from \"moment\";\r\nimport Multiselect from \"@vueform/multiselect\";\r\nimport \"@vueform/multiselect/themes/default.scss\";\r\nimport Layout from \"../../layouts/main.vue\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport appConfig from \"../../../app.config\";\r\nimport Swal from \"sweetalert2\";\r\nimport Lottie from \"@/components/widgets/lottie.vue\";\r\nimport axios from \"axios\";\r\nimport animationData from \"@/components/widgets/msoeawqm.json\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nexport default {\r\n  page: {\r\n    title: \"Agents\",\r\n    meta: [{name: \"description\", content: appConfig.description}],\r\n  },\r\n  components: {\r\n    Layout,\r\n    PageHeader,\r\n    lottie: Lottie,\r\n    Multiselect,\r\n    flatPickr,\r\n  },\r\n  data() {\r\n    return{\r\n      title: \"Agent Payments\",\r\n      items: [\r\n        {\r\n          text: \"Agents\",\r\n          href: \"/\",\r\n        },\r\n        {\r\n          text: \"Agent Payments\",\r\n          active: true,\r\n        },\r\n      ],\r\n      timeConfig: {\r\n        enableTime: false,\r\n        dateFormat: \"d M, Y\"\r\n      },\r\n      dateTimeConfig: {\r\n        enableTime: true,\r\n        dateFormat: \"F j, Y H:i K\"\r\n      },\r\n      list: [],\r\n      agentData: {\r\n        username: '',\r\n        email: '',\r\n        firstName: '',\r\n        lastName: '',\r\n        language: '',\r\n        status: '',\r\n        phone: '',\r\n        department: '',\r\n        state: '',\r\n        birthDate: '',\r\n        address: '',\r\n        country: '',\r\n        zipCode: '',\r\n        interview: '',\r\n        agentNumber: '',\r\n        createdBy: '',\r\n        insuranceLicense: '',\r\n        licenseNumber: ''\r\n      },\r\n      departmentList: {},\r\n      statusList: {},\r\n      sourcesList: {},\r\n      page: 1,\r\n      perPage: 100,\r\n      pages: [],\r\n      searchQuery: null,\r\n      humanfriendlyConfig: {\r\n        dateFormat: \"F j, Y\",\r\n      },\r\n      data: {\r\n        token: localStorage.getItem('jwt'),\r\n        searchValues: {\r\n          limitTo: this.perPage,\r\n          isActive: 1,\r\n          noteSearch: '',\r\n          keyword: '',\r\n          licensed: 1,\r\n          language: 3,\r\n          status: 0,\r\n          sortBy: 'createdOn',\r\n          orderBy: 'DESC',\r\n          dateRange: 0,\r\n          department: '0' ,\r\n          toDate: new Date().toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}) ,\r\n          fromDate: new Date(new Date().setFullYear(new Date().getFullYear() - 1)).toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}),\r\n        }\r\n      },\r\n      defaultOptions: { animationData: animationData },\r\n      notesData: [],\r\n      idNumber: 1,\r\n      password: '',\r\n      confirmPasword: '',\r\n      havePermissions:'',\r\n    }\r\n  },\r\n  watch: {\r\n    companies() {\r\n      this.setPages();\r\n    },\r\n  },\r\n  created() {\r\n    this.setPages();\r\n  },\r\n  filters: {\r\n    trimWords(value) {\r\n      return value.split(\" \").splice(0, 20).join(\" \") + \"...\";\r\n    },\r\n  },\r\n  methods: {\r\n    editdata(data){\r\n\r\n      document.getElementById('id').value= data.id\r\n      document.getElementById('customername').value=data.name;\r\n      document.getElementById('companyname').value=data.company;\r\n      document.getElementById('leadsscore').value=data.score;\r\n      document.getElementById('phone').value=data.phone;\r\n      document.getElementById('location').value=data.location;\r\n      document.getElementById('date').value=data.date;\r\n    },\r\n    async updateAgent() {\r\n\r\n      this.errors = []\r\n\r\n      if (!document.getElementById('editEmail').value) {\r\n        this.errors.push('Email is required.');\r\n      } else if (!this.validEmail(document.getElementById('editEmail').value)) {\r\n        this.errors.push('Valid email is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editFirstName').value) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editLastName').value) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editLanguage').value) {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editStatus').value) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editPhoneNumber').value) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if(this.validPhone(document.getElementById('editPhoneNumber').value) === false && document.getElementById('editPhoneNumber').value !== ''){\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!document.getElementById('editDepartment').value) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editBirthDate').value) {\r\n        this.errors.push('Birth date is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editAddress').value) {\r\n        this.errors.push('Address is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editAgentNumber').value && document.getElementById('editStatus').value === 5) {\r\n        this.errors.push('Agent Number is required.');\r\n      }\r\n\r\n      if ((!document.getElementById('editLicensed').value && document.getElementById('editStatus').value === 5) || !document.getElementById('editLicensed').value) {\r\n        this.errors.push('Insurance Licensed? is required.');\r\n      }\r\n\r\n      if ((!document.getElementById('editLicensed').value && document.getElementById('editStatus').value === 5) || (!this.agentData.licenseNumber && document.getElementById('editLicensed').value === 1)) {\r\n        this.errors.push('License number is required.');\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n        const data = {\r\n          username: '',\r\n          email: document.getElementById('editEmail').value,\r\n          firstName: document.getElementById('editFirstName').value,\r\n          lastName: document.getElementById('editLastName').value,\r\n          language: document.getElementById('editLanguage').value,\r\n          status: document.getElementById('editStatus').value,\r\n          phoneNumber: document.getElementById('editPhoneNumber').value,\r\n          departmentID: document.getElementById('editDepartment').value,\r\n          state: document.getElementById('editState').value,\r\n          source: document.getElementById('editSource').value,\r\n          city: document.getElementById('editCity').value,\r\n          birthDate: this.formatDate(document.getElementById('editBirthDate').value, 'DD MMM, YYYY'),\r\n          address: document.getElementById('editAddress').value,\r\n          country: document.getElementById('editCountry').value,\r\n          postalCode: document.getElementById('editPostalCode').value,\r\n          interviewDate: document.getElementById('editInterview').value,\r\n          agentNumber: document.getElementById('editAgentNumber').value,\r\n          createdBy: localStorage.getItem('email'),\r\n          isLicensed: document.getElementById('editLicensed').value,\r\n          licenseNumber: this.agentData.licenseNumber,\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('id'),\r\n          agentID: document.getElementById('id').value\r\n        }\r\n\r\n        await axios\r\n            .put('/api/updateAgent', data)\r\n            .then(async response => {\r\n              if (response) {\r\n                document.getElementById('closemodal').click();\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Agent update successfully!'\r\n                });\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  await this.$router.push('logout')\r\n                }\r\n\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i] + '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    addNewAgentModal() {\r\n      this.resetAgentData()\r\n      document.getElementById(\"addform\").reset();\r\n      document.getElementById('agentModalLabel').innerHTML=\"Add Agent\";\r\n      document.getElementById('add-btn').style.display='block';\r\n      document.getElementById('edit-btn').style.display='none';\r\n      document.getElementById('editNoteOpen').style.display='none';\r\n      document.getElementById(\"gMapsLink\").href = '#';\r\n    },\r\n    async createAgent() {\r\n      this.errors = []\r\n\r\n      if (!this.agentData.email) {\r\n        this.errors.push('Email is required.');\r\n      } else if (!this.validEmail(this.agentData.email)) {\r\n        this.errors.push('Valid email is required.');\r\n      }\r\n\r\n      if (!this.agentData.firstName) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!this.agentData.lastName) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (!this.agentData.language) {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (!this.agentData.status) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!this.agentData.phone) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if(this.validPhone(this.agentData.phone) === false && this.agentData.phone !== ''){\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!this.agentData.department) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (!this.agentData.birthDate) {\r\n        this.errors.push('Birth date is required.');\r\n      }\r\n\r\n      if (!this.agentData.address) {\r\n        this.errors.push('Address is required.');\r\n      }\r\n\r\n      if (!this.agentData.agentNumber && this.agentData.status === 5) {\r\n        this.errors.push('Agent Number is required.');\r\n      }\r\n\r\n      if ((!this.agentData.insuranceLicense && this.agentData.status === 5) || !this.agentData.insuranceLicense) {\r\n        this.errors.push('is Insurance Licensed? is required.');\r\n      }\r\n\r\n      if ((!this.agentData.licenseNumber && this.agentData.status === 5) || (!this.agentData.licenseNumber && this.agentData.insuranceLicense === 1)) {\r\n        this.errors.push('License number is required.');\r\n      }\r\n\r\n      if(!this.errors.length) {\r\n        const data = {\r\n          username:  '',\r\n          email:  this.agentData.email,\r\n          firstName:  this.agentData.firstName,\r\n          lastName:  this.agentData.lastName,\r\n          language:  this.agentData.language,\r\n          status:  this.agentData.status,\r\n          source:  this.agentData.source,\r\n          phoneNumber:  this.agentData.phone,\r\n          departmentID:  this.agentData.department,\r\n          state:  this.agentData.state,\r\n          city:  this.agentData.city,\r\n          birthDate: this.formatDate(this.agentData.birthDate, 'DD MMM, YYYY'),\r\n          address:  this.agentData.address,\r\n          country:  this.agentData.country,\r\n          postalCode:  this.agentData.zipCode,\r\n          interviewDate:  this.agentData.interview,\r\n          agentNumber:  this.agentData.agentNumber,\r\n          createdBy:  localStorage.getItem('email'),\r\n          isLicensed:  this.agentData.insuranceLicense,\r\n          licenseNumber: this.agentData.licenseNumber,\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('id')\r\n        }\r\n\r\n        await axios\r\n            .post('/api/createAgent', data)\r\n            .then(async response => {\r\n              document.getElementById(\"addform\").reset();\r\n              if (response.data['ID'] !== null) {\r\n                document.getElementById('closemodal').click();\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Agent created successfully!'\r\n                });\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  await this.$router.push('logout')\r\n                }\r\n\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i]+ '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    async getDepartments() {\r\n\r\n      await axios\r\n          .post('/api/getDepartments')\r\n          .then(response => {\r\n            console.log(response);\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async getUserInfo(id) {\r\n      document.getElementById('edit-btn').style.display='block';\r\n      document.getElementById('add-btn').style.display='none'\r\n      document.getElementById('agentModalLabel').innerHTML=\"Edit Agent\"\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        ID: id\r\n      }\r\n\r\n      document.getElementById('editNoteOpen').style.display='block';\r\n      await this.getNotes(id)\r\n      let agentInfo;\r\n\r\n      await axios\r\n          .post('/api/getUser', data)\r\n          .then(response => {\r\n            agentInfo=response.data\r\n            this.setAgentData(agentInfo);\r\n            document.getElementById('id').value=agentInfo.ID\r\n            document.getElementById('editEmail').value=agentInfo.email;\r\n            document.getElementById('editFirstName').value=agentInfo.firstName;\r\n            document.getElementById('editLastName').value=agentInfo.lastName;\r\n            document.getElementById('editLanguage').value=agentInfo.language;\r\n            document.getElementById('editStatus').value=agentInfo.status\r\n            document.getElementById('editPhoneNumber').value= agentInfo.phoneNumber;\r\n            document.getElementById('editDepartment').value=agentInfo.departmentID;\r\n            document.getElementById('editBirthDate').value=agentInfo.dateOfBirth;\r\n            document.getElementById('editAddress').value=agentInfo.address;\r\n            document.getElementById('editState').value=agentInfo.state;\r\n            document.getElementById('editCountry').value=agentInfo.country;\r\n            document.getElementById('editPostalCode').value=agentInfo.postalCode;\r\n            document.getElementById('editAgentNumber').value=agentInfo.agentNumber;\r\n            document.getElementById('editCreatedBy').value=agentInfo.createdBy;\r\n            document.getElementById('editLicensed').value=agentInfo.isLicensed;\r\n            document.getElementById('editInterview').value= this.formatDate(agentInfo.interviewDate, 'MMMM DD, YYYY H:mm A');\r\n            this.getMapsLink()\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    validEmail: function (email) {\r\n      const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      return re.test(email.trim());\r\n    },\r\n    validPhone: function (phone) {\r\n      return /^(\\+{0,})(\\d{0,})([(]{1}\\d{1,3}[)]{0,}){0,}(\\s?\\d+|\\+\\d{2,3}\\s{1}\\d+|\\d+){1}[\\s|-]?\\d+([\\s|-]?\\d+){1,2}(\\s){0,}$/gm.test(phone);\r\n    },\r\n    formatDate: function(date, format){\r\n      date = moment(date).format(format)\r\n      return date;\r\n    },\r\n    formatPhone: function(phone, flag=0) {\r\n\r\n      // if flag == 1 put value in phone Edit\r\n      if(phone !== undefined){\r\n        const x = phone.replace(/\\D/g, '').match(/(\\d{0,3})(\\d{0,3})(\\d{0,4})/);\r\n        phone = !x[2] ? x[1] : '(' + x[1] + ') ' + x[2] + (x[3] ? '-' + x[3] : '');\r\n      }else{\r\n        phone = ''\r\n      }\r\n\r\n      if(flag !== 1){\r\n        return phone;\r\n      }else{\r\n        document.getElementById('editPhoneNumber').value = phone;\r\n      }\r\n    },\r\n    setAgentData: function(data) {\r\n      this.agentData.email=data.email;\r\n      this.agentData.firstName=data.firstName;\r\n      this.agentData.lastName=data.lastName;\r\n      this.agentData.language=data.language;\r\n      this.agentData.status=data.status\r\n      this.agentData.source=data.source\r\n      this.agentData.phone=data.phoneNumber;\r\n      this.agentData.department=data.departmentID\r\n      this.agentData.birthDate= this.formatDate(data.dateOfBirth, 'DD MMM, YYYY');\r\n      this.agentData.interview=  this.formatDate(data.interviewDate, 'MMMM DD, YYYY H:MM A');\r\n      this.agentData.address=data.address;\r\n      this.agentData.state=data.state;\r\n      this.agentData.city=data.city;\r\n      this.agentData.country=data.country;\r\n      this.agentData.zipCode=data.postalCode;\r\n      this.agentData.agentNumber=data.agentNumber;\r\n      this.agentData.createdBy=data.createdBy;\r\n      this.agentData.insuranceLicense=data.isLicensed;\r\n      this.agentData.licenseNumber=data.licenseNumber;\r\n    },\r\n    resetAgentData: function(){\r\n      this.agentData =\r\n          {username: '',\r\n            email: '',\r\n            firstName: '',\r\n            lastName: '',\r\n            language: '',\r\n            status: '',\r\n            phone: '',\r\n            department: '',\r\n            state: '',\r\n            birthDate: '',\r\n            address: '',\r\n            country: '',\r\n            zipCode: '',\r\n            interview: '',\r\n            agentNumber: '',\r\n            createdBy: '',\r\n            insuranceLicense: '',\r\n            licenseNumber: ''\r\n          }\r\n    },\r\n    async updateOrderList(status=0) {\r\n\r\n      let validate = true;\r\n      let errors = [];\r\n      let filterLanguage = document.getElementById(\"filterLanguage\").value;\r\n      let filterKeyword = document.getElementById(\"filterKeyword\").value;\r\n      let filterLicensed = document.getElementById(\"filterLicensed\").value;\r\n      let filterNotes = document.getElementById(\"filterNotes\").value;\r\n      let filterFromDate = document.getElementById(\"filterFromDate\").value;\r\n      let filterToDate = document.getElementById(\"filterToDate\").value;\r\n      let isActive = document.querySelector('#isActive').checked;\r\n      this.data.searchValues.status = status;\r\n\r\n      if(isActive === true) {\r\n        this.data.searchValues.isActive = 1\r\n      } else {\r\n        this.data.searchValues.isActive = 2\r\n      }\r\n\r\n      if (filterLanguage !== '' && (filterLanguage === '1' || filterLanguage === '2')){\r\n        this.data.searchValues.language = filterLanguage;\r\n      }\r\n\r\n      if (filterKeyword !== '' && filterKeyword.length >= 3) {\r\n        this.data.searchValues.keyword = filterKeyword;\r\n      } else if (filterKeyword !== '' && filterKeyword.length < 3) {\r\n        errors.push('Keyword search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      if(filterLicensed !== ''){\r\n        this.data.searchValues.licensed = filterLicensed;\r\n      }\r\n\r\n      if (filterNotes !== '' && filterNotes.length >= 3) {\r\n        this.data.searchValues.noteSearch = filterNotes;\r\n      }else if(filterNotes !== '' && filterNotes.length < 3) {\r\n        errors.push('Notes search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      var start = moment(this.formatDate(filterFromDate, 'YYYY-MM-DD'));\r\n      var end = moment(this.formatDate(filterToDate, 'YYYY-MM-DD'));\r\n      var days = end.diff(start, \"days\");\r\n\r\n      if(days <= 365){\r\n        this.data.searchValues.fromDate = filterFromDate;\r\n        this.data.searchValues.toDate = filterToDate;\r\n      } else {\r\n        errors.push(\"From Date and To Date (range) couldn't be larger than a year (365 days)!\");\r\n        validate = false;\r\n      }\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        isProspect: 0,\r\n        searchValues: this.data.searchValues,\r\n        userEmail: localStorage.getItem('email'),\r\n        userID: localStorage.getItem('id'),\r\n      }\r\n\r\n      if(validate){\r\n        axios\r\n            .post('/api/comm/listOfOrder', data)\r\n            .then(response => {\r\n              this.list=response.data\r\n              this.page = 1\r\n              this.setPages()\r\n            })\r\n            .catch(error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  this.$router.push('logout')\r\n                }\r\n                // for (const property in error.response.data) {\r\n                // this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                // }\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      }else{\r\n        let list = '';\r\n        for (var i = 0; i < errors.length; i+=1) {\r\n          list += errors[i] + ' \\n';\r\n        }\r\n\r\n        await Swal.fire(\"\" + list, '', 'info');\r\n\r\n      }\r\n\r\n    },\r\n    setPages() {\r\n\r\n      let numberOfPages = Math.ceil(this.list.length / this.perPage);\r\n      this.pages = []\r\n      for (let index = 1; index <= numberOfPages; index++) {\r\n        this.pages.push(index);\r\n      }\r\n    },\r\n    paginate(companies) {\r\n      let page = this.page;\r\n      let perPage = this.perPage;\r\n      let from = page * perPage - perPage;\r\n      let to = page * perPage;\r\n      return companies.slice(from, to);\r\n    },\r\n    filterStatus(status){\r\n      var statusButton= document.getElementById(status);\r\n      statusButton.click();\r\n    },\r\n    deleteUser(ID) {\r\n      const swalWithBootstrapButtons = Swal.mixin({\r\n        customClass: {\r\n          confirmButton: \"btn btn-danger ml-2\",\r\n          cancelButton: \"btn btn-success\",\r\n        },\r\n        buttonsStyling: false,\r\n      });\r\n      localStorage.setItem('selectedUser', ID)\r\n      swalWithBootstrapButtons\r\n          .fire({\r\n            title: \"Are you sure?\",\r\n            text: \"You won't be able to revert this!\",\r\n            icon: \"warning\",\r\n            confirmButtonText: \"Yes, delete it!\",\r\n            cancelButtonText: \"No, cancel!\",\r\n            showCancelButton: true,\r\n          })\r\n          .then((result) => {\r\n            if (result.value) {\r\n\r\n              const data = {\r\n                token: localStorage.getItem('jwt'),\r\n                userID: localStorage.getItem('id'),\r\n                userName: localStorage.getItem('firstName') + ' ' + localStorage.getItem('lastname'),\r\n                userEmail: localStorage.getItem('email'),\r\n                agentID: localStorage.getItem('selectedUser')\r\n              }\r\n\r\n              axios\r\n                  .put('/api/deleteUser', data)\r\n                  .then(async response => {\r\n                    if (response) {\r\n                      await this.updateOrderList()\r\n                      await swalWithBootstrapButtons.fire(\r\n                          \"Deleted!\",\r\n                          \"Agent has been deleted.\",\r\n                          \"success\"\r\n                      );\r\n                    }\r\n                  })\r\n                  .catch(async error => {\r\n                    if (error.response) {\r\n                      let list = '';\r\n                      for (const property in error.response.data) {\r\n                        this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                        list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                      }\r\n\r\n                      await Swal.fire({\r\n                        title: \"Please check the following: \" + list,\r\n                        icon: 'warning',\r\n                        confirmButtonClass: \"btn btn-info\",\r\n                        buttonsStyling: false,\r\n                        showCloseButton: true,\r\n                      });\r\n\r\n                    } else if (error.message) {\r\n                      this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n                    }\r\n                  })\r\n            } else if (\r\n                /* Read more about handling dismissals below */\r\n                result.dismiss === Swal.DismissReason.cancel\r\n            ) {\r\n              swalWithBootstrapButtons.fire(\r\n                  \"Cancelled\",\r\n                  \"Agent is in a safe place :)\",\r\n                  \"error\"\r\n              );\r\n            }\r\n          });\r\n    },\r\n    handleFocus(e){\r\n      e.target.setAttribute(\"autocomplete\", \"nope\");\r\n    },\r\n    viewUserGroup(request) {\r\n      const currentRole = jwt_decode(localStorage.getItem('jwt'))\r\n      return currentRole.userGroup.includes(request)\r\n    },\r\n    printEmit(notify) {\r\n      this.chatMessagesData = notify;\r\n    },\r\n    formSubmit() {\r\n      this.submitted = true;\r\n\r\n      // stop here if form is invalid\r\n      this.v$.$touch();\r\n\r\n      if (this.v$.$invalid) {\r\n        return;\r\n      } else {\r\n        const message = this.form.message;\r\n        const currentDate = new Date();\r\n        this.chatMessagesData.push({\r\n          align: \"right\",\r\n          name: \"Henry Wells\",\r\n          message,\r\n          time: currentDate.getHours() + \":\" + currentDate.getMinutes(),\r\n        });\r\n      }\r\n      this.submitted = false;\r\n      this.form = {};\r\n    },\r\n    chatUsername(name, image) {\r\n      this.username = name;\r\n      this.profile = image;\r\n      this.usermessage = \"Hello\";\r\n      this.chatMessagesData = [];\r\n      const currentDate = new Date();\r\n\r\n      this.chatMessagesData.push({\r\n        name: this.username,\r\n        message: this.usermessage,\r\n        time: currentDate.getHours() + \":\" + currentDate.getMinutes(),\r\n      });\r\n    },\r\n    async getNotes (id = localStorage.getItem('selectedUser')) {\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        userID: localStorage.getItem('id'),\r\n        agentID: id,\r\n        clientID: id,\r\n      }\r\n\r\n      localStorage.setItem('selectedUser', id)\r\n\r\n      let url = '';\r\n      url = '/api/getUserNotes';\r\n\r\n      await axios\r\n          .post(url, data)\r\n          .then(response => {\r\n            this.notesData = response.data;\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n              Swal.fire(\"Oops!\", \"Notes could not be loaded, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async updateUserPassword(){\r\n\r\n      this.errors = []\r\n      if (!this.password) {\r\n        this.errors.push('New password is required.');\r\n      }\r\n\r\n      if (!this.confirmPasword) {\r\n        this.errors.push('Confirm Password is required.');\r\n      }\r\n\r\n      if((this.password !== this.confirmPasword) || (this.password.length <= 0 && this.confirmPasword.length <= 0) ){\r\n        this.errors.push('Passwords don\\'t match.');\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n        const data = {\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('selectedUser'),\r\n          password: this.password,\r\n          confirmPassword: this.confirmPasword,\r\n        }\r\n\r\n        await axios\r\n            .put('/api/updateUserPassword', data)\r\n            .then(async response => {\r\n              if (response.status === 200) {\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Password updated!'\r\n                });\r\n                document.getElementById('closemodalPassword').click();\r\n                this.password = '';\r\n                this.confirmPasword = '';\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  this.$router.push('logout')\r\n                }\r\n\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i] + '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    setUserID(ID) {\r\n      localStorage.setItem('selectedUser', ID)\r\n    },\r\n    getMapsLink(){\r\n      let link = 'https://maps.google.com/?q='\r\n      if (this.agentData.address.length > 0){\r\n        link += '+'+this.agentData.address\r\n      }\r\n      if (this.agentData.zipCode.length > 0){\r\n        link += '+'+this.agentData.zipCode\r\n      }\r\n      if (this.agentData.city.length > 0){\r\n        link += '+'+this.agentData.city\r\n      }\r\n      if (this.agentData.state.length > 0){\r\n        link += '+'+this.agentData.state\r\n      }\r\n\r\n      if(link !== 'https://maps.google.com/?q=') {\r\n        document.getElementById(\"gMapsLink\").href = link;\r\n      } else {\r\n        document.getElementById(\"gMapsLink\").href = '#';\r\n      }\r\n\r\n    },\r\n    async getUserPermissions() {\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        userID: localStorage.getItem('selectedUser'),\r\n        select: document.getElementById('givePermissions'),\r\n      }\r\n\r\n      await axios\r\n          .post('/api/getPermissionsCount', data)\r\n          .then(async response => {\r\n\r\n            if (response.status === 200) {\r\n              if (response.data === 0) {\r\n                this.havePermissions = 2;\r\n              } else {\r\n                this.havePermissions = 1;\r\n              }\r\n            }\r\n\r\n          })\r\n          .catch(async error => {\r\n            if (error.response) {\r\n\r\n              if (error.response.data.detail === 'Your session is expired!') {\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              let list = '';\r\n              for (const property in error.response.data) {\r\n                this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n              }\r\n\r\n              await Swal.fire({\r\n                title: \"Please check the following: \" + list,\r\n                icon: 'warning',\r\n                confirmButtonClass: \"btn btn-info\",\r\n                buttonsStyling: false,\r\n                showCloseButton: true,\r\n              });\r\n\r\n            } else if (error.message) {\r\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n            }\r\n          })\r\n    },\r\n    async permissionsToUser() {\r\n      if (document.getElementById('givePermissions') !== '') {\r\n\r\n        const data = {\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('selectedUser'),\r\n          select: document.getElementById('givePermissions'),\r\n          permission: this.havePermissions,\r\n        }\r\n\r\n        await axios\r\n            .post('/api/updatePermissions', data)\r\n            .then(async response => {\r\n\r\n              if (response.status === 200) {\r\n\r\n                if (this.havePermissions === '1' && response.data === 1){\r\n                  await Swal.fire({\r\n                    icon: 'success',\r\n                    title: 'Success',\r\n                    text: 'Permissions assigned!'\r\n                  });\r\n                } else if(response.data === 0){\r\n                  await Swal.fire({\r\n                    icon: 'info',\r\n                    title: 'No change applied.',\r\n                    text: 'Nothing Happens!'\r\n                  });\r\n                } {\r\n                  await Swal.fire({\r\n                    icon: 'success',\r\n                    title: 'Success',\r\n                    text: 'Permissions removed!'\r\n                  });\r\n                }\r\n\r\n                document.getElementById('closemodalPassword').click();\r\n              }\r\n\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n\r\n                if (error.response.data.detail === 'Your session is expired!') {\r\n                  this.$router.push('logout')\r\n                }\r\n\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      }\r\n    }\r\n  },\r\n  async mounted() {\r\n\r\n    let field = 'n';\r\n    let url = window.location.href;\r\n\r\n    const queryString = window.location.search;\r\n    const urlParams = new URLSearchParams(queryString);\r\n    const status = urlParams.get(field)\r\n\r\n    const data = {\r\n      token: localStorage.getItem('jwt'),\r\n      searchValues: this.data.searchValues,\r\n    }\r\n\r\n    await axios\r\n        .post('/api/listDepartments', data)\r\n        .then(response => {\r\n          this.departmentList=response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n\r\n            Swal.fire(\"Oops!\", \"Departments could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/listStatus', data)\r\n        .then(response => {\r\n          this.statusList=response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n\r\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/listSource', data)\r\n        .then(response => {\r\n          this.sourcesList = response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n\r\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n\r\n    if((url.indexOf('?' + field + '=') !== -1))\r\n      document.getElementById(status).click()\r\n    else\r\n      await axios\r\n          .post('/api/comm/listOfOrder', data)\r\n          .then(response => {\r\n            this.list=response.data;\r\n            this.page = 1\r\n            this.setPages();\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              // for (const property in error.response.data) {\r\n              // this.errors.push(`${property}: ${error.response.data[property]}`)\r\n              // }\r\n            } else if (error.message) {\r\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n            }\r\n          })\r\n\r\n    const checkAll = document.getElementById(\"checkAll\");\r\n\r\n    if (checkAll) {\r\n      checkAll.onclick = function () {\r\n        var checkboxes = document.querySelectorAll(\r\n            '.form-check-all input[type=\"checkbox\"]'\r\n        );\r\n        if (checkAll.checked == true) {\r\n          checkboxes.forEach(function (checkbox) {\r\n            checkbox.checked = true;\r\n            checkbox.closest(\"tr\").classList.add(\"table-active\");\r\n          });\r\n        } else {\r\n          checkboxes.forEach(function (checkbox) {\r\n            checkbox.checked = false;\r\n            checkbox.closest(\"tr\").classList.remove(\"table-active\");\r\n          });\r\n        }\r\n      };\r\n    }\r\n  },\r\n  computed: {\r\n    displayedPosts() {\r\n      return this.paginate(this.list);\r\n    },\r\n    resultQuery() {\r\n      if (this.data.searchValues.keyword.length >= 3) {\r\n        const search = this.data.searchValues.keyword.toLowerCase();\r\n        return this.displayedPosts.filter((data) => {\r\n          return (\r\n              data.address.toLowerCase().includes(search) ||\r\n              data.agentNumber.toLowerCase().includes(search) ||\r\n              data.city.toLowerCase().includes(search) ||\r\n              data.email.toLowerCase().includes(search) ||\r\n              data.phoneNumber.toLowerCase().includes(search) ||\r\n              data.firstName.toLowerCase().includes(search) ||\r\n              data.lastName.toLowerCase().includes(search) ||\r\n              data.fullname.toLowerCase().includes(search) ||\r\n              data.statusName.toLowerCase().includes(search)\r\n          );\r\n        });\r\n      } else {\r\n        return this.displayedPosts;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.chat-conversation {\r\n  max-height: 300px;\r\n}\r\n.badge-soft-failed {\r\n  color: #f06548 !important;\r\n  background-color: rgba(240,101,72,.1);\r\n}\r\n\r\n.badge-soft-completed {\r\n  color: #0ab39c !important;\r\n  background-color: rgba(10,179,156,.1);\r\n}\r\n\r\n.badge-soft-on-hold {\r\n  color: #f7b84b !important;\r\n  background-color: rgba(247,184,75,.1);\r\n}\r\n\r\n.badge-soft-processing {\r\n  color: #299cdb !important;\r\n  background-color: rgba(41,156,219,.1);\r\n}\r\n\r\n.badge-soft-refunded {\r\n  color: #405189 !important;\r\n  background-color: rgba(64,81,137,.1);\r\n}\r\n</style>\r\n<template>\r\n  <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\"/>\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-12\">\r\n        <div class=\"card\" id=\"leadsList\">\r\n          <div class=\"card-header border-0\">\r\n            <div class=\"row g-4 align-items-center\">\r\n              <div class=\"col-sm-3\">\r\n                <div class=\"search-box\">\r\n                  <input\r\n                      type=\"text\"\r\n                      class=\"form-control search\"\r\n                      placeholder=\"Search for...\"\r\n                      v-model=\"this.data.searchValues.keyword\"\r\n                      @change=\"this.data.searchValues.keyword.length >= 3 ? updateOrderList(): ''\"\r\n                      v-on:keyup.enter=\"this.data.searchValues.keyword === '' ? updateOrderList() : ''\"\r\n                  />\r\n                  <i class=\"ri-search-line search-icon\"></i>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-sm-auto ms-auto\">\r\n                <div class=\"hstack gap-2\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-6\" style=\"margin-top: 5px;\">\r\n                      <div class=\"d-flex align-items-center gap-2\">\r\n                        <span class=\"text-muted flex-shrink-0\">Sort by: </span>\r\n\r\n                        <Multiselect class=\"form-control\"\r\n                                     style=\"width:150px;padding: 0px;\"\r\n                                     autocomplete=\"off\"\r\n                                     @focus=\"handleFocus\"\r\n                                     v-model=\"this.data.searchValues.sortBy\"\r\n                                     :close-on-select=\"true\"\r\n                                     :searchable=\"true\"\r\n                                     :options=\"[\r\n                            { value: 'Name', label: 'Name' },\r\n                            { value: 'status', label: 'Status' },\r\n                            { value: 'createdOn', label: 'Date paid' }\r\n                            ]\"\r\n                                     @select=\"updateOrderList()\"\r\n                        />\r\n\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-md-6\" style=\"margin-top: 5px;\">\r\n                      <div class=\"d-flex align-items-center gap-2\">\r\n                        <span class=\"text-muted flex-shrink-0\">Order by: </span>\r\n                        <Multiselect class=\"form-control\"\r\n                                     style=\"width:150px;padding: 0px;\"\r\n                                     v-model=\"this.data.searchValues.orderBy\"\r\n                                     autocomplete=\"off\"\r\n                                     @focus=\"handleFocus\"\r\n                                     :close-on-select=\"true\"\r\n                                     :searchable=\"true\"\r\n                                     :options=\"[\r\n                            { value: 'ASC', label: 'Ascendance' },\r\n                            { value: 'DESC', label: 'Descendant' },\r\n                            ]\"\r\n                                     @select=\"updateOrderList()\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Table Head -->\r\n          <div class=\"table-responsive\">\r\n            <table class=\"table align-middle table-nowrap mb-0 table-hover\">\r\n              <thead class=\"table-light\">\r\n              <tr>\r\n                <th scope=\"col\" style=\"width: 50px\">\r\n                  <div class=\"form-check\">\r\n                    <input\r\n                        class=\"form-check-input\"\r\n                        type=\"checkbox\"\r\n                        id=\"checkAll\"\r\n                        value=\"option\"\r\n                    />\r\n                  </div>\r\n                </th>\r\n                <th scope=\"col\">Name</th>\r\n                <th scope=\"col\">Product</th>\r\n                <th scope=\"col\">Total</th>\r\n                <th scope=\"col\">Payment Method</th>\r\n                <th scope=\"col\">Quantity</th>\r\n                <th scope=\"col\">Status</th>\r\n                <th scope=\"col\">Purchased On</th>\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n              <tr v-for=\"(data, index) of resultQuery\" :key=\"index\">\r\n                <td>\r\n                  <div class=\"form-check\">\r\n                    <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"cardtableCheck01\">\r\n                    <label class=\"form-check-label\" for=\"cardtableCheck01\"></label>\r\n                  </div>\r\n                </td>\r\n                <td>{{ data.fullName}}</td>\r\n                <td>{{ data.name }}</td>\r\n                <td>{{ data.total }} {{ data.currency }}</td>\r\n                <td>{{ data.paymentMethod }}</td>\r\n                <td>{{ data.quantity }}</td>\r\n                <td>\r\n                    <span\r\n                        :class=\"`badge badge-soft-${data.status} text-uppercase`\"\r\n                    >{{ data.status }}</span>\r\n                </td>\r\n                <td>{{ formatDate(data.datePaid, 'MMMM Do YYYY, h:mmA') }}</td>\r\n              </tr>\r\n              </tbody>\r\n            </table>\r\n            <div class=\"noresult\" v-if=\"list.length <= 0\">\r\n              <div class=\"text-center\">\r\n                <lottie\r\n                    class=\"avatar-xl\"\r\n                    colors=\"primary:#121331,secondary:#08a88a\"\r\n                    :options=\"defaultOptions\"\r\n                    :height=\"75\"\r\n                    :width=\"75\"\r\n                />\r\n                <h5 class=\"mt-2\">Sorry!</h5>\r\n                <p class=\"text-muted mb-0\">\r\n                  We've searched and we did not find any\r\n                  agent for your search.\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div class=\"d-flex justify-content-end mt-3\" v-if=\"resultQuery.length >= 0\">\r\n              <div class=\"pagination-wrap hstack gap-2\">\r\n                <a\r\n                    class=\"page-item pagination-prev disabled\"\r\n                    href=\"#\"\r\n                    v-if=\"page !== 1\"\r\n                    @click=\"page--\"\r\n                >\r\n                  Previous\r\n                </a>\r\n                <ul class=\"pagination listjs-pagination mb-0\">\r\n                  <li\r\n                      :class=\"{\r\n                      active: pageNumber == page,\r\n                      disabled: pageNumber == '...',\r\n                    }\"\r\n                      v-for=\"(pageNumber, index) in pages.slice(\r\n                      page - 1,\r\n                      page + 5\r\n                    )\"\r\n                      :key=\"index\"\r\n                      @click=\"page = pageNumber\"\r\n                  >\r\n                    <a class=\"page\" href=\"#\">{{ pageNumber }}</a>\r\n                  </li>\r\n                </ul>\r\n                <a\r\n                    class=\"page-item pagination-next\"\r\n                    href=\"#\"\r\n                    @click=\"page++\"\r\n                    v-if=\"page < pages.length\"\r\n                >\r\n                  Next\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!--end col-->\r\n    </div>\r\n    <!--end row-->\r\n\r\n    <!-- Filters Modal -->\r\n    <div id=\"open-filters\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"myModalLabel\">Filters</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"> </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-12\">\r\n                <label for=\"filterKeyword\" class=\"form-label\">Keyword</label>\r\n                <input type=\"text\" id=\"filterKeyword\" name=\"filterKeyword\" class=\"form-control mb-2\" placeholder=\"Enter Keyword\" v-model=\"this.data.searchValues.keyword\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterLicensed\" class=\"form-label\">Licensed agents?</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Licensed Agents?\" id=\"filterLicensed\" name=\"filterLicensed\" v-model=\"this.data.searchValues.licensed\">\r\n                  <option value=\"1\" selected>Both</option>\r\n                  <option value=\"2\">Yes</option>\r\n                  <option value=\"3\">No</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editStatus\" class=\"form-label\">Status</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"filterStatus\" v-model=\"this.data.searchValues.status\">\r\n                  <option value=\"0\">All</option>\r\n                  <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editLanguage\" class=\"form-label\">Language</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"filterLanguage\" name=\"filterLanguage\" v-model=\"this.data.searchValues.language\">\r\n                  <option value=\"3\" selected>Both</option>\r\n                  <option value=\"1\">English</option>\r\n                  <option value=\"2\">Spanish</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editStatus\" class=\"form-label\">Search by Notes</label>\r\n                <input type=\"text\" id=\"filterNotes\" name=\"filterNotes\" class=\"form-control mb-2\" placeholder=\"Enter note\" v-model=\"this.data.searchValues.noteSearch\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterFromDate\" class=\"form-label\"> From date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.data.searchValues.fromDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterFromDate\"\r\n                    name=\"filterFromDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterToDate\" class=\"form-label\"> To Date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.data.searchValues.toDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterToDate\"\r\n                    name=\"filterToDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterDateRange\" class=\"form-label\">Time Range</label>\r\n                <select class=\"form-select mb-2\" id=\"filterDateRange\" name=\"filterDateRange\" v-model=\"this.data.searchValues.dateRange\">\r\n                  <option value=\"0\" selected>...</option>\r\n                  <option value=\"1\">Until 2 year Ago</option>\r\n                  <option value=\"2\">Until 4 year Ago</option>\r\n                  <option value=\"3\">Until 5 year Ago</option>\r\n                  <option value=\"4\">Begin of times</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <span v-if=\"viewUserGroup('SUPER_ADMIN_GROUP')\">\r\n                  <label for=\"filterDateRange\" class=\"form-label\">Department</label>\r\n                    <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"filterDepartment\" name=\"filterDepartment\"\r\n                            v-model=\"this.data.searchValues.department\">\r\n                        <option value=\"0\"> All</option>\r\n                        <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\r\n                                v-bind:value=\"department.departmentID\"> {{ department.name }}\r\n                        </option>\r\n                    </select>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <br>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <div class=\"form-check form-switch form-switch-lg\" dir=\"ltr\" style=\"margin-left: 3px;\">\r\n                  <input type=\"checkbox\" class=\"form-check-input\" id=\"isActive\" checked=\"\">\r\n                  <label class=\"form-check-label\" for=\"isActive\">Active</label>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-light\" data-bs-dismiss=\"modal\">Close</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"updateOrderList()\">Search</button>\r\n          </div>\r\n\r\n        </div><!-- /.modal-content -->\r\n      </div><!-- /.modal-dialog -->\r\n    </div><!-- /.modal -->\r\n\r\n  </Layout>\r\n</template>\r\n<style>\r\n.row-spacer{\r\n  margin-bottom: 10px;\r\n}\r\n\r\nbutton.swal2-cancel.btn.btn-success{\r\n  margin-left: 5px;\r\n}\r\n</style>"]}]}