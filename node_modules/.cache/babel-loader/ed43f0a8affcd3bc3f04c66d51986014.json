{"remainingRequest":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\wamp64\\www\\crm\\frontend\\src\\views\\authentication\\resetPassword.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\wamp64\\www\\crm\\frontend\\src\\views\\authentication\\resetPassword.vue","mtime":1677254283014},{"path":"C:\\wamp64\\www\\crm\\frontend\\babel.config.js","mtime":1645939880000},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1668443304941},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1652458135842},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1668443313146}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L3dhbXA2NC93d3cvY3JtL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50ZXN0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgTG90dGllIGZyb20gIkAvY29tcG9uZW50cy93aWRnZXRzL2xvdHRpZS52dWUiOwppbXBvcnQgYW5pbWF0aW9uRGF0YSBmcm9tICJAL2NvbXBvbmVudHMvd2lkZ2V0cy9yaHZkZHp5bS5qc29uIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbWV0aG9kczogewogICAgdmFsaWRFbWFpbDogZnVuY3Rpb24gdmFsaWRFbWFpbChlbWFpbCkgewogICAgICB2YXIgcmUgPSAvXigoW148PigpW1xdXFwuLDs6XHNAIl0rKFwuW148PigpW1xdXFwuLDs6XHNAIl0rKSopfCgiLisiKSlAKChcW1swLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cXSl8KChbYS16QS1aXC0wLTldK1wuKStbYS16QS1aXXsyLH0pKSQvOwogICAgICByZXR1cm4gcmUudGVzdChlbWFpbC50cmltKCkpOwogICAgfSwKICAgIHJlc2V0UGFzc3dvcmQ6IGZ1bmN0aW9uIHJlc2V0UGFzc3dvcmQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMudmFsaWRFbWFpbChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1haWwnKS52YWx1ZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIGVtYWlsOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1haWwnKS52YWx1ZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvcmVzZXRQYXNzd29yZCcsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnV2UgaGF2ZSBzZW50IGFuIGVtYWlsIHRvIHlvdXIgYWRkcmVzcyEnLAogICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDMwMDAKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnbG9naW4nKTsKICAgICAgICAgICAgICAgICAgICB9LCA0MDAwKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIldlIGNvdWxkbid0IGZpbmQgeW91ciBlbWFpbCBhZGRyZXNzIDooIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIldlIGNvdWxkbid0IGZpbmQgeW91ciBlbWFpbCBhZGRyZXNzIDooIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoIk9vcHMhIiwgIlBsZWFzZSwgd3JpdGUgYSB2YWxpZCBlbWFpbC4iLCAiZXJyb3IiKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgbG90dGllOiBMb3R0aWUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZWZhdWx0T3B0aW9uczogewogICAgICAgIGFuaW1hdGlvbkRhdGE6IGFuaW1hdGlvbkRhdGEKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1haWwnKS52YWx1ZSA9ICcnOwogIH0KfTs="},{"version":3,"mappings":";;;;;AACA,OAAOA,MAAP,MAAmB,iCAAnB;AACA,OAAOC,aAAP,MAA0B,oCAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,eAAe;AACbC,SAAO,EAAC;AACNC,cAAU,EAAE,oBAAUC,KAAV,EAAiB;AAC3B,UAAIC,EAAC,GAAI,uJAAT;AACA,aAAOA,EAAE,CAACC,IAAH,CAAQF,KAAK,CAACG,IAAN,EAAR,CAAP;AACD,KAJK;AAKAC,iBALA,2BAKiB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAElB,KAAI,CAACL,UAAL,CAAgBM,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAAjD,CAFkB;AAAA;AAAA;AAAA;;AAIbC,oBAJa,GAIN;AACXR,uBAAK,EAAEK,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC;AAD7B,iBAJM;AAAA;AAAA,uBAQbX,KAAI,CACLa,IADC,CACI,oBADJ,EAC0BD,IAD1B,EAEDE,IAFC,CAEI,kBAAO,EAAK;AAEhB,sBAAGC,QAAQ,CAACH,IAAT,KAAkB,IAArB,EAA0B;AACxBX,wBAAI,CAACe,IAAL,CAAU;AACRC,0BAAI,EAAE,SADE;AAERC,2BAAK,EAAE,SAFC;AAGRC,0BAAI,EAAE,wCAHE;AAIRC,2BAAK,EAAE;AAJC,qBAAV;AAMAC,8BAAU,CAAC,YAAM;AACf,2BAAI,CAACC,OAAL,CAAaC,IAAb,CAAkB,OAAlB;AACD,qBAFS,EAEP,IAFO,CAAV;AAGD,mBAVD,MAUM;AACFtB,wBAAI,CAACe,IAAL,CAAU,OAAV,EAAmB,wCAAnB,EAA6D,OAA7D;AACJ;AAED,iBAlBC,EAmBDQ,KAnBC,CAmBK,eAAI,EAAK;AACd,sBAAIC,KAAK,CAACV,QAAV,EAAoB;AAClBd,wBAAI,CAACe,IAAL,CAAU,OAAV,EAAmB,wCAAnB,EAA6D,OAA7D;AACF;AACD,iBAvBC,CARa;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAiCbf,IAAI,CAACe,IAAL,CAAU,OAAV,EAAmB,8BAAnB,EAAmD,OAAnD,CAjCa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoCtB;AAzCK,GADK;AA4CbU,YAAU,EAAE;AAAEC,UAAM,EAAE7B;AAAV,GA5CC;AA6Cbc,MA7Ca,kBA6CN;AACL,WAAO;AACLgB,oBAAc,EAAE;AAAE7B,qBAAa,EAAEA;AAAjB;AADX,KAAP;AAGD,GAjDY;AAkDb8B,SAlDa,qBAkDH;AACRpB,YAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAAjC,GAAyC,EAAzC;AACF;AApDa,CAAf","names":["Lottie","animationData","axios","Swal","methods","validEmail","email","re","test","trim","resetPassword","document","getElementById","value","data","post","then","response","fire","icon","title","text","timer","setTimeout","$router","push","catch","error","components","lottie","defaultOptions","mounted"],"sourceRoot":"","sources":["C:\\wamp64\\www\\crm\\frontend\\src\\views\\authentication\\resetPassword.vue"],"sourcesContent":["<script>\r\nimport Lottie from \"@/components/widgets/lottie.vue\";\r\nimport animationData from \"@/components/widgets/rhvddzym.json\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport default {\r\n  methods:{\r\n    validEmail: function (email) {\r\n      var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      return re.test(email.trim());\r\n    },\r\n    async resetPassword () {\r\n\r\n      if(this.validEmail(document.getElementById('email').value)){\r\n\r\n        const data = {\r\n          email: document.getElementById('email').value\r\n        }\r\n\r\n        await axios\r\n            .post('/api/resetPassword', data)\r\n            .then(response => {\r\n\r\n              if(response.data === true){\r\n                Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'We have sent an email to your address!',\r\n                  timer: 3000,\r\n                });\r\n                setTimeout(() => {\r\n                  this.$router.push('login')\r\n                }, 4000);\r\n              }else {\r\n                  Swal.fire(\"Oops!\", \"We couldn't find your email address :(\", \"error\")\r\n              }\r\n\r\n            })\r\n            .catch(error => {\r\n              if (error.response) {\r\n                Swal.fire(\"Oops!\", \"We couldn't find your email address :(\", \"error\")\r\n              }\r\n            })\r\n      }else{\r\n        await Swal.fire(\"Oops!\", \"Please, write a valid email.\", \"error\")\r\n      }\r\n\r\n    },\r\n  },\r\n  components: { lottie: Lottie },\r\n  data() {\r\n    return {\r\n      defaultOptions: { animationData: animationData },\r\n    }\r\n  },\r\n  mounted() {\r\n    document.getElementById('email').value = ''\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"auth-page-wrapper pt-5\">\r\n    <!-- auth page bg -->\r\n    <div class=\"auth-one-bg-position auth-one-bg\"  id=\"auth-particles\">\r\n      <div class=\"bg-overlay\"></div>\r\n\r\n      <div class=\"shape\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 1440 120\">\r\n          <path d=\"M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z\"></path>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- auth page content -->\r\n    <div class=\"auth-page-content\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-12\">\r\n            <div class=\"text-center mt-sm-5 mb-4 text-white-50\">\r\n              <div>\r\n                <router-link to=\"/\" class=\"d-inline-block auth-logo\">\r\n                  <img src=\"@/assets/images/logo-light.png\" alt=\"\" height=\"140\">\r\n                </router-link>\r\n              </div>\r\n              <p class=\"mt-3 fs-15 fw-medium\">DMB Insurance Group</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- end row -->\r\n\r\n        <div class=\"row justify-content-center\">\r\n          <div class=\"col-md-8 col-lg-6 col-xl-5\">\r\n            <div class=\"card mt-4\">\r\n\r\n              <div class=\"card-body p-4\">\r\n                <div class=\"text-center mt-2\">\r\n                  <h5 class=\"text-primary\">Forgot Password?</h5>\r\n                  <p class=\"text-muted\">Reset password with DMB CRM</p>\r\n\r\n                  <lottie\r\n                      class=\"avatar-xl\"\r\n                      colors=\"primary:#0ab39c,secondary:#405189\"\r\n                      :options=\"defaultOptions\"\r\n                      :height=\"120\"\r\n                      :width=\"120\"\r\n                  />\r\n\r\n                </div>\r\n\r\n                <div class=\"alert alert-borderless alert-warning text-center mb-2 mx-2\" role=\"alert\">\r\n                  Enter your email and instructions will be sent to you!\r\n                </div>\r\n                <div class=\"p-2\">\r\n                  <form @submit.prevent=\"resetPassword\">\r\n                    <div class=\"mb-4\">\r\n                      <label class=\"form-label\">Email</label>\r\n                      <input type=\"email\" class=\"form-control\" id=\"email\" placeholder=\"Enter Email\">\r\n                    </div>\r\n\r\n                    <div class=\"text-center mt-4\">\r\n                      <button class=\"btn btn-success w-100\" type=\"submit\">Send Reset Link</button>\r\n                    </div>\r\n                  </form><!-- end form -->\r\n                </div>\r\n              </div>\r\n              <!-- end card body -->\r\n            </div>\r\n            <!-- end card -->\r\n\r\n            <div class=\"mt-4 text-center\">\r\n              <p class=\"mb-0\">Wait, I remember my password... <router-link to=\"/login\" class=\"fw-semibold text-primary text-decoration-underline\"> Sign In </router-link> </p>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n        <!-- end row -->\r\n      </div>\r\n      <!-- end container -->\r\n    </div>\r\n    <!-- end auth page content -->\r\n\r\n    <!-- footer -->\r\n    <footer class=\"footer\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-12\">\r\n            <div class=\"text-center\">\r\n              <p class=\"mb-0\">&copy; {{new Date().getFullYear()}} DMB Insurance Agency. Crafted with <i class=\"mdi mdi-heart text-danger\"></i></p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n    <!-- end Footer -->\r\n  </div>\r\n  <!-- end auth-page-wrapper -->\r\n</template>"]}]}