{"remainingRequest":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\wamp64\\www\\crm\\frontend\\src\\views\\prospects\\prospectkaban.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\wamp64\\www\\crm\\frontend\\src\\views\\prospects\\prospectkaban.vue","mtime":1697051799014},{"path":"C:\\wamp64\\www\\crm\\frontend\\babel.config.js","mtime":1645939880000},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1652458135842},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1668443313146}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOi93YW1wNjQvd3d3L2NybS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovd2FtcDY0L3d3dy9jcm0vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRlc3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgZmxhdFBpY2tyIGZyb20gInZ1ZS1mbGF0cGlja3ItY29tcG9uZW50IjsKaW1wb3J0ICJmbGF0cGlja3IvZGlzdC9mbGF0cGlja3IuY3NzIjsKaW1wb3J0IExheW91dCBmcm9tICIuLi8uLi9sYXlvdXRzL21haW4udnVlIjsKaW1wb3J0IFBhZ2VIZWFkZXIgZnJvbSAiQC9jb21wb25lbnRzL3BhZ2UtaGVhZGVyIjsKaW1wb3J0IGFwcENvbmZpZyBmcm9tICIuLi8uLi8uLi9hcHAuY29uZmlnIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCB7IGhlbHBlcnMsIHJlcXVpcmVkIH0gZnJvbSAiQHZ1ZWxpZGF0ZS92YWxpZGF0b3JzIjsKaW1wb3J0IHVzZVZ1ZWxpZGF0ZSBmcm9tICJAdnVlbGlkYXRlL2NvcmUiOwppbXBvcnQgTXVsdGlzZWxlY3QgZnJvbSAiQHZ1ZWZvcm0vbXVsdGlzZWxlY3QiOwppbXBvcnQgIkB2dWVmb3JtL211bHRpc2VsZWN0L3RoZW1lcy9kZWZhdWx0LmNzcyI7IC8vIGNvbXBvbmVudHMKCmltcG9ydCBub3RlcyBmcm9tICcuLi8uLi9jb21wb25lbnRzL3VzZXJzL25vdGVzJzsKaW1wb3J0IGthbmJhbkJvYXJkIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvdXNlcnMva2FuYmFuQm9hcmQnOwppbXBvcnQgbWVzc2FnZXMgZnJvbSAnLi4vLi4vY29tcG9uZW50cy91c2Vycy9tZXNzYWdlcyc7CmltcG9ydCB1cGxvYWRDbGllbnRzIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY2xpZW50cy91cGxvYWRDbGllbnRzJzsKaW1wb3J0IGp3dF9kZWNvZGUgZnJvbSAiand0LWRlY29kZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBwYWdlOiB7CiAgICB0aXRsZTogIkFnZW50cyBMaXN0IGNhcmRzIiwKICAgIG1ldGE6IFt7CiAgICAgIG5hbWU6ICJkZXNjcmlwdGlvbiIsCiAgICAgIGNvbnRlbnQ6IGFwcENvbmZpZy5kZXNjcmlwdGlvbgogICAgfV0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIExheW91dDogTGF5b3V0LAogICAgUGFnZUhlYWRlcjogUGFnZUhlYWRlciwKICAgIE11bHRpc2VsZWN0OiBNdWx0aXNlbGVjdCwKICAgIGZsYXRQaWNrcjogZmxhdFBpY2tyLAogICAgbm90ZXM6IG5vdGVzLAogICAga2FuYmFuQm9hcmQ6IGthbmJhbkJvYXJkLAogICAgbWVzc2FnZXM6IG1lc3NhZ2VzLAogICAgdXBsb2FkQ2xpZW50czogdXBsb2FkQ2xpZW50cwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAiUHJvc3BlY3QgY2FyZHMiLAogICAgICBpdGVtczogW3sKICAgICAgICB0ZXh0OiAiUHJvc3BlY3RzIiwKICAgICAgICBocmVmOiAiLyIKICAgICAgfSwgewogICAgICAgIHRleHQ6ICJQcm9zcGVjdCBMaXN0IGNhcmRzIiwKICAgICAgICBhY3RpdmU6IHRydWUKICAgICAgfV0sCiAgICAgIHRpbWVDb25maWc6IHsKICAgICAgICBlbmFibGVUaW1lOiBmYWxzZSwKICAgICAgICBkYXRlRm9ybWF0OiAiZCBNLCBZIgogICAgICB9LAogICAgICBkYXRlVGltZUNvbmZpZzogewogICAgICAgIGVuYWJsZVRpbWU6IHRydWUsCiAgICAgICAgZGF0ZUZvcm1hdDogJ0YgaiwgWSBIOmkgSycKICAgICAgfSwKICAgICAgbGlzdDogW10sCiAgICAgIGRhdGUxOiBudWxsLAogICAgICBkYXRlMjogbnVsbCwKICAgICAgaHVtYW5mcmllbmRseUNvbmZpZzogewogICAgICAgIGRhdGVGb3JtYXQ6ICJGIGosIFkiCiAgICAgIH0sCiAgICAgIGVDb250YWN0bGlzdDogW10sCiAgICAgIGRhdGE6IHsKICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgIHNlYXJjaFZhbHVlczogewogICAgICAgICAgdHlwZTogJzAnLAogICAgICAgICAgbm90ZVNlYXJjaDogJycsCiAgICAgICAgICBrZXl3b3JkOiAnJywKICAgICAgICAgIGxhbmd1YWdlOiAnMycsCiAgICAgICAgICBteUNsaWVudHM6IGZhbHNlLAogICAgICAgICAgc29ydEJ5OiAnbmFtZScsCiAgICAgICAgICBvcmRlckJ5OiAnQVNDJywKICAgICAgICAgIGRhdGVSYW5nZTogJzAnLAogICAgICAgICAgZGVwYXJ0bWVudDogJzAnLAogICAgICAgICAgdG9EYXRlOiBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tdXMnLCB7CiAgICAgICAgICAgIHllYXI6ICJudW1lcmljIiwKICAgICAgICAgICAgbW9udGg6ICJsb25nIiwKICAgICAgICAgICAgZGF5OiAibnVtZXJpYyIKICAgICAgICAgIH0pLAogICAgICAgICAgZnJvbURhdGU6IG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RnVsbFllYXIobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpIC0gMSkpLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tdXMnLCB7CiAgICAgICAgICAgIHllYXI6ICJudW1lcmljIiwKICAgICAgICAgICAgbW9udGg6ICJsb25nIiwKICAgICAgICAgICAgZGF5OiAibnVtZXJpYyIKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9LAogICAgICBiZW5lZmljaWFyeVF0eTogMCwKICAgICAgZUNvbnRhY3RRdHk6IDAsCiAgICAgIGNsaWVudERhdGE6IFtdLAogICAgICBjbGllbnRGb3JtRGF0YTogW10sCiAgICAgIHZhbHVlOiBudWxsLAogICAgICBkYXRlOiBudWxsLAogICAgICBkZXBhcnRtZW50TGlzdDoge30sCiAgICAgIHN0YXR1c0xpc3Q6IHt9LAogICAgICB0eXBlTGlzdDoge30sCiAgICAgIGlzQ2xpZW50TGlzdDogdHJ1ZSwKICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgZHJhZ2dpbmc6IGZhbHNlLAogICAgICBub3Rlc0RhdGE6IFtdLAogICAgICBjaGF0TWVzc2FnZXM6IFtdCiAgICB9OwogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgcmV0dXJuIHsKICAgICAgdiQ6IHVzZVZ1ZWxpZGF0ZSgpCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2V0TWVzc2FnZXNJbmZvOiBmdW5jdGlvbiBzZXRNZXNzYWdlc0luZm8obWVzc2FnZXMpIHsKICAgICAgdGhpcy5jaGF0TWVzc2FnZXMgPSBtZXNzYWdlczsKICAgIH0sCiAgICBmaWx0ZXJMaXN0OiBmdW5jdGlvbiBmaWx0ZXJMaXN0KGxpc3QsIHNlYXJjaCkgewogICAgICB2YXIgcmVzdWx0ID0gJyc7CiAgICAgIHJlc3VsdCA9IGxpc3QuZmlsdGVyKGZ1bmN0aW9uIChsaXN0U2VhcmNoKSB7CiAgICAgICAgcmV0dXJuIGxpc3RTZWFyY2guc3RhdHVzSUQgPT09IHNlYXJjaDsKICAgICAgfSk7CiAgICAgIE9iamVjdC5rZXlzKHJlc3VsdCkubWFwKGZ1bmN0aW9uIChvYmplY3RLZXkpIHsKICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHRbb2JqZWN0S2V5XTsKICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgIH0pOwogICAgfSwKICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSwgZm9ybWF0KSB7CiAgICAgIGRhdGUgPSBtb21lbnQoZGF0ZSkuZm9ybWF0KGZvcm1hdCk7CiAgICAgIHJldHVybiBkYXRlOwogICAgfSwKICAgIHNob3dUYWJzOiBmdW5jdGlvbiBzaG93VGFicyhpZCkgewogICAgICB2YXIgdGFicyA9IFsnbWFpblRhYicsICdzZWNvbmRUYWInLCAndGhpcmRUYWInLCAncXVhcnRlclRhYicsICdmaWZ0aFRhYicsICdzaXh0aFRhYicsICdzZXZlbnRoVGFiJ107CiAgICAgIHZhciBhY3R1YWxTZWxlY3RlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWxlY3RlZFVzZXInKTsKCiAgICAgIGZvciAodmFyIGluZGV4IGluIHRhYnMpIHsKICAgICAgICB2YXIgYXR0ciA9IHRhYnNbaW5kZXhdOwogICAgICAgIHZhciBmYXFUb2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhdHRyKTsKCiAgICAgICAgaWYgKGZhcVRvZ2dsZS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpICYmIGlkICE9PSBhY3R1YWxTZWxlY3RlZCkgewogICAgICAgICAgZmFxVG9nZ2xlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgZmFxVG9nZ2xlLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTsKICAgICAgICAgIHZhciB1cGRhdGVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBkYXRlQnV0dG9uJyk7CgogICAgICAgICAgaWYgKHVwZGF0ZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGUnKSAmJiBpZCA9PT0gdGFic1swXSkgewogICAgICAgICAgICB1cGRhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoYXR0ciA9PT0gaWQpIHsKICAgICAgICAgIGlmICghZmFxVG9nZ2xlLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHsKICAgICAgICAgICAgZmFxVG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICAgICAgICBmYXFUb2dnbGUuY2xhc3NMaXN0LmFkZCgnc2hvdycpOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBfdXBkYXRlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwZGF0ZUJ1dHRvbicpOwoKICAgICAgICAgIGlmICghX3VwZGF0ZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGUnKSAmJiBpZCAhPT0gdGFic1swXSkgewogICAgICAgICAgICBfdXBkYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICByZXNldENsaWVudERhdGE6IGZ1bmN0aW9uIHJlc2V0Q2xpZW50RGF0YSgpIHsKICAgICAgdGhpcy5jbGllbnREYXRhID0gewogICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgZmlyc3ROYW1lOiAnJywKICAgICAgICBsYXN0TmFtZTogJycsCiAgICAgICAgbGFuZ3VhZ2U6ICcnLAogICAgICAgIHN0YXR1czogJycsCiAgICAgICAgdHlwZTogJycsCiAgICAgICAgZ2VuZGVyOiAnJywKICAgICAgICBwaG9uZTogJycsCiAgICAgICAgZGVwYXJ0bWVudDogJycsCiAgICAgICAgc3RhdGU6ICcnLAogICAgICAgIGJpcnRoRGF0ZTogJycsCiAgICAgICAgYWRkcmVzczogJycsCiAgICAgICAgY291bnRyeTogJycsCiAgICAgICAgemlwQ29kZTogJycsCiAgICAgICAgaW50ZXJ2aWV3OiAnJywKICAgICAgICBhZ2VudE51bWJlcjogJycsCiAgICAgICAgY3JlYXRlZEJ5OiAnJywKICAgICAgICBpbnN1cmFuY2VMaWNlbnNlOiAnJywKICAgICAgICBsaWNlbnNlTnVtYmVyOiAnJwogICAgICB9OwogICAgfSwKICAgIHZhbGlkRW1haWw6IGZ1bmN0aW9uIHZhbGlkRW1haWwoZW1haWwpIHsKICAgICAgdmFyIHJlID0gL14oKFtePD4oKVtcXVxcLiw7OlxzQCJdKyhcLltePD4oKVtcXVxcLiw7OlxzQCJdKykqKXwoIi4rIikpQCgoXFtbMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XF0pfCgoW2EtekEtWlwtMC05XStcLikrW2EtekEtWl17Mix9KSkkLzsKICAgICAgcmV0dXJuIHJlLnRlc3QoZW1haWwudHJpbSgpKTsKICAgIH0sCiAgICB2YWxpZFBob25lOiBmdW5jdGlvbiB2YWxpZFBob25lKHBob25lKSB7CiAgICAgIHZhciBpc3Bob25lID0gL14oXCt7MCx9KShcZHswLH0pKFsoXXsxfVxkezEsM31bKV17MCx9KXswLH0oXHM/XGQrfFwrXGR7MiwzfVxzezF9XGQrfFxkKyl7MX1bXHN8LV0/XGQrKFtcc3wtXT9cZCspezEsMn0oXHMpezAsfSQvZ20udGVzdChwaG9uZSk7CiAgICAgIHJldHVybiBpc3Bob25lOwogICAgfSwKICAgIHVwZGF0ZUFnZW50U3RhdHVzOiBmdW5jdGlvbiB1cGRhdGVBZ2VudFN0YXR1cyhpdGVtLCBuZXdMaXN0LCBvbGRMaXN0LCBhZ2VudElEKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgaXRlbTogaXRlbSwKICAgICAgICAgICAgICAgICAgbmV3TGlzdDogbmV3TGlzdCwKICAgICAgICAgICAgICAgICAgb2xkTGlzdDogb2xkTGlzdCwKICAgICAgICAgICAgICAgICAgYWdlbnRJRDogYWdlbnRJRCwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoJy9hcGkvY2xpZW50L3VwZGF0ZUNsaWVudFN0YXR1cycsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIllvdXIgd29yayBoYXMgYmVlbiBzYXZlZCEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICJib3R0b20tZW5kIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJTb21ldGhpbmcgd3JvbmcgaGFwcGVucyEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiA1MDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKS5jYXRjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihlcnJvcikgewogICAgICAgICAgICAgICAgICAgIHZhciBsaXN0LCBwcm9wZXJ0eTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDUwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVJbmZvcm1hdGlvbjogZnVuY3Rpb24gdXBkYXRlSW5mb3JtYXRpb24oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIHBhdHRlcm47CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhdHRlcm4gPSAnL2NsaWVudC8nOwoKICAgICAgICAgICAgICAgIGlmICghKHdpbmRvdy5sb2NhdGlvbi5ocmVmLm1hdGNoKHBhdHRlcm4pIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmLm1hdGNoKCcvcHJvc3BlY3RzLycpKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIudXBkYXRlUHJvc3BlY3QoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIudXBkYXRlQWdlbnQoKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdXBkYXRlQWdlbnQ6IGZ1bmN0aW9uIHVwZGF0ZUFnZW50KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciBkYXRhLCBsaXN0LCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzID0gW107CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEZpcnN0TmFtZScpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnRmlyc3QgTmFtZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFzdE5hbWUnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ0xhc3QgTmFtZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFuZ3VhZ2UnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ0xhbmd1YWdlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0dXMnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ1N0YXR1cyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UGhvbmVOdW1iZXInKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ1Bob25lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczMudmFsaWRQaG9uZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBob25lTnVtYmVyJykudmFsdWUpID09PSBmYWxzZSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBob25lTnVtYmVyJykudmFsdWUgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnUGxlYXNlLCB3cml0ZSBhIHZhbGlkIHBob25lIG51bWJlciEnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RGVwYXJ0bWVudCcpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnRGVwYXJ0bWVudCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QmlydGhEYXRlJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmVycm9ycy5wdXNoKCdCaXJ0aCBkYXRlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMaWNlbnNlZCcpLnZhbHVlICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdHVzJykudmFsdWUgPT09IDUgfHwgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGljZW5zZWQnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ0luc3VyYW5jZSBMaWNlbnNlZD8gaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExpY2Vuc2VkJykudmFsdWUgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0dXMnKS52YWx1ZSA9PT0gNQogICAgICAgICAgICAgICAgLyp8fCAoIXRoaXMuY2xpZW50RGF0YS5saWNlbnNlTnVtYmVyICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGljZW5zZWQnKS52YWx1ZSA9PT0gMSkqLwogICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnTGljZW5zZSBudW1iZXIgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMy5lcnJvcnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICAgICAgICAgICAgZW1haWw6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RW1haWwnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgZmlyc3ROYW1lOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEZpcnN0TmFtZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBsYXN0TmFtZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYXN0TmFtZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBsYW5ndWFnZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYW5ndWFnZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBzdGF0dXM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdHVzJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIHR5cGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0VHlwZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBnZW5kZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W3R5cGU9J3JhZGlvJ11bbmFtZT1lZGl0R2VuZGVyXTpjaGVja2VkIikudmFsdWUsCiAgICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBob25lTnVtYmVyJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGRlcGFydG1lbnRJRDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXREZXBhcnRtZW50JykudmFsdWUsCiAgICAgICAgICAgICAgICAgIHN0YXRlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFN0YXRlJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGJpcnRoRGF0ZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRCaXJ0aERhdGUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgYWRkcmVzczogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRBZGRyZXNzJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGNvdW50cnk6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Q291bnRyeScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBvc3RhbENvZGUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgaW50ZXJ2aWV3RGF0ZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRJbnRlcnZpZXcnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgY3JlYXRlZEJ5OiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgbGljZW5zZU51bWJlcjogX3RoaXMzLmNsaWVudERhdGEubGljZW5zZU51bWJlciwKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgICAgICAgYWdlbnRJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoJy9hcGkvdXBkYXRlQWdlbnQnLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2UtbW9kYWwnKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0FnZW50IHVwZGF0ZSBzdWNjZXNzZnVsbHkhJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gzKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpLmNhdGNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QsIHByb3BlcnR5OwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNoZWNrIHRoZSBmb2xsb3dpbmc6ICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IF90aGlzMy5lcnJvcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBfdGhpczMuZXJyb3JzW2ldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY29tcGxldGUgdGhlIGZvcm0hICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwZGF0ZVByb3NwZWN0OiBmdW5jdGlvbiB1cGRhdGVQcm9zcGVjdCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICAgICAgdmFyIGRhdGEsIGxpc3QsIGk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczQuZXJyb3JzID0gW107CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEZpcnN0TmFtZScpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5lcnJvcnMucHVzaCgnRmlyc3QgTmFtZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFzdE5hbWUnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczQuZXJyb3JzLnB1c2goJ0xhc3QgTmFtZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFuZ3VhZ2UnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczQuZXJyb3JzLnB1c2goJ0xhbmd1YWdlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0dXMnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczQuZXJyb3JzLnB1c2goJ1N0YXR1cyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UGhvbmVOdW1iZXInKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczQuZXJyb3JzLnB1c2goJ1Bob25lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczQudmFsaWRQaG9uZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBob25lTnVtYmVyJykudmFsdWUpID09PSBmYWxzZSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBob25lTnVtYmVyJykudmFsdWUgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5lcnJvcnMucHVzaCgnUGxlYXNlLCB3cml0ZSBhIHZhbGlkIHBob25lIG51bWJlciEnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RGVwYXJ0bWVudCcpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5lcnJvcnMucHVzaCgnRGVwYXJ0bWVudCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRUeXBlJykudmFsdWUgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5lcnJvcnMucHVzaCgnTGVhZC9DbGllbnQgU291cmNlIGlzIHJlcXVpcmVkLicpOwoKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXM0LmNsaWVudERhdGEpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczQuY2xpZW50RGF0YS5nZW5kZXIgIT09ICdNJyAmJiBfdGhpczQuY2xpZW50RGF0YS5nZW5kZXIgIT09ICdGJykgewogICAgICAgICAgICAgICAgICBfdGhpczQuZXJyb3JzLnB1c2goJ0dlbmRlciBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LmVycm9ycy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICAgICAgICAgICAgZW1haWw6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RW1haWwnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgZmlyc3ROYW1lOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEZpcnN0TmFtZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBsYXN0TmFtZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYXN0TmFtZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBsYW5ndWFnZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYW5ndWFnZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBzdGF0dXM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdHVzJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGxlYWRUeXBlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFR5cGUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgZ2VuZGVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFt0eXBlPSdyYWRpbyddW25hbWU9ZWRpdEdlbmRlcjFdOmNoZWNrZWQiKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgcGhvbmVOdW1iZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UGhvbmVOdW1iZXInKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgZGVwYXJ0bWVudElEOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdERlcGFydG1lbnQnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgc3RhdGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdGUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgY2l0eTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRDaXR5JykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGJpcnRoRGF0ZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRCaXJ0aERhdGUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgYWRkcmVzczogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRBZGRyZXNzJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGNvdW50cnk6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Q291bnRyeScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBvc3RhbENvZGUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgaW50ZXJ2aWV3RGF0ZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRJbnRlcnZpZXcnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgY3JlYXRlZEJ5OiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgbGljZW5zZU51bWJlcjogX3RoaXM0LmNsaWVudERhdGEubGljZW5zZU51bWJlciwKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgICAgICAgY2xpZW50SUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWxlY3RlZFVzZXInKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnB1dCgnL2FwaS9jbGllbnQvdXBkYXRlQ2xpZW50JywgZGF0YSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY1ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlLW1vZGFsJykuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdDbGllbnQgdXBkYXRlIHN1Y2Nlc3NmdWxseSEnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmNiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSArICc8L2I+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IF90aGlzNC5lcnJvcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBfdGhpczQuZXJyb3JzW2ldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNvbXBsZXRlIHRoZSBmb3JtISAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNyZWF0ZUNsaWVudDogZnVuY3Rpb24gY3JlYXRlQ2xpZW50KCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgICB2YXIgZGF0YSwgbGlzdCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNS5lcnJvcnMgPSBbXTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzNS5jbGllbnREYXRhLmZpcnN0TmFtZSkgewogICAgICAgICAgICAgICAgICBfdGhpczUuZXJyb3JzLnB1c2goJ0ZpcnN0IE5hbWUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczUuY2xpZW50RGF0YS5sYXN0TmFtZSkgewogICAgICAgICAgICAgICAgICBfdGhpczUuZXJyb3JzLnB1c2goJ0xhc3QgTmFtZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzNS5jbGllbnREYXRhLnN0YXR1cykgewogICAgICAgICAgICAgICAgICBfdGhpczUuZXJyb3JzLnB1c2goJ1N0YXR1cyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzNS5jbGllbnREYXRhLnBob25lKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5lcnJvcnMucHVzaCgnUGhvbmUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNS52YWxpZFBob25lKF90aGlzNS5jbGllbnREYXRhLnBob25lKSA9PT0gZmFsc2UgJiYgX3RoaXM1LmNsaWVudERhdGEucGhvbmUgPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5lcnJvcnMucHVzaCgnUGxlYXNlLCB3cml0ZSBhIHZhbGlkIHBob25lIG51bWJlciEnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzNS5jbGllbnREYXRhLmRlcGFydG1lbnQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmVycm9ycy5wdXNoKCdEZXBhcnRtZW50IGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczUuY2xpZW50RGF0YS50eXBlID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgICBfdGhpczUuZXJyb3JzLnB1c2goJ0xlYWQvQ2xpZW50IFNvdXJjZSBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzNS5jbGllbnREYXRhKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LmNsaWVudERhdGEuZ2VuZGVyICE9PSAnTScgJiYgX3RoaXM1LmNsaWVudERhdGEuZ2VuZGVyICE9PSAnRicpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmVycm9ycy5wdXNoKCdHZW5kZXIgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNS5jbGllbnREYXRhLmxhbmd1YWdlICE9PSAnMScgJiYgX3RoaXM1LmNsaWVudERhdGEubGFuZ3VhZ2UgIT09ICcyJykgewogICAgICAgICAgICAgICAgICBfdGhpczUuZXJyb3JzLnB1c2goJ0xhbmd1YWdlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczUuY2xpZW50RGF0YS5sZWFkVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmVycm9ycy5wdXNoKCdMZWFkL2NsaWVudCBTb3VyY2VTb3VyY2UgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNS5lcnJvcnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuYWRkQW5vdGhlckNsaWVudCgpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgY2xpZW50c0luZm86IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImNsaWVudEZvcm1EYXRhIikpLAogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICBzZWxlY3RlZFVzZXI6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWxlY3RlZFVzZXInKSwKICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgdG90YWxDbGllbnRzOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjbGllbnRGb3JtRGF0YSIpKS5sZW5ndGgsCiAgICAgICAgICAgICAgICAgIGlzUHJvc3BlY3Q6IDEKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2NsaWVudC9jcmVhdGUnLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMShyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2UuZGF0YVsnSUQnXSAhPT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlbW9kYWwnKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZGZvcm0iKS5yZXNldCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImNsaWVudEZvcm1EYXRhIiwgW10pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdQcm9zcGVjdCBjcmVhdGVkIHN1Y2Nlc3NmdWxseSEnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTEpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKS5jYXRjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY4ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjogIikuY29uY2F0KGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5lcnJvcnMucHVzaCgnU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94OCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmOC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IF90aGlzNS5lcnJvcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBfdGhpczUuZXJyb3JzW2ldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNvbXBsZXRlIHRoZSBmb3JtISAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGRlbGV0ZUNsaWVudDogZnVuY3Rpb24gZGVsZXRlQ2xpZW50KCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNygpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTcucHJldiA9IF9jb250ZXh0MTcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgICAgICAgIHVzZXJOYW1lOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmlyc3ROYW1lJykgKyAnICcgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGFzdG5hbWUnKSwKICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgYWdlbnRJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICdEbyB5b3Ugd2FudCB0byA8Yj5EZWxldGU8L2I+IHRoaXMgcHJvc3BlY3Q/JywKICAgICAgICAgICAgICAgICAgc2hvd0RlbnlCdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnWWVzJywKICAgICAgICAgICAgICAgICAgZGVueUJ1dHRvblRleHQ6ICJObyIKICAgICAgICAgICAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmOSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KHJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQuaXNDb25maXJtZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoJy9hcGkvZGVsZXRlVXNlcicsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfcmVmMTAgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSgnUHJvc3BlY3QgdXBkYXRlIHN1Y2Nlc3NmdWxseSEnLCAnJywgJ3N1Y2Nlc3MnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MTApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjEwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KCkpLmNhdGNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlZjExID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjogIikuY29uY2F0KGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5lcnJvcnMucHVzaCgnU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjExLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0LmlzRGVuaWVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKCdQcm9zcGVjZXQgd2FzblwndCBkZWxldGVkIScsICcnLCAnaW5mbycpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxNik7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g5KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoYW5nZU15Q2xpZW50OiBmdW5jdGlvbiBjaGFuZ2VNeUNsaWVudCgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTgoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOCQoX2NvbnRleHQxOCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE4LnByZXYgPSBfY29udGV4dDE4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM3LmRhdGEuc2VhcmNoVmFsdWVzLm15Q2xpZW50cyA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM3LmRhdGEuc2VhcmNoVmFsdWVzLm15Q2xpZW50cyA9IHRydWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczcuZGF0YS5zZWFyY2hWYWx1ZXMubXlDbGllbnRzID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdXBkYXRlQ2xpZW50TGlzdDogZnVuY3Rpb24gdXBkYXRlQ2xpZW50TGlzdCgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTkoKSB7CiAgICAgICAgdmFyIHZhbGlkYXRlLCBlcnJvcnMsIGZpbHRlckxhbmd1YWdlLCBmaWx0ZXJLZXl3b3JkLCBmaWx0ZXJUeXBlLCBmaWx0ZXJOb3RlcywgZmlsdGVyRnJvbURhdGUsIGZpbHRlclRvRGF0ZSwgc3RhcnQsIGVuZCwgZGF5cywgZGF0YSwgbGlzdCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE5JChfY29udGV4dDE5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTkucHJldiA9IF9jb250ZXh0MTkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGVycm9ycyA9IFtdOwogICAgICAgICAgICAgICAgZmlsdGVyTGFuZ3VhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyTGFuZ3VhZ2UiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlcktleXdvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyS2V5d29yZCIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyVHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJUeXBlIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJOb3RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJOb3RlcyIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyRnJvbURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyRnJvbURhdGUiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlclRvRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJUb0RhdGUiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJUeXBlIikudmFsdWUpOwoKICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJMYW5ndWFnZSAhPT0gJycgJiYgKGZpbHRlckxhbmd1YWdlID09PSAnMScgfHwgZmlsdGVyTGFuZ3VhZ2UgPT09ICcyJykpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM4LmRhdGEuc2VhcmNoVmFsdWVzLmxhbmd1YWdlID0gZmlsdGVyTGFuZ3VhZ2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlcktleXdvcmQgIT09ICcnICYmIGZpbHRlcktleXdvcmQubGVuZ3RoID49IDMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM4LmRhdGEuc2VhcmNoVmFsdWVzLmxhbmd1YWdlID0gZmlsdGVyTGFuZ3VhZ2U7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlcktleXdvcmQgIT09ICcnICYmIGZpbHRlcktleXdvcmQubGVuZ3RoIDwgMykgewogICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCgnS2V5d29yZCBzZWFyY2ggc2hvdWxkIGhhdmUgMyBvciBtb3JlIGNoYXJhY3RlcnMhJyk7CiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlclR5cGUgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOC5kYXRhLnNlYXJjaFZhbHVlcy50eXBlID0gZmlsdGVyVHlwZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyTm90ZXMgIT09ICcnICYmIGZpbHRlck5vdGVzLmxlbmd0aCA+PSAzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOC5kYXRhLnNlYXJjaFZhbHVlcy5ub3RlU2VhcmNoID0gZmlsdGVyTm90ZXM7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlck5vdGVzICE9PSAnJyAmJiBmaWx0ZXJOb3Rlcy5sZW5ndGggPCAzKSB7CiAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCdOb3RlcyBzZWFyY2ggc2hvdWxkIGhhdmUgMyBvciBtb3JlIGNoYXJhY3RlcnMhJyk7CiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc3RhcnQgPSBtb21lbnQoX3RoaXM4LmZvcm1hdERhdGUoZmlsdGVyRnJvbURhdGUsICdZWVlZLU1NLUREJykpOwogICAgICAgICAgICAgICAgZW5kID0gbW9tZW50KF90aGlzOC5mb3JtYXREYXRlKGZpbHRlclRvRGF0ZSwgJ1lZWVktTU0tREQnKSk7CiAgICAgICAgICAgICAgICBkYXlzID0gZW5kLmRpZmYoc3RhcnQsICJkYXlzIik7CgogICAgICAgICAgICAgICAgaWYgKGRheXMgPD0gMzY1KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOC5kYXRhLnNlYXJjaFZhbHVlcy5mcm9tRGF0ZSA9IGZpbHRlckZyb21EYXRlOwogICAgICAgICAgICAgICAgICBfdGhpczguZGF0YS5zZWFyY2hWYWx1ZXMudG9EYXRlID0gZmlsdGVyVG9EYXRlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goIkZyb20gRGF0ZSBhbmQgVG8gRGF0ZSAocmFuZ2UpIGNvdWxkbid0IGJlIGxhcmdlciB0aGFuIGEgeWVhciAoMzY1IGRheXMpISIpOwogICAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIGlzUHJvc3BlY3Q6IDEsCiAgICAgICAgICAgICAgICAgIHNlYXJjaFZhbHVlczogX3RoaXM4LmRhdGEuc2VhcmNoVmFsdWVzLAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICBkZWxldGVkOiAwCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY2xpZW50L2xpc3RDbGllbnRzQnlTdGF0dXMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpczguaXNDbGllbnRMaXN0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgdmFyIHJlcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICAgIHZhciB2YXJOYW1lID0gW107CiAgICAgICAgICAgICAgICAgIHZhciBzcGVjdGVkTGlzdCA9IFtdOwoKICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHJlcy5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgICAgICAgICAgICB2YXJOYW1lID0gcmVzcG9uc2UuZGF0YVtfaV0uc3RhdHVzTmFtZS5yZXBsYWNlKC9ccysvZywgJy0nKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgIHZhck5hbWUgPSByZXNwb25zZS5kYXRhW19pXS5jb250ZW50OwogICAgICAgICAgICAgICAgICAgIHZhck5hbWVbJ2dyb3VwTmFtZSddID0gewogICAgICAgICAgICAgICAgICAgICAgJ2dyb3VwTmFtZSc6IHZhck5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzTmFtZSc6IHJlc3BvbnNlLmRhdGFbX2ldLnN0YXR1c05hbWUsCiAgICAgICAgICAgICAgICAgICAgICAnZ3JvdXBJRCc6IHJlc3BvbnNlLmRhdGFbX2ldLnN0YXR1c0lELAogICAgICAgICAgICAgICAgICAgICAgJ3NlcXVlbmNlJzogMSwKICAgICAgICAgICAgICAgICAgICAgICdxdWFudGl0eSc6IHJlc3BvbnNlLmRhdGFbX2ldLmNvbnRlbnQubGVuZ3RoLAogICAgICAgICAgICAgICAgICAgICAgJ3BlclBhZ2UnOiAzMCwKICAgICAgICAgICAgICAgICAgICAgICdzaG93aW5nJzogcmVzcG9uc2UuZGF0YVtfaV0uY29udGVudC5sZW5ndGggPCAzMCA/IHJlc3BvbnNlLmRhdGFbX2ldLmNvbnRlbnQubGVuZ3RoIDogMzAKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHNwZWN0ZWRMaXN0LnB1c2godmFyTmFtZSk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzOC5saXN0ID0gc3BlY3RlZExpc3Q7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjogIikuY29uY2F0KGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIC8qIGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UpIHsNCiAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJykNCiAgICAgICAgICAgICAgICAgIH0qLwoKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZXJyb3JzLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICAgICAgICAgIGxpc3QgKz0gZXJyb3JzW2ldICsgJyBcbic7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKCIiICsgbGlzdCwgJycsICdpbmZvJyk7CgogICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNldENsaWVudERhdGE6IGZ1bmN0aW9uIHNldENsaWVudERhdGEoY2xpZW50SW5mbykgewogICAgICB0aGlzLmNsaWVudERhdGEuZW1haWwgPSBjbGllbnRJbmZvLmVtYWlsOwogICAgICB0aGlzLmNsaWVudERhdGEuZmlyc3ROYW1lID0gY2xpZW50SW5mby5maXJzdE5hbWU7CiAgICAgIHRoaXMuY2xpZW50RGF0YS5sYXN0TmFtZSA9IGNsaWVudEluZm8ubGFzdE5hbWU7CiAgICAgIHRoaXMuY2xpZW50RGF0YS5sYW5ndWFnZSA9IGNsaWVudEluZm8ubGFuZ3VhZ2U7CiAgICAgIHRoaXMuY2xpZW50RGF0YS5zdGF0dXMgPSBjbGllbnRJbmZvLnN0YXR1czsKICAgICAgdGhpcy5jbGllbnREYXRhLnBob25lID0gY2xpZW50SW5mby5waG9uZU51bWJlcjsKICAgICAgdGhpcy5jbGllbnREYXRhLmdlbmRlciA9IGNsaWVudEluZm8uZ2VuZGVyOwogICAgICB0aGlzLmNsaWVudERhdGEuYWdlID0gY2xpZW50SW5mby5hZ2U7CiAgICAgIHRoaXMuY2xpZW50RGF0YS50eXBlID0gY2xpZW50SW5mby5sZWFkVHlwZTsKICAgICAgdGhpcy5jbGllbnREYXRhLmNpdHkgPSBjbGllbnRJbmZvLmNpdHk7CiAgICAgIHRoaXMuY2xpZW50RGF0YS5kZXBhcnRtZW50ID0gY2xpZW50SW5mby5kZXBhcnRtZW50SUQ7CiAgICAgIHRoaXMuY2xpZW50RGF0YS5iaXJ0aERhdGUgPSB0aGlzLmZvcm1hdERhdGUoY2xpZW50SW5mby5kYXRlT2ZCaXJ0aCwgJ0REIE1NTSwgWVlZWScpOwogICAgICB0aGlzLmNsaWVudERhdGEuaW50ZXJ2aWV3ID0gdGhpcy5mb3JtYXREYXRlKGNsaWVudEluZm8uaW50ZXJ2aWV3RGF0ZSwgJ01NTU0gRCwgWVlZWSBoOm1tIEEnKTsKICAgICAgdGhpcy5jbGllbnREYXRhLmFkZHJlc3MgPSBjbGllbnRJbmZvLmFkZHJlc3M7CiAgICAgIHRoaXMuY2xpZW50RGF0YS5zdGF0ZSA9IGNsaWVudEluZm8uc3RhdGU7CiAgICAgIHRoaXMuY2xpZW50RGF0YS5jb3VudHJ5ID0gY2xpZW50SW5mby5jb3VudHJ5OwogICAgICB0aGlzLmNsaWVudERhdGEuemlwQ29kZSA9IGNsaWVudEluZm8ucG9zdGFsQ29kZTsKICAgICAgdGhpcy5jbGllbnREYXRhLmFnZW50TnVtYmVyID0gY2xpZW50SW5mby5hZ2VudE51bWJlcjsKICAgICAgdGhpcy5jbGllbnREYXRhLmNyZWF0ZWRCeSA9IGNsaWVudEluZm8uY3JlYXRlZEJ5OwogICAgICB0aGlzLmNsaWVudERhdGEuaW5zdXJhbmNlTGljZW5zZSA9IGNsaWVudEluZm8uaXNMaWNlbnNlZDsKICAgICAgdGhpcy5nZXRNYXBzTGluaygpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBHZXQgdGhlIG5hbWUgb2YgdXNlcg0KICAgICAqLwogICAgY2hhdFVzZXJuYW1lOiBmdW5jdGlvbiBjaGF0VXNlcm5hbWUobmFtZSwgaW1hZ2UpIHsKICAgICAgdGhpcy51c2VybmFtZSA9IG5hbWU7CiAgICAgIHRoaXMucHJvZmlsZSA9IGltYWdlOwogICAgICB0aGlzLnVzZXJtZXNzYWdlID0gIkhlbGxvIjsKICAgICAgdGhpcy5ub3Rlc0RhdGEgPSBbXTsKICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5ub3Rlc0RhdGEucHVzaCh7CiAgICAgICAgbmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICBtZXNzYWdlOiB0aGlzLnVzZXJtZXNzYWdlLAogICAgICAgIHRpbWU6IGN1cnJlbnREYXRlLmdldEhvdXJzKCkgKyAiOiIgKyBjdXJyZW50RGF0ZS5nZXRNaW51dGVzKCkKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIENoYXIgZm9ybSBTdWJtaXQNCiAgICAgKi8KICAgIGZvcm1TdWJtaXQ6IGZ1bmN0aW9uIGZvcm1TdWJtaXQoKSB7CiAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsgLy8gc3RvcCBoZXJlIGlmIGZvcm0gaXMgaW52YWxpZAoKICAgICAgdGhpcy52JC4kdG91Y2goKTsKCiAgICAgIGlmICh0aGlzLnYkLiRpbnZhbGlkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5mb3JtLm1lc3NhZ2U7CiAgICAgICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTsKICAgICAgICB0aGlzLm5vdGVzRGF0YS5wdXNoKHsKICAgICAgICAgIGFsaWduOiAicmlnaHQiLAogICAgICAgICAgbmFtZTogIkhlbnJ5IFdlbGxzIiwKICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgICB0aW1lOiBjdXJyZW50RGF0ZS5nZXRIb3VycygpICsgIjoiICsgY3VycmVudERhdGUuZ2V0TWludXRlcygpCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2U7CiAgICAgIHRoaXMuZm9ybSA9IHt9OwogICAgfSwKICAgIGFkZE5ld0NsaWVudE1vZGFsOiBmdW5jdGlvbiBhZGROZXdDbGllbnRNb2RhbCgpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICB0aGlzLnJlc2V0Q2xpZW50RGF0YSgpOwogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbG9jYWxBZ2VudElEIikudmFsdWUgPSAwOwogICAgICB2YXIgZ29CYWNrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dvQmFjaycpOwogICAgICB2YXIgZ29OZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dvTmV4dCcpOwogICAgICBnb0JhY2suc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgZ29OZXh0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgIHZhciBjbGllbnREYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2xpZW50Rm9ybURhdGEnKSk7CgogICAgICBpZiAoY2xpZW50RGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgIHRpdGxlOiAnRG8geW91IHdhbnQgdG8gY29udGludWUgdGhlIGpvYiB5b3UgbGVmdD8nLAogICAgICAgICAgc2hvd0RlbnlCdXR0b246IHRydWUsCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ1llcycsCiAgICAgICAgICBkZW55QnV0dG9uVGV4dDogIk5vIgogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgLyogUmVhZCBtb3JlIGFib3V0IGlzQ29uZmlybWVkLCBpc0RlbmllZCBiZWxvdyAqLwogICAgICAgICAgaWYgKHJlc3VsdC5pc0NvbmZpcm1lZCkgewogICAgICAgICAgICBTd2FsLmZpcmUoJ1Jlc3RvcmVkIScsICcnLCAnc3VjY2VzcycpOwoKICAgICAgICAgICAgX3RoaXM5LnJlc3RvcmVGb3JtKCk7CgogICAgICAgICAgICB2YXIgX2dvQmFjayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnb0JhY2snKTsKCiAgICAgICAgICAgIHZhciBfZ29OZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dvTmV4dCcpOwoKICAgICAgICAgICAgX2dvQmFjay5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICBfZ29OZXh0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CgogICAgICAgICAgICBpZiAoY2xpZW50RGF0YS5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgX2dvQmFjay5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICBfZ29OZXh0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5pc0RlbmllZCkgewogICAgICAgICAgICBfdGhpczkucmVzZXRDbGllbnREYXRhKCk7CgogICAgICAgICAgICBTd2FsLmZpcmUoJ1NhdmVkIGRhdGEgcmVtb3ZlZCEnLCAnJywgJ2luZm8nKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsaWVudE1vZGFsTGFiZWxBZGQnKS5pbm5lckhUTUwgPSAiQWRkIFByb3NwZWN0IjsKICAgIH0sCiAgICBwcmludEVtaXQ6IGZ1bmN0aW9uIHByaW50RW1pdChub3RpZnkpIHsKICAgICAgdGhpcy5ub3Rlc0RhdGEgPSBub3RpZnk7CiAgICB9LAogICAga2V5RXhpc3RzOiBmdW5jdGlvbiBrZXlFeGlzdHMoa2V5LCBzZWFyY2gpIHsKICAgICAgaWYgKCFzZWFyY2ggfHwgc2VhcmNoLmNvbnN0cnVjdG9yICE9PSBBcnJheSAmJiBzZWFyY2guY29uc3RydWN0b3IgIT09IE9iamVjdCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWFyY2gubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNlYXJjaFtpXSk7CgogICAgICAgIGlmIChrZXlzWzBdID09PSBrZXkpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGtleSBpbiBzZWFyY2g7CiAgICB9LAogICAgYWRkRWNvbnRhY3Q6IGZ1bmN0aW9uIGFkZEVjb250YWN0KCkgewogICAgICB2YXIgZUNvbnRhY3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdOwogICAgICB0aGlzLmVDb250YWN0UXR5ID0gdGhpcy5lQ29udGFjdFF0eSArIDE7CiAgICAgIHZhciBpID0gdGhpcy5lQ29udGFjdFF0eTsKICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRFY29udGFjdCcpOwogICAgICB2YXIgc2VwYXJhdG9yID0gJyc7CiAgICAgIHZhciBjaGVja0lERXhpc3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVDb25GaXJzdE5hbWUtMSIpOwogICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoKICAgICAgaWYgKGVDb250YWN0Lmxlbmd0aCA8PSAwKSB7CiAgICAgICAgZUNvbnRhY3QucHVzaChlQ29udGFjdFsnZmlyc3ROYW1lJ10gPSAnJywgZUNvbnRhY3RbJ2xhc3ROYW1lJ10gPSAnJywgZUNvbnRhY3RbJ2FkZHJlc3MnXSA9ICcnLCBlQ29udGFjdFsncGhvbmVOdW1iZXInXSA9ICcnLCBlQ29udGFjdFsnc3RhdGUnXSA9ICcnLCBlQ29udGFjdFsncG9zdGFsQ29kZSddID0gJycsIGVDb250YWN0WydyZWxhdGlvbnNoaXAnXSA9ICcnLCBlQ29udGFjdFsnYWdlJ10gPSAnJyk7CiAgICAgIH0KCiAgICAgIGlmIChjaGVja0lERXhpc3RzKSB7CiAgICAgICAgc2VwYXJhdG9yID0gJzxociBzdHlsZT0iYm9yZGVyLXRvcDogMXB4IHNvbGlkICMyYzlhMmE7Ij4nOwogICAgICB9CgogICAgICBlbGVtZW50LmlubmVySFRNTCArPSBzZXBhcmF0b3IgKyAnPGRpdiBjbGFzcz0icm93IiBpZD0icm93RWNvbicgKyBpICsgJyI+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iZUNvbkZpcnN0TmFtZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5GaXJzdCBOYW1lPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZUNvbkZpcnN0TmFtZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIEZpcnN0IE5hbWUiIG5hbWU9ImVDb25GaXJzdE5hbWVbXSIgcmVxdWlyZWQgdmFsdWU9IicgKyBlQ29udGFjdFsnZmlyc3ROYW1lJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJlQ29uTGFzdE5hbWUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+TGFzdCBOYW1lPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZUNvbkxhc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgTGFzdCBOYW1lIiAgbmFtZT0iZUNvbkxhc3ROYW1lW10iIHJlcXVpcmVkICB2YWx1ZT0iJyArIGVDb250YWN0WydsYXN0TmFtZSddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iZUNvbkFkZHJlc3MtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+QWRkcmVzczwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImVDb25BZGRyZXNzLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgQWRkcmVzcyIgIG5hbWU9ImVDb25BZGRyZXNzW10iIHJlcXVpcmVkICB2YWx1ZT0iJyArIGVDb250YWN0WydhZGRyZXNzJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJlQ29uUGhvbmUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+UGhvbmU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJlQ29uUGhvbmUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBQaG9uZSIgIG5hbWU9ImVDb25QaG9uZVtdIiByZXF1aXJlZCAgdmFsdWU9IicgKyBlQ29udGFjdFsncGhvbmVOdW1iZXInXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImVDb25TdGF0ZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5TdGF0ZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImVDb25TdGF0ZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIFN0YXRlIiAgbmFtZT0iZUNvblN0YXRlW10iICByZXF1aXJlZCAgdmFsdWU9IicgKyBlQ29udGFjdFsnc3RhdGUnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImVDb25Qb3N0YWxDb2RlLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPlBvc3RhbCBDb2RlPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZUNvblBvc3RhbENvZGUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBQb3N0YWwgQ29kZSIgIG5hbWU9ImVDb25Qb3N0YWxDb2RlW10iIHJlcXVpcmVkICB2YWx1ZT0iJyArIGVDb250YWN0Wydwb3N0YWxDb2RlJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJlQ29uUmVsYXRpb24tJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+UmVsYXRpb25zaGlwPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZUNvblJlbGF0aW9uLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgUmVsYXRpb25zaGlwIiAgbmFtZT0iZUNvblJlbGF0aW9uW10iICByZXF1aXJlZCAgdmFsdWU9IicgKyBlQ29udGFjdFsncmVsYXRpb25zaGlwJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJlQ29uQWdlLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPkFnZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImVDb25BZ2UtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBBZ2UiICBuYW1lPSJlQ29uQWdlW10iIHJlcXVpcmVkICB2YWx1ZT0iJyArIGVDb250YWN0WydhZ2UnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgPGRpdiBjbGFzcz0iY29sLW1kLTYiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOyI+XG4nICsgJyA8L2Rpdj5cbicgKyAnIDxkaXYgY2xhc3M9ImNvbC1tZC02IiBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsiPlxuJyArICcgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSInICsgaSArICciIGNsYXNzPSJidG4gYnRuLWRhbmdlciByZW1vdmVJdGVtRWNvbiIgdGl0bGU9IkRlbGV0ZSI+PGkgY2xhc3M9InJpLWNsb3NlLWNpcmNsZS1saW5lIj48L2k+PC9idXR0b24+XG4nICsgJyA8L2Rpdj5cbicgKyAnPC9kaXY+JzsKICAgICAgZGl2LmFwcGVuZChlbGVtZW50KTsKICAgIH0sCiAgICBhZGRBbm90aGVyQ2xpZW50OiBmdW5jdGlvbiBhZGRBbm90aGVyQ2xpZW50KCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjAoKSB7CiAgICAgICAgdmFyIGxvY2FsQWdlbnRJRCwgYmVuZWZpY2lhcmllcywgZW1lcmdlbmN5Q29udGFjdHMsIGFkZGVkQ2hpbGRzLCBmb3JtVmFsdWVzLCB2YWx1ZXMsIGZvcm0sIGksIGUsIF9pMiwga2V5cywgZm9ybU51bWJlciwgZ29CYWNrLCBnb05leHQsIF9mb3JtTnVtYmVyLCBfZ29CYWNrMiwgX2dvTmV4dDIsIGxpc3QsIF9pMzsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMCQoX2NvbnRleHQyMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIwLnByZXYgPSBfY29udGV4dDIwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczEwLmVycm9ycyA9IFtdOwoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMxMC5jbGllbnREYXRhLmZpcnN0TmFtZSkgewogICAgICAgICAgICAgICAgICBfdGhpczEwLmVycm9ycy5wdXNoKCdGaXJzdCBOYW1lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMxMC5jbGllbnREYXRhLmxhc3ROYW1lKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTAuZXJyb3JzLnB1c2goJ0xhc3QgTmFtZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMTAuY2xpZW50RGF0YS5zdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMC5lcnJvcnMucHVzaCgnU3RhdHVzIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMxMC5jbGllbnREYXRhLnBob25lKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTAuZXJyb3JzLnB1c2goJ1Bob25lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczEwLnZhbGlkUGhvbmUoX3RoaXMxMC5jbGllbnREYXRhLnBob25lKSA9PT0gZmFsc2UgJiYgX3RoaXMxMC5jbGllbnREYXRhLnBob25lICE9PSAnJykgewogICAgICAgICAgICAgICAgICBfdGhpczEwLmVycm9ycy5wdXNoKCdQbGVhc2UsIHdyaXRlIGEgdmFsaWQgcGhvbmUgbnVtYmVyIScpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMxMC5jbGllbnREYXRhLmRlcGFydG1lbnQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMC5lcnJvcnMucHVzaCgnRGVwYXJ0bWVudCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMC5jbGllbnREYXRhLnR5cGUgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTAuZXJyb3JzLnB1c2goJ0xlYWQvQ2xpZW50IFNvdXJjZSBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhZGQgYW5vdGhlcicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczEwLmVycm9ycy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGxvY2FsQWdlbnRJRCA9ICdpZCcgKyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbG9jYWxBZ2VudElEIikudmFsdWU7CiAgICAgICAgICAgICAgICBiZW5lZmljaWFyaWVzID0gX3RoaXMxMC5nZXRCZW5maWNpYXJpZXMoKTsKICAgICAgICAgICAgICAgIGVtZXJnZW5jeUNvbnRhY3RzID0gX3RoaXMxMC5nZXRFbWVyZ2VuY3koKTsKICAgICAgICAgICAgICAgIGFkZGVkQ2hpbGRzID0gX3RoaXMxMC5nZXRBZGRlZENoaWxkcygpOwogICAgICAgICAgICAgICAgZm9ybVZhbHVlcyA9IHt9OwogICAgICAgICAgICAgICAgdmFsdWVzID0ge307CiAgICAgICAgICAgICAgICBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZGZvcm0iKTsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZm9ybS5lbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBlID0gZm9ybS5lbGVtZW50c1tpXTsKCiAgICAgICAgICAgICAgICAgIGlmIChlLm5hbWUgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgZm9ybVZhbHVlc1tlLm5hbWVdID0gZS52YWx1ZTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgZm9ybVZhbHVlc1snZWRpdEdlbmRlciddID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbdHlwZT0ncmFkaW8nXVtuYW1lPWVkaXRHZW5kZXJdOmNoZWNrZWQiKS52YWx1ZTsKCiAgICAgICAgICAgICAgICAgIGlmIChfdGhpczEwLmlzQ2xpZW50TGlzdCkgewogICAgICAgICAgICAgICAgICAgIGZvcm1WYWx1ZXNbJ2VkaXRUeXBlJ10gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjZWRpdFR5cGUiKS52YWx1ZTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBmb3JtVmFsdWVzWydlZGl0VHlwZSddID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2VkaXRUeXBlMSIpLnZhbHVlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IC8vIGlmIGFycmF5IGRhdGEgYWxyZWFkeSBleGlzdCBqdXN0IHVwZGF0ZS4KCgogICAgICAgICAgICAgICAgaWYgKF90aGlzMTAua2V5RXhpc3RzKGxvY2FsQWdlbnRJRCwgX3RoaXMxMC5jbGllbnRGb3JtRGF0YSkpIHsKICAgICAgICAgICAgICAgICAgZm9yIChfaTIgPSAwOyBfaTIgPCBfdGhpczEwLmNsaWVudEZvcm1EYXRhLmxlbmd0aDsgX2kyKyspIHsKICAgICAgICAgICAgICAgICAgICBrZXlzID0gT2JqZWN0LmtleXMoX3RoaXMxMC5jbGllbnRGb3JtRGF0YVtfaTJdKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGtleXNbMF0gPT09IGxvY2FsQWdlbnRJRCkgewogICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXMxMC5jbGllbnRGb3JtRGF0YVtfaTJdW2tleXNdKTsgLy8gdGhpcy5jbGllbnRGb3JtRGF0YVtpXVtrZXlzXSA9IHtmb3JtVmFsdWVzLCBiZW5lZmljaWFyaWVzLCBlbWVyZ2VuY3lDb250YWN0cywgYWRkZWRDaGlsZHN9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2xpZW50Rm9ybURhdGEnLCBKU09OLnN0cmluZ2lmeShfdGhpczEwLmNsaWVudEZvcm1EYXRhKSk7CgogICAgICAgICAgICAgICAgICBfdGhpczEwLnJlc2V0Q2xpZW50RGF0YSgpOwoKICAgICAgICAgICAgICAgICAgZm9ybU51bWJlciA9IE51bWJlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbG9jYWxBZ2VudElEIikudmFsdWUpOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbG9jYWxBZ2VudElEIikudmFsdWUgPSBmb3JtTnVtYmVyICsgMTsKICAgICAgICAgICAgICAgICAgZ29CYWNrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dvQmFjaycpOwogICAgICAgICAgICAgICAgICBnb05leHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ29OZXh0Jyk7CiAgICAgICAgICAgICAgICAgIGdvQmFjay5zdHlsZS5kaXNwbGF5ID0gJyc7CiAgICAgICAgICAgICAgICAgIGdvTmV4dC5zdHlsZS5kaXNwbGF5ID0gJyc7CiAgICAgICAgICAgICAgICAgIGdvQmFjay5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgICAgZ29OZXh0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOyAvLyBpZiBhcnJheSBkYXRhIGRvIG5vdCBleGlzdCBjcmVhdGUgaXQuCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB2YWx1ZXMgPSB7CiAgICAgICAgICAgICAgICAgICAgZm9ybVZhbHVlczogZm9ybVZhbHVlcywKICAgICAgICAgICAgICAgICAgICBiZW5lZmljaWFyaWVzOiBiZW5lZmljaWFyaWVzLAogICAgICAgICAgICAgICAgICAgIGVtZXJnZW5jeUNvbnRhY3RzOiBlbWVyZ2VuY3lDb250YWN0cywKICAgICAgICAgICAgICAgICAgICBhZGRlZENoaWxkczogYWRkZWRDaGlsZHMKICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTAuY2xpZW50Rm9ybURhdGEucHVzaChfZGVmaW5lUHJvcGVydHkoe30sIGxvY2FsQWdlbnRJRCwgdmFsdWVzKSk7CgogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2xpZW50Rm9ybURhdGEnLCBKU09OLnN0cmluZ2lmeShfdGhpczEwLmNsaWVudEZvcm1EYXRhKSk7CgogICAgICAgICAgICAgICAgICBfdGhpczEwLnJlc2V0Q2xpZW50RGF0YSgpOwoKICAgICAgICAgICAgICAgICAgX2Zvcm1OdW1iZXIgPSBOdW1iZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2xvY2FsQWdlbnRJRCIpLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2xvY2FsQWdlbnRJRCIpLnZhbHVlID0gX2Zvcm1OdW1iZXIgKyAxOwogICAgICAgICAgICAgICAgICBfZ29CYWNrMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnb0JhY2snKTsKICAgICAgICAgICAgICAgICAgX2dvTmV4dDIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ29OZXh0Jyk7CiAgICAgICAgICAgICAgICAgIF9nb0JhY2syLnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgICAgICAgICAgICAgICAgX2dvTmV4dDIuc3R5bGUuZGlzcGxheSA9ICcnOwogICAgICAgICAgICAgICAgICBfZ29CYWNrMi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgICAgX2dvTmV4dDIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICBmb3IgKF9pMyA9IDA7IF9pMyA8IF90aGlzMTAuZXJyb3JzLmxlbmd0aDsgX2kzKyspIHsKICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBfdGhpczEwLmVycm9yc1tfaTNdICsgJzwvYj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNvbXBsZXRlIHRoZSBmb3JtISAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoZWNrQ2xpZW50RXhpc3RzOiBmdW5jdGlvbiBjaGVja0NsaWVudEV4aXN0cygpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIxKCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjEkKF9jb250ZXh0MjEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMS5wcmV2ID0gX2NvbnRleHQyMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgaXNQcm9zcGVjdDogMSwKICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgY2xpZW50SUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWxlY3RlZFVzZXInKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgICAgICAgcG90ZW50aWFsQ2xpZW50RW1haWw6IF90aGlzMTEuY2xpZW50RGF0YS5lbWFpbAogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMTEudmFsaWRFbWFpbChkYXRhLnBvdGVudGlhbENsaWVudEVtYWlsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY2xpZW50L2VtYWlsRXhpc3RzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5jcmVhdGVFbWFpbCIpOwoKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoImlzLWludmFsaWQiKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBkaXYuY2xhc3NMaXN0LnJlbW92ZSgiaXMtaW52YWxpZCIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJQbGVhc2UsIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIxKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0QmVuZmljaWFyaWVzOiBmdW5jdGlvbiBnZXRCZW5maWNpYXJpZXMoKSB7CiAgICAgIHZhciBuYW1lVmFsdWVzID0gW107CiAgICAgIHZhciBsYXN0VmFsdWVzID0gW107CiAgICAgIHZhciBwaG9uZVZhbHVlcyA9IFtdOwogICAgICB2YXIgYWRkcmVzc1ZhbHVlcyA9IFtdOwogICAgICB2YXIgc3RhdGVWYWx1ZXMgPSBbXTsKICAgICAgdmFyIHBvc3RhbFZhbHVlcyA9IFtdOwogICAgICB2YXIgcmVsYXRpb25WYWx1ZXMgPSBbXTsKICAgICAgdmFyIGFnZVZhbHVlcyA9IFtdOwogICAgICB2YXIgdmFsdWVzID0gW107CiAgICAgIHZhciBiZW5GaXJzdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFtuYW1lPSdiZW5GaXJzdE5hbWVbXSddIik7CgogICAgICBmb3IgKHZhciBfaTQgPSAwOyBfaTQgPCBiZW5GaXJzdE5hbWUubGVuZ3RoOyBfaTQrKykgewogICAgICAgIG5hbWVWYWx1ZXMucHVzaChiZW5GaXJzdE5hbWVbX2k0XS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBiZW5MYXN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9J2Jlbkxhc3ROYW1lW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2k1ID0gMDsgX2k1IDwgYmVuTGFzdE5hbWUubGVuZ3RoOyBfaTUrKykgewogICAgICAgIGxhc3RWYWx1ZXMucHVzaChiZW5MYXN0TmFtZVtfaTVdLnZhbHVlKTsKICAgICAgfQoKICAgICAgdmFyIGJlblBob25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nYmVuUGhvbmVbXSddIik7CgogICAgICBmb3IgKHZhciBfaTYgPSAwOyBfaTYgPCBiZW5QaG9uZS5sZW5ndGg7IF9pNisrKSB7CiAgICAgICAgcGhvbmVWYWx1ZXMucHVzaChiZW5QaG9uZVtfaTZdLnZhbHVlKTsKICAgICAgfQoKICAgICAgdmFyIGJlbkFkZHJlc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFtuYW1lPSdiZW5BZGRyZXNzW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2k3ID0gMDsgX2k3IDwgYmVuQWRkcmVzcy5sZW5ndGg7IF9pNysrKSB7CiAgICAgICAgYWRkcmVzc1ZhbHVlcy5wdXNoKGJlbkFkZHJlc3NbX2k3XS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBiZW5TdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9J2JlblN0YXRlW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2k4ID0gMDsgX2k4IDwgYmVuU3RhdGUubGVuZ3RoOyBfaTgrKykgewogICAgICAgIHN0YXRlVmFsdWVzLnB1c2goYmVuU3RhdGVbX2k4XS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBiZW5Qb3N0YWxDb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nYmVuUG9zdGFsQ29kZVtdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pOSA9IDA7IF9pOSA8IGJlblBvc3RhbENvZGUubGVuZ3RoOyBfaTkrKykgewogICAgICAgIHBvc3RhbFZhbHVlcy5wdXNoKGJlblBvc3RhbENvZGVbX2k5XS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBiZW5SZWxhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9J2JlblJlbGF0aW9uW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2kxMCA9IDA7IF9pMTAgPCBiZW5SZWxhdGlvbi5sZW5ndGg7IF9pMTArKykgewogICAgICAgIHJlbGF0aW9uVmFsdWVzLnB1c2goYmVuUmVsYXRpb25bX2kxMF0udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgYmVuQWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nYmVuQWdlW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2kxMSA9IDA7IF9pMTEgPCBiZW5BZ2UubGVuZ3RoOyBfaTExKyspIHsKICAgICAgICBhZ2VWYWx1ZXMucHVzaChiZW5BZ2VbX2kxMV0udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgaTsKCiAgICAgIGZvciAoaSA9IDA7IGkgPCBuYW1lVmFsdWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFsdWVzLnB1c2goewogICAgICAgICAgJ2ZpcnN0TmFtZSc6IG5hbWVWYWx1ZXNbaV0sCiAgICAgICAgICAnbGFzdE5hbWUnOiBsYXN0VmFsdWVzW2ldLAogICAgICAgICAgJ3Bob25lTnVtYmVyJzogcGhvbmVWYWx1ZXNbaV0sCiAgICAgICAgICAnYWRkcmVzcyc6IGFkZHJlc3NWYWx1ZXNbaV0sCiAgICAgICAgICAnc3RhdGUnOiBzdGF0ZVZhbHVlc1tpXSwKICAgICAgICAgICdwb3N0YWxDb2RlJzogcG9zdGFsVmFsdWVzW2ldLAogICAgICAgICAgJ3JlbGF0aW9uc2hpcCc6IHJlbGF0aW9uVmFsdWVzW2ldLAogICAgICAgICAgJ2FnZSc6IGFnZVZhbHVlc1tpXQogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gdmFsdWVzOwogICAgfSwKICAgIGdldEVtZXJnZW5jeTogZnVuY3Rpb24gZ2V0RW1lcmdlbmN5KCkgewogICAgICB2YXIgbmFtZVZhbHVlcyA9IFtdOwogICAgICB2YXIgbGFzdFZhbHVlcyA9IFtdOwogICAgICB2YXIgcGhvbmVWYWx1ZXMgPSBbXTsKICAgICAgdmFyIGFkZHJlc3NWYWx1ZXMgPSBbXTsKICAgICAgdmFyIHN0YXRlVmFsdWVzID0gW107CiAgICAgIHZhciBwb3N0YWxWYWx1ZXMgPSBbXTsKICAgICAgdmFyIHJlbGF0aW9uVmFsdWVzID0gW107CiAgICAgIHZhciBhZ2VWYWx1ZXMgPSBbXTsKICAgICAgdmFyIHZhbHVlcyA9IFtdOwogICAgICB2YXIgZUNvbkZpcnN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9J2VDb25GaXJzdE5hbWVbXSddIik7CgogICAgICBmb3IgKHZhciBfaTEyID0gMDsgX2kxMiA8IGVDb25GaXJzdE5hbWUubGVuZ3RoOyBfaTEyKyspIHsKICAgICAgICBuYW1lVmFsdWVzLnB1c2goZUNvbkZpcnN0TmFtZVtfaTEyXS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBlQ29uTGFzdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFtuYW1lPSdlQ29uTGFzdE5hbWVbXSddIik7CgogICAgICBmb3IgKHZhciBfaTEzID0gMDsgX2kxMyA8IGVDb25MYXN0TmFtZS5sZW5ndGg7IF9pMTMrKykgewogICAgICAgIGxhc3RWYWx1ZXMucHVzaChlQ29uTGFzdE5hbWVbX2kxM10udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgZUNvblBob25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nZUNvblBob25lW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2kxNCA9IDA7IF9pMTQgPCBlQ29uUGhvbmUubGVuZ3RoOyBfaTE0KyspIHsKICAgICAgICBwaG9uZVZhbHVlcy5wdXNoKGVDb25QaG9uZVtfaTE0XS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBlQ29uQWRkcmVzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9J2VDb25BZGRyZXNzW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2kxNSA9IDA7IF9pMTUgPCBlQ29uQWRkcmVzcy5sZW5ndGg7IF9pMTUrKykgewogICAgICAgIGFkZHJlc3NWYWx1ZXMucHVzaChlQ29uQWRkcmVzc1tfaTE1XS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBlQ29uU3RhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFtuYW1lPSdlQ29uU3RhdGVbXSddIik7CgogICAgICBmb3IgKHZhciBfaTE2ID0gMDsgX2kxNiA8IGVDb25TdGF0ZS5sZW5ndGg7IF9pMTYrKykgewogICAgICAgIHN0YXRlVmFsdWVzLnB1c2goZUNvblN0YXRlW19pMTZdLnZhbHVlKTsKICAgICAgfQoKICAgICAgdmFyIGVDb25Qb3N0YWxDb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nZUNvblBvc3RhbENvZGVbXSddIik7CgogICAgICBmb3IgKHZhciBfaTE3ID0gMDsgX2kxNyA8IGVDb25Qb3N0YWxDb2RlLmxlbmd0aDsgX2kxNysrKSB7CiAgICAgICAgcG9zdGFsVmFsdWVzLnB1c2goZUNvblBvc3RhbENvZGVbX2kxN10udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgZUNvblJlbGF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nZUNvblJlbGF0aW9uW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2kxOCA9IDA7IF9pMTggPCBlQ29uUmVsYXRpb24ubGVuZ3RoOyBfaTE4KyspIHsKICAgICAgICByZWxhdGlvblZhbHVlcy5wdXNoKGVDb25SZWxhdGlvbltfaTE4XS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBlQ29uQWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nZUNvbkFnZVtdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pMTkgPSAwOyBfaTE5IDwgZUNvbkFnZS5sZW5ndGg7IF9pMTkrKykgewogICAgICAgIGFnZVZhbHVlcy5wdXNoKGVDb25BZ2VbX2kxOV0udmFsdWUpOwogICAgICB9CgogICAgICB2YXIgaTsKCiAgICAgIGZvciAoaSA9IDA7IGkgPCBuYW1lVmFsdWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFsdWVzLnB1c2goewogICAgICAgICAgJ2ZpcnN0TmFtZSc6IG5hbWVWYWx1ZXNbaV0sCiAgICAgICAgICAnbGFzdE5hbWUnOiBsYXN0VmFsdWVzW2ldLAogICAgICAgICAgJ3Bob25lTnVtYmVyJzogcGhvbmVWYWx1ZXNbaV0sCiAgICAgICAgICAnYWRkcmVzcyc6IGFkZHJlc3NWYWx1ZXNbaV0sCiAgICAgICAgICAnc3RhdGUnOiBzdGF0ZVZhbHVlc1tpXSwKICAgICAgICAgICdwb3N0YWxDb2RlJzogcG9zdGFsVmFsdWVzW2ldLAogICAgICAgICAgJ3JlbGF0aW9uc2hpcCc6IHJlbGF0aW9uVmFsdWVzW2ldLAogICAgICAgICAgJ2FnZSc6IGFnZVZhbHVlc1tpXQogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gdmFsdWVzOwogICAgfSwKICAgIGdldEFkZGVkQ2hpbGRzOiBmdW5jdGlvbiBnZXRBZGRlZENoaWxkcygpIHsKICAgICAgdmFyIG5hbWVWYWx1ZXMgPSBbXTsKICAgICAgdmFyIGxhc3RWYWx1ZXMgPSBbXTsKICAgICAgdmFyIGdlbmRlclZhbHVlcyA9IFtdOwogICAgICB2YXIgYWdlVmFsdWVzID0gW107CiAgICAgIHZhciByZWxhdGlvblZhbHVlcyA9IFtdOwogICAgICB2YXIgdmFsdWVzID0gW107CiAgICAgIHZhciBlQ29uRmlyc3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZT0nQWRkaUZpcnN0TmFtZVtdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pMjAgPSAwOyBfaTIwIDwgZUNvbkZpcnN0TmFtZS5sZW5ndGg7IF9pMjArKykgewogICAgICAgIG5hbWVWYWx1ZXMucHVzaChlQ29uRmlyc3ROYW1lW19pMjBdLnZhbHVlKTsKICAgICAgfQoKICAgICAgdmFyIGVDb25MYXN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9J0FkZGlMYXN0TmFtZVtdJ10iKTsKCiAgICAgIGZvciAodmFyIF9pMjEgPSAwOyBfaTIxIDwgZUNvbkxhc3ROYW1lLmxlbmd0aDsgX2kyMSsrKSB7CiAgICAgICAgbGFzdFZhbHVlcy5wdXNoKGVDb25MYXN0TmFtZVtfaTIxXS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBBZGRpR2VuZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgic2VsZWN0W25hbWU9J0FkZGlHZW5kZXJbXSddIik7CgogICAgICBmb3IgKHZhciBfaTIyID0gMDsgX2kyMiA8IEFkZGlHZW5kZXIubGVuZ3RoOyBfaTIyKyspIHsKICAgICAgICBnZW5kZXJWYWx1ZXMucHVzaChBZGRpR2VuZGVyW19pMjJdLnZhbHVlKTsKICAgICAgfQoKICAgICAgdmFyIEFkZGlBZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFtuYW1lPSdBZGRpQWdlW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2kyMyA9IDA7IF9pMjMgPCBBZGRpQWdlLmxlbmd0aDsgX2kyMysrKSB7CiAgICAgICAgYWdlVmFsdWVzLnB1c2goQWRkaUFnZVtfaTIzXS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBBZGRpUmVsYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJzZWxlY3RbbmFtZT0nQWRkaVJlbGF0aW9uW10nXSIpOwoKICAgICAgZm9yICh2YXIgX2kyNCA9IDA7IF9pMjQgPCBBZGRpUmVsYXRpb24ubGVuZ3RoOyBfaTI0KyspIHsKICAgICAgICByZWxhdGlvblZhbHVlcy5wdXNoKEFkZGlSZWxhdGlvbltfaTI0XS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHZhciBpOwoKICAgICAgZm9yIChpID0gMDsgaSA8IG5hbWVWYWx1ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YWx1ZXMucHVzaCh7CiAgICAgICAgICAnZmlyc3ROYW1lJzogbmFtZVZhbHVlc1tpXSwKICAgICAgICAgICdsYXN0TmFtZSc6IGxhc3RWYWx1ZXNbaV0sCiAgICAgICAgICAnZ2VuZGVyJzogZ2VuZGVyVmFsdWVzW2ldLAogICAgICAgICAgJ2FnZSc6IGFnZVZhbHVlc1tpXSwKICAgICAgICAgICdyZXRhbGlvbnNoaXAnOiByZWxhdGlvblZhbHVlc1tpXQogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gdmFsdWVzOwogICAgfSwKICAgIHJlc3RvcmVGb3JtOiBmdW5jdGlvbiByZXN0b3JlRm9ybSgpIHsKICAgICAgdmFyIGluc3RydWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJzsKICAgICAgdmFyIGNsaWVudERhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjbGllbnRGb3JtRGF0YScpKTsKICAgICAgdmFyIGZvcm1OdW1iZXIgPSBOdW1iZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2xvY2FsQWdlbnRJRCIpLnZhbHVlKTsKICAgICAgdmFyIGxvY2FsQWdlbnRJRCA9ICcnOwoKICAgICAgaWYgKGluc3RydWN0aW9uID09PSAnbmV4dCcgJiYgTnVtYmVyKGZvcm1OdW1iZXIpICE9PSBOdW1iZXIoY2xpZW50RGF0YS5sZW5ndGgpIC0gMSkgewogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNsb2NhbEFnZW50SUQiKS52YWx1ZSA9IGZvcm1OdW1iZXIgKyAxOwogICAgICAgIGxvY2FsQWdlbnRJRCA9ICdpZCcgKyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbG9jYWxBZ2VudElEIikudmFsdWU7CiAgICAgICAgdGhpcy5yZXN0b3JlKGNsaWVudERhdGEsIGxvY2FsQWdlbnRJRCk7CiAgICAgICAgU3dhbC5maXJlKCdBZ2VudCBpbmZvcm1hdGlvbiBSZXN0b3JlZCEnLCAnJywgJ3N1Y2Nlc3MnKTsKICAgICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbiA9PT0gJ2JhY2snICYmIGZvcm1OdW1iZXIgIT09IDApIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbG9jYWxBZ2VudElEIikudmFsdWUgPSBmb3JtTnVtYmVyIC0gMTsKICAgICAgICBsb2NhbEFnZW50SUQgPSAnaWQnICsgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2xvY2FsQWdlbnRJRCIpLnZhbHVlOwogICAgICAgIHRoaXMucmVzdG9yZShjbGllbnREYXRhLCBsb2NhbEFnZW50SUQpOwogICAgICAgIFN3YWwuZmlyZSgnQWdlbnQgaW5mb3JtYXRpb24gUmVzdG9yZWQhJywgJycsICdzdWNjZXNzJyk7CiAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24gPT09ICcnKSB7CiAgICAgICAgbG9jYWxBZ2VudElEID0gJ2lkMCc7CiAgICAgICAgdGhpcy5yZXN0b3JlKGNsaWVudERhdGEsIGxvY2FsQWdlbnRJRCk7CiAgICAgIH0KCiAgICAgIHZhciBnb0JhY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ29CYWNrJyk7CiAgICAgIHZhciBnb05leHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ29OZXh0Jyk7CiAgICAgIGdvQmFjay5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICBnb05leHQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKCiAgICAgIGlmIChjbGllbnREYXRhLmxlbmd0aCA+IDEpIHsKICAgICAgICBnb0JhY2suc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgZ29OZXh0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICB9CiAgICB9LAogICAgcmVzZXRGb3JtOiBmdW5jdGlvbiByZXNldEZvcm0oKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRmb3JtIikucmVzZXQoKTsKICAgIH0sCiAgICByZXN0b3JlOiBmdW5jdGlvbiByZXN0b3JlKGNsaWVudERhdGEsIGxvY2FsQWdlbnRJRCkgewogICAgICB0aGlzLnJlc2V0Q2xpZW50RGF0YSgpOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbGllbnREYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhjbGllbnREYXRhW2ldKTsKCiAgICAgICAgaWYgKGtleXNbMF0gPT09IGxvY2FsQWdlbnRJRCkgewogICAgICAgICAgdGhpcy5jbGllbnREYXRhLmVtYWlsID0gY2xpZW50RGF0YVtpXVtrZXlzXVsnZm9ybVZhbHVlcyddWydlZGl0RW1haWwnXTsKICAgICAgICAgIHRoaXMuY2xpZW50RGF0YS5zdGF0dXMgPSBjbGllbnREYXRhW2ldW2tleXNdWydmb3JtVmFsdWVzJ11bJ2VkaXRTdGF0dXMnXTsKICAgICAgICAgIHRoaXMuY2xpZW50RGF0YS5sYW5ndWFnZSA9IGNsaWVudERhdGFbaV1ba2V5c11bJ2Zvcm1WYWx1ZXMnXVsnZWRpdExhbmd1YWdlJ107CiAgICAgICAgICB0aGlzLmNsaWVudERhdGEubGFzdE5hbWUgPSBjbGllbnREYXRhW2ldW2tleXNdWydmb3JtVmFsdWVzJ11bJ2VkaXRMYXN0TmFtZSddOwogICAgICAgICAgdGhpcy5jbGllbnREYXRhLmZpcnN0TmFtZSA9IGNsaWVudERhdGFbaV1ba2V5c11bJ2Zvcm1WYWx1ZXMnXVsnZWRpdEZpcnN0TmFtZSddOwogICAgICAgICAgdGhpcy5jbGllbnREYXRhLmZpcnN0TmFtZSA9IGNsaWVudERhdGFbaV1ba2V5c11bJ2Zvcm1WYWx1ZXMnXVsnZWRpdEZpcnN0TmFtZSddOwogICAgICAgICAgdGhpcy5jbGllbnREYXRhLmdlbmRlciA9IGNsaWVudERhdGFbaV1ba2V5c11bJ2Zvcm1WYWx1ZXMnXVsnZWRpdEdlbmRlciddOwogICAgICAgICAgdGhpcy5jbGllbnREYXRhLnR5cGUgPSBjbGllbnREYXRhW2ldW2tleXNdWydmb3JtVmFsdWVzJ11bJ2VkaXRUeXBlJ10gIT09ICcnID8gY2xpZW50RGF0YVtpXVtrZXlzXVsnZm9ybVZhbHVlcyddWydlZGl0VHlwZSddIDogY2xpZW50RGF0YVtpXVtrZXlzXVsnZm9ybVZhbHVlcyddWyd0eXBlJ107CiAgICAgICAgICB0aGlzLmNsaWVudERhdGEucGhvbmUgPSBjbGllbnREYXRhW2ldW2tleXNdWydmb3JtVmFsdWVzJ11bJ2VkaXRQaG9uZU51bWJlciddOwogICAgICAgICAgdGhpcy5jbGllbnREYXRhLmRlcGFydG1lbnQgPSBjbGllbnREYXRhW2ldW2tleXNdWydmb3JtVmFsdWVzJ11bJ2VkaXREZXBhcnRtZW50J107CiAgICAgICAgICB0aGlzLmNsaWVudERhdGEuaW50ZXJ2aWV3ID0gY2xpZW50RGF0YVtpXVtrZXlzXVsnZm9ybVZhbHVlcyddWydlZGl0SW50ZXJ2aWV3J107CiAgICAgICAgICB0aGlzLmNsaWVudERhdGEuZGVwYXJ0bWVudCA9IGNsaWVudERhdGFbaV1ba2V5c11bJ2Zvcm1WYWx1ZXMnXVsnZWRpdERlcGFydG1lbnQnXTsKICAgICAgICAgIHRoaXMuY2xpZW50RGF0YS5hZGRyZXNzID0gY2xpZW50RGF0YVtpXVtrZXlzXVsnZm9ybVZhbHVlcyddWydlZGl0QWRkcmVzcyddOwogICAgICAgICAgdGhpcy5jbGllbnREYXRhLmJpcnRoZGF5ID0gY2xpZW50RGF0YVtpXVtrZXlzXVsnZm9ybVZhbHVlcyddWydlZGl0QmlydGhkYXRlJ107CiAgICAgICAgICB0aGlzLmNsaWVudERhdGEubm90ZSA9IGNsaWVudERhdGFbaV1ba2V5c11bJ2Zvcm1WYWx1ZXMnXVsnZWRpdE5vdGVzJ107CiAgICAgICAgICB0aGlzLmNsaWVudERhdGEuc3RhdGUgPSBjbGllbnREYXRhW2ldW2tleXNdWydmb3JtVmFsdWVzJ11bJ2VkaXRTdGF0ZSddOwogICAgICAgICAgdGhpcy5jbGllbnREYXRhLmNvdW50cnkgPSBjbGllbnREYXRhW2ldW2tleXNdWydmb3JtVmFsdWVzJ11bJ2VkaXRDb3VudHJ5J107CiAgICAgICAgICB0aGlzLmNsaWVudERhdGEuemlwQ29kZSA9IGNsaWVudERhdGFbaV1ba2V5c11bJ2Zvcm1WYWx1ZXMnXVsnZWRpdFBvc3RhbENvZGUnXTsKICAgICAgICAgIHRoaXMuY2xpZW50RGF0YS5jaXR5ID0gY2xpZW50RGF0YVtpXVtrZXlzXVsnZm9ybVZhbHVlcyddWydlZGl0Q2l0eSddOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rlc3REYXRhJywgSlNPTi5zdHJpbmdpZnkodGhpcy5jbGllbnREYXRhKSk7CiAgICAgICAgICBjb25zb2xlLmxvZyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGVzdERhdGEnKSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgaGFuZGxlRm9jdXM6IGZ1bmN0aW9uIGhhbmRsZUZvY3VzKGUpIHsKICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCAibm9wZSIpOwogICAgfSwKICAgIGRlbGV0ZWNsaWVudDogZnVuY3Rpb24gZGVsZXRlY2xpZW50KCkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICB2YXIgc3dhbFdpdGhCb290c3RyYXBCdXR0b25zID0gU3dhbC5taXhpbih7CiAgICAgICAgY3VzdG9tQ2xhc3M6IHsKICAgICAgICAgIGNvbmZpcm1CdXR0b246ICJidG4gYnRuLWRhbmdlciBtbC0yIiwKICAgICAgICAgIGNhbmNlbEJ1dHRvbjogImJ0biBidG4tc3VjY2VzcyIKICAgICAgICB9LAogICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZQogICAgICB9KTsKICAgICAgc3dhbFdpdGhCb290c3RyYXBCdXR0b25zLmZpcmUoewogICAgICAgIHRpdGxlOiAiQXJlIHlvdSBzdXJlPyIsCiAgICAgICAgdGV4dDogIllvdSB3b24ndCBiZSBhYmxlIHRvIHJldmVydCB0aGlzISIsCiAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBkZWxldGUgaXQhIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAiTm8sIGNhbmNlbCEiLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgIHVzZXJOYW1lOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmlyc3ROYW1lJykgKyAnICcgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGFzdG5hbWUnKSwKICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgYWdlbnRJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpCiAgICAgICAgICB9OwogICAgICAgICAgYXhpb3MucHV0KCcvYXBpL2NsaWVudC9kZWxldGUnLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgX3JlZjEyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjIocmVzcG9uc2UpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIyJChfY29udGV4dDIyKSB7CiAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjIucHJldiA9IF9jb250ZXh0MjIubmV4dCkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczEyLnVwZGF0ZUNsaWVudExpc3QoKTsKCiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlLW1vZGFsJykuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3dhbFdpdGhCb290c3RyYXBCdXR0b25zLmZpcmUoIkRlbGV0ZWQhIiwgIlByb3NwZWN0IGhhcyBiZWVuIGRlbGV0ZWQuIiwgInN1Y2Nlc3MiKTsKCiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCBfY2FsbGVlMjIpOwogICAgICAgICAgICB9KSk7CgogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MTIpIHsKICAgICAgICAgICAgICByZXR1cm4gX3JlZjEyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9KCkpLmNhdGNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgX3JlZjEzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjMoZXJyb3IpIHsKICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMyQoX2NvbnRleHQyMykgewogICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIzLnByZXYgPSBfY29udGV4dDIzLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSArICc8L2I+JzsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNoZWNrIHRoZSBmb2xsb3dpbmc6ICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIzLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sIF9jYWxsZWUyMyk7CiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gxMykgewogICAgICAgICAgICAgIHJldHVybiBfcmVmMTMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0oKSk7CiAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAvKiBSZWFkIG1vcmUgYWJvdXQgaGFuZGxpbmcgZGlzbWlzc2FscyBiZWxvdyAqLwogICAgICAgIHJlc3VsdC5kaXNtaXNzID09PSBTd2FsLkRpc21pc3NSZWFzb24uY2FuY2VsKSB7CiAgICAgICAgICBzd2FsV2l0aEJvb3RzdHJhcEJ1dHRvbnMuZmlyZSgiQ2FuY2VsbGVkIiwgIlByb3NwZWN0IGlzIGluIGEgc2FmZSBwbGFjZSA6KSIsICJlcnJvciIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0TWFwc0xpbms6IGZ1bmN0aW9uIGdldE1hcHNMaW5rKCkgewogICAgICB2YXIgbGluayA9ICdodHRwczovL21hcHMuZ29vZ2xlLmNvbS8/cT0nOwogICAgICB2YXIgY2xpZW50RGF0YSA9IHRoaXMuY2xpZW50RGF0YTsKCiAgICAgIGlmIChjbGllbnREYXRhLmFkZHJlc3MubGVuZ3RoID4gMCkgewogICAgICAgIGxpbmsgKz0gJysnICsgdGhpcy5jbGllbnREYXRhLmFkZHJlc3M7CiAgICAgIH0KCiAgICAgIGlmIChjbGllbnREYXRhLnppcENvZGUubGVuZ3RoID4gMCkgewogICAgICAgIGxpbmsgKz0gJysnICsgY2xpZW50RGF0YS56aXBDb2RlOwogICAgICB9CgogICAgICBpZiAoY2xpZW50RGF0YS5jaXR5Lmxlbmd0aCA+IDApIHsKICAgICAgICBsaW5rICs9ICcrJyArIGNsaWVudERhdGEuY2l0eTsKICAgICAgfQoKICAgICAgaWYgKGNsaWVudERhdGEuc3RhdGUubGVuZ3RoID4gMCkgewogICAgICAgIGxpbmsgKz0gJysnICsgY2xpZW50RGF0YS5zdGF0ZTsKICAgICAgfQoKICAgICAgaWYgKGxpbmsgIT09ICdodHRwczovL21hcHMuZ29vZ2xlLmNvbS8/cT0nKSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdNYXBzTGluayIpLmhyZWYgPSBsaW5rOwogICAgICB9IGVsc2UgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnTWFwc0xpbmsiKS5ocmVmID0gJyMnOwogICAgICB9CiAgICB9LAogICAgdmlld1VzZXJHcm91cDogZnVuY3Rpb24gdmlld1VzZXJHcm91cChyZXF1ZXN0KSB7CiAgICAgIHZhciBjdXJyZW50Um9sZSA9IGp3dF9kZWNvZGUobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpKTsKICAgICAgcmV0dXJuIGN1cnJlbnRSb2xlLnVzZXJHcm91cC5pbmNsdWRlcyhyZXF1ZXN0KTsKICAgIH0sCiAgICBnZXROb3RlczogZnVuY3Rpb24gZ2V0Tm90ZXMoKSB7CiAgICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzLAogICAgICAgICAgX3RoaXMxMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjQoKSB7CiAgICAgICAgdmFyIGlkLCBkYXRhLCBwYXR0ZXJuLCBwYXR0ZXJuMiwgdXJsOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjQkKF9jb250ZXh0MjQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNC5wcmV2ID0gX2NvbnRleHQyNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWQgPSBfYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgX2FyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50c1swXSA6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWxlY3RlZFVzZXInKTsKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgICAgICAgIGFnZW50SUQ6IGlkLAogICAgICAgICAgICAgICAgICBjbGllbnRJRDogaWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gJy9jbGllbnQvJzsKICAgICAgICAgICAgICAgIHBhdHRlcm4yID0gJy9wcm9zcGVjdHMvJzsKICAgICAgICAgICAgICAgIHVybCA9ICcnOwoKICAgICAgICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5tYXRjaChwYXR0ZXJuKSkgewogICAgICAgICAgICAgICAgICB1cmwgPSAnL2FwaS9jbGllbnQvZ2V0Q2xpZW50Tm90ZXMnOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5tYXRjaChwYXR0ZXJuMikpIHsKICAgICAgICAgICAgICAgICAgdXJsID0gJy9hcGkvY2xpZW50L2dldENsaWVudE5vdGVzJzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHVybCA9ICcvYXBpL2dldFVzZXJOb3Rlcyc7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KHVybCwgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMy5ub3Rlc0RhdGEgPSByZXNwb25zZS5kYXRhOyAvLyB0aGlzLiRlbWl0KCdvbkZpcmUnLCByZXNwb25zZS5kYXRhKQogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiU3RhdHVzIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyNCk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgdmFsaWRhdGlvbnM6IHsKICAgIGZvcm06IHsKICAgICAgbWVzc2FnZTogewogICAgICAgIHJlcXVpcmVkOiBoZWxwZXJzLndpdGhNZXNzYWdlKCJNZXNzYWdlIGlzIHJlcXVpcmVkIiwgcmVxdWlyZWQpCiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI1KCkgewogICAgICB2YXIgZGF0YTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNSQoX2NvbnRleHQyNSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjUucHJldiA9IF9jb250ZXh0MjUubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICBpc1Byb3NwZWN0OiAxLAogICAgICAgICAgICAgICAgc2VhcmNoVmFsdWVzOiBfdGhpczE0LmRhdGEuc2VhcmNoVmFsdWVzLAogICAgICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgICAgICBkZWxldGVkOiAwCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2xpc3REZXBhcnRtZW50cycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBfdGhpczE0LmRlcGFydG1lbnRMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIkRlcGFydG1lbnRzIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX2NvbnRleHQyNS5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9jbGllbnQvY2xpZW50U3RhdHVzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzMTQuc3RhdHVzTGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJTdGF0dXMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2NsaWVudC9jbGllbnRUeXBlcycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBfdGhpczE0LnR5cGVMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIlN0YXR1cyBjb3VsZCBub3QgYmUgbG9hZGVkLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF9jb250ZXh0MjUubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY2xpZW50L2xpc3RDbGllbnRzQnlTdGF0dXMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXMxNC5pc0NsaWVudExpc3QgPSB0cnVlOwoKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykgewogICAgICAgICAgICAgICAgICB2YXIgdmFyTmFtZSA9IFtdOwogICAgICAgICAgICAgICAgICB2YXJOYW1lID0gcmVzcG9uc2UuZGF0YVtpXS5zdGF0dXNOYW1lLnJlcGxhY2UoL1xzKy9nLCAnLScpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgIF90aGlzMTQudmFyTmFtZSA9IHJlc3BvbnNlLmRhdGFbaV0uY29udGVudDsKICAgICAgICAgICAgICAgICAgX3RoaXMxNC52YXJOYW1lWydncm91cE5hbWUnXSA9IHsKICAgICAgICAgICAgICAgICAgICAnZ3JvdXBOYW1lJzogdmFyTmFtZSwKICAgICAgICAgICAgICAgICAgICAnc3RhdHVzTmFtZSc6IHJlc3BvbnNlLmRhdGFbaV0uc3RhdHVzTmFtZSwKICAgICAgICAgICAgICAgICAgICAnZ3JvdXBJRCc6IHJlc3BvbnNlLmRhdGFbaV0uc3RhdHVzSUQsCiAgICAgICAgICAgICAgICAgICAgJ3NlcXVlbmNlJzogMSwKICAgICAgICAgICAgICAgICAgICAncXVhbnRpdHknOiByZXNwb25zZS5kYXRhW2ldLmNvbnRlbnQubGVuZ3RoLAogICAgICAgICAgICAgICAgICAgICdwZXJQYWdlJzogMzAsCiAgICAgICAgICAgICAgICAgICAgJ3Nob3dpbmcnOiByZXNwb25zZS5kYXRhW2ldLmNvbnRlbnQubGVuZ3RoIDwgMzAgPyByZXNwb25zZS5kYXRhW2ldLmNvbnRlbnQubGVuZ3RoIDogMzAKICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTQubGlzdC5wdXNoKF90aGlzMTQudmFyTmFtZSk7IC8vIHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkSXRlbScsIHsKICAgICAgICAgICAgICAgICAgLy8gICB0ZXh0OiB0aGlzLnZhck5hbWUsCiAgICAgICAgICAgICAgICAgIC8vIH0pOwoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvKmVsc2UgaWYgKGVycm9yLm1lc3NhZ2UpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpDQogICAgICAgICAgICAgICAgfSovCgogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI1LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyNSk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"mappings":"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","names":["flatPickr","Layout","PageHeader","appConfig","axios","moment","Swal","helpers","required","useVuelidate","Multiselect","notes","kanbanBoard","messages","uploadClients","jwt_decode","page","title","meta","name","content","description","components","data","items","text","href","active","timeConfig","enableTime","dateFormat","dateTimeConfig","list","date1","date2","humanfriendlyConfig","eContactlist","token","localStorage","getItem","searchValues","type","noteSearch","keyword","language","myClients","sortBy","orderBy","dateRange","department","toDate","Date","toLocaleDateString","year","month","day","fromDate","setFullYear","getFullYear","beneficiaryQty","eContactQty","clientData","clientFormData","value","date","departmentList","statusList","typeList","isClientList","enabled","dragging","notesData","chatMessages","setup","v$","methods","setMessagesInfo","filterList","search","result","filter","listSearch","statusID","Object","keys","map","objectKey","formatDate","format","showTabs","id","tabs","actualSelected","index","attr","faqToggle","document","getElementById","classList","contains","remove","updateButton","add","resetClientData","username","email","firstName","lastName","status","gender","phone","state","birthDate","address","country","zipCode","interview","agentNumber","createdBy","insuranceLicense","licenseNumber","validEmail","re","test","trim","validPhone","isphone","updateAgentStatus","item","newList","oldList","agentID","userID","put","then","response","fire","position","icon","showConfirmButton","timer","catch","error","property","errors","push","message","updateInformation","pattern","window","location","match","updateProspect","updateAgent","length","querySelector","phoneNumber","departmentID","postalCode","interviewDate","click","confirmButtonClass","buttonsStyling","showCloseButton","i","console","log","leadType","city","clientID","createClient","addAnotherClient","clientsInfo","JSON","parse","selectedUser","userEmail","totalClients","isProspect","post","reset","setItem","deleteClient","userName","showDenyButton","confirmButtonText","denyButtonText","isConfirmed","isDenied","changeMyClient","updateClientList","validate","filterLanguage","filterKeyword","filterType","filterNotes","filterFromDate","filterToDate","start","end","days","diff","deleted","res","varName","spectedList","statusName","replace","toLowerCase","setClientData","clientInfo","age","dateOfBirth","isLicensed","getMapsLink","chatUsername","image","profile","usermessage","currentDate","time","getHours","getMinutes","formSubmit","submitted","$touch","$invalid","form","align","addNewClientModal","goBack","goNext","style","display","restoreForm","innerHTML","printEmit","notify","keyExists","key","constructor","Array","addEcontact","eContact","div","separator","checkIDExists","element","createElement","append","localAgentID","beneficiaries","getBenficiaries","emergencyContacts","getEmergency","addedChilds","getAddedChilds","formValues","values","elements","e","stringify","formNumber","Number","checkClientExists","potentialClientEmail","nameValues","lastValues","phoneValues","addressValues","stateValues","postalValues","relationValues","ageValues","benFirstName","querySelectorAll","benLastName","benPhone","benAddress","benState","benPostalCode","benRelation","benAge","eConFirstName","eConLastName","eConPhone","eConAddress","eConState","eConPostalCode","eConRelation","eConAge","genderValues","AddiGender","AddiAge","AddiRelation","instruction","restore","resetForm","birthday","note","handleFocus","target","setAttribute","deleteclient","swalWithBootstrapButtons","mixin","customClass","confirmButton","cancelButton","cancelButtonText","showCancelButton","dismiss","DismissReason","cancel","link","viewUserGroup","request","currentRole","userGroup","includes","getNotes","pattern2","url","validations","withMessage","mounted","detail","$router"],"sourceRoot":"","sources":["C:\\wamp64\\www\\crm\\frontend\\src\\views\\prospects\\prospectkaban.vue"],"sourcesContent":["<script>\r\nimport flatPickr from \"vue-flatpickr-component\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\nimport Layout from \"../../layouts/main.vue\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport appConfig from \"../../../app.config\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport Swal from \"sweetalert2\";\r\nimport {helpers, required} from \"@vuelidate/validators\";\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport Multiselect from \"@vueform/multiselect\";\r\nimport \"@vueform/multiselect/themes/default.css\";\r\n\r\n// components\r\nimport notes from '../../components/users/notes';\r\nimport kanbanBoard from '../../components/users/kanbanBoard';\r\nimport messages from '../../components/users/messages';\r\nimport uploadClients from '../../components/clients/uploadClients';\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nexport default {\r\n  page: {\r\n    title: \"Agents List cards\",\r\n    meta: [{name: \"description\", content: appConfig.description}],\r\n  },\r\n  components: {\r\n    Layout,\r\n    PageHeader,\r\n    Multiselect,\r\n    flatPickr,\r\n    notes,\r\n    kanbanBoard,\r\n    messages,\r\n    uploadClients\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"Prospect cards\",\r\n      items: [\r\n        {\r\n          text: \"Prospects\",\r\n          href: \"/\",\r\n        },\r\n        {\r\n          text: \"Prospect List cards\",\r\n          active: true,\r\n        },\r\n      ],\r\n      timeConfig: {\r\n        enableTime: false,\r\n        dateFormat: \"d M, Y\"\r\n      },\r\n      dateTimeConfig: {\r\n        enableTime: true,\r\n        dateFormat: 'F j, Y H:i K'\r\n      },\r\n      list: [],\r\n      date1: null,\r\n      date2: null,\r\n      humanfriendlyConfig: {\r\n        dateFormat: \"F j, Y\",\r\n      },\r\n      eContactlist: [],\r\n      data: {\r\n        token: localStorage.getItem('jwt'),\r\n        searchValues: {\r\n          type: '0',\r\n          noteSearch: '',\r\n          keyword: '',\r\n          language: '3',\r\n          myClients: false,\r\n          sortBy: 'name',\r\n          orderBy: 'ASC',\r\n          dateRange: '0',\r\n          department: '0' ,\r\n          toDate: new Date().toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}) ,\r\n          fromDate: new Date(new Date().setFullYear(new Date().getFullYear() - 1)).toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}),\r\n        },\r\n      },\r\n      beneficiaryQty: 0,\r\n      eContactQty: 0,\r\n      clientData: [],\r\n      clientFormData: [],\r\n      value: null,\r\n      date: null,\r\n      departmentList: {},\r\n      statusList: {},\r\n      typeList: {},\r\n      isClientList: true,\r\n      enabled: true,\r\n      dragging: false,\r\n      notesData: [],\r\n      chatMessages: []\r\n    };\r\n  },\r\n  setup() {\r\n    return { v$: useVuelidate() }\r\n  },\r\n  methods: {\r\n    setMessagesInfo(messages){\r\n      this.chatMessages= messages;\r\n    },\r\n    filterList: function (list, search) {\r\n      var result = '';\r\n      result = list.filter(listSearch => listSearch.statusID === search);\r\n      Object.keys(result).map(function (objectKey) {\r\n        var value = result[objectKey];\r\n        return value;\r\n      });\r\n    },\r\n    formatDate: function (date, format) {\r\n      date = moment(date).format(format)\r\n      return date;\r\n    },\r\n    showTabs: function (id) {\r\n\r\n      const tabs = ['mainTab', 'secondTab', 'thirdTab', 'quarterTab', 'fifthTab', 'sixthTab', 'seventhTab']\r\n      let actualSelected = localStorage.getItem('selectedUser')\r\n\r\n      for (var index in tabs) {\r\n        let attr = tabs[index];\r\n\r\n        const faqToggle = document.getElementById(attr);\r\n        if (faqToggle.classList.contains('active') && id !== actualSelected) {\r\n\r\n          faqToggle.classList.remove('active');\r\n          faqToggle.classList.remove('show');\r\n\r\n          const updateButton = document.getElementById('updateButton');\r\n\r\n          if (updateButton.classList.contains('hide') && id === tabs[0]) {\r\n            updateButton.classList.remove('hide');\r\n          }\r\n\r\n        } else if (attr === id) {\r\n\r\n          if (!faqToggle.classList.contains('active')) {\r\n            faqToggle.classList.add('active');\r\n            faqToggle.classList.add('show');\r\n          }\r\n\r\n          const updateButton = document.getElementById('updateButton');\r\n\r\n          if (!updateButton.classList.contains('hide') && id !== tabs[0]) {\r\n            updateButton.classList.add('hide');\r\n          }\r\n        }\r\n      }\r\n    },\r\n    resetClientData: function () {\r\n      this.clientData =\r\n          {\r\n            username: '',\r\n            email: '',\r\n            firstName: '',\r\n            lastName: '',\r\n            language: '',\r\n            status: '',\r\n            type: '',\r\n            gender: '',\r\n            phone: '',\r\n            department: '',\r\n            state: '',\r\n            birthDate: '',\r\n            address: '',\r\n            country: '',\r\n            zipCode: '',\r\n            interview: '',\r\n            agentNumber: '',\r\n            createdBy: '',\r\n            insuranceLicense: '',\r\n            licenseNumber: ''\r\n          }\r\n    },\r\n    validEmail: function (email) {\r\n      var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      return re.test(email.trim());\r\n    },\r\n    validPhone: function (phone) {\r\n      var isphone = /^(\\+{0,})(\\d{0,})([(]{1}\\d{1,3}[)]{0,}){0,}(\\s?\\d+|\\+\\d{2,3}\\s{1}\\d+|\\d+){1}[\\s|-]?\\d+([\\s|-]?\\d+){1,2}(\\s){0,}$/gm.test(phone);\r\n      return isphone;\r\n    },\r\n    async updateAgentStatus(item, newList, oldList, agentID) {\r\n\r\n      const data = {\r\n        item: item,\r\n        newList: newList,\r\n        oldList: oldList,\r\n        agentID: agentID,\r\n        userID: localStorage.getItem('id'),\r\n        token: localStorage.getItem('jwt'),\r\n      }\r\n\r\n      await axios\r\n          .put('/api/client/updateClientStatus', data)\r\n          .then(async response => {\r\n\r\n            if (response) {\r\n\r\n              await Swal.fire({\r\n                position: \"top-end\",\r\n                icon: \"success\",\r\n                title: \"Your work has been saved!\",\r\n                showConfirmButton: false,\r\n                timer: 1000,\r\n              });\r\n\r\n            } else {\r\n              await Swal.fire({\r\n                position: \"bottom-end\",\r\n                icon: 'error',\r\n                title: \"Something wrong happens!\",\r\n                showConfirmButton: false,\r\n                timer: 5000,\r\n              });\r\n            }\r\n\r\n          }).catch(async error => {\r\n            if (error.response) {\r\n              let list = '';\r\n              for (const property in error.response.data) {\r\n                this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n              }\r\n\r\n              await Swal.fire({\r\n                position: \"top-end\",\r\n                icon: \"success\",\r\n                title: \"Please check the following: \" + list,\r\n                showConfirmButton: false,\r\n                timer: 5000,\r\n              });\r\n\r\n            } else if (error.message) {\r\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n            }\r\n          })\r\n    },\r\n    async updateInformation() {\r\n      const pattern = '/client/';\r\n      if(window.location.href.match(pattern) || window.location.href.match('/prospects/')) {\r\n        await this.updateProspect();\r\n      } else {\r\n        await this.updateAgent();\r\n      }\r\n    },\r\n    async updateAgent() {\r\n\r\n      this.errors = []\r\n\r\n      if (!document.getElementById('editFirstName').value) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editLastName').value) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editLanguage').value) {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editStatus').value) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editPhoneNumber').value) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if (this.validPhone(document.getElementById('editPhoneNumber').value) === false && document.getElementById('editPhoneNumber').value !== '') {\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!document.getElementById('editDepartment').value) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editBirthDate').value) {\r\n        this.errors.push('Birth date is required.');\r\n      }\r\n\r\n      if ((!document.getElementById('editLicensed').value && document.getElementById('editStatus').value === 5) || !document.getElementById('editLicensed').value) {\r\n        this.errors.push('Insurance Licensed? is required.');\r\n      }\r\n\r\n      if ((!document.getElementById('editLicensed').value && document.getElementById('editStatus').value === 5) /*|| (!this.clientData.licenseNumber && document.getElementById('editLicensed').value === 1)*/) {\r\n        this.errors.push('License number is required.');\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n        const data = {\r\n          username: '',\r\n          email: document.getElementById('editEmail').value,\r\n          firstName: document.getElementById('editFirstName').value,\r\n          lastName: document.getElementById('editLastName').value,\r\n          language: document.getElementById('editLanguage').value,\r\n          status: document.getElementById('editStatus').value,\r\n          type: document.getElementById('editType').value,\r\n          gender: document.querySelector(\"input[type='radio'][name=editGender]:checked\").value,\r\n          phoneNumber: document.getElementById('editPhoneNumber').value,\r\n          departmentID: document.getElementById('editDepartment').value,\r\n          state: document.getElementById('editState').value,\r\n          birthDate: document.getElementById('editBirthDate').value,\r\n          address: document.getElementById('editAddress').value,\r\n          country: document.getElementById('editCountry').value,\r\n          postalCode: document.getElementById('editPostalCode').value,\r\n          interviewDate: document.getElementById('editInterview').value,\r\n          createdBy: localStorage.getItem('email'),\r\n          licenseNumber: this.clientData.licenseNumber,\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('id'),\r\n          agentID: localStorage.getItem('selectedUser')\r\n        }\r\n\r\n        await axios\r\n            .put('/api/updateAgent', data)\r\n            .then(async response => {\r\n              if (response) {\r\n                document.getElementById('close-modal').click();\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Agent update successfully!'\r\n                });\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i] + '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    async updateProspect() {\r\n\r\n      this.errors = []\r\n\r\n      if (!document.getElementById('editFirstName').value) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editLastName').value) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editLanguage').value) {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editStatus').value) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editPhoneNumber').value) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if (this.validPhone(document.getElementById('editPhoneNumber').value) === false && document.getElementById('editPhoneNumber').value !== '') {\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!document.getElementById('editDepartment').value) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (document.getElementById('editType').value  === 'undefined') {\r\n        this.errors.push('Lead/Client Source is required.');\r\n        console.log(this.clientData)\r\n      }\r\n\r\n      if (this.clientData.gender !== 'M' && this.clientData.gender !== 'F') {\r\n        this.errors.push('Gender is required.');\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n        const data = {\r\n          username: '',\r\n          email: document.getElementById('editEmail').value,\r\n          firstName: document.getElementById('editFirstName').value,\r\n          lastName: document.getElementById('editLastName').value,\r\n          language: document.getElementById('editLanguage').value,\r\n          status: document.getElementById('editStatus').value,\r\n          leadType: document.getElementById('editType').value,\r\n          gender: document.querySelector(\"input[type='radio'][name=editGender1]:checked\").value,\r\n          phoneNumber: document.getElementById('editPhoneNumber').value,\r\n          departmentID: document.getElementById('editDepartment').value,\r\n          state: document.getElementById('editState').value,\r\n          city: document.getElementById('editCity').value,\r\n          birthDate: document.getElementById('editBirthDate').value,\r\n          address: document.getElementById('editAddress').value,\r\n          country: document.getElementById('editCountry').value,\r\n          postalCode: document.getElementById('editPostalCode').value,\r\n          interviewDate: document.getElementById('editInterview').value,\r\n          createdBy: localStorage.getItem('email'),\r\n          licenseNumber: this.clientData.licenseNumber,\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('id'),\r\n          clientID: localStorage.getItem('selectedUser')\r\n        }\r\n\r\n        await axios\r\n            .put('/api/client/updateClient', data)\r\n            .then(async response => {\r\n              if (response) {\r\n                document.getElementById('close-modal').click();\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Client update successfully!'\r\n                });\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i] + '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    async createClient() {\r\n      this.errors = []\r\n\r\n      if (!this.clientData.firstName) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!this.clientData.lastName) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (!this.clientData.status) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!this.clientData.phone) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if (this.validPhone(this.clientData.phone) === false && this.clientData.phone === '') {\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!this.clientData.department) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (this.clientData.type  === 'undefined') {\r\n        this.errors.push('Lead/Client Source is required.');\r\n        console.log(this.clientData)\r\n      }\r\n\r\n      if (this.clientData.gender !== 'M' && this.clientData.gender !== 'F') {\r\n        this.errors.push('Gender is required.');\r\n      }\r\n\r\n      if (this.clientData.language !== '1' && this.clientData.language !== '2') {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (this.clientData.leadType === 'undefined') {\r\n        this.errors.push('Lead/client SourceSource is required.');\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n\r\n        await this.addAnotherClient();\r\n\r\n        let data = {\r\n          clientsInfo: JSON.parse(localStorage.getItem(\"clientFormData\")),\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('id'),\r\n          selectedUser: localStorage.getItem('selectedUser'),\r\n          userEmail: localStorage.getItem('email'),\r\n          totalClients: JSON.parse(localStorage.getItem(\"clientFormData\")).length,\r\n          isProspect: 1,\r\n        }\r\n\r\n        await axios\r\n            .post('/api/client/create', data)\r\n            .then(async response => {\r\n              if (response.data['ID'] !== null) {\r\n                document.getElementById('closemodal').click();\r\n                document.getElementById(\"addform\").reset();\r\n\r\n                localStorage.setItem(\"clientFormData\", [])\r\n\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Prospect created successfully!'\r\n                });\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i]+ '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    async deleteClient() {\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        userID: localStorage.getItem('id'),\r\n        userName: localStorage.getItem('firstName') + ' ' + localStorage.getItem('lastname'),\r\n        userEmail: localStorage.getItem('email'),\r\n        agentID: localStorage.getItem('selectedUser')\r\n      }\r\n\r\n      Swal.fire({\r\n        title: 'Do you want to <b>Delete</b> this prospect?',\r\n        showDenyButton: true,\r\n        confirmButtonText: 'Yes',\r\n        denyButtonText: `No`,\r\n      }).then(async (result) => {\r\n        /* Read more about isConfirmed, isDenied below */\r\n        if (result.isConfirmed) {\r\n          await axios\r\n              .put('/api/deleteUser', data)\r\n              .then(async response => {\r\n                if (response) {\r\n                  // document.getElementById('close-modal').click();\r\n\r\n                  await Swal.fire('Prospect update successfully!', '', 'success');\r\n                }\r\n              })\r\n              .catch(async error => {\r\n                if (error.response) {\r\n                  let list = '';\r\n                  for (const property in error.response.data) {\r\n                    this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                    list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                  }\r\n\r\n                  await Swal.fire({\r\n                    title: \"Please check the following: \" + list,\r\n                    icon: 'warning',\r\n                    confirmButtonClass: \"btn btn-info\",\r\n                    buttonsStyling: false,\r\n                    showCloseButton: true,\r\n                  });\r\n\r\n                } else if (error.message) {\r\n                  this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n                }\r\n              })\r\n        } else if (result.isDenied) {\r\n          await Swal.fire('Prospecet wasn\\'t deleted!', '', 'info');\r\n        }\r\n      })\r\n    },\r\n    async changeMyClient() {\r\n\r\n      if( this.data.searchValues.myClients === false){\r\n        this.data.searchValues.myClients = true;\r\n      }else{\r\n        this.data.searchValues.myClients = false;\r\n      }\r\n\r\n    },\r\n    async updateClientList() {\r\n\r\n      let validate = true;\r\n      let errors = [];\r\n      let filterLanguage = document.getElementById(\"filterLanguage\").value;\r\n      let filterKeyword = document.getElementById(\"filterKeyword\").value;\r\n      let filterType = document.getElementById(\"filterType\").value;\r\n      let filterNotes = document.getElementById(\"filterNotes\").value;\r\n      let filterFromDate = document.getElementById(\"filterFromDate\").value;\r\n      let filterToDate = document.getElementById(\"filterToDate\").value;\r\n\r\n      console.log(document.getElementById(\"filterType\").value)\r\n\r\n      if (filterLanguage !== '' && (filterLanguage === '1' || filterLanguage === '2')){\r\n        this.data.searchValues.language = filterLanguage;\r\n      }\r\n\r\n      if (filterKeyword !== '' && filterKeyword.length >= 3) {\r\n        this.data.searchValues.language = filterLanguage;\r\n      }else if(filterKeyword !== '' && filterKeyword.length < 3) {\r\n        errors.push('Keyword search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      if (filterType !== '') {\r\n        this.data.searchValues.type = filterType;\r\n      }\r\n\r\n      if (filterNotes !== '' && filterNotes.length >= 3) {\r\n        this.data.searchValues.noteSearch = filterNotes;\r\n      }else if(filterNotes !== '' && filterNotes.length < 3) {\r\n        errors.push('Notes search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      var start = moment(this.formatDate(filterFromDate, 'YYYY-MM-DD'));\r\n      var end = moment(this.formatDate(filterToDate, 'YYYY-MM-DD'));\r\n      var days = end.diff(start, \"days\");\r\n\r\n      if (days <= 365) {\r\n        this.data.searchValues.fromDate = filterFromDate;\r\n        this.data.searchValues.toDate = filterToDate;\r\n      } else {\r\n        errors.push(\"From Date and To Date (range) couldn't be larger than a year (365 days)!\");\r\n        validate = false;\r\n      }\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        isProspect: 1,\r\n        searchValues: this.data.searchValues,\r\n        userEmail: localStorage.getItem('email'),\r\n        userID: localStorage.getItem('id'),\r\n        deleted: 0,\r\n      }\r\n\r\n      if (validate) {\r\n        await axios\r\n            .post('/api/client/listClientsByStatus', data)\r\n            .then(response => {\r\n              this.isClientList = true;\r\n              let res = response.data\r\n              var varName = []\r\n              var spectedList = []\r\n\r\n              for (let i = 0; i < res.length; i++) {\r\n                varName = response.data[i].statusName.replace(/\\s+/g, '-').toLowerCase();\r\n                varName = response.data[i].content;\r\n                varName['groupName'] = {\r\n                  'groupName': varName,\r\n                  'statusName': response.data[i].statusName,\r\n                  'groupID': response.data[i].statusID,\r\n                  'sequence': 1,\r\n                  'quantity': response.data[i].content.length,\r\n                  'perPage': 30,\r\n                  'showing': (response.data[i].content.length < 30 ? response.data[i].content.length: 30),\r\n                };\r\n                spectedList.push(varName);\r\n              }\r\n              this.list = spectedList;\r\n            })\r\n            .catch(error => {\r\n              if (error.response) {\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                }\r\n              }/* else if (error.message) {\r\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n            }*/\r\n            })\r\n      }else{\r\n        let list = '';\r\n        for (var i = 0; i < errors.length; i+=1) {\r\n          list += errors[i] + ' \\n';\r\n        }\r\n\r\n        await Swal.fire(\"\" + list, '', 'info');\r\n\r\n      }\r\n\r\n    },\r\n    setClientData(clientInfo){\r\n\r\n      this.clientData.email=clientInfo.email;\r\n      this.clientData.firstName=clientInfo.firstName;\r\n      this.clientData.lastName=clientInfo.lastName;\r\n      this.clientData.language=clientInfo.language;\r\n      this.clientData.status=clientInfo.status\r\n      this.clientData.phone=clientInfo.phoneNumber;\r\n      this.clientData.gender=clientInfo.gender;\r\n      this.clientData.age=clientInfo.age;\r\n      this.clientData.type=clientInfo.leadType;\r\n      this.clientData.city=clientInfo.city;\r\n      this.clientData.department=clientInfo.departmentID\r\n      this.clientData.birthDate= this.formatDate(clientInfo.dateOfBirth, 'DD MMM, YYYY');\r\n      this.clientData.interview= this.formatDate(clientInfo.interviewDate, 'MMMM D, YYYY h:mm A');\r\n      this.clientData.address=clientInfo.address;\r\n      this.clientData.state=clientInfo.state;\r\n      this.clientData.country=clientInfo.country;\r\n      this.clientData.zipCode=clientInfo.postalCode;\r\n      this.clientData.agentNumber=clientInfo.agentNumber;\r\n      this.clientData.createdBy=clientInfo.createdBy;\r\n      this.clientData.insuranceLicense=clientInfo.isLicensed;\r\n\r\n      this.getMapsLink()\r\n    },\r\n    /**\r\n     * Get the name of user\r\n     */\r\n    chatUsername(name, image) {\r\n      this.username = name;\r\n      this.profile = image;\r\n      this.usermessage = \"Hello\";\r\n      this.notesData = [];\r\n      const currentDate = new Date();\r\n\r\n      this.notesData.push({\r\n        name: this.username,\r\n        message: this.usermessage,\r\n        time: currentDate.getHours() + \":\" + currentDate.getMinutes(),\r\n      });\r\n    },\r\n    /**\r\n     * Char form Submit\r\n     */\r\n    formSubmit() {\r\n      this.submitted = true;\r\n\r\n      // stop here if form is invalid\r\n      this.v$.$touch();\r\n\r\n      if (this.v$.$invalid) {\r\n        return;\r\n      } else {\r\n        const message = this.form.message;\r\n        const currentDate = new Date();\r\n        this.notesData.push({\r\n          align: \"right\",\r\n          name: \"Henry Wells\",\r\n          message,\r\n          time: currentDate.getHours() + \":\" + currentDate.getMinutes(),\r\n        });\r\n      }\r\n      this.submitted = false;\r\n      this.form = {};\r\n    },\r\n    addNewClientModal() {\r\n      this.resetClientData()\r\n      document.querySelector(\"#localAgentID\").value = 0;\r\n      let goBack = document.getElementById('goBack');\r\n      let goNext = document.getElementById('goNext');\r\n      goBack.style.display = 'none';\r\n      goNext.style.display = 'none';\r\n\r\n      let clientData = JSON.parse(localStorage.getItem('clientFormData'));\r\n\r\n      if(clientData.length > 0) {\r\n\r\n        Swal.fire({\r\n          title: 'Do you want to continue the job you left?',\r\n          showDenyButton: true,\r\n          confirmButtonText: 'Yes',\r\n          denyButtonText: `No`,\r\n        }).then((result) => {\r\n          /* Read more about isConfirmed, isDenied below */\r\n          if (result.isConfirmed) {\r\n            Swal.fire('Restored!', '', 'success');\r\n            this.restoreForm();\r\n            let goBack = document.getElementById('goBack');\r\n            let goNext = document.getElementById('goNext');\r\n            goBack.style.display = 'none';\r\n            goNext.style.display = 'none';\r\n\r\n            if(clientData.length > 1) {\r\n              goBack.style.display = 'block';\r\n              goNext.style.display = 'block';\r\n            }\r\n\r\n          } else if (result.isDenied) {\r\n            this.resetClientData();\r\n            Swal.fire('Saved data removed!', '', 'info');\r\n          }\r\n        })\r\n      }\r\n      document.getElementById('clientModalLabelAdd').innerHTML=\"Add Prospect\";\r\n    },\r\n    printEmit(notify) {\r\n      this.notesData = notify;\r\n    },\r\n    keyExists(key, search) {\r\n\r\n      if (!search || (search.constructor !== Array && search.constructor !== Object)) {\r\n        return false;\r\n      }\r\n\r\n      for (let i = 0; i < search.length; i++) {\r\n        const keys = Object.keys(search[i])\r\n        if (keys[0] === key) {\r\n          return true;\r\n        }\r\n      }\r\n      return key in search;\r\n    },\r\n    addEcontact( eContact = [] ) {\r\n      this.eContactQty = this.eContactQty + 1;\r\n      let i = this.eContactQty;\r\n      let div = document.getElementById('addEcontact');\r\n      let separator = '';\r\n      let checkIDExists = document.getElementById(\"eConFirstName-1\");\r\n      var element = document.createElement('div');\r\n\r\n      if(eContact.length <= 0){\r\n        eContact.push(\r\n            eContact['firstName'] = '',\r\n            eContact['lastName'] = '',\r\n            eContact['address'] = '',\r\n            eContact['phoneNumber'] = '',\r\n            eContact['state'] = '',\r\n            eContact['postalCode'] = '',\r\n            eContact['relationship'] = '',\r\n            eContact['age']  = '');\r\n      }\r\n\r\n      if(checkIDExists) {\r\n        separator = '<hr style=\"border-top: 1px solid #2c9a2a;\">';\r\n      }\r\n      element.innerHTML += separator +\r\n          '<div class=\"row\" id=\"rowEcon'+i+'\">\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConFirstName-'+i+'\" class=\"form-label\">First Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConFirstName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" name=\"eConFirstName[]\" required value=\"'+eContact['firstName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConLastName-'+i+'\" class=\"form-label\">Last Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConLastName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\"  name=\"eConLastName[]\" required  value=\"'+eContact['lastName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConAddress-'+i+'\" class=\"form-label\">Address</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConAddress-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Address\"  name=\"eConAddress[]\" required  value=\"'+eContact['address']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConPhone-'+i+'\" class=\"form-label\">Phone</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConPhone-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Phone\"  name=\"eConPhone[]\" required  value=\"'+eContact['phoneNumber']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConState-'+i+'\" class=\"form-label\">State</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConState-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter State\"  name=\"eConState[]\"  required  value=\"'+eContact['state']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConPostalCode-'+i+'\" class=\"form-label\">Postal Code</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConPostalCode-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Postal Code\"  name=\"eConPostalCode[]\" required  value=\"'+eContact['postalCode']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConRelation-'+i+'\" class=\"form-label\">Relationship</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConRelation-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Relationship\"  name=\"eConRelation[]\"  required  value=\"'+eContact['relationship']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConAge-'+i+'\" class=\"form-label\">Age</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConAge-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Age\"  name=\"eConAge[]\" required  value=\"'+eContact['age']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          ' </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          '    <button type=\"button\" id=\"'+i+'\" class=\"btn btn-danger removeItemEcon\" title=\"Delete\"><i class=\"ri-close-circle-line\"></i></button>\\n' +\r\n          ' </div>\\n' +\r\n          '</div>';\r\n\r\n      div.append(element);\r\n    },\r\n    async addAnotherClient() {\r\n\r\n      this.errors = []\r\n\r\n      if (!this.clientData.firstName) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!this.clientData.lastName) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (!this.clientData.status) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!this.clientData.phone) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if (this.validPhone(this.clientData.phone) === false && this.clientData.phone !== '') {\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!this.clientData.department) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (this.clientData.type  === 'undefined') {\r\n        this.errors.push('Lead/Client Source is required.');\r\n        console.log('add another')\r\n      }\r\n\r\n\r\n      if (!this.errors.length) {\r\n\r\n        let localAgentID = 'id'+document.querySelector(\"#localAgentID\").value;\r\n        let beneficiaries = this.getBenficiaries();\r\n        let emergencyContacts = this.getEmergency();\r\n        let addedChilds = this.getAddedChilds();\r\n        let formValues = {};\r\n        let values = {};\r\n\r\n        let form = document.getElementById(\"addform\");\r\n\r\n        for (var i = 0; i < form.elements.length; i++) {\r\n          let e = form.elements[i];\r\n\r\n          if(e.name !== '') {\r\n            formValues[e.name] = e.value;\r\n          }\r\n          formValues['editGender'] = document.querySelector(\"input[type='radio'][name=editGender]:checked\").value;\r\n\r\n          if(this.isClientList){\r\n            formValues['editType'] = document.querySelector(\"#editType\").value;\r\n          }else{\r\n            formValues['editType'] = document.querySelector(\"#editType1\").value;\r\n          }\r\n        }\r\n\r\n        // if array data already exist just update.\r\n        if (this.keyExists(localAgentID, this.clientFormData)) {\r\n          for (let i = 0; i < this.clientFormData.length; i++) {\r\n            const keys = Object.keys(this.clientFormData[i])\r\n            if (keys[0] === localAgentID) {\r\n              console.log(this.clientFormData[i][keys])\r\n              // this.clientFormData[i][keys] = {formValues, beneficiaries, emergencyContacts, addedChilds}\r\n            }\r\n          }\r\n          localStorage.setItem('clientFormData', JSON.stringify(this.clientFormData));\r\n          this.resetClientData()\r\n          let formNumber = Number(document.querySelector(\"#localAgentID\").value);\r\n          document.querySelector(\"#localAgentID\").value = formNumber + 1;\r\n\r\n          let goBack = document.getElementById('goBack');\r\n          let goNext = document.getElementById('goNext');\r\n          goBack.style.display = '';\r\n          goNext.style.display = '';\r\n          goBack.style.display = 'block';\r\n          goNext.style.display = 'block';\r\n\r\n          // if array data do not exist create it.\r\n        } else {\r\n          values = {formValues, beneficiaries, emergencyContacts, addedChilds}\r\n          this.clientFormData.push({[localAgentID]: values});\r\n          localStorage.setItem('clientFormData', JSON.stringify(this.clientFormData));\r\n          this.resetClientData()\r\n          let formNumber = Number(document.querySelector(\"#localAgentID\").value);\r\n          document.querySelector(\"#localAgentID\").value = formNumber + 1;\r\n\r\n          let goBack = document.getElementById('goBack');\r\n          let goNext = document.getElementById('goNext');\r\n          goBack.style.display = '';\r\n          goNext.style.display = '';\r\n          goBack.style.display = 'block';\r\n          goNext.style.display = 'block';\r\n        }\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i] + '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    async checkClientExists(){\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        isProspect: 1,\r\n        userEmail: localStorage.getItem('email'),\r\n        clientID: localStorage.getItem('selectedUser'),\r\n        userID: localStorage.getItem('id'),\r\n        potentialClientEmail: this.clientData.email\r\n      }\r\n\r\n      if (this.validEmail(data.potentialClientEmail)) {\r\n        await axios\r\n            .post('/api/client/emailExists', data)\r\n            .then(response => {\r\n              let div = document.querySelector(\".createEmail\");\r\n\r\n              if (response.data > 0) {\r\n                div.classList.add(\"is-invalid\");\r\n              } else {\r\n                div.classList.remove(\"is-invalid\");\r\n              }\r\n            })\r\n            .catch(error => {\r\n              if (error.response) {\r\n                Swal.fire(\"Oops!\", \"Please, contact your SysAdmin.\", \"error\");\r\n              }\r\n            })\r\n      }\r\n\r\n    },\r\n    getBenficiaries() {\r\n      let nameValues = [];\r\n      let lastValues = [];\r\n      let phoneValues = [];\r\n      let addressValues = [];\r\n      let stateValues = [];\r\n      let postalValues = [];\r\n      let relationValues = [];\r\n      let ageValues = [];\r\n      let values = [];\r\n\r\n      let benFirstName = document.querySelectorAll(\"input[name='benFirstName[]']\");\r\n      for (let i = 0; i < benFirstName.length; i++) {\r\n        nameValues.push(benFirstName[i].value);\r\n      }\r\n\r\n      let benLastName = document.querySelectorAll(\"input[name='benLastName[]']\");\r\n      for (let i = 0; i < benLastName.length; i++) {\r\n        lastValues.push(benLastName[i].value);\r\n      }\r\n\r\n      let benPhone = document.querySelectorAll(\"input[name='benPhone[]']\");\r\n      for (let i = 0; i < benPhone.length; i++) {\r\n        phoneValues.push(benPhone[i].value);\r\n      }\r\n\r\n      let benAddress = document.querySelectorAll(\"input[name='benAddress[]']\");\r\n      for (let i = 0; i < benAddress.length; i++) {\r\n        addressValues.push(benAddress[i].value);\r\n      }\r\n\r\n      let benState = document.querySelectorAll(\"input[name='benState[]']\");\r\n      for (let i = 0; i < benState.length; i++) {\r\n        stateValues.push(benState[i].value);\r\n      }\r\n\r\n      let benPostalCode = document.querySelectorAll(\"input[name='benPostalCode[]']\");\r\n      for (let i = 0; i < benPostalCode.length; i++) {\r\n        postalValues.push(benPostalCode[i].value);\r\n      }\r\n\r\n      let benRelation = document.querySelectorAll(\"input[name='benRelation[]']\");\r\n      for (let i = 0; i < benRelation.length; i++) {\r\n        relationValues.push(benRelation[i].value);\r\n      }\r\n\r\n      let benAge = document.querySelectorAll(\"input[name='benAge[]']\");\r\n      for (let i = 0; i < benAge.length; i++) {\r\n        ageValues.push(benAge[i].value);\r\n      }\r\n\r\n      let i;\r\n      for (i = 0; i < nameValues.length; i++) {\r\n        values.push({'firstName': nameValues[i], 'lastName': lastValues[i], 'phoneNumber': phoneValues[i],\r\n          'address': addressValues[i], 'state': stateValues[i], 'postalCode': postalValues[i], 'relationship': relationValues[i],\r\n          'age': ageValues[i]});\r\n      }\r\n      return values;\r\n    },\r\n    getEmergency() {\r\n      let nameValues = [];\r\n      let lastValues = [];\r\n      let phoneValues = [];\r\n      let addressValues = [];\r\n      let stateValues = [];\r\n      let postalValues = [];\r\n      let relationValues = [];\r\n      let ageValues = [];\r\n      let values = [];\r\n\r\n      let eConFirstName = document.querySelectorAll(\"input[name='eConFirstName[]']\");\r\n      for (let i = 0; i < eConFirstName.length; i++) {\r\n        nameValues.push(eConFirstName[i].value);\r\n      }\r\n\r\n      let eConLastName = document.querySelectorAll(\"input[name='eConLastName[]']\");\r\n      for (let i = 0; i < eConLastName.length; i++) {\r\n        lastValues.push(eConLastName[i].value);\r\n      }\r\n\r\n      let eConPhone = document.querySelectorAll(\"input[name='eConPhone[]']\");\r\n      for (let i = 0; i < eConPhone.length; i++) {\r\n        phoneValues.push(eConPhone[i].value);\r\n      }\r\n\r\n      let eConAddress = document.querySelectorAll(\"input[name='eConAddress[]']\");\r\n      for (let i = 0; i < eConAddress.length; i++) {\r\n        addressValues.push(eConAddress[i].value);\r\n      }\r\n\r\n      let eConState = document.querySelectorAll(\"input[name='eConState[]']\");\r\n      for (let i = 0; i < eConState.length; i++) {\r\n        stateValues.push(eConState[i].value);\r\n      }\r\n\r\n      let eConPostalCode = document.querySelectorAll(\"input[name='eConPostalCode[]']\");\r\n      for (let i = 0; i < eConPostalCode.length; i++) {\r\n        postalValues.push(eConPostalCode[i].value);\r\n      }\r\n\r\n      let eConRelation = document.querySelectorAll(\"input[name='eConRelation[]']\");\r\n      for (let i = 0; i < eConRelation.length; i++) {\r\n        relationValues.push(eConRelation[i].value);\r\n      }\r\n\r\n      let eConAge = document.querySelectorAll(\"input[name='eConAge[]']\");\r\n      for (let i = 0; i < eConAge.length; i++) {\r\n        ageValues.push(eConAge[i].value);\r\n      }\r\n\r\n      let i;\r\n      for (i = 0; i < nameValues.length; i++) {\r\n        values.push({'firstName':  nameValues[i], 'lastName':  lastValues[i], 'phoneNumber':  phoneValues[i], 'address':  addressValues[i],\r\n          'state':  stateValues[i], 'postalCode':  postalValues[i], 'relationship':  relationValues[i], 'age':  ageValues[i]});\r\n      }\r\n      return values;\r\n    },\r\n    getAddedChilds() {\r\n\r\n      let nameValues = [];\r\n      let lastValues = [];\r\n      let genderValues = [];\r\n      let ageValues = [];\r\n      let relationValues = [];\r\n      let values = [];\r\n\r\n      let eConFirstName = document.querySelectorAll(\"input[name='AddiFirstName[]']\");\r\n      for (let i = 0; i < eConFirstName.length; i++) {\r\n        nameValues.push(eConFirstName[i].value);\r\n      }\r\n\r\n      let eConLastName = document.querySelectorAll(\"input[name='AddiLastName[]']\");\r\n      for (let i = 0; i < eConLastName.length; i++) {\r\n        lastValues.push(eConLastName[i].value);\r\n      }\r\n\r\n      let AddiGender = document.querySelectorAll(\"select[name='AddiGender[]']\");\r\n      for (let i = 0; i < AddiGender.length; i++) {\r\n        genderValues.push(AddiGender[i].value);\r\n      }\r\n\r\n      let AddiAge = document.querySelectorAll(\"input[name='AddiAge[]']\");\r\n      for (let i = 0; i < AddiAge.length; i++) {\r\n        ageValues.push(AddiAge[i].value);\r\n      }\r\n\r\n      let AddiRelation = document.querySelectorAll(\"select[name='AddiRelation[]']\");\r\n      for (let i = 0; i < AddiRelation.length; i++) {\r\n        relationValues.push(AddiRelation[i].value);\r\n      }\r\n\r\n      let i;\r\n      for (i = 0; i < nameValues.length; i++) {\r\n        values.push({'firstName':  nameValues[i], 'lastName':  lastValues[i], 'gender': genderValues[i], 'age': ageValues[i],\r\n          'retalionship': relationValues[i]});\r\n      }\r\n      return values;\r\n    },\r\n    restoreForm( instruction = '' ) {\r\n      let clientData = JSON.parse(localStorage.getItem('clientFormData'));\r\n      let formNumber = Number(document.querySelector(\"#localAgentID\").value);\r\n      let localAgentID = '';\r\n\r\n      if (instruction === 'next' && Number(formNumber) !== (Number(clientData.length) - 1)) {\r\n        document.querySelector(\"#localAgentID\").value = formNumber + 1;\r\n        localAgentID = 'id'+document.querySelector(\"#localAgentID\").value\r\n        this.restore(clientData, localAgentID);\r\n        Swal.fire('Agent information Restored!', '', 'success');\r\n\r\n      } else if(instruction === 'back' && formNumber !== 0) {\r\n        document.querySelector(\"#localAgentID\").value = formNumber - 1;\r\n        localAgentID = 'id'+document.querySelector(\"#localAgentID\").value\r\n        this.restore(clientData, localAgentID);\r\n        Swal.fire('Agent information Restored!', '', 'success');\r\n\r\n      } else if (instruction === '') {\r\n        localAgentID = 'id0';\r\n        this.restore(clientData, localAgentID);\r\n      }\r\n\r\n      let goBack = document.getElementById('goBack');\r\n      let goNext = document.getElementById('goNext');\r\n      goBack.style.display = 'none';\r\n      goNext.style.display = 'none';\r\n\r\n      if(clientData.length > 1) {\r\n        goBack.style.display = 'block';\r\n        goNext.style.display = 'block';\r\n      }\r\n    },\r\n    resetForm(){\r\n      document.getElementById(\"addform\").reset();\r\n    },\r\n    restore(clientData, localAgentID) {\r\n      this.resetClientData();\r\n\r\n      for (let i = 0; i < clientData.length; i++) {\r\n\r\n        const keys = Object.keys(clientData[i])\r\n\r\n        if (keys[0] === localAgentID) {\r\n          this.clientData.email = clientData[i][keys]['formValues']['editEmail'];\r\n          this.clientData.status = clientData[i][keys]['formValues']['editStatus'];\r\n          this.clientData.language = clientData[i][keys]['formValues']['editLanguage'];\r\n          this.clientData.lastName = clientData[i][keys]['formValues']['editLastName'];\r\n          this.clientData.firstName = clientData[i][keys]['formValues']['editFirstName'];\r\n          this.clientData.firstName = clientData[i][keys]['formValues']['editFirstName'];\r\n          this.clientData.gender = clientData[i][keys]['formValues']['editGender'];\r\n          this.clientData.type = (clientData[i][keys]['formValues']['editType'] !== '') ? clientData[i][keys]['formValues']['editType']: clientData[i][keys]['formValues']['type'];\r\n          this.clientData.phone = clientData[i][keys]['formValues']['editPhoneNumber'];\r\n          this.clientData.department = clientData[i][keys]['formValues']['editDepartment'];\r\n          this.clientData.interview = clientData[i][keys]['formValues']['editInterview'];\r\n          this.clientData.department = clientData[i][keys]['formValues']['editDepartment'];\r\n          this.clientData.address = clientData[i][keys]['formValues']['editAddress'];\r\n          this.clientData.birthday = clientData[i][keys]['formValues']['editBirthdate'];\r\n          this.clientData.note = clientData[i][keys]['formValues']['editNotes'];\r\n          this.clientData.state = clientData[i][keys]['formValues']['editState'];\r\n          this.clientData.country = clientData[i][keys]['formValues']['editCountry'];\r\n          this.clientData.zipCode = clientData[i][keys]['formValues']['editPostalCode'];\r\n          this.clientData.city = clientData[i][keys]['formValues']['editCity'];\r\n\r\n\r\n          localStorage.setItem('testData', JSON.stringify(this.clientData));\r\n          console.log(localStorage.getItem('testData'));\r\n\r\n        }\r\n      }\r\n    },\r\n    handleFocus(e){\r\n      e.target.setAttribute(\"autocomplete\", \"nope\");\r\n    },\r\n    deleteclient() {\r\n      const swalWithBootstrapButtons = Swal.mixin({\r\n        customClass: {\r\n          confirmButton: \"btn btn-danger ml-2\",\r\n          cancelButton: \"btn btn-success\",\r\n        },\r\n        buttonsStyling: false,\r\n      });\r\n\r\n      swalWithBootstrapButtons\r\n          .fire({\r\n            title: \"Are you sure?\",\r\n            text: \"You won't be able to revert this!\",\r\n            icon: \"warning\",\r\n            confirmButtonText: \"Yes, delete it!\",\r\n            cancelButtonText: \"No, cancel!\",\r\n            showCancelButton: true,\r\n          })\r\n          .then((result) => {\r\n            if (result.value) {\r\n\r\n              const data = {\r\n                token: localStorage.getItem('jwt'),\r\n                userID: localStorage.getItem('id'),\r\n                userName: localStorage.getItem('firstName') + ' ' + localStorage.getItem('lastname'),\r\n                userEmail: localStorage.getItem('email'),\r\n                agentID: localStorage.getItem('selectedUser')\r\n              }\r\n\r\n              axios\r\n                  .put('/api/client/delete', data)\r\n                  .then(async response => {\r\n                    if (response) {\r\n                      await this.updateClientList()\r\n                      document.getElementById('close-modal').click();\r\n                      await swalWithBootstrapButtons.fire(\r\n                          \"Deleted!\",\r\n                          \"Prospect has been deleted.\",\r\n                          \"success\"\r\n                      );\r\n                    }\r\n                  })\r\n                  .catch(async error => {\r\n                    if (error.response) {\r\n                      let list = '';\r\n                      for (const property in error.response.data) {\r\n                        this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                        list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                      }\r\n\r\n                      await Swal.fire({\r\n                        title: \"Please check the following: \" + list,\r\n                        icon: 'warning',\r\n                        confirmButtonClass: \"btn btn-info\",\r\n                        buttonsStyling: false,\r\n                        showCloseButton: true,\r\n                      });\r\n\r\n                    } else if (error.message) {\r\n                      this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n                    }\r\n                  })\r\n            } else if (\r\n                /* Read more about handling dismissals below */\r\n                result.dismiss === Swal.DismissReason.cancel\r\n            ) {\r\n              swalWithBootstrapButtons.fire(\r\n                  \"Cancelled\",\r\n                  \"Prospect is in a safe place :)\",\r\n                  \"error\"\r\n              );\r\n            }\r\n          });\r\n    },\r\n    getMapsLink(){\r\n      let link = 'https://maps.google.com/?q='\r\n      let clientData = this.clientData;\r\n      if (clientData.address.length > 0){\r\n        link += '+'+this.clientData.address\r\n      }\r\n      if (clientData.zipCode.length > 0){\r\n        link += '+'+clientData.zipCode\r\n      }\r\n      if (clientData.city.length > 0){\r\n        link += '+'+clientData.city\r\n      }\r\n      if (clientData.state.length > 0){\r\n        link += '+'+clientData.state\r\n      }\r\n\r\n      if(link !== 'https://maps.google.com/?q=') {\r\n        document.getElementById(\"gMapsLink\").href = link;\r\n      } else {\r\n        document.getElementById(\"gMapsLink\").href = '#';\r\n      }\r\n\r\n    },\r\n    viewUserGroup(request) {\r\n      const currentRole = jwt_decode(localStorage.getItem('jwt'))\r\n      return currentRole.userGroup.includes(request)\r\n    },\r\n    async getNotes (id = localStorage.getItem('selectedUser')) {\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        userID: localStorage.getItem('id'),\r\n        agentID: id,\r\n        clientID: id,\r\n      }\r\n\r\n      const pattern = '/client/';\r\n      const pattern2 = '/prospects/';\r\n      let url = '';\r\n      if(window.location.href.match(pattern)) {\r\n        url = '/api/client/getClientNotes';\r\n      } else if(window.location.href.match(pattern2)){\r\n        url = '/api/client/getClientNotes';\r\n      } else {\r\n        url = '/api/getUserNotes';\r\n      }\r\n\r\n      await axios\r\n          .post(url, data)\r\n          .then(response => {\r\n            this.notesData = response.data;\r\n            // this.$emit('onFire', response.data)\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n              Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n  },\r\n  validations: {\r\n    form: {\r\n      message: {\r\n        required: helpers.withMessage(\"Message is required\", required),\r\n      },\r\n    },\r\n  },\r\n  async mounted() {\r\n\r\n    const data = {\r\n      token: localStorage.getItem('jwt'),\r\n      isProspect: 1,\r\n      searchValues: this.data.searchValues,\r\n      userEmail: localStorage.getItem('email'),\r\n      userID: localStorage.getItem('id'),\r\n      deleted: 0,\r\n    }\r\n\r\n    await axios\r\n        .post('/api/listDepartments', data)\r\n        .then(response => {\r\n          this.departmentList = response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n            Swal.fire(\"Oops!\", \"Departments could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/client/clientStatus', data)\r\n        .then(response => {\r\n          this.statusList = response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/client/clientTypes', data)\r\n        .then(response => {\r\n          this.typeList = response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/client/listClientsByStatus', data)\r\n        .then(response => {\r\n          this.isClientList = true;\r\n\r\n          for (let i = 0; i < 10; i++) {\r\n            let varName = [];\r\n            varName = response.data[i].statusName.replace(/\\s+/g, '-').toLowerCase();\r\n            this.varName = response.data[i].content;\r\n            this.varName['groupName'] = {\r\n              'groupName': varName,\r\n              'statusName': response.data[i].statusName,\r\n              'groupID': response.data[i].statusID,\r\n              'sequence': 1,\r\n              'quantity': response.data[i].content.length,\r\n              'perPage': 30,\r\n              'showing': (response.data[i].content.length < 30 ? response.data[i].content.length: 30),\r\n            };\r\n            this.list.push(this.varName);\r\n\r\n            // this.$store.commit('addItem', {\r\n            //   text: this.varName,\r\n            // });\r\n          }\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n            for (const property in error.response.data) {\r\n              this.errors.push(`${property}: ${error.response.data[property]}`)\r\n            }\r\n          } /*else if (error.message) {\r\n            this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n          }*/\r\n        })\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.listProperties {\r\n  min-height: 30%;\r\n}\r\n\r\n.moveCard {\r\n  cursor: default;\r\n}\r\n\r\n.grayIcon {\r\n  color: #6b778c;\r\n}\r\n\r\n.eyeIcon {\r\n  margin: 5px;\r\n  max-width: 30px;\r\n}\r\n\r\n.hide {\r\n  transition: 0.01s;\r\n  transform: translateX(-9999px);\r\n}\r\n\r\n.card-body {\r\n  flex: 1 1 auto;\r\n  padding: 1rem 0.5rem;\r\n}\r\n\r\n#tab td {\r\n  vertical-align: top;\r\n}\r\n\r\n.side-buttons {\r\n  width: 100%;\r\n  text-align: left !important;\r\n}\r\n\r\n.window-sidebar {\r\n  float: right;\r\n  overflow: hidden;\r\n  padding: 0 16px 8px 8px;\r\n  width: calc(100% - 600px);\r\n  z-index: 10;\r\n}\r\n\r\n.window-module {\r\n  clear: both;\r\n  margin-bottom: 24px;\r\n  position: relative;\r\n}\r\n\r\n.window-module {\r\n  clear: both;\r\n  margin-bottom: 24px;\r\n  position: relative;\r\n  padding-right: 5px;\r\n}\r\n\r\n.u-clearfix:after {\r\n  clear: both;\r\n  content: \"\";\r\n  display: table\r\n}\r\n\r\n.window-sidebar h3.mod-no-top-margin {\r\n  margin-top: 0;\r\n}\r\n\r\n.window-sidebar h3 {\r\n  color: #5e6c84;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  line-height: 16px;\r\n  margin-bottom: -4px;\r\n  margin-top: 16px;\r\n}\r\n\r\n.button-link:hover {\r\n  background-color: #091e4214;\r\n  border: none;\r\n  box-shadow: none;\r\n}\r\n\r\n.button-link {\r\n  background-color: #091e420a;\r\n  border: none;\r\n  border-radius: 3px;\r\n  box-shadow: none;\r\n  box-sizing: border-box;\r\n  cursor: pointer;\r\n  display: block;\r\n  height: 32px;\r\n  margin-top: 8px;\r\n  max-width: 300px;\r\n  overflow: hidden;\r\n  padding: 6px 12px !important;\r\n  position: relative;\r\n  text-decoration: none;\r\n  text-overflow: ellipsis;\r\n  transition-duration: 85ms;\r\n  transition-property: background-color, border-color, box-shadow;\r\n  transition-timing-function: ease;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  white-space: nowrap;\r\n}\r\n\r\n.icon-lg, .icon-md, .icon-sm {\r\n  color: #e30000;\r\n}\r\n\r\n.icon-sm {\r\n  font-size: 16px;\r\n  height: 20px;\r\n  line-height: 20px;\r\n  width: 20px;\r\n}\r\n\r\n.icon-lg, .icon-md, .icon-sm {\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  display: inline-block;\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  line-height: 1;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  vertical-align: bottom;\r\n}\r\n\r\n.js-sidebar-action-text {\r\n  color: #7c7979;\r\n}\r\n\r\ndiv.u-clearfix > a > i {\r\n  color: #7c7979;\r\n}\r\n\r\n.tab-content {\r\n  padding: 10px;\r\n}\r\n\r\n.chat-conversation {\r\n  height: calc(100vh - 500px) !important;\r\n}\r\n\r\n.fieldset-style{\r\n  display: block;margin-inline-start: 2px;\r\n  margin-inline-end: 2px;\r\n  padding-block-start: 0.35em;\r\n  padding-inline-start: 0.75em;\r\n  padding-inline-end: 0.75em;\r\n  padding-block-end: 0.625em;\r\n  min-inline-size: min-content;\r\n  /*border-width: 2px;*/\r\n  /*border-style: groove;*/\r\n  border-color: threedface;\r\n  border-image: initial;\r\n  border-radius: 10px;\r\n}\r\n\r\n.legend-style{\r\n  display: block;\r\n  padding-inline-start: 2px;\r\n  padding-inline-end: 2px;\r\n  border-width: initial;\r\n  border-style: none;\r\n  border-color: initial;\r\n  border-image: initial;\r\n}\r\n\r\n</style>\r\n\r\n<template>\r\n  <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\"/>\r\n    <div class=\"card\">\r\n      <div class=\"card-body\">\r\n        <div class=\"row g-3\">\r\n          <div class=\"col-md-3\">\r\n            <div class=\"search-box\">\r\n              <input type=\"text\" class=\"form-control search\"\r\n                     placeholder=\"Enter Keyword\" v-model=\"this.data.searchValues.keyword\"\r\n                     @change=\"this.data.searchValues.keyword.length >= 3 ? updateClientList(): ''\"\r\n                     v-on:keyup.enter=\"this.data.searchValues.keyword === '' ? updateClientList() : ''\">\r\n              <i class=\"ri-search-line search-icon\"></i>\r\n            </div>\r\n          </div><!--end col-->\r\n          <div class=\"col-md-auto ms-auto\">\r\n            <div class=\"d-flex hastck gap-2 flex-wrap\">\r\n              <div class=\"d-flex align-items-center gap-2\">\r\n                <span class=\"text-muted flex-shrink-0\">Sort by: </span>\r\n\r\n                <Multiselect class=\"form-control\"\r\n                             style=\"width:150px;padding: 0px;\"\r\n                             v-model=\"this.data.searchValues.sortBy\"\r\n                             autocomplete=\"off\"\r\n                             @focus=\"handleFocus\"\r\n                             :close-on-select=\"true\"\r\n                             :searchable=\"true\"\r\n                             :options=\"[\r\n                            { value: 'name', label: 'Name' },\r\n                            { value: 'lastName', label: 'Last Name' },\r\n                            { value: 'postalCode', label: 'Postal Code' },\r\n                            { value: 'modified', label: 'Modified On' },\r\n                            { value: 'created', label: 'created On' },\r\n                            ]\"\r\n                             @select=\"updateClientList()\"\r\n                />\r\n\r\n              </div>\r\n              <div class=\"d-flex align-items-center gap-2\">\r\n                <span class=\"text-muted flex-shrink-0\">Order by: </span>\r\n\r\n                <Multiselect class=\"form-control\"\r\n                             style=\"width:150px;padding: 0px;\"\r\n                             v-model=\"this.data.searchValues.orderBy\"\r\n                             autocomplete=\"off\"\r\n                             @focus=\"handleFocus\"\r\n                             :close-on-select=\"true\"\r\n                             :searchable=\"true\"\r\n                             :options=\"[\r\n                            { value: 'ASC', label: 'Ascendance' },\r\n                            { value: 'DESC', label: 'Descendant' },\r\n                            ]\"\r\n                             @select=\"updateClientList()\"\r\n                />\r\n              </div>\r\n              <button type=\"button\" class=\"btn btn-soft-success add-btn\" id=\"filters-btn\" data-bs-toggle=\"modal\" data-bs-target=\"#open-filters\">\r\n                <i class=\"ri-add-line align-bottom me-1\"></i> Filters\r\n              </button>\r\n              <button type=\"button\" class=\"btn btn-soft-success add-btn\" id=\"create-btn\" data-bs-toggle=\"modal\" href=\"#clientModalAdd\" @click=\"addNewClientModal\">\r\n                <i class=\"ri-add-line align-bottom me-1\"></i> Add Prospect\r\n              </button>\r\n              <div class=\"dropdown\">\r\n                <button class=\"btn btn-soft-secondary btn-icon fs-14\" type=\"button\" id=\"dropdownMenuButton1\"\r\n                        data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                  <i class=\"ri-settings-4-line\"></i>\r\n                </button>\r\n                <ul class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\r\n                  <li><a class=\"dropdown-item\" href=\"#\">Copy</a></li>\r\n                  <li><a class=\"dropdown-item\" href=\"#\">Move to pipline</a></li>\r\n                  <li><a class=\"dropdown-item\" href=\"#\">Add to exceptions</a></li>\r\n                  <li><a class=\"dropdown-item\" href=\"#\">Switch to common form view</a></li>\r\n                  <li><a class=\"dropdown-item\" href=\"#\">Reset form view to default</a></li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div><!--end col-->\r\n        </div><!--end row-->\r\n      </div>\r\n    </div><!--end card-->\r\n\r\n    <kanbanBoard :key=\"list\" :list=\"list\" @onFire=\"printEmit\" @userData=\"setClientData\" style=\"min-height: 600px;\" @setMessages=\"setMessagesInfo\"/>\r\n    <!-- Modal -->\r\n\r\n    <div class=\"modal fade zoomIn\" id=\"agentModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\"  data-bs-focus=\"false\">\r\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\">\r\n        <div class=\"modal-content border-0\">\r\n          <div class=\"modal-header p-3 bg-soft-info\">\r\n            <h5 class=\"modal-title\" id=\"modalTitle\">Agent Card</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"\r\n                    id=\"close-modal\"></button>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-9\">\r\n              <div class=\"tab-content\">\r\n                <p class=\"text-muted mb-4\">\r\n                  is in List <a href=\"#\"><span style=\"text-decoration: underline;\"> NEW AGENT </span></a>\r\n                </p>\r\n                <div\r\n                    class=\"tab-pane fade show active\"\r\n                    id=\"mainTab\"\r\n                    role=\"tabpanel\"\r\n                    aria-labelledby=\"pills-bill-info-tab\"\r\n                >\r\n                  <div>\r\n                    <form @submit.prevent=\"\">\r\n                      <div class=\"modal-body\">\r\n                        <h6> <span style=\"color:red; font-size: 0.7em;\">Required fields (*)</span></h6>\r\n                        <input type=\"hidden\" id=\"id\"/>\r\n                        <div class=\"row g-3\" v-if=\"this.isClientList === true\">\r\n                          <div class=\"col-lg-12\">\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editEmail\" class=\"form-label\">Email</label>\r\n                                <input type=\"text\" id=\"editEmail\" class=\"form-control mb-2\" placeholder=\"Enter Email\"\r\n                                       v-model=\"clientData.email\">\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editCreatedBy\" class=\"form-label\">Created By</label>\r\n                                <input type=\"text\" id=\"editCreatedBy\" name=\"editCreatedBy\" class=\"form-control mb-2\" disabled\r\n                                       v-model=\"this.clientData.createdBy\">\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editFirstName\" class=\"form-label\">First Name <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <input type=\"text\" id=\"editFirstName\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter First Name\" v-model=\"this.clientData.firstName\" required>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editLastName\" class=\"form-label\">Last Name <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <input type=\"text\" id=\"editLastName\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Last Name\" v-model=\"this.clientData.lastName\" required>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editType\" class=\"form-label\">Source <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editType1\" name=\"editType\" v-model=\"this.clientData.type\">\r\n                                  <option v-for=\"(type, typeIndex) of typeList\" :key=\"typeIndex\" v-bind:value=\"type.name\">{{ type.name }}</option>\r\n                                </select>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editGender\" class=\"form-label\"> Gender <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <br>\r\n                                <div class=\"form-check-success form-check-inline\" style=\"margin-top: 0.8em;\">\r\n                                  <input class=\"form-check-input\" type=\"radio\" name=\"editGender1\" id=\"editGender1\" value=\"M\" v-model=\"this.clientData.gender\">\r\n                                  <label class=\"form-check-label\" for=\"editGender1\"> &nbsp; Male</label>\r\n                                </div>\r\n                                <div class=\"form-check-success form-check-inline\" style=\"margin-top: 0.8em;\">\r\n                                  <input class=\"form-check-input\" type=\"radio\" name=\"editGender1\" id=\"editGender3\" value=\"F\" v-model=\"this.clientData.gender\">\r\n                                  <label class=\"form-check-label\" for=\"editGender3\"> &nbsp; Female</label>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editLanguage\" class=\"form-label\">Language <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"editLanguage\"\r\n                                        v-model=\"this.clientData.language\" required>\r\n                                  <option value=\"1\" selected>English</option>\r\n                                  <option value=\"2\">Spanish</option>\r\n                                </select>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editStatus\" class=\"form-label\">Status <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editStatus\"\r\n                                        v-model=\"this.clientData.status\">\r\n                                  <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\"\r\n                                          v-bind:value=\"status.statusID\">{{ status.name }}\r\n                                  </option>\r\n                                </select>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editPhoneNumber\" class=\"form-label\">Phone <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <input type=\"text\" id=\"editPhoneNumber\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Phone number\" required v-model=\"this.clientData.phone\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editDepartment\" class=\"form-label\">Department <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                                        v-model=\"this.clientData.department\" v-if=\"(departmentList.length > 1)\">\r\n                                  <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\r\n                                          v-bind:value=\"department.departmentID\">{{ department.name }}\r\n                                  </option>\r\n                                </select>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                                        v-model=\"this.clientData.department\" v-else>\r\n                                  <option v-bind:value=\"departmentList.departmentID\">{{ departmentList.name }}</option>\r\n                                </select>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editAddress\" class=\"form-label\">Address</label>&nbsp;<code><a href=\"#\" target=\"_blank\" id=\"gMapsLink\">Google Maps</a></code>\r\n                                <input type=\"text\" id=\"editAddress\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Address\" required v-model=\"this.clientData.address\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editBirthDate\" class=\"form-label mb-2\">Birth Date</label>\r\n                                <flat-pickr\r\n                                    placeholder=\"Select Birth Date\"\r\n                                    v-model=\"this.clientData.birthDate\"\r\n                                    :config=\"timeConfig\"\r\n                                    class=\"form-control flatpickr-input\"\r\n                                    id=\"editBirthDate\"></flat-pickr>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editState\" class=\"form-label\">State</label>\r\n                                <input type=\"text\" id=\"editState\" class=\"form-control mb-2\" placeholder=\"Enter State\"\r\n                                       required v-model=\"this.clientData.state\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editCountry\" class=\"form-label\">Country</label>\r\n                                <input type=\"text\" id=\"editCountry\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Country\" required v-model=\"this.clientData.country\"/>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editCity\" class=\"form-label\">City</label>\r\n                                <input type=\"text\" id=\"editCity1\" name=\"editCity1\" class=\"form-control mb-2\" placeholder=\"Enter City\" required v-model=\"this.clientData.city\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editPostalCode\" class=\"form-label\">Age</label>\r\n                                <span><p><b style=\"vertical-align: sub;\">{{ this.clientData.age }}</b></p></span>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editPostalCode\" class=\"form-label\">Postal code</label>\r\n                                <input type=\"text\" id=\"editPostalCode\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Address\" required v-model=\"this.clientData.zipCode\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editInterview\" class=\"form-label mb-2\">Interview Date</label>\r\n                                <flat-pickr\r\n                                    placeholder=\"Select Interview date/time\"\r\n                                    v-model=\"this.clientData.interview\"\r\n                                    :config=\"dateTimeConfig\"\r\n                                    class=\"form-control flatpickr-input\"\r\n                                    id=\"editInterview\" data-enable-time></flat-pickr>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <!--end col-->\r\n                        </div>\r\n                        <div class=\"row g-3\" v-else>\r\n                          <div class=\"col-lg-12\">\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editEmail\" class=\"form-label\">Email Address</label>\r\n                                <input type=\"text\" id=\"editEmail\" class=\"form-control mb-2\" placeholder=\"Enter Email\"\r\n                                       v-model=\"clientData.email\">\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editCreatedBy\" class=\"form-label\">Created By</label>\r\n                                <input type=\"text\" id=\"editCreatedBy\" name=\"editCreatedBy\" class=\"form-control mb-2\" disabled\r\n                                       v-model=\"this.clientData.createdBy\">\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editFirstName\" class=\"form-label\">First Name <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <input type=\"text\" id=\"editFirstName\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter First Name\" v-model=\"this.clientData.firstName\" required>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editLastName\" class=\"form-label\">Last Name <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <input type=\"text\" id=\"editLastName\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Last Name\" v-model=\"this.clientData.lastName\" required>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editLanguage\" class=\"form-label\">Language <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"editLanguage\"\r\n                                        v-model=\"this.clientData.language\" required>\r\n                                  <option value=\"1\" selected>English</option>\r\n                                  <option value=\"2\">Spanish</option>\r\n                                </select>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editStatus\" class=\"form-label\">Status <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editStatus\"\r\n                                        v-model=\"this.clientData.status\">\r\n                                  <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\"\r\n                                          v-bind:value=\"status.statusID\">{{ status.name }}\r\n                                  </option>\r\n                                </select>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editPhoneNumber\" class=\"form-label\">Phone <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <input type=\"text\" id=\"editPhoneNumber\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Phone number\" required v-model=\"this.clientData.phone\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editDepartment\" class=\"form-label\">Department <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                                        v-model=\"this.clientData.department\" v-if=\"(departmentList.length > 1)\">\r\n                                  <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\r\n                                          v-bind:value=\"department.departmentID\">{{ department.name }}\r\n                                  </option>\r\n                                </select>\r\n                                <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                                        v-model=\"this.clientData.department\" v-else>\r\n                                  <option v-bind:value=\"departmentList.departmentID\">{{ departmentList.name }}</option>\r\n                                </select>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editAddress\" class=\"form-label\">Address</label>\r\n                                <input type=\"text\" id=\"editAddress\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Address\" required v-model=\"this.clientData.address\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editBirthDate\" class=\"form-label mb-2\">Birth Date</label>\r\n                                <flat-pickr\r\n                                    placeholder=\"Select Birth Date\"\r\n                                    v-model=\"this.clientData.birthDate\"\r\n                                    :config=\"timeConfig\"\r\n                                    class=\"form-control flatpickr-input\"\r\n                                    id=\"editBirthDate\"></flat-pickr>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editState\" class=\"form-label\">State</label>\r\n                                <input type=\"text\" id=\"editState\" class=\"form-control mb-2\" placeholder=\"Enter State\"\r\n                                       required v-model=\"this.clientData.state\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editCountry\" class=\"form-label\">Country</label>\r\n                                <input type=\"text\" id=\"editCountry\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Country\" required v-model=\"this.clientData.country\"/>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editPostalCode\" class=\"form-label\">Postal code</label>\r\n                                <input type=\"text\" id=\"editPostalCode\" class=\"form-control mb-2\"\r\n                                       placeholder=\"Enter Address\" required v-model=\"this.clientData.zipCode\"/>\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                                <label for=\"editInterview\" class=\"form-label mb-2\">Interview</label>\r\n                                <flat-pickr\r\n                                    placeholder=\"Select Interview date/time\"\r\n                                    v-model=\"this.clientData.interview\"\r\n                                    :config=\"dateTimeConfig\"\r\n                                    class=\"form-control flatpickr-input\"\r\n                                    id=\"editInterview\" data-enable-time></flat-pickr>\r\n                              </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                              <div class=\"col-lg-6\">\r\n                              </div>\r\n                              <div class=\"col-lg-6\">\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <!--end col-->\r\n                        </div>\r\n                        <!--end row-->\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n                <!-- end tab pane -->\r\n                <div\r\n                    class=\"tab-pane fade\"\r\n                    id=\"secondTab\"\r\n                    role=\"tabpanel\"\r\n                    aria-labelledby=\"pills-bill-info-tab\">\r\n\r\n                  <notes :dataList=\"notesData\" @onFire=\"getNotes()\"> </notes>\r\n\r\n                  <!-- end chat-wrapper -->\r\n                </div>\r\n                <!-- end tab pane -->\r\n\r\n                <div\r\n                    class=\"tab-pane fade\"\r\n                    id=\"thirdTab\"\r\n                    role=\"tabpanel\"\r\n                    aria-labelledby=\"pills-bill-info-tab\"\r\n                    style=\"height: 600px;\"\r\n                >\r\n\r\n                  <messages :dataList=\"chatMessages\"></messages>\r\n\r\n                </div>\r\n                <!-- end tab pane -->\r\n\r\n                <div\r\n                    class=\"tab-pane fade\"\r\n                    id=\"quarterTab\"\r\n                    role=\"tabpanel\"\r\n                    aria-labelledby=\"pills-bill-address-tab\"\r\n                    style=\"height: 600px;\"\r\n                >\r\n                  <uploadClients></uploadClients>\r\n                </div>\r\n                <!-- end tab pane -->\r\n\r\n              </div>\r\n              <!-- end tab content -->\r\n            </div>\r\n            <div class=\"col-md-3 window-sidebar \">\r\n              <div class=\"window-module\" style=\"margin-top: 10px;\">\r\n                <h3 class=\"mod-no-top-margin js-sidebar-add-heading\">Options</h3>\r\n                <div class=\"window-module\">\r\n                  <div class=\"u-clearfix\">\r\n                    <a class=\"button-link js-change-card-members\" href=\"#\" title=\"Information\"\r\n                       @click=\"showTabs('mainTab')\">\r\n                      <i class=\"ri-calendar-2-fill align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Information</span>\r\n                    </a>\r\n                    <a class=\"button-link js-edit-labels\" href=\"#\" title=\"Notes\" @click=\"showTabs('secondTab')\">\r\n                      <i class=\"ri-sticky-note-line align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Notes</span>\r\n                    </a>\r\n                    <a class=\"button-link js-edit-labels\" href=\"#\" title=\"Messages\" @click=\"showTabs('thirdTab')\">\r\n                      <i class=\"ri-message-2-line align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Messages</span>\r\n                    </a>\r\n                    <a class=\"button-link js-edit-labels\" href=\"#\" title=\"Attachements\" @click=\"showTabs('quarterTab')\">\r\n                      <i class=\"ri-attachment-2 align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Attachements</span>\r\n                    </a>\r\n                    <a class=\"button-link js-add-checklist-menu\" href=\"#\" title=\"Checklist\" @click=\"deleteclient\">\r\n                      <i class=\"ri-delete-bin-2-line align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Delete</span>\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <br>\r\n              <div class=\"window-module\">\r\n                <h3 class=\"mod-no-top-margin js-sidebar-add-heading\">Actions</h3>\r\n                <div class=\"window-module\">\r\n                  <div class=\"u-clearfix\">\r\n                    <a class=\"button-link js-change-card-members\" href=\"#\" title=\"Move\">\r\n                      <i class=\"ri-drag-move-2-fill align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Move</span>\r\n                    </a>\r\n                    <a class=\"button-link js-edit-labels\" href=\"#\" title=\"Share\">\r\n                      <i class=\"ri-share-line align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Share</span>\r\n                    </a>\r\n                    <a class=\"button-link js-edit-labels\" href=\"#\" title=\"Share\">\r\n                      <i class=\"ri-file-transfer-line align-bottom me-1\"></i>\r\n                      <span class=\"js-sidebar-action-text\">Transfer</span>\r\n                    </a>\r\n                    <a class=\"button-link js-change-card-members\" href=\"#\" title=\"Update\" id=\"updateButton\"\r\n                       @click=\"updateInformation\" style=\"background-color: #2abb52;\">\r\n                      <i class=\"ri-save-3-line align-bottom me-1\" style=\"color:white;\"></i>\r\n                      <span class=\"js-sidebar-action-text\" style=\"color:white;\">Save</span>\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  Add prospect modal  -->\r\n    <div class=\"modal zoomIn\" id=\"clientModalAdd\" tabindex=\"-1\" aria-labelledby=\"clientModalLabel\" aria-hidden=\"true\" data-bs-focus=\"false\">\r\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\" style=\"max-width: 1000px;\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header bg-light p-3\">\r\n            <h5 class=\"modal-title\" id=\"clientModalLabelAdd\"></h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"\r\n                    id=\"close-modal\"></button>\r\n          </div>\r\n          <form id=\"addform\" @submit.prevent=\"\">\r\n            <input type=\"hidden\" id=\"localAgentID\" value=\"0\">\r\n            <div class=\"modal-body\">\r\n              <h6> <span style=\"color:red; font-size: 0.7em;\">Required fields (*) </span></h6>\r\n              <div class=\"row g-3\">\r\n                <div class=\"col-lg-12\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-8\">\r\n                      <label for=\"editEmail\" class=\"form-label\">Email</label>\r\n                      <input type=\"text\" id=\"editEmail\" name=\"editEmail\" class=\"form-control mb-2 createEmail\" placeholder=\"Enter Email\"\r\n                             v-model=\"clientData.email\">\r\n                      <div class=\"invalid-feedback\">\r\n                        This email is already in use.\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editCreatedBy\" class=\"form-label\">Created By</label>\r\n                      <input type=\"text\" id=\"editCreatedBy\" name=\"editCreatedBy\" class=\"form-control mb-2\" disabled v-model=\"this.clientData.createdBy\">\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editFirstName\" class=\"form-label\">First Name <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <input type=\"text\" id=\"editFirstName\" name=\"editFirstName\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" v-model=\"this.clientData.firstName\" required>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editLastName\" class=\"form-label\">Last Name <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <input type=\"text\" id=\"editLastName\" name=\"editLastName\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\" v-model=\"this.clientData.lastName\" required>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editGender\" class=\"form-label\"> Gender <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <br>\r\n                      <div class=\"form-check-success form-check-inline\" style=\"margin-top: 0.8em;\">\r\n                        <input class=\"form-check-input\" type=\"radio\" name=\"editGender\" id=\"editGender\" value=\"M\" v-model=\"this.clientData.gender\">\r\n                        <label class=\"form-check-label\" for=\"editGender\"> &nbsp; Male</label>\r\n                      </div>\r\n                      <div class=\"form-check-success form-check-inline\" style=\"margin-top: 0.8em;\">\r\n                        <input class=\"form-check-input\" type=\"radio\" name=\"editGender\" id=\"editGender2\" value=\"F\" v-model=\"this.clientData.gender\">\r\n                        <label class=\"form-check-label\" for=\"editGender2\"> &nbsp; Female</label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editLanguage\" class=\"form-label\">Language <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"editLanguage\" name=\"editLanguage\" v-model=\"this.clientData.language\" required>\r\n                        <option value=\"1\" selected>English</option>\r\n                        <option value=\"2\">Spanish</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editStatus\" class=\"form-label\">Status <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editStatus\" name=\"editStatus\" v-model=\"this.clientData.status\">\r\n                        <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editType\" class=\"form-label\">Prospect Source <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editType\" name=\"editType\" v-model=\"this.clientData.type\">\r\n                        <option v-for=\"(type, typeIndex) of typeList\" :key=\"typeIndex\" v-bind:value=\"type.name\">{{ type.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editPhoneNumber\" class=\"form-label\">Phone <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <input type=\"text\" id=\"editPhoneNumber\" name=\"editPhoneNumber\" class=\"form-control mb-2\" placeholder=\"Phone number\" required v-model=\"this.clientData.phone\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editDepartment\" class=\"form-label\">Department <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                              v-model=\"this.clientData.department\" v-if=\"(departmentList.length > 1)\">\r\n                        <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\r\n                                v-bind:value=\"department.departmentID\">{{ department.name }}\r\n                        </option>\r\n                      </select>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                              v-model=\"this.clientData.department\" v-else>\r\n                        <option v-bind:value=\"departmentList.departmentID\">{{ departmentList.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editInterview\" class=\"form-label mb-2\">Interview</label>\r\n                      <flat-pickr\r\n                          placeholder=\"Select Interview date/time\"\r\n                          v-model=\"this.clientData.interview\"\r\n                          :config=\"dateTimeConfig\"\r\n                          class=\"form-control flatpickr-input\"\r\n                          id=\"editInterview\" name=\"editInterview\" data-enable-time></flat-pickr>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-8\">\r\n                      <label for=\"editAddress\" class=\"form-label\">Address</label>\r\n                      <input type=\"text\" id=\"editAddress\" name=\"editAddress\" class=\"form-control mb-2\" placeholder=\"Enter Address\" required v-model=\"this.clientData.address\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editBirthdate\" class=\"form-label\"> Birthdate </label>\r\n                      <flat-pickr\r\n                          v-model=\"this.clientData.birthday\"\r\n                          :config=\"humanfriendlyConfig\"\r\n                          class=\"form-control flatpickr-input\"\r\n                          id=\"editBirthdate\"\r\n                          name=\"editBirthdate\"\r\n                      ></flat-pickr>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-2\">\r\n                      <label for=\"editState\" class=\"form-label\">State</label>\r\n                      <input type=\"text\" id=\"editState\" name=\"editState\" class=\"form-control mb-2\" placeholder=\"Enter State\" required v-model=\"this.clientData.state\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editCountry\" class=\"form-label\">Country</label>\r\n                      <input type=\"text\" id=\"editCountry\" name=\"editCountry\" class=\"form-control mb-2\" placeholder=\"Enter Country\" required v-model=\"this.clientData.country\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editCity\" class=\"form-label\">City</label>\r\n                      <input type=\"text\" id=\"editCity\" name=\"editCity\" class=\"form-control mb-2\" placeholder=\"Enter City\" required v-model=\"this.clientData.city\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editPostalCode\" class=\"form-label\">Postal code</label>\r\n                      <input type=\"text\" id=\"editPostalCode\" name=\"editPostalCode\" class=\"form-control mb-2\" placeholder=\"Enter Address\" required v-model=\"this.clientData.zipCode\"/>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"mt-4\">\r\n                      <label\r\n                          for=\"editNotes\"\r\n                          class=\"form-label text-muted text-uppercase fw-semibold\"\r\n                      >Notes</label>\r\n                      <textarea\r\n                          class=\"form-control alert alert-primary\"\r\n                          v-model=\"this.clientData.note\"\r\n                          id=\"editNotes\"\r\n                          name=\"editNotes\"\r\n                          placeholder=\"Notes\"\r\n                          rows=\"2\"\r\n                      ></textarea>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!--end col-->\r\n              </div>\r\n              <!--end row-->\r\n            </div>\r\n\r\n            <div class=\"modal-footer\">\r\n              <div class=\"hstack gap-2 justify-content-end\">\r\n                <button type=\"button\" class=\"btn btn-light\" id=\"closemodal\" data-bs-dismiss=\"modal\">Close</button>\r\n                <button type=\"button\" class=\"btn btn-danger\" @click=\"resetForm\" >Reset</button>\r\n                <button type=\"button\" class=\"btn btn-primary\" id=\"goBack\" style=\"display: none;\" @click=\"restoreForm('back')\">Back</button>\r\n                <button type=\"button\" class=\"btn btn-info\" id=\"add-another-client\" @click=\"addAnotherClient()\">Add Another</button>\r\n                <button type=\"button\" class=\"btn btn-primary\" id=\"goNext\" style=\"display: none;\" @click=\"restoreForm('next')\">Next</button>\r\n                <button type=\"submit\" class=\"btn btn-success\" id=\"add-btn\" @click=\"createClient\">Save</button>\r\n                <!--                <button type=\"button\" class=\"btn btn-success\" id=\"edit-btn\" @click=\"updateAgent\">Update</button>-->\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Filters Modal -->\r\n    <div id=\"open-filters\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\"  data-bs-focus=\"false\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"myModalLabel\">Filters</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"> </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-12\">\r\n                <label for=\"filterKeyword\" class=\"form-label\">Keyword</label>\r\n                <input type=\"text\" id=\"filterKeyword\" name=\"filterKeyword\" class=\"form-control mb-2\" placeholder=\"Enter Keyword\" v-model=\"this.data.searchValues.keyword\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterType\" class=\"form-label\">Source</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"filterType\" id=\"filterType\" name=\"filterType\" v-model=\"this.data.searchValues.type\">\r\n                  <option value=\"0\">All</option>\r\n                  <option v-for=\"(type, typeIndex) of typeList\" :key=\"typeIndex\" v-bind:value=\"type.name\">{{ type.name }}</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterClients\" class=\"form-label\">Show My Clients</label>\r\n                <div class=\"form-check form-switch form-switch-md mb-3\" dir=\"ltr\">\r\n                  <input type=\"checkbox\" class=\"form-check-input\" id=\"filterClients\" name=\"filterClients\" role=\"switch\" v-model=\"this.data.searchValues.myClients\" @click=\"changeMyClient\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editLanguage\" class=\"form-label\">Language</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"filterLanguage\" name=\"filterLanguage\" v-model=\"this.data.searchValues.language\">\r\n                  <option value=\"1\">English</option>\r\n                  <option value=\"2\">Spanish</option>\r\n                  <option value=\"3\">Both</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editStatus\" class=\"form-label\">Search by Notes</label>\r\n                <input type=\"text\" id=\"filterNotes\" name=\"filterNotes\" class=\"form-control mb-2\" placeholder=\"Enter note\" v-model=\"this.data.searchValues.noteSearch\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterFromDate\" class=\"form-label\"> From date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.data.searchValues.fromDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterFromDate\"\r\n                    name=\"filterFromDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterToDate\" class=\"form-label\"> To Date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.data.searchValues.toDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterToDate\"\r\n                    name=\"filterToDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterDateRange\" class=\"form-label\">Time Range</label>\r\n                <select class=\"form-select mb-2\" id=\"filterDateRange\" name=\"filterDateRange\" v-model=\"this.data.searchValues.dateRange\">\r\n                  <option value=\"0\" selected>...</option>\r\n                  <option value=\"1\">Until 2 year Ago</option>\r\n                  <option value=\"2\">Until 4 year Ago</option>\r\n                  <option value=\"3\">Until 5 year Ago</option>\r\n                  <option value=\"4\">Begin of times</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <span v-if=\"viewUserGroup('SUPER_ADMIN_GROUP')\">\r\n                  <label for=\"filterDateRange\" class=\"form-label\">Department</label>\r\n                    <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"filterDepartment\" name=\"filterDepartment\"\r\n                            v-model=\"this.data.searchValues.department\">\r\n                        <option value=\"0\"> All</option>\r\n                        <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\r\n                                v-bind:value=\"department.departmentID\"> {{ department.name }}\r\n                        </option>\r\n                    </select>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-light\" data-bs-dismiss=\"modal\">Close</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"updateClientList()\">Search</button>\r\n          </div>\r\n\r\n        </div><!-- /.modal-content -->\r\n      </div><!-- /.modal-dialog -->\r\n    </div><!-- /.modal -->\r\n  </Layout>\r\n</template>\r\n"]}]}