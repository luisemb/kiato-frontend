{"remainingRequest":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\wamp64\\www\\crm\\frontend\\src\\views\\agents\\agentslist.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\wamp64\\www\\crm\\frontend\\src\\views\\agents\\agentslist.vue","mtime":1677777621104},{"path":"C:\\wamp64\\www\\crm\\frontend\\babel.config.js","mtime":1645939880000},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1652458135842},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1668443313146}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L3dhbXA2NC93d3cvY3JtL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRlc3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgZmxhdFBpY2tyIGZyb20gInZ1ZS1mbGF0cGlja3ItY29tcG9uZW50IjsKaW1wb3J0ICJmbGF0cGlja3IvZGlzdC9mbGF0cGlja3IuY3NzIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgTXVsdGlzZWxlY3QgZnJvbSAiQHZ1ZWZvcm0vbXVsdGlzZWxlY3QiOwppbXBvcnQgIkB2dWVmb3JtL211bHRpc2VsZWN0L3RoZW1lcy9kZWZhdWx0LnNjc3MiOwppbXBvcnQgTGF5b3V0IGZyb20gIi4uLy4uL2xheW91dHMvbWFpbi52dWUiOwppbXBvcnQgUGFnZUhlYWRlciBmcm9tICJAL2NvbXBvbmVudHMvcGFnZS1oZWFkZXIiOwppbXBvcnQgYXBwQ29uZmlnIGZyb20gIi4uLy4uLy4uL2FwcC5jb25maWciOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBMb3R0aWUgZnJvbSAiQC9jb21wb25lbnRzL3dpZGdldHMvbG90dGllLnZ1ZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhbmltYXRpb25EYXRhIGZyb20gIkAvY29tcG9uZW50cy93aWRnZXRzL21zb2Vhd3FtLmpzb24iOwppbXBvcnQgand0X2RlY29kZSBmcm9tICJqd3QtZGVjb2RlIjsgLy8gY29tcG9uZW50cwoKaW1wb3J0IG5vdGVzIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvdXNlcnMvbm90ZXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgcGFnZTogewogICAgdGl0bGU6ICJBZ2VudHMiLAogICAgbWV0YTogW3sKICAgICAgbmFtZTogImRlc2NyaXB0aW9uIiwKICAgICAgY29udGVudDogYXBwQ29uZmlnLmRlc2NyaXB0aW9uCiAgICB9XQogIH0sCiAgY29tcG9uZW50czogewogICAgTGF5b3V0OiBMYXlvdXQsCiAgICBQYWdlSGVhZGVyOiBQYWdlSGVhZGVyLAogICAgbG90dGllOiBMb3R0aWUsCiAgICBNdWx0aXNlbGVjdDogTXVsdGlzZWxlY3QsCiAgICBmbGF0UGlja3I6IGZsYXRQaWNrciwKICAgIG5vdGVzOiBub3RlcwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAiQWdlbnQgTGlzdCIsCiAgICAgIGl0ZW1zOiBbewogICAgICAgIHRleHQ6ICJBZ2VudHMiLAogICAgICAgIGhyZWY6ICIvIgogICAgICB9LCB7CiAgICAgICAgdGV4dDogIkFnZW50IExpc3QiLAogICAgICAgIGFjdGl2ZTogdHJ1ZQogICAgICB9XSwKICAgICAgdGltZUNvbmZpZzogewogICAgICAgIGVuYWJsZVRpbWU6IGZhbHNlLAogICAgICAgIGRhdGVGb3JtYXQ6ICJkIE0sIFkiCiAgICAgIH0sCiAgICAgIGRhdGVUaW1lQ29uZmlnOiB7CiAgICAgICAgZW5hYmxlVGltZTogdHJ1ZSwKICAgICAgICBkYXRlRm9ybWF0OiAiRiBqLCBZIEg6aSBLIgogICAgICB9LAogICAgICBsaXN0OiBbXSwKICAgICAgYWdlbnREYXRhOiB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIGVtYWlsOiAnJywKICAgICAgICBmaXJzdE5hbWU6ICcnLAogICAgICAgIGxhc3ROYW1lOiAnJywKICAgICAgICBsYW5ndWFnZTogJycsCiAgICAgICAgc3RhdHVzOiAnJywKICAgICAgICBwaG9uZTogJycsCiAgICAgICAgZGVwYXJ0bWVudDogJycsCiAgICAgICAgc3RhdGU6ICcnLAogICAgICAgIGJpcnRoRGF0ZTogJycsCiAgICAgICAgYWRkcmVzczogJycsCiAgICAgICAgY291bnRyeTogJycsCiAgICAgICAgemlwQ29kZTogJycsCiAgICAgICAgaW50ZXJ2aWV3OiAnJywKICAgICAgICBhZ2VudE51bWJlcjogJycsCiAgICAgICAgY3JlYXRlZEJ5OiAnJywKICAgICAgICBpbnN1cmFuY2VMaWNlbnNlOiAnJywKICAgICAgICBsaWNlbnNlTnVtYmVyOiAnJwogICAgICB9LAogICAgICBkZXBhcnRtZW50TGlzdDoge30sCiAgICAgIHN0YXR1c0xpc3Q6IHt9LAogICAgICBzb3VyY2VzTGlzdDoge30sCiAgICAgIHBhZ2U6IDEsCiAgICAgIHBlclBhZ2U6IDEwMCwKICAgICAgcGFnZXM6IFtdLAogICAgICBzZWFyY2hRdWVyeTogbnVsbCwKICAgICAgaHVtYW5mcmllbmRseUNvbmZpZzogewogICAgICAgIGRhdGVGb3JtYXQ6ICJGIGosIFkiCiAgICAgIH0sCiAgICAgIGRhdGE6IHsKICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgIHNlYXJjaFZhbHVlczogewogICAgICAgICAgbGltaXRUbzogdGhpcy5wZXJQYWdlLAogICAgICAgICAgaXNBY3RpdmU6IDEsCiAgICAgICAgICBub3RlU2VhcmNoOiAnJywKICAgICAgICAgIGtleXdvcmQ6ICcnLAogICAgICAgICAgbGljZW5zZWQ6IDEsCiAgICAgICAgICBsYW5ndWFnZTogMywKICAgICAgICAgIHN0YXR1czogMCwKICAgICAgICAgIHNvcnRCeTogJ25hbWUnLAogICAgICAgICAgb3JkZXJCeTogJ0FTQycsCiAgICAgICAgICB0b0RhdGU6IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi11cycsIHsKICAgICAgICAgICAgeWVhcjogIm51bWVyaWMiLAogICAgICAgICAgICBtb250aDogImxvbmciLAogICAgICAgICAgICBkYXk6ICJudW1lcmljIgogICAgICAgICAgfSksCiAgICAgICAgICBmcm9tRGF0ZTogbmV3IERhdGUobmV3IERhdGUoKS5zZXRGdWxsWWVhcihuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgLSAxKSkudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi11cycsIHsKICAgICAgICAgICAgeWVhcjogIm51bWVyaWMiLAogICAgICAgICAgICBtb250aDogImxvbmciLAogICAgICAgICAgICBkYXk6ICJudW1lcmljIgogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlZmF1bHRPcHRpb25zOiB7CiAgICAgICAgYW5pbWF0aW9uRGF0YTogYW5pbWF0aW9uRGF0YQogICAgICB9LAogICAgICBub3Rlc0RhdGE6IFtdCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGNvbXBhbmllczogZnVuY3Rpb24gY29tcGFuaWVzKCkgewogICAgICB0aGlzLnNldFBhZ2VzKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5zZXRQYWdlcygpOwogIH0sCiAgZmlsdGVyczogewogICAgdHJpbVdvcmRzOiBmdW5jdGlvbiB0cmltV29yZHModmFsdWUpIHsKICAgICAgcmV0dXJuIHZhbHVlLnNwbGl0KCIgIikuc3BsaWNlKDAsIDIwKS5qb2luKCIgIikgKyAiLi4uIjsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGVkaXRkYXRhOiBmdW5jdGlvbiBlZGl0ZGF0YShkYXRhKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpLnZhbHVlID0gZGF0YS5pZDsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1c3RvbWVybmFtZScpLnZhbHVlID0gZGF0YS5uYW1lOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcGFueW5hbWUnKS52YWx1ZSA9IGRhdGEuY29tcGFueTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYWRzc2NvcmUnKS52YWx1ZSA9IGRhdGEuc2NvcmU7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaG9uZScpLnZhbHVlID0gZGF0YS5waG9uZTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvY2F0aW9uJykudmFsdWUgPSBkYXRhLmxvY2F0aW9uOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZScpLnZhbHVlID0gZGF0YS5kYXRlOwogICAgfSwKICAgIHVwZGF0ZUFnZW50OiBmdW5jdGlvbiB1cGRhdGVBZ2VudCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBkYXRhLCBsaXN0LCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMgPSBbXTsKCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RW1haWwnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnRW1haWwgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFfdGhpcy52YWxpZEVtYWlsKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RW1haWwnKS52YWx1ZSkpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ1ZhbGlkIGVtYWlsIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRGaXJzdE5hbWUnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnRmlyc3QgTmFtZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFzdE5hbWUnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnTGFzdCBOYW1lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYW5ndWFnZScpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdMYW5ndWFnZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdHVzJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ1N0YXR1cyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UGhvbmVOdW1iZXInKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnUGhvbmUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzLnZhbGlkUGhvbmUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQaG9uZU51bWJlcicpLnZhbHVlKSA9PT0gZmFsc2UgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQaG9uZU51bWJlcicpLnZhbHVlICE9PSAnJykgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnUGxlYXNlLCB3cml0ZSBhIHZhbGlkIHBob25lIG51bWJlciEnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RGVwYXJ0bWVudCcpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdEZXBhcnRtZW50IGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRCaXJ0aERhdGUnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnQmlydGggZGF0ZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QWRkcmVzcycpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdBZGRyZXNzIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRBZ2VudE51bWJlcicpLnZhbHVlICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdHVzJykudmFsdWUgPT09IDUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ0FnZW50IE51bWJlciBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGljZW5zZWQnKS52YWx1ZSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFN0YXR1cycpLnZhbHVlID09PSA1IHx8ICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExpY2Vuc2VkJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ0luc3VyYW5jZSBMaWNlbnNlZD8gaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExpY2Vuc2VkJykudmFsdWUgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0dXMnKS52YWx1ZSA9PT0gNSB8fCAhX3RoaXMuYWdlbnREYXRhLmxpY2Vuc2VOdW1iZXIgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMaWNlbnNlZCcpLnZhbHVlID09PSAxKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdMaWNlbnNlIG51bWJlciBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZXJyb3JzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgICAgICAgICAgIGVtYWlsOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEVtYWlsJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRGaXJzdE5hbWUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgbGFzdE5hbWU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFzdE5hbWUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFuZ3VhZ2UnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgc3RhdHVzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFN0YXR1cycpLnZhbHVlLAogICAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQaG9uZU51bWJlcicpLnZhbHVlLAogICAgICAgICAgICAgICAgICBkZXBhcnRtZW50SUQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RGVwYXJ0bWVudCcpLnZhbHVlLAogICAgICAgICAgICAgICAgICBzdGF0ZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0ZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBzb3VyY2U6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U291cmNlJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGNpdHk6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Q2l0eScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBiaXJ0aERhdGU6IF90aGlzLmZvcm1hdERhdGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRCaXJ0aERhdGUnKS52YWx1ZSwgJ0REIE1NTSwgWVlZWScpLAogICAgICAgICAgICAgICAgICBhZGRyZXNzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEFkZHJlc3MnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgY291bnRyeTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRDb3VudHJ5JykudmFsdWUsCiAgICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UG9zdGFsQ29kZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBpbnRlcnZpZXdEYXRlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEludGVydmlldycpLnZhbHVlLAogICAgICAgICAgICAgICAgICBhZ2VudE51bWJlcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRBZ2VudE51bWJlcicpLnZhbHVlLAogICAgICAgICAgICAgICAgICBjcmVhdGVkQnk6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICBpc0xpY2Vuc2VkOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExpY2Vuc2VkJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGxpY2Vuc2VOdW1iZXI6IF90aGlzLmFnZW50RGF0YS5saWNlbnNlTnVtYmVyLAogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICBhZ2VudElEOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQnKS52YWx1ZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucHV0KCcvYXBpL3VwZGF0ZUFnZW50JywgZGF0YSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2Vtb2RhbCcpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdBZ2VudCB1cGRhdGUgc3VjY2Vzc2Z1bGx5IScKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpLmNhdGNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QsIHByb3BlcnR5OwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSArICc8L2I+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBfdGhpcy5lcnJvcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBfdGhpcy5lcnJvcnNbaV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyNDsKICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjb21wbGV0ZSB0aGUgZm9ybSEgIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkTmV3QWdlbnRNb2RhbDogZnVuY3Rpb24gYWRkTmV3QWdlbnRNb2RhbCgpIHsKICAgICAgdGhpcy5yZXNldEFnZW50RGF0YSgpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkZm9ybSIpLnJlc2V0KCk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZ2VudE1vZGFsTGFiZWwnKS5pbm5lckhUTUwgPSAiQWRkIEFnZW50IjsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC1idG4nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXQtYnRuJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIH0sCiAgICBjcmVhdGVBZ2VudDogZnVuY3Rpb24gY3JlYXRlQWdlbnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIGRhdGEsIGxpc3QsIGk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMgPSBbXTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5hZ2VudERhdGEuZW1haWwpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdFbWFpbCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIV90aGlzMi52YWxpZEVtYWlsKF90aGlzMi5hZ2VudERhdGEuZW1haWwpKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnVmFsaWQgZW1haWwgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuYWdlbnREYXRhLmZpcnN0TmFtZSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0ZpcnN0IE5hbWUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuYWdlbnREYXRhLmxhc3ROYW1lKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnTGFzdCBOYW1lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmFnZW50RGF0YS5sYW5ndWFnZSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0xhbmd1YWdlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmFnZW50RGF0YS5zdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdTdGF0dXMgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuYWdlbnREYXRhLnBob25lKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnUGhvbmUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi52YWxpZFBob25lKF90aGlzMi5hZ2VudERhdGEucGhvbmUpID09PSBmYWxzZSAmJiBfdGhpczIuYWdlbnREYXRhLnBob25lICE9PSAnJykgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ1BsZWFzZSwgd3JpdGUgYSB2YWxpZCBwaG9uZSBudW1iZXIhJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuYWdlbnREYXRhLmRlcGFydG1lbnQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdEZXBhcnRtZW50IGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmFnZW50RGF0YS5iaXJ0aERhdGUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdCaXJ0aCBkYXRlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmFnZW50RGF0YS5hZGRyZXNzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnQWRkcmVzcyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5hZ2VudERhdGEuYWdlbnROdW1iZXIgJiYgX3RoaXMyLmFnZW50RGF0YS5zdGF0dXMgPT09IDUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdBZ2VudCBOdW1iZXIgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuYWdlbnREYXRhLmluc3VyYW5jZUxpY2Vuc2UgJiYgX3RoaXMyLmFnZW50RGF0YS5zdGF0dXMgPT09IDUgfHwgIV90aGlzMi5hZ2VudERhdGEuaW5zdXJhbmNlTGljZW5zZSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ2lzIEluc3VyYW5jZSBMaWNlbnNlZD8gaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuYWdlbnREYXRhLmxpY2Vuc2VOdW1iZXIgJiYgX3RoaXMyLmFnZW50RGF0YS5zdGF0dXMgPT09IDUgfHwgIV90aGlzMi5hZ2VudERhdGEubGljZW5zZU51bWJlciAmJiBfdGhpczIuYWdlbnREYXRhLmluc3VyYW5jZUxpY2Vuc2UgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdMaWNlbnNlIG51bWJlciBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmVycm9ycy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgICAgICAgICAgICBlbWFpbDogX3RoaXMyLmFnZW50RGF0YS5lbWFpbCwKICAgICAgICAgICAgICAgICAgZmlyc3ROYW1lOiBfdGhpczIuYWdlbnREYXRhLmZpcnN0TmFtZSwKICAgICAgICAgICAgICAgICAgbGFzdE5hbWU6IF90aGlzMi5hZ2VudERhdGEubGFzdE5hbWUsCiAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBfdGhpczIuYWdlbnREYXRhLmxhbmd1YWdlLAogICAgICAgICAgICAgICAgICBzdGF0dXM6IF90aGlzMi5hZ2VudERhdGEuc3RhdHVzLAogICAgICAgICAgICAgICAgICBzb3VyY2U6IF90aGlzMi5hZ2VudERhdGEuc291cmNlLAogICAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogX3RoaXMyLmFnZW50RGF0YS5waG9uZSwKICAgICAgICAgICAgICAgICAgZGVwYXJ0bWVudElEOiBfdGhpczIuYWdlbnREYXRhLmRlcGFydG1lbnQsCiAgICAgICAgICAgICAgICAgIHN0YXRlOiBfdGhpczIuYWdlbnREYXRhLnN0YXRlLAogICAgICAgICAgICAgICAgICBjaXR5OiBfdGhpczIuYWdlbnREYXRhLmNpdHksCiAgICAgICAgICAgICAgICAgIGJpcnRoRGF0ZTogX3RoaXMyLmZvcm1hdERhdGUoX3RoaXMyLmFnZW50RGF0YS5iaXJ0aERhdGUsICdERCBNTU0sIFlZWVknKSwKICAgICAgICAgICAgICAgICAgYWRkcmVzczogX3RoaXMyLmFnZW50RGF0YS5hZGRyZXNzLAogICAgICAgICAgICAgICAgICBjb3VudHJ5OiBfdGhpczIuYWdlbnREYXRhLmNvdW50cnksCiAgICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6IF90aGlzMi5hZ2VudERhdGEuemlwQ29kZSwKICAgICAgICAgICAgICAgICAgaW50ZXJ2aWV3RGF0ZTogX3RoaXMyLmFnZW50RGF0YS5pbnRlcnZpZXcsCiAgICAgICAgICAgICAgICAgIGFnZW50TnVtYmVyOiBfdGhpczIuYWdlbnREYXRhLmFnZW50TnVtYmVyLAogICAgICAgICAgICAgICAgICBjcmVhdGVkQnk6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICBpc0xpY2Vuc2VkOiBfdGhpczIuYWdlbnREYXRhLmluc3VyYW5jZUxpY2Vuc2UsCiAgICAgICAgICAgICAgICAgIGxpY2Vuc2VOdW1iZXI6IF90aGlzMi5hZ2VudERhdGEubGljZW5zZU51bWJlciwKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9jcmVhdGVBZ2VudCcsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZGZvcm0iKS5yZXNldCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlLmRhdGFbJ0lEJ10gIT09IG51bGwpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlbW9kYWwnKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0FnZW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5IScKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKS5jYXRjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNShlcnJvcikgewogICAgICAgICAgICAgICAgICAgIHZhciBsaXN0LCBwcm9wZXJ0eTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSArICc8L2I+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgX3RoaXMyLmVycm9ycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIF90aGlzMi5lcnJvcnNbaV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyNDsKICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjb21wbGV0ZSB0aGUgZm9ybSEgIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0RGVwYXJ0bWVudHM6IGZ1bmN0aW9uIGdldERlcGFydG1lbnRzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9nZXREZXBhcnRtZW50cycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldFVzZXJJbmZvOiBmdW5jdGlvbiBnZXRVc2VySW5mbyhpZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHZhciBkYXRhLCBhZ2VudEluZm87CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWJ0bicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC1idG4nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FnZW50TW9kYWxMYWJlbCcpLmlubmVySFRNTCA9ICJFZGl0IEFnZW50IjsKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIElEOiBpZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2dldFVzZXInLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBhZ2VudEluZm8gPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICAgICAgX3RoaXM0LnNldEFnZW50RGF0YShhZ2VudEluZm8pOwoKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkJykudmFsdWUgPSBhZ2VudEluZm8uSUQ7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RW1haWwnKS52YWx1ZSA9IGFnZW50SW5mby5lbWFpbDsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRGaXJzdE5hbWUnKS52YWx1ZSA9IGFnZW50SW5mby5maXJzdE5hbWU7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFzdE5hbWUnKS52YWx1ZSA9IGFnZW50SW5mby5sYXN0TmFtZTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYW5ndWFnZScpLnZhbHVlID0gYWdlbnRJbmZvLmxhbmd1YWdlOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFN0YXR1cycpLnZhbHVlID0gYWdlbnRJbmZvLnN0YXR1czsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQaG9uZU51bWJlcicpLnZhbHVlID0gYWdlbnRJbmZvLnBob25lTnVtYmVyOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdERlcGFydG1lbnQnKS52YWx1ZSA9IGFnZW50SW5mby5kZXBhcnRtZW50SUQ7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QmlydGhEYXRlJykudmFsdWUgPSBhZ2VudEluZm8uZGF0ZU9mQmlydGg7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QWRkcmVzcycpLnZhbHVlID0gYWdlbnRJbmZvLmFkZHJlc3M7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdGUnKS52YWx1ZSA9IGFnZW50SW5mby5zdGF0ZTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRDb3VudHJ5JykudmFsdWUgPSBhZ2VudEluZm8uY291bnRyeTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQb3N0YWxDb2RlJykudmFsdWUgPSBhZ2VudEluZm8ucG9zdGFsQ29kZTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRBZ2VudE51bWJlcicpLnZhbHVlID0gYWdlbnRJbmZvLmFnZW50TnVtYmVyOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdENyZWF0ZWRCeScpLnZhbHVlID0gYWdlbnRJbmZvLmNyZWF0ZWRCeTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMaWNlbnNlZCcpLnZhbHVlID0gYWdlbnRJbmZvLmlzTGljZW5zZWQ7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0SW50ZXJ2aWV3JykudmFsdWUgPSBfdGhpczQuZm9ybWF0RGF0ZShhZ2VudEluZm8uaW50ZXJ2aWV3RGF0ZSwgJ01NTU0gREQsIFlZWVkgSDptbSBBJyk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIlNvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB2YWxpZEVtYWlsOiBmdW5jdGlvbiB2YWxpZEVtYWlsKGVtYWlsKSB7CiAgICAgIHZhciByZSA9IC9eKChbXjw+KClbXF1cXC4sOzpcc0AiXSsoXC5bXjw+KClbXF1cXC4sOzpcc0AiXSspKil8KCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVxdKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsfSkpJC87CiAgICAgIHJldHVybiByZS50ZXN0KGVtYWlsLnRyaW0oKSk7CiAgICB9LAogICAgdmFsaWRQaG9uZTogZnVuY3Rpb24gdmFsaWRQaG9uZShwaG9uZSkgewogICAgICByZXR1cm4gL14oXCt7MCx9KShcZHswLH0pKFsoXXsxfVxkezEsM31bKV17MCx9KXswLH0oXHM/XGQrfFwrXGR7MiwzfVxzezF9XGQrfFxkKyl7MX1bXHN8LV0/XGQrKFtcc3wtXT9cZCspezEsMn0oXHMpezAsfSQvZ20udGVzdChwaG9uZSk7CiAgICB9LAogICAgZm9ybWF0RGF0ZTogZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlLCBmb3JtYXQpIHsKICAgICAgZGF0ZSA9IG1vbWVudChkYXRlKS5mb3JtYXQoZm9ybWF0KTsKICAgICAgcmV0dXJuIGRhdGU7CiAgICB9LAogICAgZm9ybWF0UGhvbmU6IGZ1bmN0aW9uIGZvcm1hdFBob25lKHBob25lKSB7CiAgICAgIHZhciBmbGFnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwOwoKICAgICAgLy8gaWYgZmxhZyA9PSAxIHB1dCB2YWx1ZSBpbiBwaG9uZSBFZGl0CiAgICAgIGlmIChwaG9uZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdmFyIHggPSBwaG9uZS5yZXBsYWNlKC9cRC9nLCAnJykubWF0Y2goLyhcZHswLDN9KShcZHswLDN9KShcZHswLDR9KS8pOwogICAgICAgIHBob25lID0gIXhbMl0gPyB4WzFdIDogJygnICsgeFsxXSArICcpICcgKyB4WzJdICsgKHhbM10gPyAnLScgKyB4WzNdIDogJycpOwogICAgICB9IGVsc2UgewogICAgICAgIHBob25lID0gJyc7CiAgICAgIH0KCiAgICAgIGlmIChmbGFnICE9PSAxKSB7CiAgICAgICAgcmV0dXJuIHBob25lOwogICAgICB9IGVsc2UgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UGhvbmVOdW1iZXInKS52YWx1ZSA9IHBob25lOwogICAgICB9CiAgICB9LAogICAgc2V0QWdlbnREYXRhOiBmdW5jdGlvbiBzZXRBZ2VudERhdGEoZGF0YSkgewogICAgICB0aGlzLmFnZW50RGF0YS5lbWFpbCA9IGRhdGEuZW1haWw7CiAgICAgIHRoaXMuYWdlbnREYXRhLmZpcnN0TmFtZSA9IGRhdGEuZmlyc3ROYW1lOwogICAgICB0aGlzLmFnZW50RGF0YS5sYXN0TmFtZSA9IGRhdGEubGFzdE5hbWU7CiAgICAgIHRoaXMuYWdlbnREYXRhLmxhbmd1YWdlID0gZGF0YS5sYW5ndWFnZTsKICAgICAgdGhpcy5hZ2VudERhdGEuc3RhdHVzID0gZGF0YS5zdGF0dXM7CiAgICAgIHRoaXMuYWdlbnREYXRhLnNvdXJjZSA9IGRhdGEuc291cmNlOwogICAgICB0aGlzLmFnZW50RGF0YS5waG9uZSA9IGRhdGEucGhvbmVOdW1iZXI7CiAgICAgIHRoaXMuYWdlbnREYXRhLmRlcGFydG1lbnQgPSBkYXRhLmRlcGFydG1lbnRJRDsKICAgICAgdGhpcy5hZ2VudERhdGEuYmlydGhEYXRlID0gdGhpcy5mb3JtYXREYXRlKGRhdGEuZGF0ZU9mQmlydGgsICdERCBNTU0sIFlZWVknKTsKICAgICAgdGhpcy5hZ2VudERhdGEuaW50ZXJ2aWV3ID0gdGhpcy5mb3JtYXREYXRlKGRhdGEuaW50ZXJ2aWV3RGF0ZSwgJ01NTU0gREQsIFlZWVkgSDpNTSBBJyk7CiAgICAgIHRoaXMuYWdlbnREYXRhLmFkZHJlc3MgPSBkYXRhLmFkZHJlc3M7CiAgICAgIHRoaXMuYWdlbnREYXRhLnN0YXRlID0gZGF0YS5zdGF0ZTsKICAgICAgdGhpcy5hZ2VudERhdGEuY2l0eSA9IGRhdGEuY2l0eTsKICAgICAgdGhpcy5hZ2VudERhdGEuY291bnRyeSA9IGRhdGEuY291bnRyeTsKICAgICAgdGhpcy5hZ2VudERhdGEuemlwQ29kZSA9IGRhdGEucG9zdGFsQ29kZTsKICAgICAgdGhpcy5hZ2VudERhdGEuYWdlbnROdW1iZXIgPSBkYXRhLmFnZW50TnVtYmVyOwogICAgICB0aGlzLmFnZW50RGF0YS5jcmVhdGVkQnkgPSBkYXRhLmNyZWF0ZWRCeTsKICAgICAgdGhpcy5hZ2VudERhdGEuaW5zdXJhbmNlTGljZW5zZSA9IGRhdGEuaXNMaWNlbnNlZDsKICAgICAgdGhpcy5hZ2VudERhdGEubGljZW5zZU51bWJlciA9IGRhdGEubGljZW5zZU51bWJlcjsKICAgIH0sCiAgICByZXNldEFnZW50RGF0YTogZnVuY3Rpb24gcmVzZXRBZ2VudERhdGEoKSB7CiAgICAgIHRoaXMuYWdlbnREYXRhID0gewogICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgZmlyc3ROYW1lOiAnJywKICAgICAgICBsYXN0TmFtZTogJycsCiAgICAgICAgbGFuZ3VhZ2U6ICcnLAogICAgICAgIHN0YXR1czogJycsCiAgICAgICAgcGhvbmU6ICcnLAogICAgICAgIGRlcGFydG1lbnQ6ICcnLAogICAgICAgIHN0YXRlOiAnJywKICAgICAgICBiaXJ0aERhdGU6ICcnLAogICAgICAgIGFkZHJlc3M6ICcnLAogICAgICAgIGNvdW50cnk6ICcnLAogICAgICAgIHppcENvZGU6ICcnLAogICAgICAgIGludGVydmlldzogJycsCiAgICAgICAgYWdlbnROdW1iZXI6ICcnLAogICAgICAgIGNyZWF0ZWRCeTogJycsCiAgICAgICAgaW5zdXJhbmNlTGljZW5zZTogJycsCiAgICAgICAgbGljZW5zZU51bWJlcjogJycKICAgICAgfTsKICAgIH0sCiAgICB1cGRhdGVBZ2VudExpc3Q6IGZ1bmN0aW9uIHVwZGF0ZUFnZW50TGlzdCgpIHsKICAgICAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHMsCiAgICAgICAgICBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgdmFyIHN0YXR1cywgdmFsaWRhdGUsIGVycm9ycywgZmlsdGVyTGFuZ3VhZ2UsIGZpbHRlcktleXdvcmQsIGZpbHRlckxpY2Vuc2VkLCBmaWx0ZXJOb3RlcywgZmlsdGVyRnJvbURhdGUsIGZpbHRlclRvRGF0ZSwgaXNBY3RpdmUsIHN0YXJ0LCBlbmQsIGRheXMsIGRhdGEsIGxpc3QsIGk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXR1cyA9IF9hcmd1bWVudHMubGVuZ3RoID4gMCAmJiBfYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzWzBdIDogMDsKICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGVycm9ycyA9IFtdOwogICAgICAgICAgICAgICAgZmlsdGVyTGFuZ3VhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyTGFuZ3VhZ2UiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlcktleXdvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyS2V5d29yZCIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyTGljZW5zZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyTGljZW5zZWQiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlck5vdGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlck5vdGVzIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJGcm9tRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJGcm9tRGF0ZSIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyVG9EYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlclRvRGF0ZSIpLnZhbHVlOwogICAgICAgICAgICAgICAgaXNBY3RpdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaXNBY3RpdmUnKS5jaGVja2VkOwogICAgICAgICAgICAgICAgX3RoaXM1LmRhdGEuc2VhcmNoVmFsdWVzLnN0YXR1cyA9IHN0YXR1czsKCiAgICAgICAgICAgICAgICBpZiAoaXNBY3RpdmUgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmRhdGEuc2VhcmNoVmFsdWVzLmlzQWN0aXZlID0gMTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5kYXRhLnNlYXJjaFZhbHVlcy5pc0FjdGl2ZSA9IDI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlckxhbmd1YWdlICE9PSAnJyAmJiAoZmlsdGVyTGFuZ3VhZ2UgPT09ICcxJyB8fCBmaWx0ZXJMYW5ndWFnZSA9PT0gJzInKSkgewogICAgICAgICAgICAgICAgICBfdGhpczUuZGF0YS5zZWFyY2hWYWx1ZXMubGFuZ3VhZ2UgPSBmaWx0ZXJMYW5ndWFnZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyS2V5d29yZCAhPT0gJycgJiYgZmlsdGVyS2V5d29yZC5sZW5ndGggPj0gMykgewogICAgICAgICAgICAgICAgICBfdGhpczUuZGF0YS5zZWFyY2hWYWx1ZXMua2V5d29yZCA9IGZpbHRlcktleXdvcmQ7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlcktleXdvcmQgIT09ICcnICYmIGZpbHRlcktleXdvcmQubGVuZ3RoIDwgMykgewogICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCgnS2V5d29yZCBzZWFyY2ggc2hvdWxkIGhhdmUgMyBvciBtb3JlIGNoYXJhY3RlcnMhJyk7CiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlckxpY2Vuc2VkICE9PSAnJykgewogICAgICAgICAgICAgICAgICBfdGhpczUuZGF0YS5zZWFyY2hWYWx1ZXMubGljZW5zZWQgPSBmaWx0ZXJMaWNlbnNlZDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyTm90ZXMgIT09ICcnICYmIGZpbHRlck5vdGVzLmxlbmd0aCA+PSAzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5kYXRhLnNlYXJjaFZhbHVlcy5ub3RlU2VhcmNoID0gZmlsdGVyTm90ZXM7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlck5vdGVzICE9PSAnJyAmJiBmaWx0ZXJOb3Rlcy5sZW5ndGggPCAzKSB7CiAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCdOb3RlcyBzZWFyY2ggc2hvdWxkIGhhdmUgMyBvciBtb3JlIGNoYXJhY3RlcnMhJyk7CiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc3RhcnQgPSBtb21lbnQoX3RoaXM1LmZvcm1hdERhdGUoZmlsdGVyRnJvbURhdGUsICdZWVlZLU1NLUREJykpOwogICAgICAgICAgICAgICAgZW5kID0gbW9tZW50KF90aGlzNS5mb3JtYXREYXRlKGZpbHRlclRvRGF0ZSwgJ1lZWVktTU0tREQnKSk7CiAgICAgICAgICAgICAgICBkYXlzID0gZW5kLmRpZmYoc3RhcnQsICJkYXlzIik7CgogICAgICAgICAgICAgICAgaWYgKGRheXMgPD0gMzY1KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5kYXRhLnNlYXJjaFZhbHVlcy5mcm9tRGF0ZSA9IGZpbHRlckZyb21EYXRlOwogICAgICAgICAgICAgICAgICBfdGhpczUuZGF0YS5zZWFyY2hWYWx1ZXMudG9EYXRlID0gZmlsdGVyVG9EYXRlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goIkZyb20gRGF0ZSBhbmQgVG8gRGF0ZSAocmFuZ2UpIGNvdWxkbid0IGJlIGxhcmdlciB0aGFuIGEgeWVhciAoMzY1IGRheXMpISIpOwogICAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIGlzUHJvc3BlY3Q6IDAsCiAgICAgICAgICAgICAgICAgIHNlYXJjaFZhbHVlczogX3RoaXM1LmRhdGEuc2VhcmNoVmFsdWVzLAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAyNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYXhpb3MucG9zdCgnL2FwaS9saXN0QWdlbnRzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1Lmxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgICBfdGhpczUucGFnZSA9IDE7CgogICAgICAgICAgICAgICAgICBfdGhpczUuc2V0UGFnZXMoKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICB9IC8vIGZvciAoY29uc3QgcHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZXJyb3JzLnB1c2goYCR7cHJvcGVydHl9OiAke2Vycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldfWApCiAgICAgICAgICAgICAgICAgICAgLy8gfQoKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZXJyb3JzLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICAgICAgICAgIGxpc3QgKz0gZXJyb3JzW2ldICsgJyBcbic7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAyOTsKICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoIiIgKyBsaXN0LCAnJywgJ2luZm8nKTsKCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNldFBhZ2VzOiBmdW5jdGlvbiBzZXRQYWdlcygpIHsKICAgICAgdmFyIG51bWJlck9mUGFnZXMgPSBNYXRoLmNlaWwodGhpcy5saXN0Lmxlbmd0aCAvIHRoaXMucGVyUGFnZSk7CiAgICAgIHRoaXMucGFnZXMgPSBbXTsKCiAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPD0gbnVtYmVyT2ZQYWdlczsgaW5kZXgrKykgewogICAgICAgIHRoaXMucGFnZXMucHVzaChpbmRleCk7CiAgICAgIH0KICAgIH0sCiAgICBwYWdpbmF0ZTogZnVuY3Rpb24gcGFnaW5hdGUoY29tcGFuaWVzKSB7CiAgICAgIHZhciBwYWdlID0gdGhpcy5wYWdlOwogICAgICB2YXIgcGVyUGFnZSA9IHRoaXMucGVyUGFnZTsKICAgICAgdmFyIGZyb20gPSBwYWdlICogcGVyUGFnZSAtIHBlclBhZ2U7CiAgICAgIHZhciB0byA9IHBhZ2UgKiBwZXJQYWdlOwogICAgICByZXR1cm4gY29tcGFuaWVzLnNsaWNlKGZyb20sIHRvKTsKICAgIH0sCiAgICBmaWx0ZXJTdGF0dXM6IGZ1bmN0aW9uIGZpbHRlclN0YXR1cyhzdGF0dXMpIHsKICAgICAgdmFyIHN0YXR1c0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN0YXR1cyk7CiAgICAgIHN0YXR1c0J1dHRvbi5jbGljaygpOwogICAgfSwKICAgIGRlbGV0ZVVzZXI6IGZ1bmN0aW9uIGRlbGV0ZVVzZXIoSUQpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB2YXIgc3dhbFdpdGhCb290c3RyYXBCdXR0b25zID0gU3dhbC5taXhpbih7CiAgICAgICAgY3VzdG9tQ2xhc3M6IHsKICAgICAgICAgIGNvbmZpcm1CdXR0b246ICJidG4gYnRuLWRhbmdlciBtbC0yIiwKICAgICAgICAgIGNhbmNlbEJ1dHRvbjogImJ0biBidG4tc3VjY2VzcyIKICAgICAgICB9LAogICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZQogICAgICB9KTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3NlbGVjdGVkVXNlcicsIElEKTsKICAgICAgc3dhbFdpdGhCb290c3RyYXBCdXR0b25zLmZpcmUoewogICAgICAgIHRpdGxlOiAiQXJlIHlvdSBzdXJlPyIsCiAgICAgICAgdGV4dDogIllvdSB3b24ndCBiZSBhYmxlIHRvIHJldmVydCB0aGlzISIsCiAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBkZWxldGUgaXQhIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAiTm8sIGNhbmNlbCEiLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgIHVzZXJOYW1lOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmlyc3ROYW1lJykgKyAnICcgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGFzdG5hbWUnKSwKICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgYWdlbnRJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpCiAgICAgICAgICB9OwogICAgICAgICAgYXhpb3MucHV0KCcvYXBpL2RlbGV0ZVVzZXInLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgX3JlZjUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMChyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi51cGRhdGVBZ2VudExpc3QoKTsKCiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzd2FsV2l0aEJvb3RzdHJhcEJ1dHRvbnMuZmlyZSgiRGVsZXRlZCEiLCAiQWdlbnQgaGFzIGJlZW4gZGVsZXRlZC4iLCAic3VjY2VzcyIpOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g1KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9yZWY1LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9KCkpLmNhdGNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgX3JlZjYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMShlcnJvcikgewogICAgICAgICAgICAgIHZhciBsaXN0LCBwcm9wZXJ0eTsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjaGVjayB0aGUgZm9sbG93aW5nOiAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g2KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF9yZWY2LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9KCkpOwogICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgLyogUmVhZCBtb3JlIGFib3V0IGhhbmRsaW5nIGRpc21pc3NhbHMgYmVsb3cgKi8KICAgICAgICByZXN1bHQuZGlzbWlzcyA9PT0gU3dhbC5EaXNtaXNzUmVhc29uLmNhbmNlbCkgewogICAgICAgICAgc3dhbFdpdGhCb290c3RyYXBCdXR0b25zLmZpcmUoIkNhbmNlbGxlZCIsICJBZ2VudCBpcyBpbiBhIHNhZmUgcGxhY2UgOikiLCAiZXJyb3IiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUZvY3VzOiBmdW5jdGlvbiBoYW5kbGVGb2N1cyhlKSB7CiAgICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwgIm5vcGUiKTsKICAgIH0sCiAgICB2aWV3VXNlckdyb3VwOiBmdW5jdGlvbiB2aWV3VXNlckdyb3VwKHJlcXVlc3QpIHsKICAgICAgdmFyIGN1cnJlbnRSb2xlID0gand0X2RlY29kZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JykpOwogICAgICByZXR1cm4gY3VycmVudFJvbGUudXNlckdyb3VwLmluY2x1ZGVzKHJlcXVlc3QpOwogICAgfSwKICAgIHByaW50RW1pdDogZnVuY3Rpb24gcHJpbnRFbWl0KG5vdGlmeSkgewogICAgICB0aGlzLmNoYXRNZXNzYWdlc0RhdGEgPSBub3RpZnk7CiAgICB9LAogICAgZm9ybVN1Ym1pdDogZnVuY3Rpb24gZm9ybVN1Ym1pdCgpIHsKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOyAvLyBzdG9wIGhlcmUgaWYgZm9ybSBpcyBpbnZhbGlkCgogICAgICB0aGlzLnYkLiR0b3VjaCgpOwoKICAgICAgaWYgKHRoaXMudiQuJGludmFsaWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIG1lc3NhZ2UgPSB0aGlzLmZvcm0ubWVzc2FnZTsKICAgICAgICB2YXIgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgIHRoaXMuY2hhdE1lc3NhZ2VzRGF0YS5wdXNoKHsKICAgICAgICAgIGFsaWduOiAicmlnaHQiLAogICAgICAgICAgbmFtZTogIkhlbnJ5IFdlbGxzIiwKICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgICB0aW1lOiBjdXJyZW50RGF0ZS5nZXRIb3VycygpICsgIjoiICsgY3VycmVudERhdGUuZ2V0TWludXRlcygpCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2U7CiAgICAgIHRoaXMuZm9ybSA9IHt9OwogICAgfSwKICAgIGNoYXRVc2VybmFtZTogZnVuY3Rpb24gY2hhdFVzZXJuYW1lKG5hbWUsIGltYWdlKSB7CiAgICAgIHRoaXMudXNlcm5hbWUgPSBuYW1lOwogICAgICB0aGlzLnByb2ZpbGUgPSBpbWFnZTsKICAgICAgdGhpcy51c2VybWVzc2FnZSA9ICJIZWxsbyI7CiAgICAgIHRoaXMuY2hhdE1lc3NhZ2VzRGF0YSA9IFtdOwogICAgICB2YXIgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpOwogICAgICB0aGlzLmNoYXRNZXNzYWdlc0RhdGEucHVzaCh7CiAgICAgICAgbmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICBtZXNzYWdlOiB0aGlzLnVzZXJtZXNzYWdlLAogICAgICAgIHRpbWU6IGN1cnJlbnREYXRlLmdldEhvdXJzKCkgKyAiOiIgKyBjdXJyZW50RGF0ZS5nZXRNaW51dGVzKCkKICAgICAgfSk7CiAgICB9LAogICAgZ2V0Tm90ZXM6IGZ1bmN0aW9uIGdldE5vdGVzKCkgewogICAgICB2YXIgX2FyZ3VtZW50czIgPSBhcmd1bWVudHMsCiAgICAgICAgICBfdGhpczcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkgewogICAgICAgIHZhciBpZCwgZGF0YSwgdXJsOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWQgPSBfYXJndW1lbnRzMi5sZW5ndGggPiAwICYmIF9hcmd1bWVudHMyWzBdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzMlswXSA6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWxlY3RlZFVzZXInKTsKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgICAgICAgIGFnZW50SUQ6IGlkLAogICAgICAgICAgICAgICAgICBjbGllbnRJRDogaWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc2VsZWN0ZWRVc2VyJywgaWQpOwogICAgICAgICAgICAgICAgdXJsID0gJyc7CiAgICAgICAgICAgICAgICB1cmwgPSAnL2FwaS9nZXRVc2VyTm90ZXMnOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KHVybCwgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM3Lm5vdGVzRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJOb3RlcyBjb3VsZCBub3QgYmUgbG9hZGVkLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgIHZhciBmaWVsZCwgdXJsLCBxdWVyeVN0cmluZywgdXJsUGFyYW1zLCBzdGF0dXMsIGRhdGEsIGNoZWNrQWxsOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBmaWVsZCA9ICduJzsKICAgICAgICAgICAgICB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsKICAgICAgICAgICAgICBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7CiAgICAgICAgICAgICAgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhxdWVyeVN0cmluZyk7CiAgICAgICAgICAgICAgc3RhdHVzID0gdXJsUGFyYW1zLmdldChmaWVsZCk7CiAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICBzZWFyY2hWYWx1ZXM6IF90aGlzOC5kYXRhLnNlYXJjaFZhbHVlcwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9saXN0RGVwYXJ0bWVudHMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXM4LmRlcGFydG1lbnRMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM4LiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiRGVwYXJ0bWVudHMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxMDsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9saXN0U3RhdHVzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzOC5zdGF0dXNMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM4LiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiU3RhdHVzIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDEyOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2xpc3RTb3VyY2UnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXM4LnNvdXJjZXNMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM4LiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiU3RhdHVzIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGlmICghKHVybC5pbmRleE9mKCc/JyArIGZpZWxkICsgJz0nKSAhPT0gLTEpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3RhdHVzKS5jbGljaygpOwogICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDE4OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxODsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9saXN0QWdlbnRzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzOC5saXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzOC5wYWdlID0gMTsKCiAgICAgICAgICAgICAgICBfdGhpczguc2V0UGFnZXMoKTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM4LiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgIH0gLy8gZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZXJyb3JzLnB1c2goYCR7cHJvcGVydHl9OiAke2Vycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldfWApCiAgICAgICAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM4LmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjaGVja0FsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGVja0FsbCIpOwoKICAgICAgICAgICAgICBpZiAoY2hlY2tBbGwpIHsKICAgICAgICAgICAgICAgIGNoZWNrQWxsLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBjaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0tY2hlY2stYWxsIGlucHV0W3R5cGU9ImNoZWNrYm94Il0nKTsKCiAgICAgICAgICAgICAgICAgIGlmIChjaGVja0FsbC5jaGVja2VkID09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICBjaGVja2JveGVzLmZvckVhY2goZnVuY3Rpb24gKGNoZWNrYm94KSB7CiAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNsb3Nlc3QoInRyIikuY2xhc3NMaXN0LmFkZCgidGFibGUtYWN0aXZlIik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hlcy5mb3JFYWNoKGZ1bmN0aW9uIChjaGVja2JveCkgewogICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guY2xvc2VzdCgidHIiKS5jbGFzc0xpc3QucmVtb3ZlKCJ0YWJsZS1hY3RpdmUiKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxMyk7CiAgICB9KSkoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBkaXNwbGF5ZWRQb3N0czogZnVuY3Rpb24gZGlzcGxheWVkUG9zdHMoKSB7CiAgICAgIHJldHVybiB0aGlzLnBhZ2luYXRlKHRoaXMubGlzdCk7CiAgICB9LAogICAgcmVzdWx0UXVlcnk6IGZ1bmN0aW9uIHJlc3VsdFF1ZXJ5KCkgewogICAgICBpZiAodGhpcy5kYXRhLnNlYXJjaFZhbHVlcy5rZXl3b3JkLmxlbmd0aCA+PSAzKSB7CiAgICAgICAgdmFyIHNlYXJjaCA9IHRoaXMuZGF0YS5zZWFyY2hWYWx1ZXMua2V5d29yZC50b0xvd2VyQ2FzZSgpOwogICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXllZFBvc3RzLmZpbHRlcihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgcmV0dXJuIGRhdGEuYWRkcmVzcy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5hZ2VudE51bWJlci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5jaXR5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLmVtYWlsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLnBob25lTnVtYmVyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLmZpcnN0TmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5sYXN0TmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5mdWxsbmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5zdGF0dXNOYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5ZWRQb3N0czsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":"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","names":["flatPickr","moment","Multiselect","Layout","PageHeader","appConfig","Swal","Lottie","axios","animationData","jwt_decode","notes","page","title","meta","name","content","description","components","lottie","data","items","text","href","active","timeConfig","enableTime","dateFormat","dateTimeConfig","list","agentData","username","email","firstName","lastName","language","status","phone","department","state","birthDate","address","country","zipCode","interview","agentNumber","createdBy","insuranceLicense","licenseNumber","departmentList","statusList","sourcesList","perPage","pages","searchQuery","humanfriendlyConfig","token","localStorage","getItem","searchValues","limitTo","isActive","noteSearch","keyword","licensed","sortBy","orderBy","toDate","Date","toLocaleDateString","year","month","day","fromDate","setFullYear","getFullYear","defaultOptions","notesData","watch","companies","setPages","created","filters","trimWords","value","split","splice","join","methods","editdata","document","getElementById","id","company","score","location","date","updateAgent","errors","push","validEmail","validPhone","length","phoneNumber","departmentID","source","city","formatDate","postalCode","interviewDate","isLicensed","userID","agentID","put","then","response","click","fire","icon","catch","error","detail","$router","property","confirmButtonClass","buttonsStyling","showCloseButton","message","i","addNewAgentModal","resetAgentData","reset","innerHTML","style","display","createAgent","post","getDepartments","console","log","getUserInfo","ID","agentInfo","setAgentData","dateOfBirth","re","test","trim","format","formatPhone","flag","undefined","x","replace","match","updateAgentList","validate","filterLanguage","filterKeyword","filterLicensed","filterNotes","filterFromDate","filterToDate","querySelector","checked","start","end","days","diff","isProspect","userEmail","numberOfPages","Math","ceil","index","paginate","from","to","slice","filterStatus","statusButton","deleteUser","swalWithBootstrapButtons","mixin","customClass","confirmButton","cancelButton","setItem","confirmButtonText","cancelButtonText","showCancelButton","result","userName","dismiss","DismissReason","cancel","handleFocus","e","target","setAttribute","viewUserGroup","request","currentRole","userGroup","includes","printEmit","notify","chatMessagesData","formSubmit","submitted","v$","$touch","$invalid","form","currentDate","align","time","getHours","getMinutes","chatUsername","image","profile","usermessage","getNotes","clientID","url","mounted","field","window","queryString","search","urlParams","URLSearchParams","get","indexOf","checkAll","onclick","checkboxes","querySelectorAll","forEach","checkbox","closest","classList","add","remove","computed","displayedPosts","resultQuery","toLowerCase","filter","fullname","statusName"],"sourceRoot":"","sources":["C:\\wamp64\\www\\crm\\frontend\\src\\views\\agents\\agentslist.vue"],"sourcesContent":["<script>\nimport flatPickr from \"vue-flatpickr-component\";\nimport \"flatpickr/dist/flatpickr.css\";\nimport moment from \"moment\";\nimport Multiselect from \"@vueform/multiselect\";\nimport \"@vueform/multiselect/themes/default.scss\";\nimport Layout from \"../../layouts/main.vue\";\nimport PageHeader from \"@/components/page-header\";\nimport appConfig from \"../../../app.config\";\nimport Swal from \"sweetalert2\";\nimport Lottie from \"@/components/widgets/lottie.vue\";\nimport axios from \"axios\";\nimport animationData from \"@/components/widgets/msoeawqm.json\";\nimport jwt_decode from \"jwt-decode\";\n\n// components\nimport notes from '../../components/users/notes';\n\n\nexport default {\n  page: {\n    title: \"Agents\",\n    meta: [{name: \"description\", content: appConfig.description}],\n  },\n  components: {\n    Layout,\n    PageHeader,\n    lottie: Lottie,\n    Multiselect,\n    flatPickr,\n    notes\n  },\n  data() {\n    return{\n      title: \"Agent List\",\n      items: [\n        {\n          text: \"Agents\",\n          href: \"/\",\n        },\n        {\n          text: \"Agent List\",\n          active: true,\n        },\n      ],\n      timeConfig: {\n        enableTime: false,\n        dateFormat: \"d M, Y\"\n      },\n      dateTimeConfig: {\n        enableTime: true,\n        dateFormat: \"F j, Y H:i K\"\n      },\n      list: [],\n      agentData: {\n        username: '',\n        email: '',\n        firstName: '',\n        lastName: '',\n        language: '',\n        status: '',\n        phone: '',\n        department: '',\n        state: '',\n        birthDate: '',\n        address: '',\n        country: '',\n        zipCode: '',\n        interview: '',\n        agentNumber: '',\n        createdBy: '',\n        insuranceLicense: '',\n        licenseNumber: ''\n      },\n      departmentList: {},\n      statusList: {},\n      sourcesList: {},\n      page: 1,\n      perPage: 100,\n      pages: [],\n      searchQuery: null,\n      humanfriendlyConfig: {\n        dateFormat: \"F j, Y\",\n      },\n      data: {\n        token: localStorage.getItem('jwt'),\n        searchValues: {\n          limitTo: this.perPage,\n          isActive: 1,\n          noteSearch: '',\n          keyword: '',\n          licensed: 1,\n          language: 3,\n          status: 0,\n          sortBy: 'name',\n          orderBy: 'ASC',\n          toDate: new Date().toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}) ,\n          fromDate: new Date(new Date().setFullYear(new Date().getFullYear() - 1)).toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}),\n        }\n      },\n      defaultOptions: { animationData: animationData },\n      notesData: [],\n    }\n  },\n  watch: {\n    companies() {\n      this.setPages();\n    },\n  },\n  created() {\n    this.setPages();\n  },\n  filters: {\n    trimWords(value) {\n      return value.split(\" \").splice(0, 20).join(\" \") + \"...\";\n    },\n  },\n  methods: {\n    editdata(data){\n\n      document.getElementById('id').value= data.id\n      document.getElementById('customername').value=data.name;\n      document.getElementById('companyname').value=data.company;\n      document.getElementById('leadsscore').value=data.score;\n      document.getElementById('phone').value=data.phone;\n      document.getElementById('location').value=data.location;\n      document.getElementById('date').value=data.date;\n    },\n    async updateAgent() {\n\n      this.errors = []\n\n      if (!document.getElementById('editEmail').value) {\n        this.errors.push('Email is required.');\n      } else if (!this.validEmail(document.getElementById('editEmail').value)) {\n        this.errors.push('Valid email is required.');\n      }\n\n      if (!document.getElementById('editFirstName').value) {\n        this.errors.push('First Name is required.');\n      }\n\n      if (!document.getElementById('editLastName').value) {\n        this.errors.push('Last Name is required.');\n      }\n\n      if (!document.getElementById('editLanguage').value) {\n        this.errors.push('Language is required.');\n      }\n\n      if (!document.getElementById('editStatus').value) {\n        this.errors.push('Status is required.');\n      }\n\n      if (!document.getElementById('editPhoneNumber').value) {\n        this.errors.push('Phone is required.');\n      }\n\n      if(this.validPhone(document.getElementById('editPhoneNumber').value) === false && document.getElementById('editPhoneNumber').value !== ''){\n        this.errors.push('Please, write a valid phone number!');\n      }\n\n      if (!document.getElementById('editDepartment').value) {\n        this.errors.push('Department is required.');\n      }\n\n      if (!document.getElementById('editBirthDate').value) {\n        this.errors.push('Birth date is required.');\n      }\n\n      if (!document.getElementById('editAddress').value) {\n        this.errors.push('Address is required.');\n      }\n\n      if (!document.getElementById('editAgentNumber').value && document.getElementById('editStatus').value === 5) {\n        this.errors.push('Agent Number is required.');\n      }\n\n      if ((!document.getElementById('editLicensed').value && document.getElementById('editStatus').value === 5) || !document.getElementById('editLicensed').value) {\n        this.errors.push('Insurance Licensed? is required.');\n      }\n\n      if ((!document.getElementById('editLicensed').value && document.getElementById('editStatus').value === 5) || (!this.agentData.licenseNumber && document.getElementById('editLicensed').value === 1)) {\n        this.errors.push('License number is required.');\n      }\n\n      if (!this.errors.length) {\n        const data = {\n          username: '',\n          email: document.getElementById('editEmail').value,\n          firstName: document.getElementById('editFirstName').value,\n          lastName: document.getElementById('editLastName').value,\n          language: document.getElementById('editLanguage').value,\n          status: document.getElementById('editStatus').value,\n          phoneNumber: document.getElementById('editPhoneNumber').value,\n          departmentID: document.getElementById('editDepartment').value,\n          state: document.getElementById('editState').value,\n          source: document.getElementById('editSource').value,\n          city: document.getElementById('editCity').value,\n          birthDate: this.formatDate(document.getElementById('editBirthDate').value, 'DD MMM, YYYY'),\n          address: document.getElementById('editAddress').value,\n          country: document.getElementById('editCountry').value,\n          postalCode: document.getElementById('editPostalCode').value,\n          interviewDate: document.getElementById('editInterview').value,\n          agentNumber: document.getElementById('editAgentNumber').value,\n          createdBy: localStorage.getItem('email'),\n          isLicensed: document.getElementById('editLicensed').value,\n          licenseNumber: this.agentData.licenseNumber,\n          token: localStorage.getItem('jwt'),\n          userID: localStorage.getItem('id'),\n          agentID: document.getElementById('id').value\n        }\n\n        await axios\n            .put('/api/updateAgent', data)\n            .then(async response => {\n              if (response) {\n                document.getElementById('closemodal').click();\n                await Swal.fire({\n                  icon: 'success',\n                  title: 'Success',\n                  text: 'Agent update successfully!'\n                });\n              }\n            })\n            .catch(async error => {\n              if (error.response) {\n\n                if(error.response.data.detail === 'Your session is expired!'){\n                  await this.$router.push('logout')\n                }\n\n                let list = '';\n                for (const property in error.response.data) {\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\n                }\n\n                await Swal.fire({\n                  title: \"Please check the following: \" + list,\n                  icon: 'warning',\n                  confirmButtonClass: \"btn btn-info\",\n                  buttonsStyling: false,\n                  showCloseButton: true,\n                });\n\n              } else if (error.message) {\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\n              }\n            })\n      } else {\n        let list = '';\n        for (let i = 0; i < this.errors.length; i++)\n          list += '\\n' + '<b>' + this.errors[i] + '</b>';\n\n        await Swal.fire({\n          title: \"Please complete the form! \" + list,\n          icon: 'warning',\n          confirmButtonClass: \"btn btn-info\",\n          buttonsStyling: false,\n          showCloseButton: true,\n        });\n      }\n    },\n    addNewAgentModal() {\n      this.resetAgentData()\n      document.getElementById(\"addform\").reset();\n      document.getElementById('agentModalLabel').innerHTML=\"Add Agent\";\n      document.getElementById('add-btn').style.display='block';\n      document.getElementById('edit-btn').style.display='none';\n    },\n    async createAgent() {\n      this.errors = []\n\n      if (!this.agentData.email) {\n        this.errors.push('Email is required.');\n      } else if (!this.validEmail(this.agentData.email)) {\n        this.errors.push('Valid email is required.');\n      }\n\n      if (!this.agentData.firstName) {\n        this.errors.push('First Name is required.');\n      }\n\n      if (!this.agentData.lastName) {\n        this.errors.push('Last Name is required.');\n      }\n\n      if (!this.agentData.language) {\n        this.errors.push('Language is required.');\n      }\n\n      if (!this.agentData.status) {\n        this.errors.push('Status is required.');\n      }\n\n      if (!this.agentData.phone) {\n        this.errors.push('Phone is required.');\n      }\n\n      if(this.validPhone(this.agentData.phone) === false && this.agentData.phone !== ''){\n        this.errors.push('Please, write a valid phone number!');\n      }\n\n      if (!this.agentData.department) {\n        this.errors.push('Department is required.');\n      }\n\n      if (!this.agentData.birthDate) {\n        this.errors.push('Birth date is required.');\n      }\n\n      if (!this.agentData.address) {\n        this.errors.push('Address is required.');\n      }\n\n      if (!this.agentData.agentNumber && this.agentData.status === 5) {\n        this.errors.push('Agent Number is required.');\n      }\n\n      if ((!this.agentData.insuranceLicense && this.agentData.status === 5) || !this.agentData.insuranceLicense) {\n        this.errors.push('is Insurance Licensed? is required.');\n      }\n\n      if ((!this.agentData.licenseNumber && this.agentData.status === 5) || (!this.agentData.licenseNumber && this.agentData.insuranceLicense === 1)) {\n        this.errors.push('License number is required.');\n      }\n\n      if(!this.errors.length) {\n        const data = {\n          username:  '',\n          email:  this.agentData.email,\n          firstName:  this.agentData.firstName,\n          lastName:  this.agentData.lastName,\n          language:  this.agentData.language,\n          status:  this.agentData.status,\n          source:  this.agentData.source,\n          phoneNumber:  this.agentData.phone,\n          departmentID:  this.agentData.department,\n          state:  this.agentData.state,\n          city:  this.agentData.city,\n          birthDate: this.formatDate(this.agentData.birthDate, 'DD MMM, YYYY'),\n          address:  this.agentData.address,\n          country:  this.agentData.country,\n          postalCode:  this.agentData.zipCode,\n          interviewDate:  this.agentData.interview,\n          agentNumber:  this.agentData.agentNumber,\n          createdBy:  localStorage.getItem('email'),\n          isLicensed:  this.agentData.insuranceLicense,\n          licenseNumber: this.agentData.licenseNumber,\n          token: localStorage.getItem('jwt'),\n          userID: localStorage.getItem('id')\n        }\n\n        await axios\n            .post('/api/createAgent', data)\n            .then(async response => {\n              document.getElementById(\"addform\").reset();\n              if (response.data['ID'] !== null) {\n                document.getElementById('closemodal').click();\n                await Swal.fire({\n                  icon: 'success',\n                  title: 'Success',\n                  text: 'Agent created successfully!'\n                });\n              }\n            })\n            .catch(async error => {\n              if (error.response) {\n\n                if(error.response.data.detail === 'Your session is expired!'){\n                  await this.$router.push('logout')\n                }\n\n                let list = '';\n                for (const property in error.response.data) {\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\n                }\n\n                await Swal.fire({\n                  title: \"Please check the following: \" + list,\n                  icon: 'warning',\n                  confirmButtonClass: \"btn btn-info\",\n                  buttonsStyling: false,\n                  showCloseButton: true,\n                });\n\n              } else if (error.message) {\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\n              }\n            })\n      } else {\n        let list = '';\n        for (let i = 0; i < this.errors.length; i++)\n          list += '\\n' + '<b>' + this.errors[i]+ '</b>';\n\n        await Swal.fire({\n          title: \"Please complete the form! \" + list,\n          icon: 'warning',\n          confirmButtonClass: \"btn btn-info\",\n          buttonsStyling: false,\n          showCloseButton: true,\n        });\n      }\n    },\n    async getDepartments() {\n\n      await axios\n          .post('/api/getDepartments')\n          .then(response => {\n            console.log(response);\n          })\n          .catch(error => {\n            if (error.response) {\n\n              if(error.response.data.detail === 'Your session is expired!'){\n                this.$router.push('logout')\n              }\n\n              Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\n            }\n          })\n    },\n    async getUserInfo(id) {\n      document.getElementById('edit-btn').style.display='block';\n      document.getElementById('add-btn').style.display='none'\n      document.getElementById('agentModalLabel').innerHTML=\"Edit Agent\"\n\n      const data = {\n        token: localStorage.getItem('jwt'),\n        ID: id\n      }\n\n      let agentInfo;\n\n      await axios\n          .post('/api/getUser', data)\n          .then(response => {\n            agentInfo=response.data\n            this.setAgentData(agentInfo);\n            document.getElementById('id').value=agentInfo.ID\n            document.getElementById('editEmail').value=agentInfo.email;\n            document.getElementById('editFirstName').value=agentInfo.firstName;\n            document.getElementById('editLastName').value=agentInfo.lastName;\n            document.getElementById('editLanguage').value=agentInfo.language;\n            document.getElementById('editStatus').value=agentInfo.status\n            document.getElementById('editPhoneNumber').value= agentInfo.phoneNumber;\n            document.getElementById('editDepartment').value=agentInfo.departmentID;\n            document.getElementById('editBirthDate').value=agentInfo.dateOfBirth;\n            document.getElementById('editAddress').value=agentInfo.address;\n            document.getElementById('editState').value=agentInfo.state;\n            document.getElementById('editCountry').value=agentInfo.country;\n            document.getElementById('editPostalCode').value=agentInfo.postalCode;\n            document.getElementById('editAgentNumber').value=agentInfo.agentNumber;\n            document.getElementById('editCreatedBy').value=agentInfo.createdBy;\n            document.getElementById('editLicensed').value=agentInfo.isLicensed;\n            document.getElementById('editInterview').value= this.formatDate(agentInfo.interviewDate, 'MMMM DD, YYYY H:mm A');\n          })\n          .catch(error => {\n            if (error.response) {\n\n              if(error.response.data.detail === 'Your session is expired!'){\n                this.$router.push('logout')\n              }\n\n              Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\n            }\n          })\n    },\n    validEmail: function (email) {\n      const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return re.test(email.trim());\n    },\n    validPhone: function (phone) {\n      return /^(\\+{0,})(\\d{0,})([(]{1}\\d{1,3}[)]{0,}){0,}(\\s?\\d+|\\+\\d{2,3}\\s{1}\\d+|\\d+){1}[\\s|-]?\\d+([\\s|-]?\\d+){1,2}(\\s){0,}$/gm.test(phone);\n    },\n    formatDate: function(date, format){\n      date = moment(date).format(format)\n      return date;\n    },\n    formatPhone: function(phone, flag=0) {\n\n      // if flag == 1 put value in phone Edit\n      if(phone !== undefined){\n        const x = phone.replace(/\\D/g, '').match(/(\\d{0,3})(\\d{0,3})(\\d{0,4})/);\n        phone = !x[2] ? x[1] : '(' + x[1] + ') ' + x[2] + (x[3] ? '-' + x[3] : '');\n      }else{\n        phone = ''\n      }\n\n      if(flag !== 1){\n        return phone;\n      }else{\n        document.getElementById('editPhoneNumber').value = phone;\n      }\n    },\n    setAgentData: function(data) {\n      this.agentData.email=data.email;\n      this.agentData.firstName=data.firstName;\n      this.agentData.lastName=data.lastName;\n      this.agentData.language=data.language;\n      this.agentData.status=data.status\n      this.agentData.source=data.source\n      this.agentData.phone=data.phoneNumber;\n      this.agentData.department=data.departmentID\n      this.agentData.birthDate= this.formatDate(data.dateOfBirth, 'DD MMM, YYYY');\n      this.agentData.interview=  this.formatDate(data.interviewDate, 'MMMM DD, YYYY H:MM A');\n      this.agentData.address=data.address;\n      this.agentData.state=data.state;\n      this.agentData.city=data.city;\n      this.agentData.country=data.country;\n      this.agentData.zipCode=data.postalCode;\n      this.agentData.agentNumber=data.agentNumber;\n      this.agentData.createdBy=data.createdBy;\n      this.agentData.insuranceLicense=data.isLicensed;\n      this.agentData.licenseNumber=data.licenseNumber;\n    },\n    resetAgentData: function(){\n      this.agentData =\n          {username: '',\n          email: '',\n          firstName: '',\n          lastName: '',\n          language: '',\n          status: '',\n          phone: '',\n          department: '',\n          state: '',\n          birthDate: '',\n          address: '',\n          country: '',\n          zipCode: '',\n          interview: '',\n          agentNumber: '',\n          createdBy: '',\n          insuranceLicense: '',\n          licenseNumber: ''\n          }\n    },\n    async updateAgentList(status=0) {\n\n      let validate = true;\n      let errors = [];\n      let filterLanguage = document.getElementById(\"filterLanguage\").value;\n      let filterKeyword = document.getElementById(\"filterKeyword\").value;\n      let filterLicensed = document.getElementById(\"filterLicensed\").value;\n      let filterNotes = document.getElementById(\"filterNotes\").value;\n      let filterFromDate = document.getElementById(\"filterFromDate\").value;\n      let filterToDate = document.getElementById(\"filterToDate\").value;\n      let isActive = document.querySelector('#isActive').checked;\n      this.data.searchValues.status = status;\n\n      if(isActive === true) {\n        this.data.searchValues.isActive = 1\n      } else {\n        this.data.searchValues.isActive = 2\n      }\n\n      if (filterLanguage !== '' && (filterLanguage === '1' || filterLanguage === '2')){\n        this.data.searchValues.language = filterLanguage;\n      }\n\n      if (filterKeyword !== '' && filterKeyword.length >= 3) {\n        this.data.searchValues.keyword = filterKeyword;\n      } else if (filterKeyword !== '' && filterKeyword.length < 3) {\n        errors.push('Keyword search should have 3 or more characters!')\n        validate = false;\n      }\n\n      if(filterLicensed !== ''){\n        this.data.searchValues.licensed = filterLicensed;\n      }\n\n      if (filterNotes !== '' && filterNotes.length >= 3) {\n        this.data.searchValues.noteSearch = filterNotes;\n      }else if(filterNotes !== '' && filterNotes.length < 3) {\n        errors.push('Notes search should have 3 or more characters!')\n        validate = false;\n      }\n\n      var start = moment(this.formatDate(filterFromDate, 'YYYY-MM-DD'));\n      var end = moment(this.formatDate(filterToDate, 'YYYY-MM-DD'));\n      var days = end.diff(start, \"days\");\n\n      if(days <= 365){\n        this.data.searchValues.fromDate = filterFromDate;\n        this.data.searchValues.toDate = filterToDate;\n      } else {\n        errors.push(\"From Date and To Date (range) couldn't be larger than a year (365 days)!\");\n        validate = false;\n      }\n\n      const data = {\n        token: localStorage.getItem('jwt'),\n        isProspect: 0,\n        searchValues: this.data.searchValues,\n        userEmail: localStorage.getItem('email'),\n        userID: localStorage.getItem('id'),\n      }\n\n      if(validate){\n        axios\n            .post('/api/listAgents', data)\n            .then(response => {\n              this.list=response.data\n              this.page = 1\n              this.setPages()\n            })\n            .catch(error => {\n              if (error.response) {\n\n                if(error.response.data.detail === 'Your session is expired!'){\n                  this.$router.push('logout')\n                }\n                // for (const property in error.response.data) {\n                // this.errors.push(`${property}: ${error.response.data[property]}`)\n                // }\n              } else if (error.message) {\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\n              }\n            })\n      }else{\n        let list = '';\n        for (var i = 0; i < errors.length; i+=1) {\n          list += errors[i] + ' \\n';\n        }\n\n        await Swal.fire(\"\" + list, '', 'info');\n\n      }\n\n    },\n    setPages() {\n\n      let numberOfPages = Math.ceil(this.list.length / this.perPage);\n      this.pages = []\n      for (let index = 1; index <= numberOfPages; index++) {\n        this.pages.push(index);\n      }\n    },\n    paginate(companies) {\n      let page = this.page;\n      let perPage = this.perPage;\n      let from = page * perPage - perPage;\n      let to = page * perPage;\n      return companies.slice(from, to);\n    },\n    filterStatus(status){\n      var statusButton= document.getElementById(status);\n      statusButton.click();\n    },\n    deleteUser(ID) {\n      const swalWithBootstrapButtons = Swal.mixin({\n        customClass: {\n          confirmButton: \"btn btn-danger ml-2\",\n          cancelButton: \"btn btn-success\",\n        },\n        buttonsStyling: false,\n      });\n      localStorage.setItem('selectedUser', ID)\n      swalWithBootstrapButtons\n          .fire({\n            title: \"Are you sure?\",\n            text: \"You won't be able to revert this!\",\n            icon: \"warning\",\n            confirmButtonText: \"Yes, delete it!\",\n            cancelButtonText: \"No, cancel!\",\n            showCancelButton: true,\n          })\n          .then((result) => {\n            if (result.value) {\n\n              const data = {\n                token: localStorage.getItem('jwt'),\n                userID: localStorage.getItem('id'),\n                userName: localStorage.getItem('firstName') + ' ' + localStorage.getItem('lastname'),\n                userEmail: localStorage.getItem('email'),\n                agentID: localStorage.getItem('selectedUser')\n              }\n\n              axios\n                  .put('/api/deleteUser', data)\n                  .then(async response => {\n                    if (response) {\n                      await this.updateAgentList()\n                      await swalWithBootstrapButtons.fire(\n                          \"Deleted!\",\n                          \"Agent has been deleted.\",\n                          \"success\"\n                      );\n                    }\n                  })\n                  .catch(async error => {\n                    if (error.response) {\n                      let list = '';\n                      for (const property in error.response.data) {\n                        this.errors.push(`${property}: ${error.response.data[property]}`)\n                        list += '\\n' + '<b>' + error.response.data[property] + '</b>';\n                      }\n\n                      await Swal.fire({\n                        title: \"Please check the following: \" + list,\n                        icon: 'warning',\n                        confirmButtonClass: \"btn btn-info\",\n                        buttonsStyling: false,\n                        showCloseButton: true,\n                      });\n\n                    } else if (error.message) {\n                      this.errors.push('Something was wrong, please contact your SysAdmin.')\n                    }\n                  })\n            } else if (\n                /* Read more about handling dismissals below */\n                result.dismiss === Swal.DismissReason.cancel\n            ) {\n              swalWithBootstrapButtons.fire(\n                  \"Cancelled\",\n                  \"Agent is in a safe place :)\",\n                  \"error\"\n              );\n            }\n          });\n    },\n    handleFocus(e){\n      e.target.setAttribute(\"autocomplete\", \"nope\");\n    },\n    viewUserGroup(request) {\n      const currentRole = jwt_decode(localStorage.getItem('jwt'))\n      return currentRole.userGroup.includes(request)\n    },\n    printEmit(notify) {\n      this.chatMessagesData = notify;\n    },\n    formSubmit() {\n      this.submitted = true;\n\n      // stop here if form is invalid\n      this.v$.$touch();\n\n      if (this.v$.$invalid) {\n        return;\n      } else {\n        const message = this.form.message;\n        const currentDate = new Date();\n        this.chatMessagesData.push({\n          align: \"right\",\n          name: \"Henry Wells\",\n          message,\n          time: currentDate.getHours() + \":\" + currentDate.getMinutes(),\n        });\n      }\n      this.submitted = false;\n      this.form = {};\n    },\n    chatUsername(name, image) {\n      this.username = name;\n      this.profile = image;\n      this.usermessage = \"Hello\";\n      this.chatMessagesData = [];\n      const currentDate = new Date();\n\n      this.chatMessagesData.push({\n        name: this.username,\n        message: this.usermessage,\n        time: currentDate.getHours() + \":\" + currentDate.getMinutes(),\n      });\n    },\n    async getNotes (id = localStorage.getItem('selectedUser')) {\n      const data = {\n        token: localStorage.getItem('jwt'),\n        userID: localStorage.getItem('id'),\n        agentID: id,\n        clientID: id,\n      }\n\n      localStorage.setItem('selectedUser', id)\n\n      let url = '';\n      url = '/api/getUserNotes';\n\n      await axios\n          .post(url, data)\n          .then(response => {\n            this.notesData = response.data;\n          })\n          .catch(error => {\n            if (error.response) {\n              Swal.fire(\"Oops!\", \"Notes could not be loaded, please contact your SysAdmin.\", \"error\")\n            }\n          })\n    },\n  },\n  async mounted() {\n\n    let field = 'n';\n    let url = window.location.href;\n\n    const queryString = window.location.search;\n    const urlParams = new URLSearchParams(queryString);\n    const status = urlParams.get(field)\n\n    const data = {\n      token: localStorage.getItem('jwt'),\n      searchValues: this.data.searchValues,\n    }\n\n    await axios\n        .post('/api/listDepartments', data)\n        .then(response => {\n          this.departmentList=response.data\n        })\n        .catch(error => {\n          if (error.response) {\n\n            if(error.response.data.detail === 'Your session is expired!'){\n              this.$router.push('logout')\n            }\n\n            Swal.fire(\"Oops!\", \"Departments could not be loaded, please contact your SysAdmin.\", \"error\")\n          }\n        })\n\n    await axios\n        .post('/api/listStatus', data)\n        .then(response => {\n          this.statusList=response.data\n        })\n        .catch(error => {\n          if (error.response) {\n\n            if(error.response.data.detail === 'Your session is expired!'){\n              this.$router.push('logout')\n            }\n\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\n          }\n        })\n\n    await axios\n        .post('/api/listSource', data)\n        .then(response => {\n          this.sourcesList = response.data\n        })\n        .catch(error => {\n          if (error.response) {\n\n            if(error.response.data.detail === 'Your session is expired!'){\n              this.$router.push('logout')\n            }\n\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\n          }\n        })\n\n\n    if((url.indexOf('?' + field + '=') !== -1))\n      document.getElementById(status).click()\n    else\n      await axios\n          .post('/api/listAgents', data)\n          .then(response => {\n            this.list=response.data;\n            this.page = 1\n            this.setPages();\n          })\n          .catch(error => {\n            if (error.response) {\n\n              if(error.response.data.detail === 'Your session is expired!'){\n                this.$router.push('logout')\n              }\n\n              // for (const property in error.response.data) {\n              // this.errors.push(`${property}: ${error.response.data[property]}`)\n              // }\n            } else if (error.message) {\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\n            }\n          })\n\n    const checkAll = document.getElementById(\"checkAll\");\n\n    if (checkAll) {\n      checkAll.onclick = function () {\n        var checkboxes = document.querySelectorAll(\n            '.form-check-all input[type=\"checkbox\"]'\n        );\n        if (checkAll.checked == true) {\n          checkboxes.forEach(function (checkbox) {\n            checkbox.checked = true;\n            checkbox.closest(\"tr\").classList.add(\"table-active\");\n          });\n        } else {\n          checkboxes.forEach(function (checkbox) {\n            checkbox.checked = false;\n            checkbox.closest(\"tr\").classList.remove(\"table-active\");\n          });\n        }\n      };\n    }\n  },\n  computed: {\n    displayedPosts() {\n      return this.paginate(this.list);\n    },\n    resultQuery() {\n      if (this.data.searchValues.keyword.length >= 3) {\n        const search = this.data.searchValues.keyword.toLowerCase();\n        return this.displayedPosts.filter((data) => {\n          return (\n              data.address.toLowerCase().includes(search) ||\n              data.agentNumber.toLowerCase().includes(search) ||\n              data.city.toLowerCase().includes(search) ||\n              data.email.toLowerCase().includes(search) ||\n               data.phoneNumber.toLowerCase().includes(search) ||\n              data.firstName.toLowerCase().includes(search) ||\n              data.lastName.toLowerCase().includes(search) ||\n              data.fullname.toLowerCase().includes(search) ||\n              data.statusName.toLowerCase().includes(search)\n          );\n        });\n      } else {\n        return this.displayedPosts;\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <Layout>\n    <PageHeader :title=\"title\" :items=\"items\"/>\n    <div class=\"row\">\n      <div class=\"col-lg-12\">\n        <div class=\"card\" id=\"leadsList\">\n          <div class=\"card-header border-0\">\n            <div class=\"row g-4 align-items-center\">\n              <div class=\"col-sm-3\">\n                <div class=\"search-box\">\n                  <input\n                      type=\"text\"\n                      class=\"form-control search\"\n                      placeholder=\"Search for...\"\n                      v-model=\"this.data.searchValues.keyword\"\n                      @change=\"this.data.searchValues.keyword.length >= 3 ? updateAgentList(): ''\"\n                      v-on:keyup.enter=\"this.data.searchValues.keyword === '' ? updateAgentList() : ''\"\n                  />\n                  <i class=\"ri-search-line search-icon\"></i>\n                </div>\n              </div>\n              <div class=\"col-sm-auto ms-auto\">\n                <div class=\"hstack gap-2\">\n                  <div class=\"d-flex align-items-center gap-2\">\n                    <span class=\"text-muted flex-shrink-0\">Sort by: </span>\n\n                    <Multiselect class=\"form-control\"\n                                 style=\"width:150px;padding: 0px;\"\n                                 autocomplete=\"off\"\n                                 @focus=\"handleFocus\"\n                                 v-model=\"this.data.searchValues.sortBy\"\n                                 :close-on-select=\"true\"\n                                 :searchable=\"true\"\n                                 :options=\"[\n                            { value: 'name', label: 'Name' },\n                            { value: 'postalCode', label: 'Postal Code' },\n                            { value: 'modified', label: 'Modified On' },\n                            { value: 'created', label: 'created On' },\n                            ]\"\n                                 @select=\"updateAgentList()\"\n                    />\n\n                  </div>\n                  <div class=\"d-flex align-items-center gap-2\">\n                    <span class=\"text-muted flex-shrink-0\">Order by: </span>\n\n                    <Multiselect class=\"form-control\"\n                                 style=\"width:150px;padding: 0px;\"\n                                 v-model=\"this.data.searchValues.orderBy\"\n                                 autocomplete=\"off\"\n                                 @focus=\"handleFocus\"\n                                 :close-on-select=\"true\"\n                                 :searchable=\"true\"\n                                 :options=\"[\n                            { value: 'ASC', label: 'Ascendance' },\n                            { value: 'DESC', label: 'Descendant' },\n                            ]\"\n                                 @select=\"updateAgentList()\"\n                    />\n\n                  </div>\n                  <button type=\"button\" class=\"btn btn-soft-success add-btn\" href=\"#open-filters\" data-bs-toggle=\"modal\">\n                    <i class=\"ri-filter-line align-bottom me-1\"></i> Filters\n                  </button>\n                  <button type=\"button\" class=\"btn btn-soft-success add-btn\" id=\"create-btn\" data-bs-toggle=\"modal\" href=\"#agentModal\" @click=\"addNewAgentModal\">\n                    <i class=\"ri-add-line align-bottom me-1\"></i> Add Agent\n                  </button>\n                  <span class=\"dropdown\">\n                    <button\n                        class=\"btn btn-soft-primary btn-icon fs-14\"\n                        type=\"button\"\n                        id=\"dropdownMenuButton1\"\n                        data-bs-toggle=\"dropdown\"\n                        aria-expanded=\"false\"\n                    >\n                      <i class=\"ri-settings-4-line\"></i>\n                    </button>\n                    <ul\n                        class=\"dropdown-menu\"\n                        aria-labelledby=\"dropdownMenuButton1\"\n                    >\n                      <li><a class=\"dropdown-item\" href=\"#\">Copy</a></li>\n                      <li>\n                        <a class=\"dropdown-item\" href=\"#\">Move to pipline</a>\n                      </li>\n                      <li>\n                        <a class=\"dropdown-item\" href=\"#\">Add to exceptions</a>\n                      </li>\n                      <li>\n                        <a class=\"dropdown-item\" href=\"#\"\n                        >Switch to common form view</a\n                        >\n                      </li>\n                      <li>\n                        <a class=\"dropdown-item\" href=\"#\"\n                        >Reset form view to default</a\n                        >\n                      </li>\n                    </ul>\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Table Head -->\n          <ul\n              class=\"nav nav-tabs nav-tabs-custom nav-primary mb-3\"\n              role=\"tablist\">\n            <li class=\"nav-item\">\n              <a\n                  class=\"nav-link active All py-3\"\n                  data-bs-toggle=\"tab\"\n                  id=\"All\"\n                  href=\"#home1\"\n                  role=\"tab\"\n                  aria-selected=\"true\"\n                  @click=\"updateAgentList(0)\"\n              >\n                <i class=\"ri-file-search-line me-1 align-bottom\"></i> All\n              </a>\n            </li>\n             <li class=\"nav-item\" v-for=\"(data, index) of statusList\" :key=\"index\">\n              <a\n                  class=\"nav-link py-3 \" v-bind:class=\"data.name\"\n                  data-bs-toggle=\"tab\"\n                  v-bind:id=\"data.name\"\n                  v-bind:href=\"'#'+data.name\"\n                  role=\"tab\"\n                  aria-selected=\"false\"\n                  @click=\"updateAgentList(data.statusID)\"\n              >\n                <i class=\"me-1 align-bottom\"></i>\n                {{ data.name }}\n              </a>\n            </li>\n          </ul>\n          <div class=\"table-responsive\">\n            <table class=\"table align-middle table-nowrap mb-0\">\n              <thead class=\"table-light\">\n              <tr>\n                <th scope=\"col\" style=\"width: 50px\">\n                  <div class=\"form-check\">\n                    <input\n                        class=\"form-check-input\"\n                        type=\"checkbox\"\n                        id=\"checkAll\"\n                        value=\"option\"\n                    />\n                  </div>\n                </th>\n                <th scope=\"col\">Name</th>\n                <th scope=\"col\">Department</th>\n                <th scope=\"col\">Email</th>\n                <th scope=\"col\">Phone</th>\n                <th scope=\"col\">Create Date</th>\n                <th scope=\"col\">Status</th>\n                <th scope=\"col\">Actions</th>\n              </tr>\n              </thead>\n              <tbody>\n              <tr v-for=\"(data, index) of resultQuery\" :key=\"index\">\n                <td>\n                  <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"cardtableCheck01\">\n                    <label class=\"form-check-label\" for=\"cardtableCheck01\"></label>\n                  </div>\n                </td>\n                <td>{{ data.firstName }} {{ data.lastName }}</td>\n                <td>{{ data.departmentName }}</td>\n                <td>{{ data.email }}</td>\n                <td>{{ formatPhone(data.phoneNumber) }}</td>\n                <td> {{ formatDate(data.createdOn, 'MMMM Do YYYY, h:mmA') }} </td>\n                <td><a href=\"javascript:void(0);\" v-bind:style=\"'color:'+data.color\" @click=\"filterStatus(data.statusName)\">{{data.statusName}}</a></td>\n                <td>\n                  <ul class=\"list-inline hstack gap-2 mb-0\">\n                    <li class=\"list-inline-item\" data-bs-toggle=\"modal\" href=\"#agentModal\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Edit\" @click=\"getUserInfo(data.ID)\">\n                      <a class=\"edit-item-btn\" href=\"javascript:void(0);\"><i class=\"ri-pencil-fill align-bottom text-muted\"></i></a>\n                    </li>\n                    <li class=\"list-inline-item\" data-bs-toggle=\"modal\" href=\"#open-notes\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Notes\" @click=\"getNotes(data.ID)\">\n                      <a href=\"javascript:void(0);\" class=\"text-muted d-inline-block\" >\n                        <i class=\"ri-sticky-note-line fs-16\"></i>\n                      </a>\n                    </li>\n                    <li class=\"list-inline-item\" data-bs-toggle=\"tooltip\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Delete\" @click=\"deleteUser(data.ID)\">\n                      <a class=\"remove-item-btn\" data-bs-toggle=\"modal\" href=\"javascript:void(0);\">\n                        <i class=\"ri-delete-bin-fill align-bottom text-muted\"></i>\n                      </a>\n                    </li>\n                  </ul>\n                </td>\n              </tr>\n              </tbody>\n            </table>\n            <div class=\"noresult\" v-if=\"list.length <= 0\">\n              <div class=\"text-center\">\n                <lottie\n                    class=\"avatar-xl\"\n                    colors=\"primary:#121331,secondary:#08a88a\"\n                    :options=\"defaultOptions\"\n                    :height=\"75\"\n                    :width=\"75\"\n                />\n                <h5 class=\"mt-2\">Sorry!</h5>\n                <p class=\"text-muted mb-0\">\n                  We've searched and we did not find any\n                  agent for your search.\n                </p>\n              </div>\n            </div>\n            <div class=\"d-flex justify-content-end mt-3\" v-if=\"resultQuery.length >= 0\">\n              <div class=\"pagination-wrap hstack gap-2\">\n                <a\n                    class=\"page-item pagination-prev disabled\"\n                    href=\"#\"\n                    v-if=\"page !== 1\"\n                    @click=\"page--\"\n                >\n                  Previous\n                </a>\n                <ul class=\"pagination listjs-pagination mb-0\">\n                  <li\n                      :class=\"{\n                      active: pageNumber == page,\n                      disabled: pageNumber == '...',\n                    }\"\n                      v-for=\"(pageNumber, index) in pages.slice(\n                      page - 1,\n                      page + 5\n                    )\"\n                      :key=\"index\"\n                      @click=\"page = pageNumber\"\n                  >\n                    <a class=\"page\" href=\"#\">{{ pageNumber }}</a>\n                  </li>\n                </ul>\n                <a\n                    class=\"page-item pagination-next\"\n                    href=\"#\"\n                    @click=\"page++\"\n                    v-if=\"page < pages.length\"\n                >\n                  Next\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!--end col-->\n    </div>\n    <!--end row-->\n\n    <!--  Add agent modal  -->\n    <div class=\"modal zoomIn\" id=\"agentModal\" tabindex=\"-1\" aria-labelledby=\"agentModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\" style=\"max-width: 1000px;\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header bg-light p-3\">\n            <h5 class=\"modal-title\" id=\"agentModalLabel\"></h5>\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"\n                    id=\"close-modal\"></button>\n          </div>\n          <form id=\"addform\" @submit.prevent=\"\">\n            <div class=\"modal-body\">\n              <input type=\"hidden\" id=\"id\"/>\n              <div class=\"row g-3\">\n                <div class=\"col-lg-12\">\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      <label for=\"editEmail\" class=\"form-label\">Email</label>\n                      <input type=\"text\" id=\"editEmail\" class=\"form-control mb-2\" placeholder=\"Enter Email\" v-model=\"agentData.email\" required>\n                    </div>\n                    <div class=\"col-lg-6\">\n                      <label for=\"editCreatedBy\" class=\"form-label\">Created By</label>\n                      <input type=\"text\" id=\"editCreatedBy\" class=\"form-control mb-2\" disabled v-model=\"this.agentData.createdBy\">\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      <label for=\"editFirstName\" class=\"form-label\">First Name</label>\n                      <input type=\"text\" id=\"editFirstName\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" v-model=\"this.agentData.firstName\" required>\n                    </div>\n                    <div class=\"col-lg-6\">\n                      <label for=\"editLastName\" class=\"form-label\">Last Name</label>\n                      <input type=\"text\" id=\"editLastName\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\" v-model=\"this.agentData.lastName\" required>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      <label for=\"editLanguage\" class=\"form-label\">Language</label>\n                      <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"editLanguage\" v-model=\"this.agentData.language\" required>\n                        <option value=\"1\" selected>English</option>\n                        <option value=\"2\">Spanish</option>\n                      </select>\n                    </div>\n                    <div class=\"col-lg-3\">\n                      <label for=\"editStatus\" class=\"form-label\">Status</label>\n                      <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editStatus\" v-model=\"this.agentData.status\">\n                        <option v-bind:style=\"(!viewUserGroup('SUPER_ADMIN_GROUP') && status.statusID === 9)? 'display: none;' : ''\" v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\n                      </select>\n                    </div>\n                    <div class=\"col-lg-3\">\n                      <label for=\"editSource\" class=\"form-label\">Source</label>\n                      <select class=\"form-select mb-2\" aria-label=\"Source\" id=\"editSource\" v-model=\"this.agentData.source\">\n                        <option v-for=\"(source, sourceIndex) of sourcesList\" :key=\"sourceIndex\" v-bind:value=\"source.sourceID\">{{ source.name }}</option>\n                      </select>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      <label for=\"editPhoneNumber\" class=\"form-label\">Phone</label>\n                      <input type=\"text\" id=\"editPhoneNumber\" class=\"form-control mb-2\" placeholder=\"Phone number\" required v-model=\"this.agentData.phone\"/>\n                    </div>\n                    <div class=\"col-lg-6\">\n                      <label for=\"editDepartment\" class=\"form-label\">Department</label>\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\n                              v-model=\"this.agentData.department\" v-if=\"(departmentList.length > 1)\">\n                        <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\n                                v-bind:value=\"department.departmentID\">{{ department.name }}\n                        </option>\n                      </select>\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\n                              v-model=\"this.agentData.department\" v-else>\n                        <option v-bind:value=\"departmentList.departmentID\">{{ departmentList.name }}</option>\n                      </select>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      <label for=\"editAddress\" class=\"form-label\">Address</label>\n                      <input type=\"text\" id=\"editAddress\" class=\"form-control mb-2\" placeholder=\"Enter Address\" required v-model=\"this.agentData.address\"/>\n                    </div>\n                    <div class=\"col-lg-6\">\n                      <label for=\"editBirthDate\" class=\"form-label mb-2\">Birth Date</label>\n                      <flat-pickr\n                          placeholder=\"Select Birth Date\"\n                          v-model=\"this.agentData.birthDate\"\n                          :config=\"timeConfig\"\n                          class=\"form-control flatpickr-input\"\n                          id=\"editBirthDate\"></flat-pickr>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-3\">\n                      <label for=\"editCity\" class=\"form-label\">City</label>\n                      <input type=\"text\" id=\"editCity\" class=\"form-control mb-2\" placeholder=\"Enter City\" required v-model=\"this.agentData.city\"/>\n                    </div>\n                    <div class=\"col-lg-3\">\n                      <label for=\"editState\" class=\"form-label\">State</label>\n                      <input type=\"text\" id=\"editState\" class=\"form-control mb-2\" placeholder=\"Enter State\" required v-model=\"this.agentData.state\"/>\n                    </div>\n                    <div class=\"col-lg-6\">\n                      <label for=\"editCountry\" class=\"form-label\">Country</label>\n                      <input type=\"text\" id=\"editCountry\" class=\"form-control mb-2\" placeholder=\"Enter Country\" required v-model=\"this.agentData.country\"/>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-6\">\n                      <label for=\"editPostalCode\" class=\"form-label\">Postal code</label>\n                      <input type=\"text\" id=\"editPostalCode\" class=\"form-control mb-2\" placeholder=\"Enter Address\" required v-model=\"this.agentData.zipCode\"/>\n                    </div>\n                    <div class=\"col-lg-6\">\n                      <label for=\"editInterview\" class=\"form-label mb-2\">Interview</label>\n                      <flat-pickr\n                          placeholder=\"Select Interview date/time\"\n                          v-model=\"this.agentData.interview\"\n                          :config=\"dateTimeConfig\"\n                          class=\"form-control flatpickr-input\"\n                          id=\"editInterview\" data-enable-time></flat-pickr>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-4\">\n                      <label for=\"editLicensed\" class=\"form-label\">Is Licensed?</label>\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editLicensed\" v-model=\"this.agentData.insuranceLicense\">\n                        <option value=\"0\">No</option>\n                        <option value=\"1\">Yes</option>\n                      </select>\n                    </div>\n                    <div class=\"col-lg-4\">\n                      <label for=\"editAgentNumber\" class=\"form-label\">License Number</label>\n                      <input type=\"text\" id=\"editLicenseNumber\" class=\"form-control mb-2\" placeholder=\"Enter Agent Number\" v-model=\"this.agentData.licenseNumber\"/>\n                    </div>\n                    <div class=\"col-lg-4\">\n                      <label for=\"editAgentNumber\" class=\"form-label\">Agent Number</label>\n                      <input type=\"text\" id=\"editAgentNumber\" class=\"form-control mb-2\" placeholder=\"Enter Agent Number\" v-model=\"this.agentData.agentNumber\"/>\n                    </div>\n                  </div>\n                </div>\n                <!--end col-->\n              </div>\n              <!--end row-->\n            </div>\n\n            <div class=\"modal-footer\">\n              <div class=\"hstack gap-2 justify-content-end\">\n                <button type=\"button\" class=\"btn btn-light\" id=\"closemodal\" data-bs-dismiss=\"modal\">Close</button>\n                <button type=\"submit\" class=\"btn btn-success\" id=\"add-btn\" @click=\"createAgent\">Save</button>\n                <button type=\"button\" class=\"btn btn-success\" id=\"edit-btn\" @click=\"updateAgent\">Update</button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n\n    <!-- Filters Modal -->\n    <div id=\"open-filters\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\">\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"myModalLabel\">Filters</h5>\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"> </button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"row\">\n              <div class=\"col-lg-12\">\n                <label for=\"filterKeyword\" class=\"form-label\">Keyword</label>\n                <input type=\"text\" id=\"filterKeyword\" name=\"filterKeyword\" class=\"form-control mb-2\" placeholder=\"Enter Keyword\" v-model=\"this.data.searchValues.keyword\">\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-lg-6\">\n                <label for=\"filterLicensed\" class=\"form-label\">Licensed agents?</label>\n                <select class=\"form-select mb-2\" aria-label=\"Licensed Agents?\" id=\"filterLicensed\" name=\"filterLicensed\" v-model=\"this.data.searchValues.licensed\">\n                  <option value=\"1\" selected>Both</option>\n                  <option value=\"2\">Yes</option>\n                  <option value=\"3\">No</option>\n                </select>\n              </div>\n              <div class=\"col-lg-6\">\n                  <label for=\"editStatus\" class=\"form-label\">Status</label>\n                  <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"filterStatus\" v-model=\"this.data.searchValues.status\">\n                    <option value=\"0\">All</option>\n                    <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\n                  </select>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-lg-6\">\n                <label for=\"editLanguage\" class=\"form-label\">Language</label>\n                <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"filterLanguage\" name=\"filterLanguage\" v-model=\"this.data.searchValues.language\">\n                  <option value=\"3\" selected>Both</option>\n                  <option value=\"1\">English</option>\n                  <option value=\"2\">Spanish</option>\n                </select>\n              </div>\n              <div class=\"col-lg-6\">\n                <label for=\"editStatus\" class=\"form-label\">Search by Notes</label>\n                <input type=\"text\" id=\"filterNotes\" name=\"filterNotes\" class=\"form-control mb-2\" placeholder=\"Enter note\" v-model=\"this.data.searchValues.noteSearch\">\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-lg-6\">\n                <label for=\"filterFromDate\" class=\"form-label\"> From date </label>\n                <flat-pickr\n                    v-model=\"this.data.searchValues.fromDate\"\n                    :config=\"humanfriendlyConfig\"\n                    class=\"form-control flatpickr-input\"\n                    id=\"filterFromDate\"\n                    name=\"filterFromDate\"\n                ></flat-pickr>\n              </div>\n              <div class=\"col-lg-6\">\n                <label for=\"filterToDate\" class=\"form-label\"> To Date </label>\n                <flat-pickr\n                    v-model=\"this.data.searchValues.toDate\"\n                    :config=\"humanfriendlyConfig\"\n                    class=\"form-control flatpickr-input\"\n                    id=\"filterToDate\"\n                    name=\"filterToDate\"\n                ></flat-pickr>\n              </div>\n            </div>\n            <br>\n            <div class=\"row\">\n              <div class=\"col-lg-6\">\n                <div class=\"form-check form-switch form-switch-lg\" dir=\"ltr\" style=\"margin-left: 3px;\">\n                  <input type=\"checkbox\" class=\"form-check-input\" id=\"isActive\" checked=\"\">\n                  <label class=\"form-check-label\" for=\"isActive\">Active</label>\n                </div>\n              </div>\n              <div class=\"col-lg-6\">\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-light\" data-bs-dismiss=\"modal\">Close</button>\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"updateAgentList()\">Search</button>\n          </div>\n\n        </div><!-- /.modal-content -->\n      </div><!-- /.modal-dialog -->\n    </div><!-- /.modal -->\n\n    <!-- Notes Modal -->\n    <div id=\"open-notes\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\">\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <notes :dataList=\"notesData\" @onFire=\"getNotes()\"> </notes>\n        </div><!-- /.modal-content -->\n      </div><!-- /.modal-dialog -->\n    </div><!-- /.modal -->\n\n  </Layout>\n</template>\n<style>\n.row-spacer{\n  margin-bottom: 10px;\n}\n\nbutton.swal2-cancel.btn.btn-success{\n  margin-left: 5px;\n}\n</style>"]}]}