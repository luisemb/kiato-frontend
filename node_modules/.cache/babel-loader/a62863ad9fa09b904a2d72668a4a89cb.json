{"remainingRequest":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\wamp64\\www\\crm\\frontend\\src\\views\\agents\\agentslist.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\wamp64\\www\\crm\\frontend\\src\\views\\agents\\agentslist.vue","mtime":1699390989242},{"path":"C:\\wamp64\\www\\crm\\frontend\\babel.config.js","mtime":1645939880000},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1668443304941},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1652458135842},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1668443313146}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L3dhbXA2NC93d3cvY3JtL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRlc3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgZmxhdFBpY2tyIGZyb20gInZ1ZS1mbGF0cGlja3ItY29tcG9uZW50IjsKaW1wb3J0ICJmbGF0cGlja3IvZGlzdC9mbGF0cGlja3IuY3NzIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgTXVsdGlzZWxlY3QgZnJvbSAiQHZ1ZWZvcm0vbXVsdGlzZWxlY3QiOwppbXBvcnQgIkB2dWVmb3JtL211bHRpc2VsZWN0L3RoZW1lcy9kZWZhdWx0LnNjc3MiOwppbXBvcnQgTGF5b3V0IGZyb20gIi4uLy4uL2xheW91dHMvbWFpbi52dWUiOwppbXBvcnQgUGFnZUhlYWRlciBmcm9tICJAL2NvbXBvbmVudHMvcGFnZS1oZWFkZXIiOwppbXBvcnQgYXBwQ29uZmlnIGZyb20gIi4uLy4uLy4uL2FwcC5jb25maWciOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBMb3R0aWUgZnJvbSAiQC9jb21wb25lbnRzL3dpZGdldHMvbG90dGllLnZ1ZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhbmltYXRpb25EYXRhIGZyb20gIkAvY29tcG9uZW50cy93aWRnZXRzL21zb2Vhd3FtLmpzb24iOwppbXBvcnQgY2FsZW5kYXIgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9hcHBvaW5tZW50Q2FsZW5kYXIiOwppbXBvcnQgand0X2RlY29kZSBmcm9tICJqd3QtZGVjb2RlIjsgLy8gY29tcG9uZW50cwoKaW1wb3J0IG5vdGVzIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvdXNlcnMvbm90ZXMnOwppbXBvcnQgUGFwYSBmcm9tICJwYXBhcGFyc2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgcGFnZTogewogICAgdGl0bGU6ICJBZ2VudHMiLAogICAgbWV0YTogW3sKICAgICAgbmFtZTogImRlc2NyaXB0aW9uIiwKICAgICAgY29udGVudDogYXBwQ29uZmlnLmRlc2NyaXB0aW9uCiAgICB9XQogIH0sCiAgY29tcG9uZW50czogewogICAgTGF5b3V0OiBMYXlvdXQsCiAgICBQYWdlSGVhZGVyOiBQYWdlSGVhZGVyLAogICAgbG90dGllOiBMb3R0aWUsCiAgICBNdWx0aXNlbGVjdDogTXVsdGlzZWxlY3QsCiAgICBmbGF0UGlja3I6IGZsYXRQaWNrciwKICAgIG5vdGVzOiBub3RlcywKICAgIGNhbGVuZGFyOiBjYWxlbmRhcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAiQWdlbnQgTGlzdCIsCiAgICAgIGl0ZW1zOiBbewogICAgICAgIHRleHQ6ICJBZ2VudHMiLAogICAgICAgIGhyZWY6ICIvIgogICAgICB9LCB7CiAgICAgICAgdGV4dDogIkFnZW50IExpc3QiLAogICAgICAgIGFjdGl2ZTogdHJ1ZQogICAgICB9XSwKICAgICAgdGltZUNvbmZpZzogewogICAgICAgIGVuYWJsZVRpbWU6IGZhbHNlLAogICAgICAgIGRhdGVGb3JtYXQ6ICJkIE0sIFkiCiAgICAgIH0sCiAgICAgIGRhdGVUaW1lQ29uZmlnOiB7CiAgICAgICAgZW5hYmxlVGltZTogdHJ1ZSwKICAgICAgICBkYXRlRm9ybWF0OiAiRiBqLCBZIEg6aSBLIgogICAgICB9LAogICAgICBsaXN0OiBbXSwKICAgICAgYWdlbnREYXRhOiB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIGVtYWlsOiAnJywKICAgICAgICBmaXJzdE5hbWU6ICcnLAogICAgICAgIGxhc3ROYW1lOiAnJywKICAgICAgICBsYW5ndWFnZTogJycsCiAgICAgICAgc3RhdHVzOiAnJywKICAgICAgICBwaG9uZTogJycsCiAgICAgICAgZGVwYXJ0bWVudDogJycsCiAgICAgICAgc3RhdGU6ICcnLAogICAgICAgIGJpcnRoRGF0ZTogJycsCiAgICAgICAgYWRkcmVzczogJycsCiAgICAgICAgY291bnRyeTogJycsCiAgICAgICAgemlwQ29kZTogJycsCiAgICAgICAgaW50ZXJ2aWV3OiAnJywKICAgICAgICBhZ2VudE51bWJlcjogJycsCiAgICAgICAgY3JlYXRlZEJ5OiAnJywKICAgICAgICBpbnN1cmFuY2VMaWNlbnNlOiAnJywKICAgICAgICBsaWNlbnNlTnVtYmVyOiAnJywKICAgICAgICBub3RlOiAnJwogICAgICB9LAogICAgICBkZXBhcnRtZW50TGlzdDoge30sCiAgICAgIHN0YXR1c0xpc3Q6IHt9LAogICAgICBzb3VyY2VzTGlzdDoge30sCiAgICAgIHBhZ2U6IDEsCiAgICAgIHBlclBhZ2U6IDEwMCwKICAgICAgcGFnZXM6IFtdLAogICAgICBzZWFyY2hRdWVyeTogbnVsbCwKICAgICAgaHVtYW5mcmllbmRseUNvbmZpZzogewogICAgICAgIGRhdGVGb3JtYXQ6ICJGIGosIFkiCiAgICAgIH0sCiAgICAgIGRhdGE6IHsKICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgIHNlYXJjaFZhbHVlczogewogICAgICAgICAgbGltaXRUbzogdGhpcy5wZXJQYWdlLAogICAgICAgICAgaXNBY3RpdmU6IDEsCiAgICAgICAgICBub3RlU2VhcmNoOiAnJywKICAgICAgICAgIGtleXdvcmQ6ICcnLAogICAgICAgICAgbGljZW5zZWQ6IDEsCiAgICAgICAgICBsYW5ndWFnZTogMywKICAgICAgICAgIHN0YXR1czogMCwKICAgICAgICAgIHNvcnRCeTogJ25hbWUnLAogICAgICAgICAgb3JkZXJCeTogJ0FTQycsCiAgICAgICAgICBkYXRlUmFuZ2U6IDAsCiAgICAgICAgICBkZXBhcnRtZW50OiAnMCcsCiAgICAgICAgICB0b0RhdGU6IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi11cycsIHsKICAgICAgICAgICAgeWVhcjogIm51bWVyaWMiLAogICAgICAgICAgICBtb250aDogImxvbmciLAogICAgICAgICAgICBkYXk6ICJudW1lcmljIgogICAgICAgICAgfSksCiAgICAgICAgICBmcm9tRGF0ZTogbmV3IERhdGUobmV3IERhdGUoKS5zZXRGdWxsWWVhcihuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgLSAxKSkudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi11cycsIHsKICAgICAgICAgICAgeWVhcjogIm51bWVyaWMiLAogICAgICAgICAgICBtb250aDogImxvbmciLAogICAgICAgICAgICBkYXk6ICJudW1lcmljIgogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlZmF1bHRPcHRpb25zOiB7CiAgICAgICAgYW5pbWF0aW9uRGF0YTogYW5pbWF0aW9uRGF0YQogICAgICB9LAogICAgICBub3Rlc0RhdGE6IFtdLAogICAgICBpZE51bWJlcjogMSwKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBjb25maXJtUGFzd29yZDogJycsCiAgICAgIGhhdmVQZXJtaXNzaW9uczogJycsCiAgICAgIGZpbGU6IFtdLAogICAgICBjb250ZW50OiBbXSwKICAgICAgc3BlY3RlZENvbHVtbnNpbmRlZWQ6IFsibm9tYnJlIiwgImVtYWlsIiwgInRlbMOpZm9ubyIsICJlc3RhZG8iLCAidWJpY2FjacOzbiBkZWwgY2FuZGlkYXRvIiwgInB1ZXN0byBhY3R1YWwiLCAiZWR1Y2FjacOzbiIsICJ0w610dWxvIGRlbCBlbXBsZW8iLCAidWJpY2FjacOzbiBkZWwgZW1wbGVvIiwgImZlY2hhIiwgIk5pdmVsIGRlIGludGVyw6lzIiwgIkZ1ZW50ZSJdLAogICAgICBwYXJzZWQ6IGZhbHNlLAogICAgICBzZWxlY3RlZERlcGFydG1lbnRGb3JBZ2VudExpc3Q6IDAKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgY29tcGFuaWVzOiBmdW5jdGlvbiBjb21wYW5pZXMoKSB7CiAgICAgIHRoaXMuc2V0UGFnZXMoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNldFBhZ2VzKCk7CiAgfSwKICBmaWx0ZXJzOiB7CiAgICB0cmltV29yZHM6IGZ1bmN0aW9uIHRyaW1Xb3Jkcyh2YWx1ZSkgewogICAgICByZXR1cm4gdmFsdWUuc3BsaXQoIiAiKS5zcGxpY2UoMCwgMjApLmpvaW4oIiAiKSArICIuLi4iOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZWRpdGRhdGE6IGZ1bmN0aW9uIGVkaXRkYXRhKGRhdGEpIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkJykudmFsdWUgPSBkYXRhLmlkOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VzdG9tZXJuYW1lJykudmFsdWUgPSBkYXRhLm5hbWU7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wYW55bmFtZScpLnZhbHVlID0gZGF0YS5jb21wYW55OwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhZHNzY29yZScpLnZhbHVlID0gZGF0YS5zY29yZTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bob25lJykudmFsdWUgPSBkYXRhLnBob25lOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9jYXRpb24nKS52YWx1ZSA9IGRhdGEubG9jYXRpb247CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlJykudmFsdWUgPSBkYXRhLmRhdGU7CiAgICB9LAogICAgdXBkYXRlQWdlbnQ6IGZ1bmN0aW9uIHVwZGF0ZUFnZW50KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGRhdGEsIGxpc3QsIGk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycyA9IFtdOwoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRFbWFpbCcpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdFbWFpbCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIV90aGlzLnZhbGlkRW1haWwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRFbWFpbCcpLnZhbHVlKSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnVmFsaWQgZW1haWwgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEZpcnN0TmFtZScpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdGaXJzdCBOYW1lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYXN0TmFtZScpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdMYXN0IE5hbWUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExhbmd1YWdlJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ0xhbmd1YWdlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0dXMnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnU3RhdHVzIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQaG9uZU51bWJlcicpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdQaG9uZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMudmFsaWRQaG9uZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBob25lTnVtYmVyJykudmFsdWUpID09PSBmYWxzZSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBob25lTnVtYmVyJykudmFsdWUgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdQbGVhc2UsIHdyaXRlIGEgdmFsaWQgcGhvbmUgbnVtYmVyIScpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXREZXBhcnRtZW50JykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ0RlcGFydG1lbnQgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEJpcnRoRGF0ZScpLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdCaXJ0aCBkYXRlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRBZGRyZXNzJykudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ0FkZHJlc3MgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEFnZW50TnVtYmVyJykudmFsdWUgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0dXMnKS52YWx1ZSA9PT0gNSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnQWdlbnQgTnVtYmVyIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMaWNlbnNlZCcpLnZhbHVlICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdHVzJykudmFsdWUgPT09IDUgfHwgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGljZW5zZWQnKS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnSW5zdXJhbmNlIExpY2Vuc2VkPyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGljZW5zZWQnKS52YWx1ZSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFN0YXR1cycpLnZhbHVlID09PSA1IHx8ICFfdGhpcy5hZ2VudERhdGEubGljZW5zZU51bWJlciAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExpY2Vuc2VkJykudmFsdWUgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ0xpY2Vuc2UgbnVtYmVyIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5lcnJvcnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICAgICAgICAgICAgZW1haWw6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RW1haWwnKS52YWx1ZS50b0xvd2VyQ2FzZSgpLAogICAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Rmlyc3ROYW1lJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGxhc3ROYW1lOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExhc3ROYW1lJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExhbmd1YWdlJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIHN0YXR1czogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0dXMnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgcGhvbmVOdW1iZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UGhvbmVOdW1iZXInKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgZGVwYXJ0bWVudElEOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdERlcGFydG1lbnQnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgc3RhdGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdGUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgc291cmNlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFNvdXJjZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBjaXR5OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdENpdHknKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgYmlydGhEYXRlOiBfdGhpcy5mb3JtYXREYXRlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QmlydGhEYXRlJykudmFsdWUsICdERCBNTU0sIFlZWVknKSwKICAgICAgICAgICAgICAgICAgYWRkcmVzczogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRBZGRyZXNzJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGNvdW50cnk6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Q291bnRyeScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFBvc3RhbENvZGUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgaW50ZXJ2aWV3RGF0ZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRJbnRlcnZpZXcnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgYWdlbnROdW1iZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QWdlbnROdW1iZXInKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgY3JlYXRlZEJ5OiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgaXNMaWNlbnNlZDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMaWNlbnNlZCcpLnZhbHVlLAogICAgICAgICAgICAgICAgICBsaWNlbnNlTnVtYmVyOiBfdGhpcy5hZ2VudERhdGEubGljZW5zZU51bWJlciwKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgICAgICAgYWdlbnRJRDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkJykudmFsdWUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnB1dCgnL2FwaS91cGRhdGVBZ2VudCcsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlbW9kYWwnKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnQWdlbnQgdXBkYXRlIHN1Y2Nlc3NmdWxseSEnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKS5jYXRjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihlcnJvcikgewogICAgICAgICAgICAgICAgICAgIHZhciBsaXN0LCBwcm9wZXJ0eTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNoZWNrIHRoZSBmb2xsb3dpbmc6ICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgX3RoaXMuZXJyb3JzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgX3RoaXMuZXJyb3JzW2ldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY29tcGxldGUgdGhlIGZvcm0hICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZE5ld0FnZW50TW9kYWw6IGZ1bmN0aW9uIGFkZE5ld0FnZW50TW9kYWwoKSB7CiAgICAgIHRoaXMucmVzZXRBZ2VudERhdGEoKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZGZvcm0iKS5yZXNldCgpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWdlbnRNb2RhbExhYmVsJykuaW5uZXJIVE1MID0gIkFkZCBBZ2VudCI7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtYnRuJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWJ0bicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Tm90ZU9wZW4nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ01hcHNMaW5rIikuaHJlZiA9ICcjJzsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXROb3RlcycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgfSwKICAgIGNyZWF0ZUFnZW50OiBmdW5jdGlvbiBjcmVhdGVBZ2VudCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICB2YXIgZGF0YSwgbGlzdCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycyA9IFtdOwoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmFnZW50RGF0YS5lbWFpbCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0VtYWlsIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICghX3RoaXMyLnZhbGlkRW1haWwoX3RoaXMyLmFnZW50RGF0YS5lbWFpbCkpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdWYWxpZCBlbWFpbCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5hZ2VudERhdGEuZmlyc3ROYW1lKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnRmlyc3QgTmFtZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5hZ2VudERhdGEubGFzdE5hbWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdMYXN0IE5hbWUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuYWdlbnREYXRhLmxhbmd1YWdlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnTGFuZ3VhZ2UgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuYWdlbnREYXRhLnN0YXR1cykgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ1N0YXR1cyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5hZ2VudERhdGEucGhvbmUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdQaG9uZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLnZhbGlkUGhvbmUoX3RoaXMyLmFnZW50RGF0YS5waG9uZSkgPT09IGZhbHNlICYmIF90aGlzMi5hZ2VudERhdGEucGhvbmUgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnUGxlYXNlLCB3cml0ZSBhIHZhbGlkIHBob25lIG51bWJlciEnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5hZ2VudERhdGEuZGVwYXJ0bWVudCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0RlcGFydG1lbnQgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuYWdlbnREYXRhLmJpcnRoRGF0ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0JpcnRoIGRhdGUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuYWdlbnREYXRhLmFkZHJlc3MpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdBZGRyZXNzIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmFnZW50RGF0YS5hZ2VudE51bWJlciAmJiBfdGhpczIuYWdlbnREYXRhLnN0YXR1cyA9PT0gNSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0FnZW50IE51bWJlciBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5hZ2VudERhdGEuaW5zdXJhbmNlTGljZW5zZSAmJiBfdGhpczIuYWdlbnREYXRhLnN0YXR1cyA9PT0gNSB8fCAhX3RoaXMyLmFnZW50RGF0YS5pbnN1cmFuY2VMaWNlbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnaXMgSW5zdXJhbmNlIExpY2Vuc2VkPyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5hZ2VudERhdGEubGljZW5zZU51bWJlciAmJiBfdGhpczIuYWdlbnREYXRhLnN0YXR1cyA9PT0gNSB8fCAhX3RoaXMyLmFnZW50RGF0YS5saWNlbnNlTnVtYmVyICYmIF90aGlzMi5hZ2VudERhdGEuaW5zdXJhbmNlTGljZW5zZSA9PT0gMSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0xpY2Vuc2UgbnVtYmVyIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIuZXJyb3JzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgICAgICAgICAgIGVtYWlsOiBfdGhpczIuYWdlbnREYXRhLmVtYWlsLnRvTG93ZXJDYXNlKCksCiAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogX3RoaXMyLmFnZW50RGF0YS5maXJzdE5hbWUsCiAgICAgICAgICAgICAgICAgIGxhc3ROYW1lOiBfdGhpczIuYWdlbnREYXRhLmxhc3ROYW1lLAogICAgICAgICAgICAgICAgICBsYW5ndWFnZTogX3RoaXMyLmFnZW50RGF0YS5sYW5ndWFnZSwKICAgICAgICAgICAgICAgICAgc3RhdHVzOiBfdGhpczIuYWdlbnREYXRhLnN0YXR1cywKICAgICAgICAgICAgICAgICAgc291cmNlOiBfdGhpczIuYWdlbnREYXRhLnNvdXJjZSwKICAgICAgICAgICAgICAgICAgcGhvbmVOdW1iZXI6IF90aGlzMi5hZ2VudERhdGEucGhvbmUsCiAgICAgICAgICAgICAgICAgIGRlcGFydG1lbnRJRDogX3RoaXMyLmFnZW50RGF0YS5kZXBhcnRtZW50LAogICAgICAgICAgICAgICAgICBzdGF0ZTogX3RoaXMyLmFnZW50RGF0YS5zdGF0ZSwKICAgICAgICAgICAgICAgICAgY2l0eTogX3RoaXMyLmFnZW50RGF0YS5jaXR5LAogICAgICAgICAgICAgICAgICBiaXJ0aERhdGU6IF90aGlzMi5mb3JtYXREYXRlKF90aGlzMi5hZ2VudERhdGEuYmlydGhEYXRlLCAnREQgTU1NLCBZWVlZJyksCiAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IF90aGlzMi5hZ2VudERhdGEuYWRkcmVzcywKICAgICAgICAgICAgICAgICAgY291bnRyeTogX3RoaXMyLmFnZW50RGF0YS5jb3VudHJ5LAogICAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBfdGhpczIuYWdlbnREYXRhLnppcENvZGUsCiAgICAgICAgICAgICAgICAgIGludGVydmlld0RhdGU6IF90aGlzMi5hZ2VudERhdGEuaW50ZXJ2aWV3LAogICAgICAgICAgICAgICAgICBhZ2VudE51bWJlcjogX3RoaXMyLmFnZW50RGF0YS5hZ2VudE51bWJlciwKICAgICAgICAgICAgICAgICAgY3JlYXRlZEJ5OiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgaXNMaWNlbnNlZDogX3RoaXMyLmFnZW50RGF0YS5pbnN1cmFuY2VMaWNlbnNlLAogICAgICAgICAgICAgICAgICBub3RlOiBfdGhpczIuYWdlbnREYXRhLm5vdGUsCiAgICAgICAgICAgICAgICAgIGxpY2Vuc2VOdW1iZXI6IF90aGlzMi5hZ2VudERhdGEubGljZW5zZU51bWJlciwKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9jcmVhdGVBZ2VudCcsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZGZvcm0iKS5yZXNldCgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlLmRhdGFbJ0lEJ10gIT09IG51bGwpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlbW9kYWwnKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0FnZW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5IScKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKS5jYXRjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNShlcnJvcikgewogICAgICAgICAgICAgICAgICAgIHZhciBsaXN0LCBwcm9wZXJ0eTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSArICc8L2I+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgX3RoaXMyLmVycm9ycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIF90aGlzMi5lcnJvcnNbaV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyNDsKICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjb21wbGV0ZSB0aGUgZm9ybSEgIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0RGVwYXJ0bWVudHM6IGZ1bmN0aW9uIGdldERlcGFydG1lbnRzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9nZXREZXBhcnRtZW50cycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldFVzZXJJbmZvOiBmdW5jdGlvbiBnZXRVc2VySW5mbyhpZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHZhciBkYXRhLCBhZ2VudEluZm87CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWJ0bicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC1idG4nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FnZW50TW9kYWxMYWJlbCcpLmlubmVySFRNTCA9ICJFZGl0IEFnZW50IjsKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIElEOiBpZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Tm90ZU9wZW4nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Tm90ZXMnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5nZXROb3RlcyhpZCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9nZXRVc2VyJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgYWdlbnRJbmZvID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRBZ2VudERhdGEoYWdlbnRJbmZvKTsKCiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpLnZhbHVlID0gYWdlbnRJbmZvLklEOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEVtYWlsJykudmFsdWUgPSBhZ2VudEluZm8uZW1haWw7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Rmlyc3ROYW1lJykudmFsdWUgPSBhZ2VudEluZm8uZmlyc3ROYW1lOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExhc3ROYW1lJykudmFsdWUgPSBhZ2VudEluZm8ubGFzdE5hbWU7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFuZ3VhZ2UnKS52YWx1ZSA9IGFnZW50SW5mby5sYW5ndWFnZTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRTdGF0dXMnKS52YWx1ZSA9IGFnZW50SW5mby5zdGF0dXM7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UGhvbmVOdW1iZXInKS52YWx1ZSA9IGFnZW50SW5mby5waG9uZU51bWJlcjsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXREZXBhcnRtZW50JykudmFsdWUgPSBhZ2VudEluZm8uZGVwYXJ0bWVudElEOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEJpcnRoRGF0ZScpLnZhbHVlID0gYWdlbnRJbmZvLmRhdGVPZkJpcnRoOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEFkZHJlc3MnKS52YWx1ZSA9IGFnZW50SW5mby5hZGRyZXNzOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFN0YXRlJykudmFsdWUgPSBhZ2VudEluZm8uc3RhdGU7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Q291bnRyeScpLnZhbHVlID0gYWdlbnRJbmZvLmNvdW50cnk7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UG9zdGFsQ29kZScpLnZhbHVlID0gYWdlbnRJbmZvLnBvc3RhbENvZGU7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QWdlbnROdW1iZXInKS52YWx1ZSA9IGFnZW50SW5mby5hZ2VudE51bWJlcjsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRDcmVhdGVkQnknKS52YWx1ZSA9IGFnZW50SW5mby5jcmVhdGVkQnk7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGljZW5zZWQnKS52YWx1ZSA9IGFnZW50SW5mby5pc0xpY2Vuc2VkOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEludGVydmlldycpLnZhbHVlID0gX3RoaXM0LmZvcm1hdERhdGUoYWdlbnRJbmZvLmludGVydmlld0RhdGUsICdNTU1NIERELCBZWVlZIEg6bW0gQScpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM0LmdldE1hcHNMaW5rKCk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIlNvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdmFsaWRFbWFpbDogZnVuY3Rpb24gdmFsaWRFbWFpbChlbWFpbCkgewogICAgICB2YXIgcmUgPSAvXigoW148PigpW1xdXFwuLDs6XHNAIl0rKFwuW148PigpW1xdXFwuLDs6XHNAIl0rKSopfCgiLisiKSlAKChcW1swLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cXSl8KChbYS16QS1aXC0wLTldK1wuKStbYS16QS1aXXsyLH0pKSQvOwogICAgICByZXR1cm4gcmUudGVzdChlbWFpbC50cmltKCkpOwogICAgfSwKICAgIHZhbGlkUGhvbmU6IGZ1bmN0aW9uIHZhbGlkUGhvbmUocGhvbmUpIHsKICAgICAgcmV0dXJuIC9eKFwrezAsfSkoXGR7MCx9KShbKF17MX1cZHsxLDN9WyldezAsfSl7MCx9KFxzP1xkK3xcK1xkezIsM31cc3sxfVxkK3xcZCspezF9W1xzfC1dP1xkKyhbXHN8LV0/XGQrKXsxLDJ9KFxzKXswLH0kL2dtLnRlc3QocGhvbmUpOwogICAgfSwKICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSwgZm9ybWF0KSB7CiAgICAgIGRhdGUgPSBtb21lbnQoZGF0ZSkuZm9ybWF0KGZvcm1hdCk7CgogICAgICBpZiAoZGF0ZSAhPT0gJ0ludmFsaWQgZGF0ZScpIHsKICAgICAgICByZXR1cm4gZGF0ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJyAnOwogICAgICB9CiAgICB9LAogICAgZm9ybWF0UGhvbmU6IGZ1bmN0aW9uIGZvcm1hdFBob25lKHBob25lKSB7CiAgICAgIHZhciBmbGFnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwOwoKICAgICAgLy8gaWYgZmxhZyA9PSAxIHB1dCB2YWx1ZSBpbiBwaG9uZSBFZGl0CiAgICAgIGlmIChwaG9uZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdmFyIHggPSBwaG9uZS5yZXBsYWNlKC9cRC9nLCAnJykubWF0Y2goLyhcZHswLDN9KShcZHswLDN9KShcZHswLDR9KS8pOwogICAgICAgIHBob25lID0gIXhbMl0gPyB4WzFdIDogJygnICsgeFsxXSArICcpICcgKyB4WzJdICsgKHhbM10gPyAnLScgKyB4WzNdIDogJycpOwogICAgICB9IGVsc2UgewogICAgICAgIHBob25lID0gJyc7CiAgICAgIH0KCiAgICAgIGlmIChmbGFnICE9PSAxKSB7CiAgICAgICAgcmV0dXJuIHBob25lOwogICAgICB9IGVsc2UgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UGhvbmVOdW1iZXInKS52YWx1ZSA9IHBob25lOwogICAgICB9CiAgICB9LAogICAgc2V0QWdlbnREYXRhOiBmdW5jdGlvbiBzZXRBZ2VudERhdGEoZGF0YSkgewogICAgICB0aGlzLmFnZW50RGF0YS5lbWFpbCA9IGRhdGEuZW1haWw7CiAgICAgIHRoaXMuYWdlbnREYXRhLmZpcnN0TmFtZSA9IGRhdGEuZmlyc3ROYW1lOwogICAgICB0aGlzLmFnZW50RGF0YS5sYXN0TmFtZSA9IGRhdGEubGFzdE5hbWU7CiAgICAgIHRoaXMuYWdlbnREYXRhLmxhbmd1YWdlID0gZGF0YS5sYW5ndWFnZTsKICAgICAgdGhpcy5hZ2VudERhdGEuc3RhdHVzID0gZGF0YS5zdGF0dXM7CiAgICAgIHRoaXMuYWdlbnREYXRhLnNvdXJjZSA9IGRhdGEuc291cmNlOwogICAgICB0aGlzLmFnZW50RGF0YS5waG9uZSA9IGRhdGEucGhvbmVOdW1iZXI7CiAgICAgIHRoaXMuYWdlbnREYXRhLmRlcGFydG1lbnQgPSBkYXRhLmRlcGFydG1lbnRJRDsKICAgICAgdGhpcy5hZ2VudERhdGEuYmlydGhEYXRlID0gdGhpcy5mb3JtYXREYXRlKGRhdGEuZGF0ZU9mQmlydGgsICdERCBNTU0sIFlZWVknKTsKICAgICAgdGhpcy5hZ2VudERhdGEuaW50ZXJ2aWV3ID0gdGhpcy5mb3JtYXREYXRlKGRhdGEuaW50ZXJ2aWV3RGF0ZSwgJ01NTU0gREQsIFlZWVkgSDpNTSBBJyk7CiAgICAgIHRoaXMuYWdlbnREYXRhLmFkZHJlc3MgPSBkYXRhLmFkZHJlc3M7CiAgICAgIHRoaXMuYWdlbnREYXRhLnN0YXRlID0gZGF0YS5zdGF0ZTsKICAgICAgdGhpcy5hZ2VudERhdGEuY2l0eSA9IGRhdGEuY2l0eTsKICAgICAgdGhpcy5hZ2VudERhdGEuY291bnRyeSA9IGRhdGEuY291bnRyeTsKICAgICAgdGhpcy5hZ2VudERhdGEuemlwQ29kZSA9IGRhdGEucG9zdGFsQ29kZTsKICAgICAgdGhpcy5hZ2VudERhdGEuYWdlbnROdW1iZXIgPSBkYXRhLmFnZW50TnVtYmVyOwogICAgICB0aGlzLmFnZW50RGF0YS5jcmVhdGVkQnkgPSBkYXRhLmNyZWF0ZWRCeTsKICAgICAgdGhpcy5hZ2VudERhdGEuaW5zdXJhbmNlTGljZW5zZSA9IGRhdGEuaXNMaWNlbnNlZDsKICAgICAgdGhpcy5hZ2VudERhdGEubGljZW5zZU51bWJlciA9IGRhdGEubGljZW5zZU51bWJlcjsKICAgIH0sCiAgICByZXNldEFnZW50RGF0YTogZnVuY3Rpb24gcmVzZXRBZ2VudERhdGEoKSB7CiAgICAgIHRoaXMuYWdlbnREYXRhID0gewogICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgZmlyc3ROYW1lOiAnJywKICAgICAgICBsYXN0TmFtZTogJycsCiAgICAgICAgbGFuZ3VhZ2U6ICcnLAogICAgICAgIHN0YXR1czogJycsCiAgICAgICAgcGhvbmU6ICcnLAogICAgICAgIGRlcGFydG1lbnQ6ICcnLAogICAgICAgIHN0YXRlOiAnJywKICAgICAgICBiaXJ0aERhdGU6ICcnLAogICAgICAgIGFkZHJlc3M6ICcnLAogICAgICAgIGNvdW50cnk6ICcnLAogICAgICAgIHppcENvZGU6ICcnLAogICAgICAgIGludGVydmlldzogJycsCiAgICAgICAgYWdlbnROdW1iZXI6ICcnLAogICAgICAgIGNyZWF0ZWRCeTogJycsCiAgICAgICAgaW5zdXJhbmNlTGljZW5zZTogJycsCiAgICAgICAgbGljZW5zZU51bWJlcjogJycsCiAgICAgICAgbm90ZTogJycKICAgICAgfTsKICAgIH0sCiAgICB1cGRhdGVBZ2VudExpc3Q6IGZ1bmN0aW9uIHVwZGF0ZUFnZW50TGlzdCgpIHsKICAgICAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHMsCiAgICAgICAgICBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgdmFyIHN0YXR1cywgdmFsaWRhdGUsIGVycm9ycywgZmlsdGVyTGFuZ3VhZ2UsIGZpbHRlcktleXdvcmQsIGZpbHRlckxpY2Vuc2VkLCBmaWx0ZXJOb3RlcywgZmlsdGVyRnJvbURhdGUsIGZpbHRlclRvRGF0ZSwgaXNBY3RpdmUsIHN0YXJ0LCBlbmQsIGRheXMsIGRhdGEsIGxpc3QsIGk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXR1cyA9IF9hcmd1bWVudHMubGVuZ3RoID4gMCAmJiBfYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzWzBdIDogJzAnOwogICAgICAgICAgICAgICAgdmFsaWRhdGUgPSB0cnVlOwogICAgICAgICAgICAgICAgZXJyb3JzID0gW107CiAgICAgICAgICAgICAgICBmaWx0ZXJMYW5ndWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJMYW5ndWFnZSIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyS2V5d29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJLZXl3b3JkIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJMaWNlbnNlZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJMaWNlbnNlZCIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyTm90ZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyTm90ZXMiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlckZyb21EYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlckZyb21EYXRlIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJUb0RhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyVG9EYXRlIikudmFsdWU7CiAgICAgICAgICAgICAgICBpc0FjdGl2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpc0FjdGl2ZScpLmNoZWNrZWQ7CgogICAgICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gJzAnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5kYXRhLnNlYXJjaFZhbHVlcy5zdGF0dXMgPSBzdGF0dXM7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczUuZGF0YS5zZWFyY2hWYWx1ZXMuc3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlclN0YXR1cyIpLnZhbHVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChpc0FjdGl2ZSA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczUuZGF0YS5zZWFyY2hWYWx1ZXMuaXNBY3RpdmUgPSAxOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmRhdGEuc2VhcmNoVmFsdWVzLmlzQWN0aXZlID0gMDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyTGFuZ3VhZ2UgIT09ICcnICYmIChmaWx0ZXJMYW5ndWFnZSA9PT0gJzEnIHx8IGZpbHRlckxhbmd1YWdlID09PSAnMicpKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5kYXRhLnNlYXJjaFZhbHVlcy5sYW5ndWFnZSA9IGZpbHRlckxhbmd1YWdlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJLZXl3b3JkICE9PSAnJyAmJiBmaWx0ZXJLZXl3b3JkLmxlbmd0aCA+PSAzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5kYXRhLnNlYXJjaFZhbHVlcy5rZXl3b3JkID0gZmlsdGVyS2V5d29yZDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmlsdGVyS2V5d29yZCAhPT0gJycgJiYgZmlsdGVyS2V5d29yZC5sZW5ndGggPCAzKSB7CiAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCdLZXl3b3JkIHNlYXJjaCBzaG91bGQgaGF2ZSAzIG9yIG1vcmUgY2hhcmFjdGVycyEnKTsKICAgICAgICAgICAgICAgICAgdmFsaWRhdGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyTGljZW5zZWQgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5kYXRhLnNlYXJjaFZhbHVlcy5saWNlbnNlZCA9IGZpbHRlckxpY2Vuc2VkOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJOb3RlcyAhPT0gJycgJiYgZmlsdGVyTm90ZXMubGVuZ3RoID49IDMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmRhdGEuc2VhcmNoVmFsdWVzLm5vdGVTZWFyY2ggPSBmaWx0ZXJOb3RlczsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmlsdGVyTm90ZXMgIT09ICcnICYmIGZpbHRlck5vdGVzLmxlbmd0aCA8IDMpIHsKICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goJ05vdGVzIHNlYXJjaCBzaG91bGQgaGF2ZSAzIG9yIG1vcmUgY2hhcmFjdGVycyEnKTsKICAgICAgICAgICAgICAgICAgdmFsaWRhdGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzdGFydCA9IG1vbWVudChfdGhpczUuZm9ybWF0RGF0ZShmaWx0ZXJGcm9tRGF0ZSwgJ1lZWVktTU0tREQnKSk7CiAgICAgICAgICAgICAgICBlbmQgPSBtb21lbnQoX3RoaXM1LmZvcm1hdERhdGUoZmlsdGVyVG9EYXRlLCAnWVlZWS1NTS1ERCcpKTsKICAgICAgICAgICAgICAgIGRheXMgPSBlbmQuZGlmZihzdGFydCwgImRheXMiKTsKCiAgICAgICAgICAgICAgICBpZiAoZGF5cyA8PSAzNjUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmRhdGEuc2VhcmNoVmFsdWVzLmZyb21EYXRlID0gZmlsdGVyRnJvbURhdGU7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5kYXRhLnNlYXJjaFZhbHVlcy50b0RhdGUgPSBmaWx0ZXJUb0RhdGU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCgiRnJvbSBEYXRlIGFuZCBUbyBEYXRlIChyYW5nZSkgY291bGRuJ3QgYmUgbGFyZ2VyIHRoYW4gYSB5ZWFyICgzNjUgZGF5cykhIik7CiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgaXNQcm9zcGVjdDogMCwKICAgICAgICAgICAgICAgICAgc2VhcmNoVmFsdWVzOiBfdGhpczUuZGF0YS5zZWFyY2hWYWx1ZXMsCiAgICAgICAgICAgICAgICAgIHVzZXJFbWFpbDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJykKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDI1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBheGlvcy5wb3N0KCcvYXBpL2xpc3RBZ2VudHMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpczUubGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5wYWdlID0gMTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNS5zZXRQYWdlcygpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwogICAgICAgICAgICAgICAgICAgIH0gLy8gZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5lcnJvcnMucHVzaChgJHtwcm9wZXJ0eX06ICR7ZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV19YCkKICAgICAgICAgICAgICAgICAgICAvLyB9CgogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczUuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAyOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBlcnJvcnMubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICAgICAgICAgICAgbGlzdCArPSBlcnJvcnNbaV0gKyAnIFxuJzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSgiIiArIGxpc3QsICcnLCAnaW5mbycpOwoKICAgICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2V0UGFnZXM6IGZ1bmN0aW9uIHNldFBhZ2VzKCkgewogICAgICB2YXIgbnVtYmVyT2ZQYWdlcyA9IE1hdGguY2VpbCh0aGlzLmxpc3QubGVuZ3RoIC8gdGhpcy5wZXJQYWdlKTsKICAgICAgdGhpcy5wYWdlcyA9IFtdOwoKICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8PSBudW1iZXJPZlBhZ2VzOyBpbmRleCsrKSB7CiAgICAgICAgdGhpcy5wYWdlcy5wdXNoKGluZGV4KTsKICAgICAgfQogICAgfSwKICAgIHBhZ2luYXRlOiBmdW5jdGlvbiBwYWdpbmF0ZShjb21wYW5pZXMpIHsKICAgICAgdmFyIHBhZ2UgPSB0aGlzLnBhZ2U7CiAgICAgIHZhciBwZXJQYWdlID0gdGhpcy5wZXJQYWdlOwogICAgICB2YXIgZnJvbSA9IHBhZ2UgKiBwZXJQYWdlIC0gcGVyUGFnZTsKICAgICAgdmFyIHRvID0gcGFnZSAqIHBlclBhZ2U7CiAgICAgIHJldHVybiBjb21wYW5pZXMuc2xpY2UoZnJvbSwgdG8pOwogICAgfSwKICAgIGZpbHRlclN0YXR1czogZnVuY3Rpb24gZmlsdGVyU3RhdHVzKHN0YXR1cykgewogICAgICB2YXIgc3RhdHVzQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3RhdHVzKTsKICAgICAgc3RhdHVzQnV0dG9uLmNsaWNrKCk7CiAgICB9LAogICAgZGVsZXRlVXNlcjogZnVuY3Rpb24gZGVsZXRlVXNlcihJRCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHZhciBzd2FsV2l0aEJvb3RzdHJhcEJ1dHRvbnMgPSBTd2FsLm1peGluKHsKICAgICAgICBjdXN0b21DbGFzczogewogICAgICAgICAgY29uZmlybUJ1dHRvbjogImJ0biBidG4tZGFuZ2VyIG1sLTIiLAogICAgICAgICAgY2FuY2VsQnV0dG9uOiAiYnRuIGJ0bi1zdWNjZXNzIgogICAgICAgIH0sCiAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlCiAgICAgIH0pOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc2VsZWN0ZWRVc2VyJywgSUQpOwogICAgICBzd2FsV2l0aEJvb3RzdHJhcEJ1dHRvbnMuZmlyZSh7CiAgICAgICAgdGl0bGU6ICJBcmUgeW91IHN1cmU/IiwKICAgICAgICB0ZXh0OiAiWW91IHdvbid0IGJlIGFibGUgdG8gcmV2ZXJ0IHRoaXMhIiwKICAgICAgICBpY29uOiAid2FybmluZyIsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJZZXMsIGRlbGV0ZSBpdCEiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICJObywgY2FuY2VsISIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgdXNlck5hbWU6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdmaXJzdE5hbWUnKSArICcgJyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsYXN0bmFtZScpLAogICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICBhZ2VudElEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2VsZWN0ZWRVc2VyJykKICAgICAgICAgIH07CiAgICAgICAgICBheGlvcy5wdXQoJy9hcGkvZGVsZXRlVXNlcicsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfcmVmNSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LnVwZGF0ZUFnZW50TGlzdCgpOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN3YWxXaXRoQm9vdHN0cmFwQnV0dG9ucy5maXJlKCJEZWxldGVkISIsICJBZ2VudCBoYXMgYmVlbiBkZWxldGVkLiIsICJzdWNjZXNzIik7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDUpIHsKICAgICAgICAgICAgICByZXR1cm4gX3JlZjUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfcmVmNiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKGVycm9yKSB7CiAgICAgICAgICAgICAgdmFyIGxpc3QsIHByb3BlcnR5OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSArICc8L2I+JzsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNoZWNrIHRoZSBmb2xsb3dpbmc6ICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDYpIHsKICAgICAgICAgICAgICByZXR1cm4gX3JlZjYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0oKSk7CiAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAvKiBSZWFkIG1vcmUgYWJvdXQgaGFuZGxpbmcgZGlzbWlzc2FscyBiZWxvdyAqLwogICAgICAgIHJlc3VsdC5kaXNtaXNzID09PSBTd2FsLkRpc21pc3NSZWFzb24uY2FuY2VsKSB7CiAgICAgICAgICBzd2FsV2l0aEJvb3RzdHJhcEJ1dHRvbnMuZmlyZSgiQ2FuY2VsbGVkIiwgIkFnZW50IGlzIGluIGEgc2FmZSBwbGFjZSA6KSIsICJlcnJvciIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRm9jdXM6IGZ1bmN0aW9uIGhhbmRsZUZvY3VzKGUpIHsKICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCAibm9wZSIpOwogICAgfSwKICAgIHZpZXdVc2VyR3JvdXA6IGZ1bmN0aW9uIHZpZXdVc2VyR3JvdXAocmVxdWVzdCkgewogICAgICB2YXIgY3VycmVudFJvbGUgPSBqd3RfZGVjb2RlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSk7CiAgICAgIHJldHVybiBjdXJyZW50Um9sZS51c2VyR3JvdXAuaW5jbHVkZXMocmVxdWVzdCk7CiAgICB9LAogICAgcHJpbnRFbWl0OiBmdW5jdGlvbiBwcmludEVtaXQobm90aWZ5KSB7CiAgICAgIHRoaXMuY2hhdE1lc3NhZ2VzRGF0YSA9IG5vdGlmeTsKICAgIH0sCiAgICBmb3JtU3VibWl0OiBmdW5jdGlvbiBmb3JtU3VibWl0KCkgewogICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7IC8vIHN0b3AgaGVyZSBpZiBmb3JtIGlzIGludmFsaWQKCiAgICAgIHRoaXMudiQuJHRvdWNoKCk7CgogICAgICBpZiAodGhpcy52JC4kaW52YWxpZCkgewogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgbWVzc2FnZSA9IHRoaXMuZm9ybS5tZXNzYWdlOwogICAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgICAgdGhpcy5jaGF0TWVzc2FnZXNEYXRhLnB1c2goewogICAgICAgICAgYWxpZ246ICJyaWdodCIsCiAgICAgICAgICBuYW1lOiAiSGVucnkgV2VsbHMiLAogICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSwKICAgICAgICAgIHRpbWU6IGN1cnJlbnREYXRlLmdldEhvdXJzKCkgKyAiOiIgKyBjdXJyZW50RGF0ZS5nZXRNaW51dGVzKCkKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgICAgdGhpcy5mb3JtID0ge307CiAgICB9LAogICAgY2hhdFVzZXJuYW1lOiBmdW5jdGlvbiBjaGF0VXNlcm5hbWUobmFtZSwgaW1hZ2UpIHsKICAgICAgdGhpcy51c2VybmFtZSA9IG5hbWU7CiAgICAgIHRoaXMucHJvZmlsZSA9IGltYWdlOwogICAgICB0aGlzLnVzZXJtZXNzYWdlID0gIkhlbGxvIjsKICAgICAgdGhpcy5jaGF0TWVzc2FnZXNEYXRhID0gW107CiAgICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgIHRoaXMuY2hhdE1lc3NhZ2VzRGF0YS5wdXNoKHsKICAgICAgICBuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgIG1lc3NhZ2U6IHRoaXMudXNlcm1lc3NhZ2UsCiAgICAgICAgdGltZTogY3VycmVudERhdGUuZ2V0SG91cnMoKSArICI6IiArIGN1cnJlbnREYXRlLmdldE1pbnV0ZXMoKQogICAgICB9KTsKICAgIH0sCiAgICBnZXROb3RlczogZnVuY3Rpb24gZ2V0Tm90ZXMoKSB7CiAgICAgIHZhciBfYXJndW1lbnRzMiA9IGFyZ3VtZW50cywKICAgICAgICAgIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7CiAgICAgICAgdmFyIGlkLCBkYXRhLCB1cmw7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZCA9IF9hcmd1bWVudHMyLmxlbmd0aCA+IDAgJiYgX2FyZ3VtZW50czJbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHMyWzBdIDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpOwogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKSwKICAgICAgICAgICAgICAgICAgYWdlbnRJRDogaWQsCiAgICAgICAgICAgICAgICAgIGNsaWVudElEOiBpZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzZWxlY3RlZFVzZXInLCBpZCk7CiAgICAgICAgICAgICAgICB1cmwgPSAnJzsKICAgICAgICAgICAgICAgIHVybCA9ICcvYXBpL2dldFVzZXJOb3Rlcyc7CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QodXJsLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpczcubm90ZXNEYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIk5vdGVzIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNob3dQYXNzd29yZDogZnVuY3Rpb24gc2hvd1Bhc3N3b3JkKCkgewogICAgICB2YXIgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJuZXdwYXNzd29yZElucHV0Iik7CiAgICAgIHZhciB5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbmZpcm1wYXNzd29yZElucHV0Iik7CgogICAgICBpZiAoeC50eXBlID09PSAicGFzc3dvcmQiKSB7CiAgICAgICAgeC50eXBlID0gInRleHQiOwogICAgICAgIHkudHlwZSA9ICJ0ZXh0IjsKICAgICAgfSBlbHNlIHsKICAgICAgICB4LnR5cGUgPSAicGFzc3dvcmQiOwogICAgICAgIHkudHlwZSA9ICJwYXNzd29yZCI7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVVc2VyUGFzc3dvcmQ6IGZ1bmN0aW9uIHVwZGF0ZVVzZXJQYXNzd29yZCgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoKSB7CiAgICAgICAgdmFyIGRhdGEsIGxpc3QsIGk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczguZXJyb3JzID0gW107CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczgucGFzc3dvcmQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM4LmVycm9ycy5wdXNoKCdOZXcgcGFzc3dvcmQgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczguY29uZmlybVBhc3dvcmQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM4LmVycm9ycy5wdXNoKCdDb25maXJtIFBhc3N3b3JkIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczgucGFzc3dvcmQgIT09IF90aGlzOC5jb25maXJtUGFzd29yZCB8fCBfdGhpczgucGFzc3dvcmQubGVuZ3RoIDw9IDAgJiYgX3RoaXM4LmNvbmZpcm1QYXN3b3JkLmxlbmd0aCA8PSAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOC5lcnJvcnMucHVzaCgnUGFzc3dvcmRzIGRvblwndCBtYXRjaC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM4LmVycm9ycy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogX3RoaXM4LnBhc3N3b3JkLAogICAgICAgICAgICAgICAgICBjb25maXJtUGFzc3dvcmQ6IF90aGlzOC5jb25maXJtUGFzd29yZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucHV0KCcvYXBpL3VwZGF0ZVVzZXJQYXNzd29yZCcsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmNyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdQYXNzd29yZCB1cGRhdGVkIScKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2Vtb2RhbFBhc3N3b3JkJykuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5wYXNzd29yZCA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LmNvbmZpcm1QYXN3b3JkID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTEzKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDcpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmOCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QsIHByb3BlcnR5OwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjogIikuY29uY2F0KGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5lcnJvcnMucHVzaCgnU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTQpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94OCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmOC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgX3RoaXM4LmVycm9ycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIF90aGlzOC5lcnJvcnNbaV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY29tcGxldGUgdGhlIGZvcm0hICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2V0VXNlcklEOiBmdW5jdGlvbiBzZXRVc2VySUQoSUQpIHsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3NlbGVjdGVkVXNlcicsIElEKTsKICAgIH0sCiAgICBnZXRNYXBzTGluazogZnVuY3Rpb24gZ2V0TWFwc0xpbmsoKSB7CiAgICAgIHZhciBsaW5rID0gJ2h0dHBzOi8vbWFwcy5nb29nbGUuY29tLz9xPSc7CgogICAgICBpZiAodGhpcy5hZ2VudERhdGEuYWRkcmVzcy5sZW5ndGggPiAwKSB7CiAgICAgICAgbGluayArPSAnKycgKyB0aGlzLmFnZW50RGF0YS5hZGRyZXNzOwogICAgICB9CgogICAgICBpZiAodGhpcy5hZ2VudERhdGEuemlwQ29kZS5sZW5ndGggPiAwKSB7CiAgICAgICAgbGluayArPSAnKycgKyB0aGlzLmFnZW50RGF0YS56aXBDb2RlOwogICAgICB9CgogICAgICBpZiAodGhpcy5hZ2VudERhdGEuY2l0eS5sZW5ndGggPiAwKSB7CiAgICAgICAgbGluayArPSAnKycgKyB0aGlzLmFnZW50RGF0YS5jaXR5OwogICAgICB9CgogICAgICBpZiAodGhpcy5hZ2VudERhdGEuc3RhdGUubGVuZ3RoID4gMCkgewogICAgICAgIGxpbmsgKz0gJysnICsgdGhpcy5hZ2VudERhdGEuc3RhdGU7CiAgICAgIH0KCiAgICAgIGlmIChsaW5rICE9PSAnaHR0cHM6Ly9tYXBzLmdvb2dsZS5jb20vP3E9JykgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnTWFwc0xpbmsiKS5ocmVmID0gbGluazsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ01hcHNMaW5rIikuaHJlZiA9ICcjJzsKICAgICAgfQogICAgfSwKICAgIGdldFVzZXJQZXJtaXNzaW9uczogZnVuY3Rpb24gZ2V0VXNlclBlcm1pc3Npb25zKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOCgpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE4JChfY29udGV4dDE4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTgucHJldiA9IF9jb250ZXh0MTgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpLAogICAgICAgICAgICAgICAgICBzZWxlY3Q6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnaXZlUGVybWlzc2lvbnMnKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9nZXRQZXJtaXNzaW9uc0NvdW50JywgZGF0YSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE2JChfY29udGV4dDE2KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTYucHJldiA9IF9jb250ZXh0MTYubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5oYXZlUGVybWlzc2lvbnMgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5oYXZlUGVybWlzc2lvbnMgPSAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTE2KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMTAgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNyhlcnJvcikgewogICAgICAgICAgICAgICAgICAgIHZhciBsaXN0LCBwcm9wZXJ0eTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTcucHJldiA9IF9jb250ZXh0MTcubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczkuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSArICc8L2I+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNoZWNrIHRoZSBmb2xsb3dpbmc6ICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczkuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTE3KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDEwKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYxMC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBwZXJtaXNzaW9uc1RvVXNlcjogZnVuY3Rpb24gcGVybWlzc2lvbnNUb1VzZXIoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMSgpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIxJChfY29udGV4dDIxKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjEucHJldiA9IF9jb250ZXh0MjEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnaXZlUGVybWlzc2lvbnMnKSAhPT0gJycpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpLAogICAgICAgICAgICAgICAgICBzZWxlY3Q6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnaXZlUGVybWlzc2lvbnMnKSwKICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbjogX3RoaXMxMC5oYXZlUGVybWlzc2lvbnMKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvdXBkYXRlUGVybWlzc2lvbnMnLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjExID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTkocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE5JChfY29udGV4dDE5KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTkucHJldiA9IF9jb250ZXh0MTkubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMC5oYXZlUGVybWlzc2lvbnMgPT09ICcxJyAmJiByZXNwb25zZS5kYXRhID09PSAxKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1Blcm1pc3Npb25zIGFzc2lnbmVkIScKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlLmRhdGEgPT09IDApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2luZm8nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ05vIGNoYW5nZSBhcHBsaWVkLicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdOb3RoaW5nIEhhcHBlbnMhJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1Blcm1pc3Npb25zIHJlbW92ZWQhJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2Vtb2RhbFBhc3N3b3JkJykuY2xpY2soKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTE5KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDExKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYxMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKS5jYXRjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYxMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIwKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QsIHByb3BlcnR5OwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjAkKF9jb250ZXh0MjApIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMC5wcmV2ID0gX2NvbnRleHQyMC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIwLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjaGVjayB0aGUgZm9sbG93aW5nOiAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC5lcnJvcnMucHVzaCgnU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMjApOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MTIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjEyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIxLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZUZpbGVVcGxvYWQ6IGZ1bmN0aW9uIGhhbmRsZUZpbGVVcGxvYWQoKSB7CiAgICAgIHRoaXMuZmlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXN0RmlsZScpLmZpbGVzWzBdOwogICAgICB0aGlzLnBhcnNlRmlsZSgpOwogICAgfSwKICAgIHBhcnNlRmlsZTogZnVuY3Rpb24gcGFyc2VGaWxlKCkgewogICAgICB2YXIgYWxsb3dlZEV4dGVuc2lvbnMgPSAvKFwuY3N2KSQvaTsKCiAgICAgIGlmIChhbGxvd2VkRXh0ZW5zaW9ucy5leGVjKHRoaXMuZmlsZS5uYW1lKSkgewogICAgICAgIFBhcGEucGFyc2UodGhpcy5maWxlLCB7CiAgICAgICAgICBoZWFkZXI6IHRydWUsCiAgICAgICAgICBza2lwRW1wdHlMaW5lczogdHJ1ZSwKICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAocmVzdWx0cykgewogICAgICAgICAgICBpZiAodGhpcy5jb21wYXJlKHRoaXMuc3BlY3RlZENvbHVtbnNpbmRlZWQsIHJlc3VsdHMubWV0YS5maWVsZHMpKSB7CiAgICAgICAgICAgICAgdGhpcy5jb250ZW50ID0gcmVzdWx0czsKICAgICAgICAgICAgICB0aGlzLnBhcnNlZCA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgIHRpdGxlOiAiT29wcywgdGhpcyBmaWxlIGlzIG5vdCB3aGF0IHdlIHNwZWN0ZWQhIiwKICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfS5iaW5kKHRoaXMpCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgIHRpdGxlOiAiRmlsZSBleHRlbnNpb24gbm90IHN1cHBvcnRlZCEiLAogICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgY29tcGFyZTogZnVuY3Rpb24gY29tcGFyZShvMSwgbzIpIHsKICAgICAgZm9yICh2YXIgcCBpbiBvMSkgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnMKICAgICAgICBpZiAobzEuaGFzT3duUHJvcGVydHkocCkpIHsKICAgICAgICAgIGlmIChvMVtwXSAhPT0gbzJbcF0pIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgZm9yICh2YXIgX3AgaW4gbzIpIHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zCiAgICAgICAgaWYgKG8yLmhhc093blByb3BlcnR5KF9wKSkgewogICAgICAgICAgaWYgKG8xW19wXSAhPT0gbzJbX3BdKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICAgIHVwbG9hZEZpbGU6IGZ1bmN0aW9uIHVwbG9hZEZpbGUoKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNCgpIHsKICAgICAgICB2YXIgZGF0YSwgbGlzdCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI0JChfY29udGV4dDI0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjQucHJldiA9IF9jb250ZXh0MjQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMTEuZXJyb3JzID0gW107CgogICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGxvYWRMYW5ndWFnZScpLnZhbHVlID09PSAnJykgewogICAgICAgICAgICAgICAgICBfdGhpczExLmVycm9ycy5wdXNoKCdMYW5ndWFnZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwbG9hZFN0YXR1cycpLnZhbHVlID09PSAnJykgewogICAgICAgICAgICAgICAgICBfdGhpczExLmVycm9ycy5wdXNoKCdTdGF0dXMgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGxvYWRUeXBlJykudmFsdWUgPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTEuZXJyb3JzLnB1c2goJ1NvdXJjZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMS5jb250ZW50Lmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICBfdGhpczExLmVycm9ycy5wdXNoKCdQbGVhc2UsIHVwbG9hZCBhbmQgcHJvY2VzcyB5b3VyIC5jc3YgZmlsZS4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczExLmVycm9ycy5sZW5ndGggPT09IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICBsaXN0T2ZEYXRhOiBfdGhpczExLmNvbnRlbnQsCiAgICAgICAgICAgICAgICAgIHVwbG9hZFRvOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmlyc3ROYW1lJykgKyAnICcgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGFzdG5hbWUnKSArICcgfCAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgICAgICAgIGlzUHJvc3BlY3Q6IDAsCiAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBsb2FkTGFuZ3VhZ2UnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgc3RhdHVzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBsb2FkU3RhdHVzJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIHNvdXJjZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwbG9hZFR5cGUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgZGVwYXJ0bWVudDogX3RoaXMxMS5zZWxlY3RlZERlcGFydG1lbnRGb3JBZ2VudExpc3QsCiAgICAgICAgICAgICAgICAgIGxpc3RUeXBlOiAxCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL3VwbG9hZEFnZW50TGlzdCcsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMTMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjIkKF9jb250ZXh0MjIpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMi5wcmV2ID0gX2NvbnRleHQyMi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnVXBsb2FkZWQgc3VjY2Vzc2Z1bGx5IScKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMjIpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MTMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjEzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpLmNhdGNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjE0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjMoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMyQoX2NvbnRleHQyMykgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIzLnByZXYgPSBfY29udGV4dDIzLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSArICc8L2I+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNoZWNrIHRoZSBmb2xsb3dpbmc6ICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczExLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIzLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyMyk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gxNCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMTQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IF90aGlzMTEuZXJyb3JzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgX3RoaXMxMS5lcnJvcnNbaV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY29tcGxldGUgdGhlIGZvcm0hICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTI0KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNSgpIHsKICAgICAgdmFyIGZpZWxkLCB1cmwsIHF1ZXJ5U3RyaW5nLCB1cmxQYXJhbXMsIHN0YXR1cywgZGF0YSwgY2hlY2tBbGw7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjUkKF9jb250ZXh0MjUpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDI1LnByZXYgPSBfY29udGV4dDI1Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGZpZWxkID0gJ24nOwogICAgICAgICAgICAgIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgICAgICAgICAgIHF1ZXJ5U3RyaW5nID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDsKICAgICAgICAgICAgICB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHF1ZXJ5U3RyaW5nKTsKICAgICAgICAgICAgICBzdGF0dXMgPSB1cmxQYXJhbXMuZ2V0KGZpZWxkKTsKICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgIHNlYXJjaFZhbHVlczogX3RoaXMxMi5kYXRhLnNlYXJjaFZhbHVlcwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQyNS5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9saXN0RGVwYXJ0bWVudHMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXMxMi5kZXBhcnRtZW50TGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTIuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJEZXBhcnRtZW50cyBjb3VsZCBub3QgYmUgbG9hZGVkLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIF9jb250ZXh0MjUubmV4dCA9IDEwOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2xpc3RTdGF0dXMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXMxMi5zdGF0dXNMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIlN0YXR1cyBjb3VsZCBub3QgYmUgbG9hZGVkLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSAxMjsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9saXN0U291cmNlJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzMTIuc291cmNlc0xpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczEyLiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiU3RhdHVzIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGlmICghKHVybC5pbmRleE9mKCc/JyArIGZpZWxkICsgJz0nKSAhPT0gLTEpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3RhdHVzKS5jbGljaygpOwogICAgICAgICAgICAgIF9jb250ZXh0MjUubmV4dCA9IDE4OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSAxODsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9saXN0QWdlbnRzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzMTIubGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczEyLnBhZ2UgPSAxOwoKICAgICAgICAgICAgICAgIF90aGlzMTIuc2V0UGFnZXMoKTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwogICAgICAgICAgICAgICAgICB9IC8vIGZvciAoY29uc3QgcHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAvLyB0aGlzLmVycm9ycy5wdXNoKGAke3Byb3BlcnR5fTogJHtlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XX1gKQogICAgICAgICAgICAgICAgICAvLyB9CgogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTIuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNoZWNrQWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoZWNrQWxsIik7CgogICAgICAgICAgICAgIGlmIChjaGVja0FsbCkgewogICAgICAgICAgICAgICAgY2hlY2tBbGwub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIGNoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybS1jaGVjay1hbGwgaW5wdXRbdHlwZT0iY2hlY2tib3giXScpOwoKICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrQWxsLmNoZWNrZWQgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgIGNoZWNrYm94ZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hlY2tib3gpIHsKICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guY2xvc2VzdCgidHIiKS5jbGFzc0xpc3QuYWRkKCJ0YWJsZS1hY3RpdmUiKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjaGVja2JveGVzLmZvckVhY2goZnVuY3Rpb24gKGNoZWNrYm94KSB7CiAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5jbG9zZXN0KCJ0ciIpLmNsYXNzTGlzdC5yZW1vdmUoInRhYmxlLWFjdGl2ZSIpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTI1KTsKICAgIH0pKSgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRpc3BsYXllZFBvc3RzOiBmdW5jdGlvbiBkaXNwbGF5ZWRQb3N0cygpIHsKICAgICAgcmV0dXJuIHRoaXMucGFnaW5hdGUodGhpcy5saXN0KTsKICAgIH0sCiAgICByZXN1bHRRdWVyeTogZnVuY3Rpb24gcmVzdWx0UXVlcnkoKSB7CiAgICAgIGlmICh0aGlzLmRhdGEuc2VhcmNoVmFsdWVzLmtleXdvcmQubGVuZ3RoID49IDMpIHsKICAgICAgICB2YXIgc2VhcmNoID0gdGhpcy5kYXRhLnNlYXJjaFZhbHVlcy5rZXl3b3JkLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheWVkUG9zdHMuZmlsdGVyKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICByZXR1cm4gZGF0YS5hZGRyZXNzLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLmFnZW50TnVtYmVyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLmNpdHkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpIHx8IGRhdGEuZW1haWwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpIHx8IGRhdGEucGhvbmVOdW1iZXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpIHx8IGRhdGEuZmlyc3ROYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLmxhc3ROYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLmZ1bGxuYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLnN0YXR1c05hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXllZFBvc3RzOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["flatPickr","moment","Multiselect","Layout","PageHeader","appConfig","Swal","Lottie","axios","animationData","calendar","jwt_decode","notes","Papa","page","title","meta","name","content","description","components","lottie","data","items","text","href","active","timeConfig","enableTime","dateFormat","dateTimeConfig","list","agentData","username","email","firstName","lastName","language","status","phone","department","state","birthDate","address","country","zipCode","interview","agentNumber","createdBy","insuranceLicense","licenseNumber","note","departmentList","statusList","sourcesList","perPage","pages","searchQuery","humanfriendlyConfig","token","localStorage","getItem","searchValues","limitTo","isActive","noteSearch","keyword","licensed","sortBy","orderBy","dateRange","toDate","Date","toLocaleDateString","year","month","day","fromDate","setFullYear","getFullYear","defaultOptions","notesData","idNumber","password","confirmPasword","havePermissions","file","spectedColumnsindeed","parsed","selectedDepartmentForAgentList","watch","companies","setPages","created","filters","trimWords","value","split","splice","join","methods","editdata","document","getElementById","id","company","score","location","date","updateAgent","errors","push","validEmail","validPhone","length","toLowerCase","phoneNumber","departmentID","source","city","formatDate","postalCode","interviewDate","isLicensed","userID","agentID","put","then","response","click","fire","icon","catch","error","detail","$router","property","confirmButtonClass","buttonsStyling","showCloseButton","message","i","addNewAgentModal","resetAgentData","reset","innerHTML","style","display","createAgent","post","getDepartments","console","log","getUserInfo","ID","getNotes","agentInfo","setAgentData","dateOfBirth","getMapsLink","re","test","trim","format","formatPhone","flag","undefined","x","replace","match","updateAgentList","validate","filterLanguage","filterKeyword","filterLicensed","filterNotes","filterFromDate","filterToDate","querySelector","checked","start","end","days","diff","isProspect","userEmail","numberOfPages","Math","ceil","index","paginate","from","to","slice","filterStatus","statusButton","deleteUser","swalWithBootstrapButtons","mixin","customClass","confirmButton","cancelButton","setItem","confirmButtonText","cancelButtonText","showCancelButton","result","userName","dismiss","DismissReason","cancel","handleFocus","e","target","setAttribute","viewUserGroup","request","currentRole","userGroup","includes","printEmit","notify","chatMessagesData","formSubmit","submitted","v$","$touch","$invalid","form","currentDate","align","time","getHours","getMinutes","chatUsername","image","profile","usermessage","clientID","url","showPassword","y","type","updateUserPassword","confirmPassword","setUserID","link","getUserPermissions","select","permissionsToUser","permission","handleFileUpload","files","parseFile","allowedExtensions","exec","parse","header","skipEmptyLines","complete","results","compare","fields","bind","o1","o2","p","hasOwnProperty","uploadFile","listOfData","uploadTo","listType","setTimeout","reload","mounted","field","window","queryString","search","urlParams","URLSearchParams","get","indexOf","checkAll","onclick","checkboxes","querySelectorAll","forEach","checkbox","closest","classList","add","remove","computed","displayedPosts","resultQuery","filter","fullname","statusName"],"sourceRoot":"","sources":["C:\\wamp64\\www\\crm\\frontend\\src\\views\\agents\\agentslist.vue"],"sourcesContent":["<script>\r\nimport flatPickr from \"vue-flatpickr-component\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\nimport moment from \"moment\";\r\nimport Multiselect from \"@vueform/multiselect\";\r\nimport \"@vueform/multiselect/themes/default.scss\";\r\nimport Layout from \"../../layouts/main.vue\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport appConfig from \"../../../app.config\";\r\nimport Swal from \"sweetalert2\";\r\nimport Lottie from \"@/components/widgets/lottie.vue\";\r\nimport axios from \"axios\";\r\nimport animationData from \"@/components/widgets/msoeawqm.json\";\r\nimport calendar from \"../../components/appoinmentCalendar\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\n// components\r\nimport notes from '../../components/users/notes';\r\nimport Papa from \"papaparse\";\r\n\r\nexport default {\r\n  page: {\r\n    title: \"Agents\",\r\n    meta: [{name: \"description\", content: appConfig.description}],\r\n  },\r\n  components: {\r\n    Layout,\r\n    PageHeader,\r\n    lottie: Lottie,\r\n    Multiselect,\r\n    flatPickr,\r\n    notes,\r\n    calendar\r\n  },\r\n  data() {\r\n    return{\r\n      title: \"Agent List\",\r\n      items: [\r\n        {\r\n          text: \"Agents\",\r\n          href: \"/\",\r\n        },\r\n        {\r\n          text: \"Agent List\",\r\n          active: true,\r\n        },\r\n      ],\r\n      timeConfig: {\r\n        enableTime: false,\r\n        dateFormat: \"d M, Y\"\r\n      },\r\n      dateTimeConfig: {\r\n        enableTime: true,\r\n        dateFormat: \"F j, Y H:i K\"\r\n      },\r\n      list: [],\r\n      agentData: {\r\n        username: '',\r\n        email: '',\r\n        firstName: '',\r\n        lastName: '',\r\n        language: '',\r\n        status: '',\r\n        phone: '',\r\n        department: '',\r\n        state: '',\r\n        birthDate: '',\r\n        address: '',\r\n        country: '',\r\n        zipCode: '',\r\n        interview: '',\r\n        agentNumber: '',\r\n        createdBy: '',\r\n        insuranceLicense: '',\r\n        licenseNumber: '',\r\n        note: ''\r\n      },\r\n      departmentList: {},\r\n      statusList: {},\r\n      sourcesList: {},\r\n      page: 1,\r\n      perPage: 100,\r\n      pages: [],\r\n      searchQuery: null,\r\n      humanfriendlyConfig: {\r\n        dateFormat: \"F j, Y\",\r\n      },\r\n      data: {\r\n        token: localStorage.getItem('jwt'),\r\n        searchValues: {\r\n          limitTo: this.perPage,\r\n          isActive: 1,\r\n          noteSearch: '',\r\n          keyword: '',\r\n          licensed: 1,\r\n          language: 3,\r\n          status: 0,\r\n          sortBy: 'name',\r\n          orderBy: 'ASC',\r\n          dateRange: 0,\r\n          department: '0' ,\r\n          toDate: new Date().toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}) ,\r\n          fromDate: new Date(new Date().setFullYear(new Date().getFullYear() - 1)).toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}),\r\n        }\r\n      },\r\n      defaultOptions: { animationData: animationData },\r\n      notesData: [],\r\n      idNumber: 1,\r\n      password: '',\r\n      confirmPasword: '',\r\n      havePermissions:'',\r\n      file: [],\r\n      content: [],\r\n      spectedColumnsindeed: [\r\n        \"nombre\",\r\n        \"email\",\r\n        \"telfono\",\r\n        \"estado\",\r\n        \"ubicacin del candidato\",\r\n        \"puesto actual\",\r\n        \"educacin\",\r\n        \"ttulo del empleo\",\r\n        \"ubicacin del empleo\",\r\n        \"fecha\",\r\n        \"Nivel de inters\",\r\n        \"Fuente\",\r\n      ],\r\n      parsed: false,\r\n      selectedDepartmentForAgentList: 0\r\n    }\r\n  },\r\n  watch: {\r\n    companies() {\r\n      this.setPages();\r\n    },\r\n  },\r\n  created() {\r\n    this.setPages();\r\n  },\r\n  filters: {\r\n    trimWords(value) {\r\n      return value.split(\" \").splice(0, 20).join(\" \") + \"...\";\r\n    },\r\n  },\r\n  methods: {\r\n    editdata(data){\r\n\r\n      document.getElementById('id').value= data.id\r\n      document.getElementById('customername').value=data.name;\r\n      document.getElementById('companyname').value=data.company;\r\n      document.getElementById('leadsscore').value=data.score;\r\n      document.getElementById('phone').value=data.phone;\r\n      document.getElementById('location').value=data.location;\r\n      document.getElementById('date').value=data.date;\r\n    },\r\n    async updateAgent() {\r\n\r\n      this.errors = []\r\n\r\n      if (!document.getElementById('editEmail').value) {\r\n        this.errors.push('Email is required.');\r\n      } else if (!this.validEmail(document.getElementById('editEmail').value)) {\r\n        this.errors.push('Valid email is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editFirstName').value) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editLastName').value) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editLanguage').value) {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editStatus').value) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editPhoneNumber').value) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if(this.validPhone(document.getElementById('editPhoneNumber').value) === false && document.getElementById('editPhoneNumber').value !== ''){\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!document.getElementById('editDepartment').value) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editBirthDate').value) {\r\n        this.errors.push('Birth date is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editAddress').value) {\r\n        this.errors.push('Address is required.');\r\n      }\r\n\r\n      if (!document.getElementById('editAgentNumber').value && document.getElementById('editStatus').value === 5) {\r\n        this.errors.push('Agent Number is required.');\r\n      }\r\n\r\n      if ((!document.getElementById('editLicensed').value && document.getElementById('editStatus').value === 5) || !document.getElementById('editLicensed').value) {\r\n        this.errors.push('Insurance Licensed? is required.');\r\n      }\r\n\r\n      if ((!document.getElementById('editLicensed').value && document.getElementById('editStatus').value === 5) || (!this.agentData.licenseNumber && document.getElementById('editLicensed').value === 1)) {\r\n        this.errors.push('License number is required.');\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n        const data = {\r\n          username: '',\r\n          email: document.getElementById('editEmail').value.toLowerCase(),\r\n          firstName: document.getElementById('editFirstName').value,\r\n          lastName: document.getElementById('editLastName').value,\r\n          language: document.getElementById('editLanguage').value,\r\n          status: document.getElementById('editStatus').value,\r\n          phoneNumber: document.getElementById('editPhoneNumber').value,\r\n          departmentID: document.getElementById('editDepartment').value,\r\n          state: document.getElementById('editState').value,\r\n          source: document.getElementById('editSource').value,\r\n          city: document.getElementById('editCity').value,\r\n          birthDate: this.formatDate(document.getElementById('editBirthDate').value, 'DD MMM, YYYY'),\r\n          address: document.getElementById('editAddress').value,\r\n          country: document.getElementById('editCountry').value,\r\n          postalCode: document.getElementById('editPostalCode').value,\r\n          interviewDate: document.getElementById('editInterview').value,\r\n          agentNumber: document.getElementById('editAgentNumber').value,\r\n          createdBy: localStorage.getItem('email'),\r\n          isLicensed: document.getElementById('editLicensed').value,\r\n          licenseNumber: this.agentData.licenseNumber,\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('id'),\r\n          agentID: document.getElementById('id').value\r\n        }\r\n\r\n        await axios\r\n            .put('/api/updateAgent', data)\r\n            .then(async response => {\r\n              if (response) {\r\n                document.getElementById('closemodal').click();\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Agent update successfully!'\r\n                });\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  await this.$router.push('logout')\r\n                }\r\n\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i] + '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    addNewAgentModal() {\r\n      this.resetAgentData()\r\n      document.getElementById(\"addform\").reset();\r\n      document.getElementById('agentModalLabel').innerHTML=\"Add Agent\";\r\n      document.getElementById('add-btn').style.display='block';\r\n      document.getElementById('edit-btn').style.display='none';\r\n      document.getElementById('editNoteOpen').style.display='none';\r\n      document.getElementById(\"gMapsLink\").href = '#';\r\n      document.getElementById('editNotes').style.display='block';\r\n    },\r\n    async createAgent() {\r\n      this.errors = []\r\n\r\n      if (!this.agentData.email) {\r\n        this.errors.push('Email is required.');\r\n      } else if (!this.validEmail(this.agentData.email)) {\r\n        this.errors.push('Valid email is required.');\r\n      }\r\n\r\n      if (!this.agentData.firstName) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!this.agentData.lastName) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (!this.agentData.language) {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (!this.agentData.status) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!this.agentData.phone) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if(this.validPhone(this.agentData.phone) === false && this.agentData.phone !== ''){\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!this.agentData.department) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (!this.agentData.birthDate) {\r\n        this.errors.push('Birth date is required.');\r\n      }\r\n\r\n      if (!this.agentData.address) {\r\n        this.errors.push('Address is required.');\r\n      }\r\n\r\n      if (!this.agentData.agentNumber && this.agentData.status === 5) {\r\n        this.errors.push('Agent Number is required.');\r\n      }\r\n\r\n      if ((!this.agentData.insuranceLicense && this.agentData.status === 5) || !this.agentData.insuranceLicense) {\r\n        this.errors.push('is Insurance Licensed? is required.');\r\n      }\r\n\r\n      if ((!this.agentData.licenseNumber && this.agentData.status === 5) || (!this.agentData.licenseNumber && this.agentData.insuranceLicense === 1)) {\r\n        this.errors.push('License number is required.');\r\n      }\r\n\r\n      if(!this.errors.length) {\r\n        const data = {\r\n          username:  '',\r\n          email:  this.agentData.email.toLowerCase(),\r\n          firstName:  this.agentData.firstName,\r\n          lastName:  this.agentData.lastName,\r\n          language:  this.agentData.language,\r\n          status:  this.agentData.status,\r\n          source:  this.agentData.source,\r\n          phoneNumber:  this.agentData.phone,\r\n          departmentID:  this.agentData.department,\r\n          state:  this.agentData.state,\r\n          city:  this.agentData.city,\r\n          birthDate: this.formatDate(this.agentData.birthDate, 'DD MMM, YYYY'),\r\n          address:  this.agentData.address,\r\n          country:  this.agentData.country,\r\n          postalCode:  this.agentData.zipCode,\r\n          interviewDate:  this.agentData.interview,\r\n          agentNumber:  this.agentData.agentNumber,\r\n          createdBy:  localStorage.getItem('email'),\r\n          isLicensed:  this.agentData.insuranceLicense,\r\n          note: this.agentData.note,\r\n          licenseNumber: this.agentData.licenseNumber,\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('id')\r\n        }\r\n\r\n        await axios\r\n            .post('/api/createAgent', data)\r\n            .then(async response => {\r\n              document.getElementById(\"addform\").reset();\r\n              if (response.data['ID'] !== null) {\r\n                document.getElementById('closemodal').click();\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Agent created successfully!'\r\n                });\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  await this.$router.push('logout')\r\n                }\r\n\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i]+ '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    async getDepartments() {\r\n\r\n      await axios\r\n          .post('/api/getDepartments')\r\n          .then(response => {\r\n            console.log(response);\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async getUserInfo(id) {\r\n      document.getElementById('edit-btn').style.display='block';\r\n      document.getElementById('add-btn').style.display='none'\r\n      document.getElementById('agentModalLabel').innerHTML=\"Edit Agent\"\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        ID: id\r\n      }\r\n\r\n      document.getElementById('editNoteOpen').style.display='block';\r\n      document.getElementById('editNotes').style.display='none';\r\n      await this.getNotes(id)\r\n      let agentInfo;\r\n\r\n      await axios\r\n          .post('/api/getUser', data)\r\n          .then(response => {\r\n            agentInfo=response.data\r\n            this.setAgentData(agentInfo);\r\n            document.getElementById('id').value=agentInfo.ID\r\n            document.getElementById('editEmail').value=agentInfo.email;\r\n            document.getElementById('editFirstName').value=agentInfo.firstName;\r\n            document.getElementById('editLastName').value=agentInfo.lastName;\r\n            document.getElementById('editLanguage').value=agentInfo.language;\r\n            document.getElementById('editStatus').value=agentInfo.status\r\n            document.getElementById('editPhoneNumber').value= agentInfo.phoneNumber;\r\n            document.getElementById('editDepartment').value=agentInfo.departmentID;\r\n            document.getElementById('editBirthDate').value=agentInfo.dateOfBirth;\r\n            document.getElementById('editAddress').value=agentInfo.address;\r\n            document.getElementById('editState').value=agentInfo.state;\r\n            document.getElementById('editCountry').value=agentInfo.country;\r\n            document.getElementById('editPostalCode').value=agentInfo.postalCode;\r\n            document.getElementById('editAgentNumber').value=agentInfo.agentNumber;\r\n            document.getElementById('editCreatedBy').value=agentInfo.createdBy;\r\n            document.getElementById('editLicensed').value=agentInfo.isLicensed;\r\n            document.getElementById('editInterview').value= this.formatDate(agentInfo.interviewDate, 'MMMM DD, YYYY H:mm A');\r\n            this.getMapsLink()\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    validEmail: function (email) {\r\n      const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      return re.test(email.trim());\r\n    },\r\n    validPhone: function (phone) {\r\n      return /^(\\+{0,})(\\d{0,})([(]{1}\\d{1,3}[)]{0,}){0,}(\\s?\\d+|\\+\\d{2,3}\\s{1}\\d+|\\d+){1}[\\s|-]?\\d+([\\s|-]?\\d+){1,2}(\\s){0,}$/gm.test(phone);\r\n    },\r\n    formatDate: function(date, format){\r\n      date = moment(date).format(format)\r\n\r\n      if(date !== 'Invalid date'){\r\n        return date;\r\n      }else{\r\n        return ' '\r\n      }\r\n\r\n    },\r\n    formatPhone: function(phone, flag=0) {\r\n\r\n      // if flag == 1 put value in phone Edit\r\n      if(phone !== undefined){\r\n        const x = phone.replace(/\\D/g, '').match(/(\\d{0,3})(\\d{0,3})(\\d{0,4})/);\r\n        phone = !x[2] ? x[1] : '(' + x[1] + ') ' + x[2] + (x[3] ? '-' + x[3] : '');\r\n      }else{\r\n        phone = ''\r\n      }\r\n\r\n      if(flag !== 1){\r\n        return phone;\r\n      }else{\r\n        document.getElementById('editPhoneNumber').value = phone;\r\n      }\r\n    },\r\n    setAgentData: function(data) {\r\n      this.agentData.email=data.email;\r\n      this.agentData.firstName=data.firstName;\r\n      this.agentData.lastName=data.lastName;\r\n      this.agentData.language=data.language;\r\n      this.agentData.status=data.status\r\n      this.agentData.source=data.source\r\n      this.agentData.phone=data.phoneNumber;\r\n      this.agentData.department=data.departmentID\r\n      this.agentData.birthDate= this.formatDate(data.dateOfBirth, 'DD MMM, YYYY');\r\n      this.agentData.interview=  this.formatDate(data.interviewDate, 'MMMM DD, YYYY H:MM A');\r\n      this.agentData.address=data.address;\r\n      this.agentData.state=data.state;\r\n      this.agentData.city=data.city;\r\n      this.agentData.country=data.country;\r\n      this.agentData.zipCode=data.postalCode;\r\n      this.agentData.agentNumber=data.agentNumber;\r\n      this.agentData.createdBy=data.createdBy;\r\n      this.agentData.insuranceLicense=data.isLicensed;\r\n      this.agentData.licenseNumber=data.licenseNumber;\r\n    },\r\n    resetAgentData: function(){\r\n      this.agentData =\r\n          {username: '',\r\n          email: '',\r\n          firstName: '',\r\n          lastName: '',\r\n          language: '',\r\n          status: '',\r\n          phone: '',\r\n          department: '',\r\n          state: '',\r\n          birthDate: '',\r\n          address: '',\r\n          country: '',\r\n          zipCode: '',\r\n          interview: '',\r\n          agentNumber: '',\r\n          createdBy: '',\r\n          insuranceLicense: '',\r\n          licenseNumber: '',\r\n          note: ''\r\n          }\r\n    },\r\n    async updateAgentList(status='0') {\r\n\r\n      let validate = true;\r\n      let errors = [];\r\n      let filterLanguage = document.getElementById(\"filterLanguage\").value;\r\n      let filterKeyword = document.getElementById(\"filterKeyword\").value;\r\n      let filterLicensed = document.getElementById(\"filterLicensed\").value;\r\n      let filterNotes = document.getElementById(\"filterNotes\").value;\r\n      let filterFromDate = document.getElementById(\"filterFromDate\").value;\r\n      let filterToDate = document.getElementById(\"filterToDate\").value;\r\n      let isActive = document.querySelector('#isActive').checked;\r\n\r\n      if (status !== '0') {\r\n        this.data.searchValues.status = status\r\n      } else {\r\n        this.data.searchValues.status = document.getElementById(\"filterStatus\").value\r\n      }\r\n\r\n      if(isActive === true) {\r\n        this.data.searchValues.isActive = 1;\r\n      } else {\r\n        this.data.searchValues.isActive = 0;\r\n      }\r\n\r\n      if (filterLanguage !== '' && (filterLanguage === '1' || filterLanguage === '2')){\r\n        this.data.searchValues.language = filterLanguage;\r\n      }\r\n\r\n      if (filterKeyword !== '' && filterKeyword.length >= 3) {\r\n        this.data.searchValues.keyword = filterKeyword;\r\n      } else if (filterKeyword !== '' && filterKeyword.length < 3) {\r\n        errors.push('Keyword search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      if(filterLicensed !== ''){\r\n        this.data.searchValues.licensed = filterLicensed;\r\n      }\r\n\r\n      if (filterNotes !== '' && filterNotes.length >= 3) {\r\n        this.data.searchValues.noteSearch = filterNotes;\r\n      }else if(filterNotes !== '' && filterNotes.length < 3) {\r\n        errors.push('Notes search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      var start = moment(this.formatDate(filterFromDate, 'YYYY-MM-DD'));\r\n      var end = moment(this.formatDate(filterToDate, 'YYYY-MM-DD'));\r\n      var days = end.diff(start, \"days\");\r\n\r\n      if(days <= 365){\r\n        this.data.searchValues.fromDate = filterFromDate;\r\n        this.data.searchValues.toDate = filterToDate;\r\n      } else {\r\n        errors.push(\"From Date and To Date (range) couldn't be larger than a year (365 days)!\");\r\n        validate = false;\r\n      }\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        isProspect: 0,\r\n        searchValues: this.data.searchValues,\r\n        userEmail: localStorage.getItem('email'),\r\n        userID: localStorage.getItem('id'),\r\n      }\r\n\r\n      if(validate){\r\n        axios\r\n            .post('/api/listAgents', data)\r\n            .then(response => {\r\n              this.list=response.data\r\n              this.page = 1\r\n              this.setPages()\r\n            })\r\n            .catch(error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  this.$router.push('logout')\r\n                }\r\n                // for (const property in error.response.data) {\r\n                // this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                // }\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      }else{\r\n        let list = '';\r\n        for (var i = 0; i < errors.length; i+=1) {\r\n          list += errors[i] + ' \\n';\r\n        }\r\n\r\n        await Swal.fire(\"\" + list, '', 'info');\r\n\r\n      }\r\n\r\n    },\r\n    setPages() {\r\n\r\n      let numberOfPages = Math.ceil(this.list.length / this.perPage);\r\n      this.pages = []\r\n      for (let index = 1; index <= numberOfPages; index++) {\r\n        this.pages.push(index);\r\n      }\r\n    },\r\n    paginate(companies) {\r\n      let page = this.page;\r\n      let perPage = this.perPage;\r\n      let from = page * perPage - perPage;\r\n      let to = page * perPage;\r\n      return companies.slice(from, to);\r\n    },\r\n    filterStatus(status){\r\n      var statusButton= document.getElementById(status);\r\n      statusButton.click();\r\n    },\r\n    deleteUser(ID) {\r\n      const swalWithBootstrapButtons = Swal.mixin({\r\n        customClass: {\r\n          confirmButton: \"btn btn-danger ml-2\",\r\n          cancelButton: \"btn btn-success\",\r\n        },\r\n        buttonsStyling: false,\r\n      });\r\n      localStorage.setItem('selectedUser', ID)\r\n      swalWithBootstrapButtons\r\n          .fire({\r\n            title: \"Are you sure?\",\r\n            text: \"You won't be able to revert this!\",\r\n            icon: \"warning\",\r\n            confirmButtonText: \"Yes, delete it!\",\r\n            cancelButtonText: \"No, cancel!\",\r\n            showCancelButton: true,\r\n          })\r\n          .then((result) => {\r\n            if (result.value) {\r\n\r\n              const data = {\r\n                token: localStorage.getItem('jwt'),\r\n                userID: localStorage.getItem('id'),\r\n                userName: localStorage.getItem('firstName') + ' ' + localStorage.getItem('lastname'),\r\n                userEmail: localStorage.getItem('email'),\r\n                agentID: localStorage.getItem('selectedUser')\r\n              }\r\n\r\n              axios\r\n                  .put('/api/deleteUser', data)\r\n                  .then(async response => {\r\n                    if (response) {\r\n                      await this.updateAgentList()\r\n                      await swalWithBootstrapButtons.fire(\r\n                          \"Deleted!\",\r\n                          \"Agent has been deleted.\",\r\n                          \"success\"\r\n                      );\r\n                    }\r\n                  })\r\n                  .catch(async error => {\r\n                    if (error.response) {\r\n                      let list = '';\r\n                      for (const property in error.response.data) {\r\n                        this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                        list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                      }\r\n\r\n                      await Swal.fire({\r\n                        title: \"Please check the following: \" + list,\r\n                        icon: 'warning',\r\n                        confirmButtonClass: \"btn btn-info\",\r\n                        buttonsStyling: false,\r\n                        showCloseButton: true,\r\n                      });\r\n\r\n                    } else if (error.message) {\r\n                      this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n                    }\r\n                  })\r\n            } else if (\r\n                /* Read more about handling dismissals below */\r\n                result.dismiss === Swal.DismissReason.cancel\r\n            ) {\r\n              swalWithBootstrapButtons.fire(\r\n                  \"Cancelled\",\r\n                  \"Agent is in a safe place :)\",\r\n                  \"error\"\r\n              );\r\n            }\r\n          });\r\n    },\r\n    handleFocus(e){\r\n      e.target.setAttribute(\"autocomplete\", \"nope\");\r\n    },\r\n    viewUserGroup(request) {\r\n      const currentRole = jwt_decode(localStorage.getItem('jwt'))\r\n      return currentRole.userGroup.includes(request)\r\n    },\r\n    printEmit(notify) {\r\n      this.chatMessagesData = notify;\r\n    },\r\n    formSubmit() {\r\n      this.submitted = true;\r\n\r\n      // stop here if form is invalid\r\n      this.v$.$touch();\r\n\r\n      if (this.v$.$invalid) {\r\n        return;\r\n      } else {\r\n        const message = this.form.message;\r\n        const currentDate = new Date();\r\n        this.chatMessagesData.push({\r\n          align: \"right\",\r\n          name: \"Henry Wells\",\r\n          message,\r\n          time: currentDate.getHours() + \":\" + currentDate.getMinutes(),\r\n        });\r\n      }\r\n      this.submitted = false;\r\n      this.form = {};\r\n    },\r\n    chatUsername(name, image) {\r\n      this.username = name;\r\n      this.profile = image;\r\n      this.usermessage = \"Hello\";\r\n      this.chatMessagesData = [];\r\n      const currentDate = new Date();\r\n\r\n      this.chatMessagesData.push({\r\n        name: this.username,\r\n        message: this.usermessage,\r\n        time: currentDate.getHours() + \":\" + currentDate.getMinutes(),\r\n      });\r\n    },\r\n    async getNotes (id = localStorage.getItem('selectedUser')) {\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        userID: localStorage.getItem('id'),\r\n        agentID: id,\r\n        clientID: id,\r\n      }\r\n\r\n      localStorage.setItem('selectedUser', id)\r\n\r\n      let url = '';\r\n      url = '/api/getUserNotes';\r\n\r\n      await axios\r\n          .post(url, data)\r\n          .then(response => {\r\n            this.notesData = response.data;\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n              Swal.fire(\"Oops!\", \"Notes could not be loaded, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    showPassword: function() {\r\n      var x = document.getElementById(\"newpasswordInput\");\r\n      var y = document.getElementById(\"confirmpasswordInput\");\r\n      if (x.type === \"password\") {\r\n        x.type = \"text\";\r\n        y.type = \"text\";\r\n      } else {\r\n        x.type = \"password\";\r\n        y.type = \"password\";\r\n      }\r\n    },\r\n    async updateUserPassword(){\r\n\r\n      this.errors = []\r\n      if (!this.password) {\r\n        this.errors.push('New password is required.');\r\n      }\r\n\r\n      if (!this.confirmPasword) {\r\n        this.errors.push('Confirm Password is required.');\r\n      }\r\n\r\n      if((this.password !== this.confirmPasword) || (this.password.length <= 0 && this.confirmPasword.length <= 0) ){\r\n        this.errors.push('Passwords don\\'t match.');\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n        const data = {\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('selectedUser'),\r\n          password: this.password,\r\n          confirmPassword: this.confirmPasword,\r\n        }\r\n\r\n        await axios\r\n            .put('/api/updateUserPassword', data)\r\n            .then(async response => {\r\n              if (response.status === 200) {\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Password updated!'\r\n                });\r\n                document.getElementById('closemodalPassword').click();\r\n                this.password = '';\r\n                this.confirmPasword = '';\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  this.$router.push('logout')\r\n                }\r\n\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i] + '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    setUserID(ID) {\r\n      localStorage.setItem('selectedUser', ID)\r\n    },\r\n    getMapsLink(){\r\n      let link = 'https://maps.google.com/?q='\r\n      if (this.agentData.address.length > 0){\r\n        link += '+'+this.agentData.address\r\n      }\r\n      if (this.agentData.zipCode.length > 0){\r\n        link += '+'+this.agentData.zipCode\r\n      }\r\n      if (this.agentData.city.length > 0){\r\n        link += '+'+this.agentData.city\r\n      }\r\n      if (this.agentData.state.length > 0){\r\n        link += '+'+this.agentData.state\r\n      }\r\n\r\n      if(link !== 'https://maps.google.com/?q=') {\r\n        document.getElementById(\"gMapsLink\").href = link;\r\n      } else {\r\n        document.getElementById(\"gMapsLink\").href = '#';\r\n      }\r\n\r\n    },\r\n    async getUserPermissions() {\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        userID: localStorage.getItem('selectedUser'),\r\n        select: document.getElementById('givePermissions'),\r\n      }\r\n\r\n      await axios\r\n          .post('/api/getPermissionsCount', data)\r\n          .then(async response => {\r\n\r\n            if (response.status === 200) {\r\n              if (response.data === 0) {\r\n                this.havePermissions = 2;\r\n              } else {\r\n                this.havePermissions = 1;\r\n              }\r\n            }\r\n\r\n          })\r\n          .catch(async error => {\r\n            if (error.response) {\r\n\r\n              if (error.response.data.detail === 'Your session is expired!') {\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              let list = '';\r\n              for (const property in error.response.data) {\r\n                this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n              }\r\n\r\n              await Swal.fire({\r\n                title: \"Please check the following: \" + list,\r\n                icon: 'warning',\r\n                confirmButtonClass: \"btn btn-info\",\r\n                buttonsStyling: false,\r\n                showCloseButton: true,\r\n              });\r\n\r\n            } else if (error.message) {\r\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n            }\r\n          })\r\n    },\r\n    async permissionsToUser() {\r\n      if (document.getElementById('givePermissions') !== '') {\r\n\r\n        const data = {\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('selectedUser'),\r\n          select: document.getElementById('givePermissions'),\r\n          permission: this.havePermissions,\r\n        }\r\n\r\n        await axios\r\n            .post('/api/updatePermissions', data)\r\n            .then(async response => {\r\n\r\n              if (response.status === 200) {\r\n\r\n                if (this.havePermissions === '1' && response.data === 1){\r\n                  await Swal.fire({\r\n                    icon: 'success',\r\n                    title: 'Success',\r\n                    text: 'Permissions assigned!'\r\n                  });\r\n                } else if(response.data === 0){\r\n                  await Swal.fire({\r\n                    icon: 'info',\r\n                    title: 'No change applied.',\r\n                    text: 'Nothing Happens!'\r\n                  });\r\n                } {\r\n                  await Swal.fire({\r\n                    icon: 'success',\r\n                    title: 'Success',\r\n                    text: 'Permissions removed!'\r\n                  });\r\n                }\r\n\r\n                document.getElementById('closemodalPassword').click();\r\n              }\r\n\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n\r\n                if (error.response.data.detail === 'Your session is expired!') {\r\n                  this.$router.push('logout')\r\n                }\r\n\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      }\r\n    },\r\n    handleFileUpload(){\r\n      this.file = document.getElementById('listFile').files[0];\r\n      this.parseFile();\r\n    },\r\n    parseFile(){\r\n      var allowedExtensions = /(\\.csv)$/i;\r\n      if (allowedExtensions.exec(this.file.name)) {\r\n        Papa.parse( this.file, {\r\n          header: true,\r\n          skipEmptyLines: true,\r\n          complete: function ( results ) {\r\n            if( this.compare(this.spectedColumnsindeed, results.meta.fields)){\r\n              this.content = results;\r\n              this.parsed = true;\r\n            }else{\r\n              Swal.fire({\r\n                title: \"Oops, this file is not what we spected!\",\r\n                icon: 'warning',\r\n                confirmButtonClass: \"btn btn-info\",\r\n                buttonsStyling: false,\r\n                showCloseButton: true,\r\n              });\r\n            }\r\n          }.bind(this)\r\n        } );\r\n      } else {\r\n        Swal.fire({\r\n          title: \"File extension not supported!\",\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    compare (o1, o2){\r\n      for(let p in o1){\r\n        // eslint-disable-next-line no-prototype-builtins\r\n        if(o1.hasOwnProperty(p)){\r\n          if(o1[p] !== o2[p]){\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n      for(let p in o2){\r\n        // eslint-disable-next-line no-prototype-builtins\r\n        if(o2.hasOwnProperty(p)){\r\n          if(o1[p] !== o2[p]){\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n      return true;\r\n    },\r\n    async uploadFile(){\r\n\r\n      this.errors = []\r\n\r\n      if (document.getElementById('uploadLanguage').value === '') {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (document.getElementById('uploadStatus').value === '') {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (document.getElementById('uploadType').value === '') {\r\n        this.errors.push('Source is required.');\r\n      }\r\n\r\n      if (this.content.length === 0) {\r\n        this.errors.push('Please, upload and process your .csv file.');\r\n      }\r\n\r\n      if(this.errors.length === 0){\r\n\r\n        const data = {\r\n          token: localStorage.getItem('jwt'),\r\n          userEmail: localStorage.getItem('email'),\r\n          userID: localStorage.getItem('id'),\r\n          listOfData: this.content,\r\n          uploadTo:  localStorage.getItem('firstName') + ' ' + localStorage.getItem('lastname')\r\n              + ' | ' +localStorage.getItem('email'),\r\n          isProspect: 0,\r\n          language: document.getElementById('uploadLanguage').value,\r\n          status: document.getElementById('uploadStatus').value,\r\n          source: document.getElementById('uploadType').value,\r\n          department: this.selectedDepartmentForAgentList ,\r\n          listType: 1,\r\n        }\r\n\r\n        await axios\r\n            .post('/api/uploadAgentList', data)\r\n            .then(async response => {\r\n              if (response.status === 200) {\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Uploaded successfully!'\r\n                });\r\n              }\r\n              setTimeout(function() {\r\n                location.reload()\r\n              }, 2000);\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      }else{\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i]+ '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n  },\r\n  async mounted() {\r\n\r\n    let field = 'n';\r\n    let url = window.location.href;\r\n\r\n    const queryString = window.location.search;\r\n    const urlParams = new URLSearchParams(queryString);\r\n    const status = urlParams.get(field)\r\n\r\n    const data = {\r\n      token: localStorage.getItem('jwt'),\r\n      searchValues: this.data.searchValues,\r\n    }\r\n\r\n    await axios\r\n        .post('/api/listDepartments', data)\r\n        .then(response => {\r\n          this.departmentList=response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n\r\n            Swal.fire(\"Oops!\", \"Departments could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/listStatus', data)\r\n        .then(response => {\r\n          this.statusList=response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n\r\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/listSource', data)\r\n        .then(response => {\r\n          this.sourcesList = response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n\r\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n\r\n    if((url.indexOf('?' + field + '=') !== -1))\r\n      document.getElementById(status).click()\r\n    else\r\n      await axios\r\n          .post('/api/listAgents', data)\r\n          .then(response => {\r\n            this.list=response.data;\r\n            this.page = 1\r\n            this.setPages();\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              // for (const property in error.response.data) {\r\n              // this.errors.push(`${property}: ${error.response.data[property]}`)\r\n              // }\r\n            } else if (error.message) {\r\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n            }\r\n          })\r\n\r\n    const checkAll = document.getElementById(\"checkAll\");\r\n\r\n    if (checkAll) {\r\n      checkAll.onclick = function () {\r\n        var checkboxes = document.querySelectorAll(\r\n            '.form-check-all input[type=\"checkbox\"]'\r\n        );\r\n        if (checkAll.checked == true) {\r\n          checkboxes.forEach(function (checkbox) {\r\n            checkbox.checked = true;\r\n            checkbox.closest(\"tr\").classList.add(\"table-active\");\r\n          });\r\n        } else {\r\n          checkboxes.forEach(function (checkbox) {\r\n            checkbox.checked = false;\r\n            checkbox.closest(\"tr\").classList.remove(\"table-active\");\r\n          });\r\n        }\r\n      };\r\n    }\r\n  },\r\n  computed: {\r\n    displayedPosts() {\r\n      return this.paginate(this.list);\r\n    },\r\n    resultQuery() {\r\n      if (this.data.searchValues.keyword.length >= 3) {\r\n        const search = this.data.searchValues.keyword.toLowerCase();\r\n        return this.displayedPosts.filter((data) => {\r\n          return (\r\n              data.address.toLowerCase().includes(search) ||\r\n              data.agentNumber.toLowerCase().includes(search) ||\r\n              data.city.toLowerCase().includes(search) ||\r\n              data.email.toLowerCase().includes(search) ||\r\n               data.phoneNumber.toLowerCase().includes(search) ||\r\n              data.firstName.toLowerCase().includes(search) ||\r\n              data.lastName.toLowerCase().includes(search) ||\r\n              data.fullname.toLowerCase().includes(search) ||\r\n              data.statusName.toLowerCase().includes(search)\r\n          );\r\n        });\r\n      } else {\r\n        return this.displayedPosts;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.chat-conversation {\r\n  max-height: 300px;\r\n}\r\n</style>\r\n<template>\r\n  <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\"/>\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-12\">\r\n        <div class=\"card\" id=\"leadsList\">\r\n          <div class=\"card-header border-0\">\r\n            <div class=\"row g-4 align-items-center\">\r\n              <div class=\"col-sm-3\">\r\n                <div class=\"search-box\">\r\n                  <input\r\n                      type=\"text\"\r\n                      class=\"form-control search\"\r\n                      placeholder=\"Search for...\"\r\n                      title=\"Search by (Phone number, City, Postal code, Name, Last name, Full Name, Address, State)\"\r\n                      v-model=\"this.data.searchValues.keyword\"\r\n                      @change=\"this.data.searchValues.keyword.length >= 3 ? updateAgentList(): ''\"\r\n                      v-on:keyup.enter=\"this.data.searchValues.keyword === '' ? updateAgentList() : ''\"\r\n                  />\r\n                  <i class=\"ri-search-line search-icon\"></i>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-sm-auto ms-auto\">\r\n                <div class=\"hstack gap-2\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-6\" style=\"margin-top: 5px;\">\r\n                      <div class=\"d-flex align-items-center gap-2\">\r\n                        <span class=\"text-muted flex-shrink-0\">Sort by: </span>\r\n\r\n                        <Multiselect class=\"form-control\"\r\n                                     style=\"width:150px;padding: 0px;\"\r\n                                     autocomplete=\"off\"\r\n                                     @focus=\"handleFocus\"\r\n                                     v-model=\"this.data.searchValues.sortBy\"\r\n                                     :close-on-select=\"true\"\r\n                                     :searchable=\"true\"\r\n                                     :options=\"[\r\n                            { value: 'name', label: 'Name' },\r\n                            { value: 'lastName', label: 'Last Name' },\r\n                            { value: 'postalCode', label: 'Postal Code' },\r\n                            { value: 'modified', label: 'Modified On' },\r\n                            { value: 'created', label: 'created On' },\r\n                            ]\"\r\n                                     @select=\"updateAgentList()\"\r\n                        />\r\n\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-md-6\" style=\"margin-top: 5px;\">\r\n                      <div class=\"d-flex align-items-center gap-2\">\r\n                        <span class=\"text-muted flex-shrink-0\">Order by: </span>\r\n\r\n                        <Multiselect class=\"form-control\"\r\n                                     style=\"width:150px;padding: 0px;\"\r\n                                     v-model=\"this.data.searchValues.orderBy\"\r\n                                     autocomplete=\"off\"\r\n                                     @focus=\"handleFocus\"\r\n                                     :close-on-select=\"true\"\r\n                                     :searchable=\"true\"\r\n                                     :options=\"[\r\n                            { value: 'ASC', label: 'Ascendance' },\r\n                            { value: 'DESC', label: 'Descendant' },\r\n                            ]\"\r\n                                     @select=\"updateAgentList()\"\r\n                        />\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-5\" style=\"margin-top: 5px;\">\r\n                      <button type=\"button\" class=\"btn btn-soft-success float-end\" href=\"#open-filters\" data-bs-toggle=\"modal\">\r\n                        <i class=\"ri-filter-line align-bottom me-1\"></i> Filters\r\n                      </button>\r\n                    </div>\r\n                    <div class=\"col-md-5\" style=\"margin-top: 5px;\">\r\n                      <button type=\"button\" class=\"btn btn-soft-success float-end\" id=\"create-btn\" data-bs-toggle=\"modal\" href=\"#agentModal\" @click=\"addNewAgentModal\" style=\"white-space: nowrap;\">\r\n                        <i class=\"ri-add-line align-bottom me-1\"></i> Add Agent\r\n                      </button>\r\n                    </div>\r\n                    <div class=\"col-md-2\" style=\"margin-top: 5px;\">\r\n                      <button\r\n                          type=\"button\"\r\n                          id=\"dropdownMenuLink1\"\r\n                          data-bs-toggle=\"dropdown\"\r\n                          aria-expanded=\"false\"\r\n                          class=\"btn btn-soft-info\"\r\n                      >\r\n                        <i class=\"ri-more-2-fill\"></i>\r\n                      </button>\r\n                      <ul class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink1\">\r\n                        <li><a class=\"dropdown-item\" href=\"#interiewCalendar\" data-bs-toggle=\"modal\">Open Calendar</a></li>\r\n                        <li><a class=\"dropdown-item\" href=\"#uploadAgents\" data-bs-toggle=\"modal\">Upload Agents</a></li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Table Head -->\r\n          <ul\r\n              class=\"nav nav-tabs nav-tabs-custom nav-primary mb-3\"\r\n              role=\"tablist\">\r\n            <li class=\"nav-item\">\r\n              <a\r\n                  class=\"nav-link active All py-3\"\r\n                  data-bs-toggle=\"tab\"\r\n                  id=\"All\"\r\n                  href=\"#home1\"\r\n                  role=\"tab\"\r\n                  aria-selected=\"true\"\r\n                  @click=\"updateAgentList(0)\"\r\n              >\r\n                <i class=\"ri-file-search-line me-1 align-bottom\"></i> All\r\n              </a>\r\n            </li>\r\n             <li class=\"nav-item\" v-for=\"(data, index) of statusList\" :key=\"index\">\r\n              <a\r\n                  class=\"nav-link py-3 \" v-bind:class=\"data.name\"\r\n                  data-bs-toggle=\"tab\"\r\n                  v-bind:id=\"data.name\"\r\n                  v-bind:href=\"'#'+data.name\"\r\n                  role=\"tab\"\r\n                  aria-selected=\"false\"\r\n                  @click=\"updateAgentList(data.statusID)\"\r\n              >\r\n                <i class=\"me-1 align-bottom\"></i>\r\n                {{ data.name }}\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          <div class=\"table-responsive\">\r\n            <table class=\"table align-middle table-nowrap mb-0 table-hover\">\r\n              <thead class=\"table-light\">\r\n              <tr>\r\n                <th scope=\"col\" style=\"width: 50px\">\r\n                  <div class=\"form-check\">\r\n                    <input\r\n                        class=\"form-check-input\"\r\n                        type=\"checkbox\"\r\n                        id=\"checkAll\"\r\n                        value=\"option\"\r\n                    />\r\n                  </div>\r\n                </th>\r\n                <th scope=\"col\">Name</th>\r\n                <th scope=\"col\">Department</th>\r\n                <th scope=\"col\">Email</th>\r\n                <th scope=\"col\">Phone</th>\r\n                <th scope=\"col\" v-if=\"this.data.searchValues.status === 2\">Interview Date</th>\r\n                <th scope=\"col\">Postal Code</th>\r\n                <th scope=\"col\">Create Date</th>\r\n                <th scope=\"col\">Status</th>\r\n                <th scope=\"col\">Actions</th>\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n              <tr v-for=\"(data, index) of resultQuery\" :key=\"index\">\r\n                <td>\r\n                  <div class=\"form-check\">\r\n                    <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"cardtableCheck01\">\r\n                    <label class=\"form-check-label\" for=\"cardtableCheck01\"></label>\r\n                  </div>\r\n                </td>\r\n                <td>{{ data.firstName }} {{ data.lastName }}</td>\r\n                <td>{{ data.departmentName }}</td>\r\n                <td>{{ data.email }}</td>\r\n                <td>{{ formatPhone(data.phoneNumber) }}</td>\r\n                <td v-if=\"this.data.searchValues.status === 2\">{{ formatDate(data.interviewDate, 'MMMM Do YYYY, h:mmA')  }}</td>\r\n                <td>{{ data.postalCode }}</td>\r\n                <td> {{ formatDate(data.createdOn, 'MMMM Do YYYY, h:mmA') }} </td>\r\n                <td><a href=\"javascript:void(0);\" v-bind:style=\"'color:'+data.color\" @click=\"filterStatus(data.statusName)\">{{data.statusName}}</a></td>\r\n                <td>\r\n                  <ul class=\"list-inline hstack gap-2 mb-0\">\r\n                    <li class=\"list-inline-item\" data-bs-toggle=\"modal\" href=\"#agentModal\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Edit\" @click=\"getUserInfo(data.ID)\">\r\n                      <a class=\"edit-item-btn\" href=\"javascript:void(0);\"><i class=\"ri-pencil-fill align-bottom text-muted\"></i></a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\" data-bs-toggle=\"modal\" href=\"#open-notes\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Notes\" @click=\"getNotes(data.ID)\">\r\n                      <a href=\"javascript:void(0);\" class=\"text-muted d-inline-block\" >\r\n                        <i class=\"ri-sticky-note-line fs-16\"></i>\r\n                      </a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\" data-bs-toggle=\"tooltip\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Delete\" @click=\"deleteUser(data.ID)\">\r\n                      <a class=\"remove-item-btn\" data-bs-toggle=\"modal\" href=\"javascript:void(0);\">\r\n                        <i class=\"ri-delete-bin-fill align-bottom text-muted\"></i>\r\n                      </a>\r\n                    </li>\r\n                    <li class=\"list-inline-item\" data-bs-toggle=\"modal\" href=\"#open-changePassword\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Change Password\" @click=\"setUserID(data.ID), getUserPermissions()\" v-if=\"viewUserGroup('SUPER_ADMIN_GROUP')\">\r\n                      <a class=\"edit-item-btn\" href=\"javascript:void(0);\"><i class=\"ri-key-fill align-bottom text-muted\"></i></a>\r\n                    </li>\r\n                  </ul>\r\n                </td>\r\n              </tr>\r\n              </tbody>\r\n            </table>\r\n            <div class=\"noresult\" v-if=\"list.length <= 0\">\r\n              <div class=\"text-center\">\r\n                <lottie\r\n                    class=\"avatar-xl\"\r\n                    colors=\"primary:#121331,secondary:#08a88a\"\r\n                    :options=\"defaultOptions\"\r\n                    :height=\"75\"\r\n                    :width=\"75\"\r\n                />\r\n                <h5 class=\"mt-2\">Sorry!</h5>\r\n                <p class=\"text-muted mb-0\">\r\n                  We've searched and we did not find any\r\n                  agent for your search.\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div class=\"d-flex justify-content-end mt-3\" v-if=\"resultQuery.length >= 0\">\r\n              <div class=\"pagination-wrap hstack gap-2\">\r\n                <a\r\n                    class=\"page-item pagination-prev disabled\"\r\n                    href=\"#\"\r\n                    v-if=\"page !== 1\"\r\n                    @click=\"page--\"\r\n                >\r\n                  Previous\r\n                </a>\r\n                <ul class=\"pagination listjs-pagination mb-0\">\r\n                  <li\r\n                      :class=\"{\r\n                      active: pageNumber == page,\r\n                      disabled: pageNumber == '...',\r\n                    }\"\r\n                      v-for=\"(pageNumber, index) in pages.slice(\r\n                      page - 1,\r\n                      page + 5\r\n                    )\"\r\n                      :key=\"index\"\r\n                      @click=\"page = pageNumber\"\r\n                  >\r\n                    <a class=\"page\" href=\"#\">{{ pageNumber }}</a>\r\n                  </li>\r\n                </ul>\r\n                <a\r\n                    class=\"page-item pagination-next\"\r\n                    href=\"#\"\r\n                    @click=\"page++\"\r\n                    v-if=\"page < pages.length\"\r\n                >\r\n                  Next\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!--end col-->\r\n    </div>\r\n    <!--end row-->\r\n\r\n    <!--  Add agent modal  -->\r\n    <div class=\"modal zoomIn\" id=\"agentModal\" tabindex=\"-1\" aria-labelledby=\"agentModalLabel\" aria-hidden=\"true\" data-bs-focus=\"false\">\r\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\" style=\"max-width: 1000px;\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header bg-light p-3\">\r\n            <h5 class=\"modal-title\" id=\"agentModalLabel\"></h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"\r\n                    id=\"close-modal\"></button>\r\n          </div>\r\n          <form id=\"addform\" @submit.prevent=\"\">\r\n            <div class=\"modal-body\">\r\n              <input type=\"hidden\" id=\"id\"/>\r\n              <div class=\"row g-3\">\r\n                <div class=\"col-lg-12\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editEmail\" class=\"form-label\">Email</label>\r\n                      <input type=\"text\" id=\"editEmail\" class=\"form-control mb-2\" placeholder=\"Enter Email\" v-model=\"agentData.email\" required>\r\n                    </div>\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editCreatedBy\" class=\"form-label\">Created By</label>\r\n                      <input type=\"text\" id=\"editCreatedBy\" class=\"form-control mb-2\" disabled v-model=\"this.agentData.createdBy\">\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editFirstName\" class=\"form-label\">First Name</label>\r\n                      <input type=\"text\" id=\"editFirstName\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" v-model=\"this.agentData.firstName\" required>\r\n                    </div>\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editLastName\" class=\"form-label\">Last Name</label>\r\n                      <input type=\"text\" id=\"editLastName\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\" v-model=\"this.agentData.lastName\" required>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editLanguage\" class=\"form-label\">Language</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"editLanguage\" v-model=\"this.agentData.language\" required>\r\n                        <option value=\"1\" selected>English</option>\r\n                        <option value=\"2\">Spanish</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editStatus\" class=\"form-label\">Status</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editStatus\" v-model=\"this.agentData.status\">\r\n                        <option v-bind:style=\"(!viewUserGroup('SUPER_ADMIN_GROUP') && status.statusID === 9)? 'display: none;' : ''\" v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editSource\" class=\"form-label\">Source</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Source\" id=\"editSource\" v-model=\"this.agentData.source\">\r\n                        <option v-for=\"(source, sourceIndex) of sourcesList\" :key=\"sourceIndex\" v-bind:value=\"source.sourceID\">{{ source.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editPhoneNumber\" class=\"form-label\">Phone</label>\r\n                      <input type=\"text\" id=\"editPhoneNumber\" class=\"form-control mb-2\" placeholder=\"Phone number\" required v-model=\"this.agentData.phone\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editDepartment\" class=\"form-label\">Department</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                              v-model=\"this.agentData.department\" v-if=\"(departmentList.length > 1)\">\r\n                        <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\r\n                                v-bind:value=\"department.departmentID\">{{ department.name }}\r\n                        </option>\r\n                      </select>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                              v-model=\"this.agentData.department\" v-else>\r\n                        <option v-bind:value=\"departmentList.departmentID\">{{ departmentList.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editAddress\" class=\"form-label\">Address</label>&nbsp;<code><a href=\"#\" target=\"_blank\" id=\"gMapsLink\">Google Maps</a></code>\r\n                      <input type=\"text\" id=\"editAddress\" class=\"form-control mb-2\" placeholder=\"Enter Address\" required v-model=\"this.agentData.address\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editBirthDate\" class=\"form-label mb-2\">Birth Date</label>\r\n                      <flat-pickr\r\n                          placeholder=\"Select Birth Date\"\r\n                          v-model=\"this.agentData.birthDate\"\r\n                          :config=\"timeConfig\"\r\n                          class=\"form-control flatpickr-input\"\r\n                          id=\"editBirthDate\"></flat-pickr>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editCity\" class=\"form-label\">City</label>\r\n                      <input type=\"text\" id=\"editCity\" class=\"form-control mb-2\" placeholder=\"Enter City\" required v-model=\"this.agentData.city\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editState\" class=\"form-label\">State</label>\r\n                      <input type=\"text\" id=\"editState\" class=\"form-control mb-2\" placeholder=\"Enter State\" required v-model=\"this.agentData.state\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editCountry\" class=\"form-label\">Country</label>\r\n                      <input type=\"text\" id=\"editCountry\" class=\"form-control mb-2\" placeholder=\"Enter Country\" required v-model=\"this.agentData.country\"/>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editPostalCode\" class=\"form-label\">Postal code</label>\r\n                      <input type=\"text\" id=\"editPostalCode\" class=\"form-control mb-2\" placeholder=\"Enter Address\" required v-model=\"this.agentData.zipCode\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-6\">\r\n                      <label for=\"editInterview\" class=\"form-label mb-2\">Interview</label>\r\n                      <flat-pickr\r\n                          placeholder=\"Select Interview date/time\"\r\n                          v-model=\"this.agentData.interview\"\r\n                          :config=\"dateTimeConfig\"\r\n                          class=\"form-control flatpickr-input\"\r\n                          id=\"editInterview\" data-enable-time></flat-pickr>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editLicensed\" class=\"form-label\">Is Licensed?</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editLicensed\" v-model=\"this.agentData.insuranceLicense\">\r\n                        <option value=\"0\">No</option>\r\n                        <option value=\"1\">Yes</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editAgentNumber\" class=\"form-label\">License Number</label>\r\n                      <input type=\"text\" id=\"editLicenseNumber\" class=\"form-control mb-2\" placeholder=\"Enter Agent Number\" v-model=\"this.agentData.licenseNumber\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editAgentNumber\" class=\"form-label\">Agent Number</label>\r\n                      <input type=\"text\" id=\"editAgentNumber\" class=\"form-control mb-2\" placeholder=\"Enter Agent Number\" v-model=\"this.agentData.agentNumber\"/>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n\r\n                  </div>\r\n                  <div class=\"row\" id=\"editNoteOpen\" style=\"display: none;\">\r\n                    <notes :dataList=\"notesData\" @onFire=\"getNotes()\" :idNumber=\"1\"> </notes>\r\n                  </div>\r\n                  <div class=\"row\" id=\"editNotes\">\r\n                    <div class=\"mt-4\">\r\n                      <label\r\n                          for=\"editNotes\"\r\n                          class=\"form-label text-muted text-uppercase fw-semibold\"\r\n                      >Notes</label>\r\n                      <textarea\r\n                          class=\"form-control alert alert-primary\"\r\n                          v-model=\"this.agentData.note\"\r\n                          name=\"editNotes\"\r\n                          placeholder=\"Notes\"\r\n                          rows=\"2\"\r\n                      ></textarea>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!--end col-->\r\n              </div>\r\n              <!--end row-->\r\n            </div>\r\n\r\n            <div class=\"modal-footer\">\r\n              <div class=\"hstack gap-2 justify-content-end\">\r\n                <button type=\"button\" class=\"btn btn-light\" id=\"closemodal\" data-bs-dismiss=\"modal\">Close </button>\r\n                <button type=\"submit\" class=\"btn btn-success\" id=\"add-btn\" @click=\"createAgent\">Save </button>\r\n                <button type=\"button\" class=\"btn btn-success\" id=\"edit-btn\" @click=\"updateAgent\">Update </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Filters Modal -->\r\n    <div id=\"open-filters\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"myModalLabel\">Filters</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"> </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-12\">\r\n                <label for=\"filterKeyword\" class=\"form-label\">Keyword</label>\r\n                <input type=\"text\" id=\"filterKeyword\" name=\"filterKeyword\" class=\"form-control mb-2\" placeholder=\"Enter Keyword\" v-model=\"this.data.searchValues.keyword\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterLicensed\" class=\"form-label\">Licensed agents?</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Licensed Agents?\" id=\"filterLicensed\" name=\"filterLicensed\" v-model=\"this.data.searchValues.licensed\">\r\n                  <option value=\"1\" selected>Both</option>\r\n                  <option value=\"2\">Yes</option>\r\n                  <option value=\"3\">No</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                  <label for=\"editStatus\" class=\"form-label\">Status</label>\r\n                  <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"filterStatus\" v-model=\"this.data.searchValues.status\">\r\n                    <option value=\"0\">All</option>\r\n                    <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\r\n                  </select>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editLanguage\" class=\"form-label\">Language</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"filterLanguage\" name=\"filterLanguage\" v-model=\"this.data.searchValues.language\">\r\n                  <option value=\"3\" selected>Both</option>\r\n                  <option value=\"1\">English</option>\r\n                  <option value=\"2\">Spanish</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editStatus\" class=\"form-label\">Search by Notes</label>\r\n                <input type=\"text\" id=\"filterNotes\" name=\"filterNotes\" class=\"form-control mb-2\" placeholder=\"Enter note\" v-model=\"this.data.searchValues.noteSearch\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterFromDate\" class=\"form-label\"> From date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.data.searchValues.fromDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterFromDate\"\r\n                    name=\"filterFromDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterToDate\" class=\"form-label\"> To Date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.data.searchValues.toDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterToDate\"\r\n                    name=\"filterToDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                  <label for=\"filterDateRange\" class=\"form-label\">Time Range</label>\r\n                <select class=\"form-select mb-2\" id=\"filterDateRange\" name=\"filterDateRange\" v-model=\"this.data.searchValues.dateRange\">\r\n                  <option value=\"0\" selected>...</option>\r\n                  <option value=\"1\">Until 2 year Ago</option>\r\n                  <option value=\"2\">Until 4 year Ago</option>\r\n                  <option value=\"3\">Until 5 year Ago</option>\r\n                  <option value=\"4\">Begin of times</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <span v-if=\"viewUserGroup('SUPER_ADMIN_GROUP')\">\r\n                  <label for=\"filterDateRange\" class=\"form-label\">Department</label>\r\n                    <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"filterDepartment\" name=\"filterDepartment\"\r\n                            v-model=\"this.data.searchValues.department\">\r\n                        <option value=\"0\"> All</option>\r\n                        <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\r\n                                v-bind:value=\"department.departmentID\"> {{ department.name }}\r\n                        </option>\r\n                    </select>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <br>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <div class=\"form-check form-switch form-switch-lg\" dir=\"ltr\" style=\"margin-left: 3px;\">\r\n                  <input type=\"checkbox\" class=\"form-check-input\" id=\"isActive\" checked=\"\">\r\n                  <label class=\"form-check-label\" for=\"isActive\">Active</label>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-light\" data-bs-dismiss=\"modal\">Close</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"updateAgentList()\">Search</button>\r\n          </div>\r\n\r\n        </div><!-- /.modal-content -->\r\n      </div><!-- /.modal-dialog -->\r\n    </div><!-- /.modal -->\r\n\r\n    <!-- Notes Modal -->\r\n    <div id=\"open-notes\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <notes :dataList=\"notesData\" @onFire=\"getNotes()\" :idNumber=\"2\"> </notes>\r\n        </div><!-- /.modal-content -->\r\n      </div><!-- /.modal-dialog -->\r\n    </div><!-- /.modal -->\r\n\r\n    <!-- Change Password Modal -->\r\n    <div class=\"modal zoomIn\" id=\"open-changePassword\" tabindex=\"-1\" aria-labelledby=\"agentModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\" style=\"max-width: 1000px;\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header bg-light p-3\">\r\n            <h5 class=\"modal-title\" id=\"agentModalLabel\"></h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"\r\n                    id=\"close-modal\"></button>\r\n          </div>\r\n          <form id=\"addform\" @submit.prevent=\"\">\r\n            <div class=\"modal-body\">\r\n              <div class=\"row g-2\">\r\n                <!--end col-->\r\n                <div class=\"col-lg-6\">\r\n                  <div>\r\n                    <label for=\"newpasswordInput\" class=\"form-label\"\r\n                    >New Password*</label\r\n                    >\r\n                    <div class=\"position-relative auth-pass-inputgroup mb-3\">\r\n                      <input v-model=\"password\"\r\n                             type=\"password\"\r\n                             class=\"form-control pe-5 password-input\"\r\n                             placeholder=\"Enter new password\"\r\n                             id=\"newpasswordInput\"\r\n                             autocomplete=\"off\">\r\n                      <button class=\"btn btn-link position-absolute end-0 top-0 text-decoration-none text-muted\" type=\"button\" id=\"password-addon\" @click=\"showPassword()\"><i class=\"ri-eye-fill align-middle\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!--end col-->\r\n                <div class=\"col-lg-6\">\r\n                  <div>\r\n                    <label for=\"confirmpasswordInput\" class=\"form-label\"\r\n                    >Confirm Password*</label\r\n                    >\r\n                    <div class=\"position-relative auth-pass-inputgroup mb-3\">\r\n                      <input v-model=\"confirmPasword\"\r\n                             type=\"password\"\r\n                             class=\"form-control pe-5 password-input\"\r\n                             placeholder=\"Confirm password\"\r\n                             id=\"confirmpasswordInput\"\r\n                             autocomplete=\"off\">\r\n                      <button class=\"btn btn-link position-absolute end-0 top-0 text-decoration-none text-muted\" type=\"button\" id=\"password-addon\" @click=\"showPassword()\"><i class=\"ri-eye-fill align-middle\"></i></button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!--end col-->\r\n              </div>\r\n              <div class=\"row\">\r\n                  <div class=\"col-lg-6\">\r\n                    <label for=\"givePermissions\" class=\"form-label\">Give Permissions</label>\r\n                    <select class=\"form-select mb-2\" aria-label=\"givePermissions\" id=\"givePermissions\" name=\"givePermissions\" @change=\"permissionsToUser()\" v-model=\"this.havePermissions\">\r\n                      <option value=\"\">...</option>\r\n                      <option value=\"1\">Yes</option>\r\n                      <option value=\"2\">No</option>\r\n                    </select>\r\n                  </div>\r\n                <div class=\"col-lg-2\"></div>\r\n              </div>\r\n\r\n              <!--end row-->\r\n            </div>\r\n\r\n            <div class=\"modal-footer\">\r\n              <div class=\"hstack gap-2 justify-content-end\">\r\n                <button type=\"button\" class=\"btn btn-light\" id=\"closemodalPassword\" data-bs-dismiss=\"modal\">Close</button>\r\n                <button type=\"button\" class=\"btn btn-success\" id=\"edit-btn\" @click=\"updateUserPassword\">Update</button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Upload agents calendar Modal -->\r\n    <b-modal id=\"interiewCalendar\" title=\"Fullscreen | Agents Appoinment Calendar\" class=\"v-modal-custom\" fullscreen>\r\n      <div class=\"row\">\r\n        <calendar></calendar>\r\n      </div>\r\n    </b-modal>\r\n\r\n    <b-modal id=\"uploadAgents\" title=\"Fullscreen | Upload Agents\" class=\"v-modal-custom\" fullscreen>\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-12\">\r\n          <form>\r\n            <!-- end card -->\r\n\r\n            <div class=\"card\">\r\n              <div class=\"card-body\">\r\n                <div class=\"vstack gap-2\">\r\n                  <h5 class=\"fs-14 mb-1\">Upload Your List</h5>\r\n                  <h6> <span style=\"color:red; font-size: 0.7em;\">Please, upload a .csv file from Lincoln or convert the .xls/.xlsx to .csv</span></h6>\r\n                  <input class=\"form-control\" id=\"listFile\" type=\"file\"\r\n                         accept=\"text/csv\" @change=\"selectedFile\"/>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editLanguage\" class=\"form-label\">Language</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"uploadLanguage\" name=\"uploadLanguage\">\r\n                        <option value=\"\">...</option>\r\n                        <option value=\"1\">English</option>\r\n                        <option value=\"2\">Spanish</option>\r\n                        <option value=\"3\">Take from list</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editStatus\" class=\"form-label\">Status</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"uploadStatus\" name=\"uploadStatus\">\r\n                        <option value=\"\">...</option>\r\n                        <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editType\" class=\"form-label\">Source</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"uploadType\" name=\"uploadType\">\r\n                        <option value=\"\">...</option>\r\n                        <option v-for=\"(type, typeIndex) of sourcesList\" :key=\"typeIndex\" v-bind:value=\"type.sourceID\">{{ type.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-3\" v-if=\"viewUserGroup('SUPER_ADMIN_GROUP')\">\r\n                      <label for=\"departmentType\" class=\"form-label\">Departments</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"departmentType\" name=\"departmentType\" v-model=\"this.data.selectedDepartmentForAgentList\">\r\n                        <option value=\"\">...</option>\r\n                        <option v-for=\"(type, typeIndex) of departmentList\" :key=\"typeIndex\" v-bind:value=\"type.departmentID\">{{ type.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"border rounded\" v-for=\"(file, index) of files\" :key=\"index\">\r\n                    <div class=\"d-flex align-items-center p-2\">\r\n                      <div class=\"flex-grow-1\">\r\n                        <div class=\"pt-1\">\r\n                          <h5 class=\"fs-14 mb-1\" data-dz-name=\"\">\r\n                            {{ file.name }}\r\n                          </h5>\r\n                          <p class=\"fs-13 text-muted mb-0\" data-dz-size=\"\">\r\n                            <strong>{{ file.size / 1024 }}</strong> KB\r\n                          </p>\r\n                          <strong class=\"error text-danger\" data-dz-errormessage=\"\"></strong>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"flex-shrink-0 ms-3\">\r\n                        <button data-dz-remove=\"\" class=\"btn btn-sm btn-danger\" @click=\"deleteRecord\">\r\n                          Delete\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"text-end mb-3\">\r\n                    <button type=\"button\" class=\"btn btn-success w-sm\" @click=\"handleFileUpload\">Process File</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <!-- end card -->\r\n          </form>\r\n        </div>\r\n        <!-- end col -->\r\n\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n\r\n            <!-- Tables Border Colors -->\r\n            <table class=\"table table-bordered border-secondary table-nowrap\" v-if=\"parsed\">\r\n              <thead>\r\n              <tr>\r\n                <th scope=\"col\">\r\n                  ID\r\n                </th>\r\n                <th v-for=\"(header, key) in content.meta.fields\"\r\n                    v-bind:key=\"'header-'+key\" scope=\"col\">{{ header }}\r\n                </th>\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n              <tr v-for=\"(row, rowKey) in content.data\"\r\n                  v-bind:key=\"'row-'+rowKey\">\r\n                <td>\r\n                  <b>{{ (rowKey+1) }}</b>\r\n                </td>\r\n                <td v-for=\"(column, columnKey) in content.meta.fields\"\r\n                    v-bind:key=\"'row-'+rowKey+'-column-'+columnKey\">\r\n                  {{ content.data[rowKey][column] }}\r\n                </td>\r\n              </tr>\r\n              </tbody>\r\n            </table>\r\n\r\n          </div>\r\n        </div>\r\n        <div class=\"text-end mb-3\">\r\n          <button type=\"button\" class=\"btn btn-success w-sm\" @click=\"uploadFile\">Upload File</button>\r\n        </div>\r\n      </div>\r\n    </b-modal>\r\n  </Layout>\r\n</template>\r\n<style>\r\n.row-spacer{\r\n  margin-bottom: 10px;\r\n}\r\n\r\nbutton.swal2-cancel.btn.btn-success{\r\n  margin-left: 5px;\r\n}\r\n</style>"]}]}