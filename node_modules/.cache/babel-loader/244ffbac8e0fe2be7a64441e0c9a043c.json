{"remainingRequest":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\wamp64\\www\\crm\\frontend\\src\\views\\authentication\\scheduleAgentInterview.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\wamp64\\www\\crm\\frontend\\src\\views\\authentication\\scheduleAgentInterview.vue","mtime":1683751998953},{"path":"C:\\wamp64\\www\\crm\\frontend\\babel.config.js","mtime":1645939880000},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1652458135842},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1668443313146}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L3dhbXA2NC93d3cvY3JtL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50ZXN0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgJ3YtY2FsZW5kYXIvZGlzdC9zdHlsZS5jc3MnOwppbXBvcnQgeyBEYXRlUGlja2VyIH0gZnJvbSAndi1jYWxlbmRhcic7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IGZsYXRQaWNrciBmcm9tICJ2dWUtZmxhdHBpY2tyLWNvbXBvbmVudCI7CmltcG9ydCAiZmxhdHBpY2tyL2Rpc3QvZmxhdHBpY2tyLmNzcyI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsgLy8gY3VzdG9tIGNvbXBvbmVudHMKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYWdlbnRzSW50ZXJ2aWV3cyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpcnN0TmFtZTogJycsCiAgICAgIGxhc3ROYW1lOiAnJywKICAgICAgcGhvbmVOdW1iZXI6ICcnLAogICAgICBlbWFpbDogJycsCiAgICAgIHBvc3RhbENvZGU6ICcnLAogICAgICByZWZlcmVuY2U6ICcnLAogICAgICBsYW5ndWFnZTogMCwKICAgICAgZXJyb3JzOiBbXSwKICAgICAgdmFsaWRhdGU6IGZhbHNlLAogICAgICBkYXRlOiBuZXcgRGF0ZSgpLAogICAgICBtaW5EYXRlOiBuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSArIDg2NDAwMDAwKSwKICAgICAgbWF4RGF0ZTogbmV3IERhdGUobmV3IERhdGUoKS5nZXRUaW1lKCkgKyA3NTAwMDAwMDApLAogICAgICBkaXNhYmxlZERheXM6IFtdLAogICAgICBhdmFpbGFibGVIb3VyczogW10sCiAgICAgIGF2YWlsYWJsZU1pbnV0ZXM6IFswXSwKICAgICAgaG91cnM6IFtdLAogICAgICBkYXRlczogW10sCiAgICAgIHRpbWV6b25lOiBbLy8gJ0FtZXJpY2EvQ2hpY2FnbycsCiAgICAgIEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZV0sCiAgICAgIHNlbGVjdEF0dHJpYnV0ZTogewogICAgICAgIGRvdDogdHJ1ZQogICAgICB9LAogICAgICB0aW1lQ29uZmlnOiB7CiAgICAgICAgZW5hYmxlVGltZTogZmFsc2UsCiAgICAgICAgZGF0ZUZvcm1hdDogImQgTSwgWSIKICAgICAgfQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIC8vIENhbGVuZGFyLAogICAgRGF0ZVBpY2tlcjogRGF0ZVBpY2tlciwKICAgIGZsYXRQaWNrcjogZmxhdFBpY2tyCiAgfSwKICBtZXRob2RzOiB7CiAgICBmb3JtYXREYXRlOiBmdW5jdGlvbiBmb3JtYXREYXRlKGRhdGUpIHsKICAgICAgdmFyIG1vbnRoTmFtZXMgPSBbIkphbnVhcnkiLCAiRmVicnVhcnkiLCAiTWFyY2giLCAiQXByaWwiLCAiTWF5IiwgIkp1bmUiLCAiSnVseSIsICJBdWd1c3QiLCAiU2VwdGVtYmVyIiwgIk9jdG9iZXIiLCAiTm92ZW1iZXIiLCAiRGVjZW1iZXIiXTsKICAgICAgdmFyIGQgPSBuZXcgRGF0ZShkYXRlKSwKICAgICAgICAgIG1vbnRoID0gIiIgKyBtb250aE5hbWVzW2QuZ2V0TW9udGgoKV0sCiAgICAgICAgICBkYXkgPSAiIiArIGQuZ2V0RGF0ZSgpLAogICAgICAgICAgeWVhciA9IGQuZ2V0RnVsbFllYXIoKTsKICAgICAgaWYgKG1vbnRoLmxlbmd0aCA8IDIpIG1vbnRoID0gIjAiICsgbW9udGg7CiAgICAgIGlmIChkYXkubGVuZ3RoIDwgMikgZGF5ID0gIjAiICsgZGF5OwogICAgICByZXR1cm4gW2RheSArICIgIiArIG1vbnRoLCB5ZWFyXS5qb2luKCIsIik7CiAgICB9LAogICAgZm9ybWF0RGF0ZTI6IGZ1bmN0aW9uIGZvcm1hdERhdGUyKGRhdGUsIGZvcm1hdCkgewogICAgICBkYXRlID0gbW9tZW50KGRhdGUpLmZvcm1hdChmb3JtYXQpOwogICAgICByZXR1cm4gZGF0ZTsKICAgIH0sCiAgICBuZXh0QnV0dG9uOiBmdW5jdGlvbiBuZXh0QnV0dG9uKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgbGlzdCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMgPSBbXTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmVtYWlsKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdFbWFpbCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIV90aGlzLnZhbGlkRW1haWwoX3RoaXMuZW1haWwpKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdWYWxpZCBlbWFpbCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmZpcnN0TmFtZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnRmlyc3QgTmFtZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmxhc3ROYW1lKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdMYXN0IE5hbWUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5sYW5ndWFnZSAmJiBfdGhpcy5sYW5ndWFnZSAhPT0gMCkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnTGFuZ3VhZ2UgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5waG9uZU51bWJlcikgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnUGhvbmUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzLnZhbGlkUGhvbmUoX3RoaXMucGhvbmVOdW1iZXIpID09PSBmYWxzZSAmJiBfdGhpcy5waG9uZU51bWJlciAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ1BsZWFzZSwgd3JpdGUgYSB2YWxpZCBwaG9uZSBudW1iZXIhJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5wb3N0YWxDb2RlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdQb3N0YWwgQ29kZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLnJlZmVyZW5jZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnSG93IGRpZCB5b3UgaGVhciBhYm91dCB1cz8gaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzLmVycm9ycy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0Q2FsZW5kYXJJbmZvKCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgX3RoaXMuZXJyb3JzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgX3RoaXMuZXJyb3JzW2ldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSwgY29tcGxldGUgeW91ciBwZXJzb25hbCBpbmZvISAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0Q2FsZW5kYXJJbmZvOiBmdW5jdGlvbiBnZXRDYWxlbmRhckluZm8oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nLCB1cmxQYXJhbXMsIGRlcGFydG1lbnQsIGxhbmd1YWdlLCBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7CiAgICAgICAgICAgICAgICB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHF1ZXJ5U3RyaW5nKTsKICAgICAgICAgICAgICAgIGRlcGFydG1lbnQgPSB1cmxQYXJhbXMuZ2V0KCdkZXBhcnRtZW50Jyk7CiAgICAgICAgICAgICAgICBsYW5ndWFnZSA9IF90aGlzMi5sYW5ndWFnZTsKCiAgICAgICAgICAgICAgICBpZiAoZGVwYXJ0bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgZGVwYXJ0bWVudCA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgICBkZXBhcnRtZW50ID0gMTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShsYW5ndWFnZSA9PT0gJzAnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKCJPb3BzISIsICJQbGVhc2UsIHNlbGVjdCBhIGxhbmd1YWdlLiIsICJlcnJvciIpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICBkZXBhcnRtZW50OiBkZXBhcnRtZW50LAogICAgICAgICAgICAgICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvZ2V0Q2FsZW5kYXInLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICB2YXIgZGF0ZXMgPSBKU09OLnBhcnNlKHJlc3BvbnNlLmRhdGFbMF0uZGF0ZXMpOwogICAgICAgICAgICAgICAgICB2YXIgZGF5c051bWJlcnMgPSBbMCwgMSwgMiwgMywgNCwgNSwgNl07CiAgICAgICAgICAgICAgICAgIHZhciBjYWxlbmRhckRheXMgPSBbMSwgMiwgMywgNCwgNSwgNiwgN107CiAgICAgICAgICAgICAgICAgIHZhciBkYXlzTmFtZXMgPSBbJ3N1bmRheScsICdtb25kYXknLCAndHVlc2RheScsICd3ZWRuZXNkYXknLCAndGh1cnNkYXknLCAnZnJpZGF5JywgJ3NhdHVyZGF5J107CiAgICAgICAgICAgICAgICAgIHZhciBhdmFpbGFibGVEYXlzID0gW107CiAgICAgICAgICAgICAgICAgIF90aGlzMi5kYXRlcyA9IGRhdGVzOwogICAgICAgICAgICAgICAgICBkYXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50LCBpKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRheSA9ICcnOwogICAgICAgICAgICAgICAgICAgIGRheSA9IE9iamVjdC5rZXlzKGRhdGVzW2ldKTsKICAgICAgICAgICAgICAgICAgICBkYXkgPSBkYXlbMF07CiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICcnOwogICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGRheXNOYW1lcy5pbmRleE9mKGRheSk7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZGF5c051bWJlcnNbcmVzdWx0XTsKICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVEYXlzLnB1c2gocGFyc2VJbnQocmVzdWx0KSArIDEpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgdmFyIGFyciA9IGNhbGVuZGFyRGF5cy5maWx0ZXIoZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAhYXZhaWxhYmxlRGF5cy5pbmNsdWRlcyh2YWwpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmRpc2FibGVkRGF5cyA9IGFycjsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiV2UgY291bGRuJ3QgcmV0cml2ZSBjYWxlbmRhciBpbmZvLCBzb3JyeS4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRIb3VyczogZnVuY3Rpb24gZ2V0SG91cnMoKSB7CiAgICAgIHZhciBkYXRlID0gdGhpcy5kYXRlOwogICAgICB2YXIgZGF5ID0gcGFyc2VJbnQoZGF0ZS5nZXREYXkoKSk7CiAgICAgIHZhciBkYXRlcyA9IHRoaXMuZGF0ZXM7IC8vIGxldCBkYXlzTnVtYmVycyA9IFswLCAxLCAyLCAzLCA0LCA1LCA2XTsKCiAgICAgIHZhciBkYXlzTmFtZXMgPSBbJ3N1bmRheScsICdtb25kYXknLCAndHVlc2RheScsICd3ZWRuZXNkYXknLCAndGh1cnNkYXknLCAnZnJpZGF5JywgJ3NhdHVyZGF5J107CiAgICAgIHZhciBkYXlTZWxlY3RlZCA9IGRheXNOYW1lc1twYXJzZUludChkYXkpXTsKICAgICAgdmFyIGFyck9mTnVtID0gW107CiAgICAgIGRhdGVzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQsIGkpIHsKICAgICAgICB2YXIgZGF5ID0gJyc7CiAgICAgICAgZGF5ID0gT2JqZWN0LmtleXMoZGF0ZXNbaV0pOwogICAgICAgIGRheSA9IGRheVswXTsKCiAgICAgICAgaWYgKGRheVNlbGVjdGVkID09PSBkYXkpIHsKICAgICAgICAgIGlmIChkYXRlc1tpXVtkYXldWzBdLmluY2x1ZGVzKCcsJykpIHsKICAgICAgICAgICAgZGF5U2VsZWN0ZWQgPSBkYXRlc1tpXVtkYXldWzBdLnNwbGl0KCIsIik7CiAgICAgICAgICAgIGFyck9mTnVtID0gZGF5U2VsZWN0ZWQubWFwKGZ1bmN0aW9uIChzdHIpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnMScpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKE51bWJlcihzdHIpKTsKICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyKHN0cik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGF5U2VsZWN0ZWQgPSBbZGF0ZXNbaV1bZGF5XVswXV07CiAgICAgICAgICAgIGFyck9mTnVtID0gZGF5U2VsZWN0ZWQubWFwKGZ1bmN0aW9uIChzdHIpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnMicpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRheVNlbGVjdGVkKTsKICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyKHN0cik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuYXZhaWxhYmxlSG91cnMgPSBhcnJPZk51bTsKICAgIH0sCiAgICBzYXZlSW50ZXJ2aWV3OiBmdW5jdGlvbiBzYXZlSW50ZXJ2aWV3KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBxdWVyeVN0cmluZywgdXJsUGFyYW1zLCBkZXBhcnRtZW50LCBkYXRhLCBsaXN0LCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzID0gW107CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczMuZW1haWwpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmVycm9ycy5wdXNoKCdFbWFpbCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIV90aGlzMy52YWxpZEVtYWlsKF90aGlzMy5lbWFpbCkpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmVycm9ycy5wdXNoKCdWYWxpZCBlbWFpbCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMy5maXJzdE5hbWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmVycm9ycy5wdXNoKCdGaXJzdCBOYW1lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMzLmxhc3ROYW1lKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnTGFzdCBOYW1lIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMzLmxhbmd1YWdlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgnTGFuZ3VhZ2UgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczMucGhvbmVOdW1iZXIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmVycm9ycy5wdXNoKCdQaG9uZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLnZhbGlkUGhvbmUoX3RoaXMzLnBob25lTnVtYmVyKSA9PT0gZmFsc2UgJiYgX3RoaXMzLnBob25lTnVtYmVyICE9PSAnJykgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ1BsZWFzZSwgd3JpdGUgYSB2YWxpZCBwaG9uZSBudW1iZXIhJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczMucG9zdGFsQ29kZSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ1Bvc3RhbCBDb2RlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMzLnJlZmVyZW5jZSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ0hvdyBkaWQgeW91IGhlYXIgYWJvdXQgdXM/IGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMy5hdmFpbGFibGVIb3Vycy5sZW5ndGggPT09IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICJTb3JyeSwgVGhpcyBkZXBhcnRtZW50IGRvZXNuJ3QgaGF2ZSBhdmFpbGFibGUgZGF5cyBmb3IgaW50ZXJ2aWV3cy48YnI+IFBsZWFzZSwgY29udGFjdCB5b3VyIHJlY3J1aXRlci4iLAogICAgICAgICAgICAgICAgICBpY29uOiAnZGFuZ2VyJywKICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1kYW5nZXIiLAogICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogZmFsc2UKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgaWYgKCEoIV90aGlzMy5lcnJvcnMubGVuZ3RoICYmIF90aGlzMy5hdmFpbGFibGVIb3Vycy5sZW5ndGggIT09IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHF1ZXJ5U3RyaW5nID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDsKICAgICAgICAgICAgICAgIHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocXVlcnlTdHJpbmcpOwogICAgICAgICAgICAgICAgZGVwYXJ0bWVudCA9IHVybFBhcmFtcy5nZXQoJ2RlcGFydG1lbnQnKTsKCiAgICAgICAgICAgICAgICBpZiAoZGVwYXJ0bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgZGVwYXJ0bWVudCA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgICBkZXBhcnRtZW50ID0gMTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczMuZGF0ZSk7CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICBlbWFpbDogX3RoaXMzLmVtYWlsLAogICAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IF90aGlzMy5maXJzdE5hbWUsCiAgICAgICAgICAgICAgICAgIGxhc3ROYW1lOiBfdGhpczMubGFzdE5hbWUsCiAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBfdGhpczMubGFuZ3VhZ2UsCiAgICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiBfdGhpczMucGhvbmVOdW1iZXIsCiAgICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6IF90aGlzMy5wb3N0YWxDb2RlLAogICAgICAgICAgICAgICAgICBkaWRZb3VySGVhcjogX3RoaXMzLnJlZmVyZW5jZSwKICAgICAgICAgICAgICAgICAgZGF0ZTogX3RoaXMzLmZvcm1hdERhdGUyKF90aGlzMy5kYXRlLCAnWVlZWS1NTS1ERFRISDptbTpTUy5TU1NaJyksCiAgICAgICAgICAgICAgICAgIGRlcGFydG1lbnQ6IGRlcGFydG1lbnQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvc2F2ZUFnZW50SW50ZXJ2aWV3JywgZGF0YSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiWW91ciBhcHBvaW5tZW50IGhhcyBiZWVuIHNjaGVkdWxlZCEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAzMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9ICIvc2F2ZWRJbnRlcnZpZXciOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogImJvdHRvbS1lbmQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlNvbWV0aGluZyB3cm9uZyBoYXBwZW5zISIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDUwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDUwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgX3RoaXMzLmVycm9ycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIF90aGlzMy5lcnJvcnNbaV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyNzsKICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSwgY29tcGxldGUgeW91ciBwZXJzb25hbCBpbmZvISAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB2YWxpZEVtYWlsOiBmdW5jdGlvbiB2YWxpZEVtYWlsKGVtYWlsKSB7CiAgICAgIHZhciByZSA9IC9eKChbXjw+KClbXF1cXC4sOzpcc0AiXSsoXC5bXjw+KClbXF1cXC4sOzpcc0AiXSspKil8KCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVxdKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsfSkpJC87CiAgICAgIHJldHVybiByZS50ZXN0KGVtYWlsLnRyaW0oKSk7CiAgICB9LAogICAgdmFsaWRQaG9uZTogZnVuY3Rpb24gdmFsaWRQaG9uZShwaG9uZSkgewogICAgICBpZiAocGhvbmUgIT09IHVuZGVmaW5lZCAmJiBwaG9uZSAhPT0gbnVsbCkgewogICAgICAgIHJldHVybiAvXihcK3swLH0pKFxkezAsfSkoWyhdezF9XGR7MSwzfVspXXswLH0pezAsfShccz9cZCt8XCtcZHsyLDN9XHN7MX1cZCt8XGQrKXsxfVtcc3wtXT9cZCsoW1xzfC1dP1xkKyl7MSwyfShccyl7MCx9JC9nbS50ZXN0KHBob25lKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBwcmludFZhbHVlOiBmdW5jdGlvbiBwcmludFZhbHVlKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGUpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmZvcm1hdERhdGUyKHRoaXMuZGF0ZSwgJ1lZWVktTU0tRERUSEg6bW06U1MuU1NTWicpKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuY2hlY2tvdXQtdGFiIikuZm9yRWFjaChmdW5jdGlvbiAoZm9ybSkgewogICAgICAvLyBuZXh0IHRhYgogICAgICBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoIi5uZXh0dGFiIikuZm9yRWFjaChmdW5jdGlvbiAobmV4dEJ1dHRvbikgewogICAgICAgIHZhciB0YWJFbCA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uW2RhdGEtYnMtdG9nZ2xlPSJwaWxsIl0nKTsKICAgICAgICB0YWJFbC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoInNob3cuYnMudGFiIiwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuYWRkKCJkb25lIik7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICBuZXh0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIG5leHRUYWIgPSBuZXh0QnV0dG9uLmdldEF0dHJpYnV0ZSgiZGF0YS1uZXh0dGFiIik7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuZXh0VGFiKS5jbGljaygpOwogICAgICAgIH0pOwogICAgICB9KTsgLy9QZXJ2aWVzIHRhYgoKICAgICAgZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCIucHJldmllc3RhYiIpLmZvckVhY2goZnVuY3Rpb24gKHByZXZCdXR0b24pIHsKICAgICAgICBwcmV2QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHByZXZUYWIgPSBwcmV2QnV0dG9uLmdldEF0dHJpYnV0ZSgiZGF0YS1wcmV2aW91cyIpOwogICAgICAgICAgdmFyIHRvdGFsRG9uZSA9IHByZXZCdXR0b24uY2xvc2VzdCgiZm9ybSIpLnF1ZXJ5U2VsZWN0b3JBbGwoIi5jdXN0b20tbmF2IC5kb25lIikubGVuZ3RoOwoKICAgICAgICAgIGZvciAodmFyIGkgPSB0b3RhbERvbmUgLSAxOyBpIDwgdG90YWxEb25lOyBpKyspIHsKICAgICAgICAgICAgcHJldkJ1dHRvbi5jbG9zZXN0KCJmb3JtIikucXVlcnlTZWxlY3RvckFsbCgiLmN1c3RvbS1uYXYgLmRvbmUiKVtpXSA/IHByZXZCdXR0b24uY2xvc2VzdCgiZm9ybSIpLnF1ZXJ5U2VsZWN0b3JBbGwoIi5jdXN0b20tbmF2IC5kb25lIilbaV0uY2xhc3NMaXN0LnJlbW92ZSgiZG9uZSIpIDogIiI7CiAgICAgICAgICB9CgogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJldlRhYikuY2xpY2soKTsKICAgICAgICB9KTsKICAgICAgfSk7IC8vIFN0ZXAgbnVtYmVyIGNsaWNrCgogICAgICB2YXIgdGFiQnV0dG9ucyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uW2RhdGEtYnMtdG9nZ2xlPSJwaWxsIl0nKTsKICAgICAgdGFiQnV0dG9ucy5mb3JFYWNoKGZ1bmN0aW9uIChidXR0b24sIGkpIHsKICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCJkYXRhLXBvc2l0aW9uIiwgaSk7CiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCIuY3VzdG9tLW5hdiAuZG9uZSIpLmxlbmd0aCA+IDAgPyBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoIi5jdXN0b20tbmF2IC5kb25lIikuZm9yRWFjaChmdW5jdGlvbiAoZG9uZVRhYikgewogICAgICAgICAgICBkb25lVGFiLmNsYXNzTGlzdC5yZW1vdmUoImRvbmUiKTsKICAgICAgICAgIH0pIDogIiI7CgogICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPD0gaTsgaisrKSB7CiAgICAgICAgICAgIHRhYkJ1dHRvbnNbal0uY2xhc3NMaXN0LmNvbnRhaW5zKCJhY3RpdmUiKSA/IHRhYkJ1dHRvbnNbal0uY2xhc3NMaXN0LnJlbW92ZSgiZG9uZSIpIDogdGFiQnV0dG9uc1tqXS5jbGFzc0xpc3QuYWRkKCJkb25lIik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["DatePicker","axios","Swal","flatPickr","moment","name","data","firstName","lastName","phoneNumber","email","postalCode","reference","language","errors","validate","date","Date","minDate","getTime","maxDate","disabledDays","availableHours","availableMinutes","hours","dates","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","selectAttribute","dot","timeConfig","enableTime","dateFormat","components","methods","formatDate","monthNames","d","month","getMonth","day","getDate","year","getFullYear","length","join","formatDate2","format","nextButton","push","validEmail","validPhone","getCalendarInfo","list","i","fire","title","icon","confirmButtonClass","buttonsStyling","showCloseButton","queryString","window","location","search","urlParams","URLSearchParams","department","get","post","then","JSON","parse","response","daysNumbers","calendarDays","daysNames","availableDays","forEach","element","Object","keys","result","indexOf","parseInt","arr","filter","includes","val","catch","error","detail","$router","getHours","getDay","daySelected","arrOfNum","split","map","console","log","Number","str","saveInterview","didYourHear","status","position","showConfirmButton","timer","href","property","message","re","test","trim","phone","undefined","printValue","mounted","document","querySelectorAll","form","tabEl","item","addEventListener","event","target","classList","add","nextTab","getAttribute","getElementById","click","prevButton","prevTab","totalDone","closest","remove","tabButtons","button","setAttribute","doneTab","j","contains"],"sourceRoot":"","sources":["C:\\wamp64\\www\\crm\\frontend\\src\\views\\authentication\\scheduleAgentInterview.vue"],"sourcesContent":["<script>\r\nimport 'v-calendar/dist/style.css';\r\nimport { DatePicker } from 'v-calendar';\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport flatPickr from \"vue-flatpickr-component\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\nimport moment from \"moment\";\r\n\r\n// custom components\r\n\r\nexport default {\r\n  name: \"agentsInterviews\",\r\n  data() {\r\n    return {\r\n      firstName: '',\r\n      lastName: '',\r\n      phoneNumber: '',\r\n      email: '',\r\n      postalCode: '',\r\n      reference: '',\r\n      language: 0,\r\n      errors: [],\r\n      validate: false,\r\n      date: new Date(),\r\n      minDate: new Date(new Date().getTime() + 86400000),\r\n      maxDate: new Date(new Date().getTime() + 750000000),\r\n      disabledDays: [],\r\n      availableHours: [],\r\n      availableMinutes: [0],\r\n      hours: [],\r\n      dates: [],\r\n      timezone: [\r\n        // 'America/Chicago',\r\n        Intl.DateTimeFormat().resolvedOptions().timeZone,\r\n      ],\r\n      selectAttribute: {\r\n        dot: true,\r\n      },\r\n      timeConfig: {\r\n        enableTime: false,\r\n        dateFormat: \"d M, Y\"\r\n      },\r\n    }\r\n  },\r\n  components: {\r\n    // Calendar,\r\n    DatePicker,\r\n    flatPickr,\r\n  },\r\n  methods: {\r\n    formatDate(date) {\r\n      var monthNames = [\r\n        \"January\",\r\n        \"February\",\r\n        \"March\",\r\n        \"April\",\r\n        \"May\",\r\n        \"June\",\r\n        \"July\",\r\n        \"August\",\r\n        \"September\",\r\n        \"October\",\r\n        \"November\",\r\n        \"December\",\r\n      ];\r\n      var d = new Date(date),\r\n          month = \"\" + monthNames[d.getMonth()],\r\n          day = \"\" + d.getDate(),\r\n          year = d.getFullYear();\r\n      if (month.length < 2) month = \"0\" + month;\r\n      if (day.length < 2) day = \"0\" + day;\r\n      return [day + \" \" + month, year].join(\",\");\r\n    },\r\n    formatDate2: function (date, format) {\r\n      date = moment(date).format(format)\r\n      return date;\r\n    },\r\n    async nextButton() {\r\n\r\n      this.errors = []\r\n\r\n      if (!this.email) {\r\n        this.errors.push('Email is required.');\r\n      } else if (!this.validEmail(this.email)) {\r\n        this.errors.push('Valid email is required.');\r\n      }\r\n\r\n      if (!this.firstName) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!this.lastName) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (!this.language && this.language !== 0) {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (!this.phoneNumber) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if (this.validPhone(this.phoneNumber) === false && this.phoneNumber !== '') {\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!this.postalCode) {\r\n        this.errors.push('Postal Code is required.');\r\n      }\r\n\r\n      if (!this.reference) {\r\n        this.errors.push('How did you hear about us? is required.');\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n        await this.getCalendarInfo()\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i] + '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please, complete your personal info! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n\r\n    },\r\n    async getCalendarInfo() {\r\n\r\n      const queryString = window.location.search;\r\n      const urlParams = new URLSearchParams(queryString);\r\n      let department = urlParams.get('department');\r\n      let language = this.language;\r\n\r\n      if(department === 'undefined' || department === null) {\r\n        department = 1\r\n      }\r\n\r\n      if (language === '0') {\r\n        await Swal.fire(\"Oops!\", \"Please, select a language.\", \"error\")\r\n      } else {\r\n        const data = {\r\n          department: department,\r\n          language: language\r\n        }\r\n\r\n        await axios\r\n            .post('/api/getCalendar', data)\r\n            .then(response => {\r\n\r\n              let dates = JSON.parse(response.data[0].dates);\r\n              let daysNumbers = [0, 1, 2, 3, 4, 5, 6];\r\n              let calendarDays = [1, 2, 3, 4, 5, 6, 7];\r\n              let daysNames = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\r\n              let availableDays = []\r\n              this.dates = dates;\r\n\r\n              dates.forEach(function (element, i){\r\n                let day = '';\r\n                day = Object.keys(dates[i]);\r\n                day = day[0];\r\n\r\n                let result = '';\r\n                result = daysNames.indexOf(day);\r\n                result = daysNumbers[result];\r\n                availableDays.push(parseInt(result)+1)\r\n              }\r\n            );\r\n\r\n              let arr = calendarDays.filter(val => !availableDays.includes(val));\r\n              this.disabledDays = arr;\r\n            })\r\n            .catch(error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  this.$router.push('logout')\r\n                }\r\n\r\n                Swal.fire(\"Oops!\", \"We couldn't retrive calendar info, sorry.\", \"error\")\r\n              }\r\n            })\r\n      }\r\n    },\r\n    getHours(){\r\n      let date = this.date;\r\n      let day = parseInt(date.getDay())\r\n      let dates = this.dates;\r\n      // let daysNumbers = [0, 1, 2, 3, 4, 5, 6];\r\n      let daysNames = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\r\n      let daySelected = daysNames[parseInt(day)];\r\n      let arrOfNum = []\r\n\r\n      dates.forEach(function (element, i){\r\n        let day = '';\r\n        day = Object.keys(dates[i]);\r\n        day = day[0];\r\n\r\n        if(daySelected === day) {\r\n          if (dates[i][day][0].includes(',')) {\r\n            daySelected = dates[i][day][0].split(\",\")\r\n            arrOfNum = daySelected.map(str => {\r\n              console.log('1')\r\n              console.log(Number(str))\r\n              return Number(str);\r\n            });\r\n          } else {\r\n            daySelected = [dates[i][day][0]]\r\n\r\n            arrOfNum = daySelected.map(str => {\r\n              console.log('2')\r\n              console.log(daySelected)\r\n              return Number(str);\r\n            });\r\n          }\r\n\r\n        }\r\n      })\r\n\r\n      this.availableHours = arrOfNum;\r\n    },\r\n    async saveInterview() {\r\n\r\n      this.errors = []\r\n\r\n      if (!this.email) {\r\n        this.errors.push('Email is required.');\r\n      } else if (!this.validEmail(this.email)) {\r\n        this.errors.push('Valid email is required.');\r\n      }\r\n\r\n      if (!this.firstName) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!this.lastName) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (!this.language) {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (!this.phoneNumber) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if(this.validPhone(this.phoneNumber) === false && this.phoneNumber !== ''){\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!this.postalCode) {\r\n        this.errors.push('Postal Code is required.');\r\n      }\r\n\r\n      if (!this.reference) {\r\n        this.errors.push('How did you hear about us? is required.');\r\n      }\r\n\r\n      if(this.availableHours.length === 0) {\r\n        await Swal.fire({\r\n          title: \"Sorry, This department doesn't have available days for interviews.<br> Please, contact your recruiter.\",\r\n          icon: 'danger',\r\n          confirmButtonClass: \"btn btn-danger\",\r\n          buttonsStyling: false,\r\n          showCloseButton: false,\r\n        });\r\n      }\r\n\r\n      if(!this.errors.length && this.availableHours.length !== 0) {\r\n        const queryString = window.location.search;\r\n        const urlParams = new URLSearchParams(queryString);\r\n        let department = urlParams.get('department')\r\n\r\n        if(department === 'undefined' || department === null) {\r\n          department = 1;\r\n        }\r\n\r\n        console.log(this.date);\r\n\r\n        const data = {\r\n          email: this.email,\r\n          firstName: this.firstName,\r\n          lastName: this.lastName,\r\n          language: this.language,\r\n          phoneNumber: this.phoneNumber,\r\n          postalCode: this.postalCode,\r\n          didYourHear: this.reference,\r\n          date: this.formatDate2(this.date, 'YYYY-MM-DDTHH:mm:SS.SSSZ'),\r\n          department: department,\r\n        }\r\n\r\n        await axios\r\n            .post('/api/saveAgentInterview', data)\r\n            .then(async response => {\r\n\r\n              if (response.status === 200) {\r\n\r\n                await Swal.fire({\r\n                  position: \"top-end\",\r\n                  icon: \"success\",\r\n                  title: \"Your appoinment has been scheduled!\",\r\n                  showConfirmButton: false,\r\n                  timer: 3000,\r\n                });\r\n                location.href = \"/savedInterview\"\r\n              } else {\r\n                await Swal.fire({\r\n                  position: \"bottom-end\",\r\n                  icon: 'error',\r\n                  title: \"Something wrong happens!\",\r\n                  showConfirmButton: false,\r\n                  timer: 5000,\r\n                });\r\n              }\r\n\r\n            }).catch(async error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  await this.$router.push('logout')\r\n                }\r\n\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  position: \"top-end\",\r\n                  icon: \"success\",\r\n                  title: \"Please check the following: \" + list,\r\n                  showConfirmButton: false,\r\n                  timer: 5000,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i]+ '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please, complete your personal info! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n\r\n    },\r\n    validEmail: function (email) {\r\n      var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      return re.test(email.trim());\r\n    },\r\n    validPhone: function (phone) {\r\n      if(phone !== undefined && phone !== null){\r\n        return /^(\\+{0,})(\\d{0,})([(]{1}\\d{1,3}[)]{0,}){0,}(\\s?\\d+|\\+\\d{2,3}\\s{1}\\d+|\\d+){1}[\\s|-]?\\d+([\\s|-]?\\d+){1,2}(\\s){0,}$/gm.test(phone);\r\n      }else{\r\n        return false;\r\n      }\r\n    },\r\n    printValue: function(){\r\n      console.log(this.date)\r\n      console.log(this.formatDate2(this.date, 'YYYY-MM-DDTHH:mm:SS.SSSZ'))\r\n    },\r\n  },\r\n  mounted() {\r\n    document.querySelectorAll(\".checkout-tab\").forEach(function (form) {\r\n      // next tab\r\n      form.querySelectorAll(\".nexttab\").forEach(function (nextButton) {\r\n        var tabEl = form.querySelectorAll('button[data-bs-toggle=\"pill\"]');\r\n        tabEl.forEach(function (item) {\r\n          item.addEventListener(\"show.bs.tab\", function (event) {\r\n            event.target.classList.add(\"done\");\r\n          });\r\n        });\r\n        nextButton.addEventListener(\"click\", function () {\r\n          var nextTab = nextButton.getAttribute(\"data-nexttab\");\r\n          document.getElementById(nextTab).click();\r\n        });\r\n      });\r\n\r\n      //Pervies tab\r\n      form.querySelectorAll(\".previestab\").forEach(function (prevButton) {\r\n        prevButton.addEventListener(\"click\", function () {\r\n          var prevTab = prevButton.getAttribute(\"data-previous\");\r\n          var totalDone = prevButton\r\n              .closest(\"form\")\r\n              .querySelectorAll(\".custom-nav .done\").length;\r\n          for (var i = totalDone - 1; i < totalDone; i++) {\r\n            prevButton.closest(\"form\").querySelectorAll(\".custom-nav .done\")[i]\r\n                ? prevButton\r\n                    .closest(\"form\")\r\n                    .querySelectorAll(\".custom-nav .done\")[i].classList.remove(\"done\")\r\n                : \"\";\r\n          }\r\n          document.getElementById(prevTab).click();\r\n        });\r\n      });\r\n\r\n      // Step number click\r\n      var tabButtons = form.querySelectorAll('button[data-bs-toggle=\"pill\"]');\r\n      tabButtons.forEach(function (button, i) {\r\n        button.setAttribute(\"data-position\", i);\r\n        button.addEventListener(\"click\", function () {\r\n          form.querySelectorAll(\".custom-nav .done\").length > 0\r\n              ? form\r\n                  .querySelectorAll(\".custom-nav .done\")\r\n                  .forEach(function (doneTab) {\r\n                    doneTab.classList.remove(\"done\");\r\n                  })\r\n              : \"\";\r\n          for (var j = 0; j <= i; j++) {\r\n            tabButtons[j].classList.contains(\"active\")\r\n                ? tabButtons[j].classList.remove(\"done\")\r\n                : tabButtons[j].classList.add(\"done\");\r\n          }\r\n        });\r\n      });\r\n    });\r\n  },\r\n}\r\n</script>\r\n<style>\r\n.btnPrev{\r\n  float: left;\r\n  margin-top: 10px;\r\n}\r\n\r\n.btnNext{\r\n  float: right;\r\n  margin-top: 10px;\r\n}\r\n\r\n.btnSave{\r\n  float: right;\r\n  margin-top: 10px;\r\n}\r\n</style>\r\n<template>\r\n  <!-- auth-page wrapper -->\r\n  <div class=\"auth-page-wrapper auth-bg-cover py-5 d-flex justify-content-center align-items-center min-vh-100\">\r\n    <div class=\"bg-overlay\"></div>\r\n    <!-- auth-page content -->\r\n    <div class=\"auth-page-content overflow-hidden pt-lg-5\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-12\">\r\n            <div class=\"card overflow-hidden m-0\">\r\n              <div class=\"row justify-content-center g-0\">\r\n                <div class=\"col-lg-4\">\r\n                  <div class=\"p-lg-5 p-4 auth-one-bg h-100\">\r\n                    <div class=\"bg-overlay\"></div>\r\n                    <div class=\"position-relative h-100 d-flex flex-column\">\r\n                      <div class=\"mb-4\">\r\n                          <img src=\"@/assets/images/logo-light.png\" alt=\"\" height=\"100\" style=\"  margin-left: auto;margin-right: auto;display: block;\">\r\n                      </div>\r\n                      <div class=\"mt-auto\">\r\n                        <div class=\"mb-3\">\r\n                          <i class=\"ri-double-quotes-l display-4 text-success\"></i>\r\n                        </div>\r\n\r\n                        <div id=\"qoutescarouselIndicators\" class=\"carousel slide\" data-bs-ride=\"carousel\">\r\n                          <div class=\"carousel-indicators\">\r\n                            <button type=\"button\" data-bs-target=\"#qoutescarouselIndicators\" data-bs-slide-to=\"0\"\r\n                                    class=\"active\"\r\n                                    aria-current=\"true\" aria-label=\"Slide 1\"></button>\r\n                            <button type=\"button\" data-bs-target=\"#qoutescarouselIndicators\" data-bs-slide-to=\"1\"\r\n                                    aria-label=\"Slide 2\"></button>\r\n                            <button type=\"button\" data-bs-target=\"#qoutescarouselIndicators\" data-bs-slide-to=\"2\"\r\n                                    aria-label=\"Slide 3\"></button>\r\n                          </div>\r\n                          <div class=\"carousel-inner text-center text-white-50 pb-5\">\r\n                            <div class=\"carousel-item active\">\r\n                              <p class=\"fs-15 fst-italic\">\" START YOUR CAREER AS A LIFE INSURANCE AGENT WITH DMB\r\n                                INSURANCE AGENCY \"</p>\r\n                            </div>\r\n                            <div class=\"carousel-item\">\r\n                              <p class=\"fs-15 fst-italic\">\" Learn from Industry Experts. Life Insurance Agent Training\r\n                                Center. \"</p>\r\n                            </div>\r\n                            <div class=\"carousel-item\">\r\n                              <p class=\"fs-15 fst-italic\">\" We teach Life Insurance Agents the fundamentals of the life\r\n                                insurance business. \"</p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <!-- end carousel -->\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"col-xl-8\">\r\n                  <div class=\"card\">\r\n                    <div class=\"card-body checkout-tab\">\r\n                      <form action=\"#\">\r\n                        <div class=\"step-arrow-nav mt-n3 mx-n3 mb-3\">\r\n                          <ul class=\"nav nav-pills nav-justified custom-nav\" role=\"tablist\">\r\n                            <li class=\"nav-item\" role=\"presentation\">\r\n                              <button\r\n                                  class=\"nav-link fs-15 p-3 active \"\r\n                                  id=\"pills-bill-info-tab\"\r\n                                  data-bs-toggle=\"pill\"\r\n                                  data-bs-target=\"#pills-bill-info\"\r\n                                  type=\"button\"\r\n                                  role=\"tab\"\r\n                                  aria-controls=\"pills-bill-info\"\r\n                                  aria-selected=\"true\"\r\n                              >\r\n                                <i\r\n                                    class=\"\r\n                          ri-user-2-line\r\n                          fs-16\r\n                          p-2\r\n                          bg-soft-primary\r\n                          text-primary\r\n                          rounded-circle\r\n                          align-middle\r\n                          me-2\"></i>\r\n                                Personal Info\r\n                              </button>\r\n                            </li>\r\n                            <li class=\"nav-item\" role=\"presentation\">\r\n                              <button\r\n                                  class=\"nav-link fs-15 p-3\" v-bind:class=\"(this.language === 0) ? 'disabled' : ''\"\r\n                                  id=\"pills-bill-address-tab\"\r\n                                  data-bs-toggle=\"pill\"\r\n                                  data-bs-target=\"#pills-bill-address\"\r\n                                  type=\"button\"\r\n                                  role=\"tab\"\r\n                                  aria-controls=\"pills-bill-address\"\r\n                                  aria-selected=\"false\"\r\n                                  @click=\"getCalendarInfo\"\r\n                              >\r\n                                <i\r\n                                    class=\"\r\n                           ri-global-line\r\n                          fs-16\r\n                          p-2\r\n                          bg-soft-primary\r\n                          text-primary\r\n                          rounded-circle\r\n                          align-middle\r\n                          me-2\"\r\n                                ></i>\r\n                                Online Interview\r\n                              </button>\r\n                            </li>\r\n                          </ul>\r\n                        </div>\r\n                        <div class=\"tab-content\">\r\n                          <div\r\n                              class=\"tab-pane fade show active\"\r\n                              id=\"pills-bill-info\"\r\n                              role=\"tabpanel\"\r\n                              aria-labelledby=\"pills-bill-info-tab\"\r\n                          >\r\n                            <div>\r\n                              <h5 class=\"mb-1\">FORMULARY</h5>\r\n                              <p class=\"text-muted mb-4\">\r\n                                Please fill all information below\r\n                              </p>\r\n                              <h5 class=\"text-primary\">Schedule Interview</h5>\r\n                            </div>\r\n\r\n                            <div>\r\n                              <div class=\"row\">\r\n                                <div class=\"col-md-6\">\r\n                                  <div>\r\n                                    <label for=\"basiInput\" class=\"form-label\">First Name</label>\r\n                                    <input type=\"text\" class=\"form-control\" id=\"firstName\" autocomplete=\"off\" v-model=\"firstName\" tabindex=\"1\">\r\n                                  </div>\r\n                                  <br>\r\n                                  <div>\r\n                                    <label for=\"iconrightInput\" class=\"form-label\">Email</label>\r\n                                    <div class=\"form-icon right\">\r\n                                      <input type=\"email\" class=\"form-control form-control-icon\" id=\"email\"\r\n                                             placeholder=\"example@gmail.com\" autocomplete=\"off\"  v-model=\"email\"  tabindex=\"3\">\r\n                                      <i class=\"ri-mail-unread-line\"></i>\r\n                                    </div>\r\n                                  </div>\r\n                                  <br>\r\n                                  <div>\r\n                                    <label for=\"basiInput\" class=\"form-label\">Postal Code</label>\r\n                                    <input type=\"text\" class=\"form-control\" id=\"postalCode\" autocomplete=\"off\" v-model=\"postalCode\" tabindex=\"5\">\r\n                                  </div>\r\n                                  <br>\r\n                                  <div>\r\n                                    <label for=\"language\" class=\"form-label\">Language</label>\r\n                                    <select class=\"form-select mb-3\" aria-label=\"Language\" id=\"language\" v-model=\"language\" tabindex=\"7\">\r\n                                      <option value=\"0\" selected>...</option>\r\n                                      <option value=\"1\">English</option>\r\n                                      <option value=\"2\">Spanish</option>\r\n                                    </select>\r\n                                  </div>\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                  <div>\r\n                                    <label for=\"basiInput\" class=\"form-label\">Last Name</label>\r\n                                    <input type=\"text\" class=\"form-control\" id=\"lastName\" autocomplete=\"off\"  v-model=\"lastName\"  tabindex=\"2\">\r\n                                  </div>\r\n                                  <br>\r\n                                  <div>\r\n                                    <label for=\"phoneNumber\" class=\"form-label\">Phone Number</label>\r\n                                    <div class=\"form-icon right\">\r\n                                      <input type=\"text\" class=\"form-control form-control-icon\" id=\"phoneNumber\" autocomplete=\"off\" v-model=\"phoneNumber\"  tabindex=\"4\">\r\n                                      <i class=\"ri-phone-line\"></i>\r\n                                    </div>\r\n\r\n                                  </div>\r\n                                  <br>\r\n                                  <div>\r\n                                    <label for=\"editBirthdate\" class=\"form-label\"> Birthdate </label>\r\n                                    <flat-pickr\r\n                                        :config=\"timeConfig\"\r\n                                        class=\"form-control flatpickr-input\"\r\n                                        id=\"birthdate\"\r\n                                        name=\"birthdate\"\r\n                                        tabindex=\"6\"\r\n                                    ></flat-pickr>\r\n                                  </div>\r\n                                  <br>\r\n                                  <div>\r\n                                    <label for=\"formtextInput\" class=\"form-label\">How did you hear about us?</label>\r\n                                    <input type=\"text\" class=\"form-control\" id=\"hearAbout\" autocomplete=\"off\" v-model=\"reference\" tabindex=\"8\">\r\n                                    <div id=\"passwordHelpBlock\" class=\"form-text\">\r\n                                      Must be 5-255 characters long.\r\n                                    </div>\r\n                                  </div>\r\n\r\n                                </div>\r\n                              </div>\r\n\r\n                              <div class=\"d-flex align-items-start gap-3 mt-3\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    class=\"btn btn-primary btn-label right ms-auto nexttab\"\r\n                                    data-nexttab=\"pills-bill-address-tab\"\r\n                                    @click=\"nextButton\">\r\n                                  <i class=\"\r\n                                      ri-arrow-right-circle-line\r\n                                      label-icon\r\n                                      align-middle\r\n                                      fs-16\r\n                                      ms-2\"></i\r\n                                  >Next\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <!-- end tab pane -->\r\n\r\n                          <div\r\n                              class=\"tab-pane fade\"\r\n                              id=\"pills-bill-address\"\r\n                              role=\"tabpanel\"\r\n                              aria-labelledby=\"pills-bill-address-tab\"\r\n                          >\r\n                            <div>\r\n                              <h5 class=\"mb-1\">CALENDAR</h5>\r\n                              <p class=\"text-muted mb-4\">\r\n                                Please select your interview date and hour below\r\n                              </p>\r\n                            </div>\r\n\r\n                            <DatePicker v-model=\"date\" mode=\"dateTime\" :timezone=\"timezone\"\r\n                                        :valid-hours=\"availableHours\" :select-attribute=\"selectAttribute\"\r\n                                        :disabled-dates='{weekdays: disabledDays}' :max-date=\"maxDate\" :min-date=\"minDate\"\r\n                                        style=\"display: block;margin-left: auto;margin-right: auto;\" :minute-increment=\"60\" @click=\"getHours\"\r\n                                        @change=\"printValue\"/>\r\n                            <div style=\"text-align: center;\">\r\n\r\n                              <br>\r\n                              <p style=\"color: mediumblue;\">Change between AM and Pm to search more hours.</p>\r\n                              <p style=\"color: mediumblue;\">Cambia entre AM y PM para encontrar ms horas.</p>\r\n                            </div>\r\n\r\n                            <div class=\"d-flex align-items-start gap-3 mt-4\">\r\n                              <button\r\n                                  type=\"button\"\r\n                                  class=\"btn btn-light btn-label previestab\"\r\n                                  data-previous=\"pills-bill-info-tab\"\r\n                              >\r\n                                <i\r\n                                    class=\"\r\n                          ri-arrow-left-line\r\n                          label-icon\r\n                          align-middle\r\n                          fs-16\r\n                          me-2\r\n                        \"\r\n                                ></i\r\n                                >Back to Personal Info\r\n                              </button>\r\n                              <button\r\n                                  type=\"button\"\r\n                                  class=\"btn btn-primary btn-label right ms-auto nexttab\"\r\n                                  data-nexttab=\"pills-payment-tab\"\r\n                                  @click=\"saveInterview()\"\r\n                              >\r\n                                <i\r\n                                    class=\"\r\n                          ri-save-2-line\r\n                          label-icon\r\n                          align-middle\r\n                          fs-16\r\n                          ms-2\r\n                          disabled\r\n                        \"\r\n                                ></i\r\n                                >Scheduled\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                          <!-- end tab pane -->\r\n                        </div>\r\n                        <!-- end tab content -->\r\n                      </form>\r\n                    </div>\r\n                    <!-- end card body -->\r\n                  </div>\r\n                  <!-- end card -->\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <!-- end card -->\r\n          </div>\r\n          <!-- end col -->\r\n        </div>\r\n        <!-- end row -->\r\n      </div>\r\n      <!-- end container -->\r\n    </div>\r\n    <!-- end auth page content -->\r\n  </div>\r\n  <!-- end auth-page-wrapper -->\r\n</template>"]}]}