{"remainingRequest":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\wamp64\\www\\crm\\frontend\\src\\views\\widgets\\messages.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\wamp64\\www\\crm\\frontend\\src\\views\\widgets\\messages.vue","mtime":1692721093879},{"path":"C:\\wamp64\\www\\crm\\frontend\\babel.config.js","mtime":1645939880000},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1652458135842},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1668443313146}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L3dhbXA2NC93d3cvY3JtL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IHsgU2VhcmNoSWNvbiwgSW5mb0ljb24gfSBmcm9tICJAemh1b3dlbmxpL3Z1ZS1mZWF0aGVyLWljb25zIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ21lc3NhZ2VzJywKICBwcm9wczogWydtZXNzYWdlTGlzdCcsICdhZ2VudElEJywgJ2lkTnVtYmVyJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2ZpbGU6IHJlcXVpcmUoIkAvYXNzZXRzL2ltYWdlcy91c2Vycy91c2VyLWR1bW15LWltZy5qcGciKSwKICAgICAgc3VibWl0dGVkOiBmYWxzZSwKICAgICAgdXNlck5hbWU6IDAsCiAgICAgIHRvdGFsQ2hhcmFjdGVyczogMCwKICAgICAgYXZhaWxhYmxlTWVzc2FnZXM6IDAKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBTZWFyY2hJY29uOiBTZWFyY2hJY29uLAogICAgSW5mb0ljb246IEluZm9JY29uCiAgfSwKICBtZXRob2RzOiB7CiAgICBmb3JtYXREYXRlOiBmdW5jdGlvbiBmb3JtYXREYXRlKGRhdGUsIGZvcm1hdCkgewogICAgICBkYXRlID0gbW9tZW50KGRhdGUpLmZvcm1hdChmb3JtYXQpOwogICAgICByZXR1cm4gZGF0ZTsKICAgIH0sCiAgICBzZW5kTWVzc2FnZTogZnVuY3Rpb24gc2VuZE1lc3NhZ2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgZGF0YSwgdmFsaWRhdGUsIGVycm9ycywgcGF0dGVybiwgbGlzdCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJNZXNzYWdlJyArIF90aGlzLmlkTnVtYmVyKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgYWdlbnRJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICBpc0NsaWVudDogMAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGVycm9ycyA9IFtdOwogICAgICAgICAgICAgICAgcGF0dGVybiA9ICcvY2xpZW50Lyc7CgogICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLm1hdGNoKHBhdHRlcm4pKSB7CiAgICAgICAgICAgICAgICAgIGRhdGEuaXNDbGllbnQgPSAxOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZGF0YS5pc0NsaWVudCA9IDA7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzLmF2YWlsYWJsZU1lc3NhZ2VzIDw9IDApIHsKICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goJ1lvdSByZWFjaGVkIHRoZSBsaW1pdCBvZiBkYWlseSBtZXNzYWdlcyEnKTsKICAgICAgICAgICAgICAgICAgdmFsaWRhdGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMudG90YWxDaGFyYWN0ZXJzID4gMTUwKSB7CiAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCJZb3VyIG1lc3NhZ2UgY2FuJ3QgYmUgbG9uZ2VyIHRoYW4gMTUwIGNoYXJhY3RlcnMhIik7CiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJ2FwaS9jbGllbnQvc2VuZFNNUycsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlck1lc3NhZ2UnICsgX3RoaXMuaWROdW1iZXIpLnZhbHVlID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoJ29uRmlyZScsIHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldFF1b3RhKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjogIikuY29uY2F0KGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNoZWNrIHRoZSBmb2xsb3dpbmc6ICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiA1MDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZXJyb3JzLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICAgICAgICAgIGxpc3QgKz0gZXJyb3JzW2ldICsgJyBcbic7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoIiIgKyBsaXN0LCAnJywgJ2luZm8nKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoYXJhY3RlckNvdW50ZXI6IGZ1bmN0aW9uIGNoYXJhY3RlckNvdW50ZXIoKSB7CiAgICAgIHZhciB0ZXh0QXJlYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ1c2VyTWVzc2FnZSIgKyB0aGlzLmlkTnVtYmVyKTsKICAgICAgdmFyIGNoYXJhY3RlckNvdW50ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhcl9jb3VudCIpOwogICAgICB2YXIgbWF4TnVtT2ZDaGFycyA9IDE1MDsKICAgICAgdmFyIG51bU9mRW50ZXJlZENoYXJzID0gdGV4dEFyZWEudmFsdWUubGVuZ3RoOwogICAgICB2YXIgY291bnRlciA9IG1heE51bU9mQ2hhcnMgLSBudW1PZkVudGVyZWRDaGFyczsKICAgICAgY2hhcmFjdGVyQ291bnRlci50ZXh0Q29udGVudCA9IGNvdW50ZXIgKyAiLzE1MCI7CiAgICAgIHRoaXMudG90YWxDaGFyYWN0ZXJzID0gY291bnRlcjsKCiAgICAgIGlmIChjb3VudGVyIDwgMCkgewogICAgICAgIGNoYXJhY3RlckNvdW50ZXIuc3R5bGUuY29sb3IgPSAicmVkIjsKICAgICAgfSBlbHNlIGlmIChjb3VudGVyIDwgMTAwKSB7CiAgICAgICAgY2hhcmFjdGVyQ291bnRlci5zdHlsZS5jb2xvciA9ICJvcmFuZ2UiOwogICAgICB9IGVsc2UgewogICAgICAgIGNoYXJhY3RlckNvdW50ZXIuc3R5bGUuY29sb3IgPSAiYmxhY2siOwogICAgICB9CiAgICB9LAogICAgZ2V0UXVvdGE6IGZ1bmN0aW9uIGdldFF1b3RhKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciB1cmwsIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHVybCA9ICJhcGkvY29tbS9nZXRTTVNRdW90YSI7CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiBfdGhpczIuc2NoZWR1bGVNZXNzYWdlQ29udGVudCwKICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KHVybCwgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmF2YWlsYWJsZU1lc3NhZ2VzID0gcGFyc2VJbnQocmVzcG9uc2UuZGF0YS5zY2hlZHVsZUNvdW50KSArIHBhcnNlSW50KHJlc3BvbnNlLmRhdGEudG90YWxTZW50KTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmF2YWlsYWJsZU1lc3NhZ2VzID0gMTAwIC0gX3RoaXMyLmF2YWlsYWJsZU1lc3NhZ2VzOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiUGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0UXVvdGEoKTsKICB9Cn07"},{"version":3,"mappings":"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","names":["moment","SearchIcon","InfoIcon","axios","Swal","name","props","data","profile","require","submitted","userName","totalCharacters","availableMessages","components","methods","formatDate","date","format","sendMessage","message","document","getElementById","idNumber","value","agentID","localStorage","getItem","userID","userEmail","token","isClient","validate","errors","pattern","window","location","href","match","push","post","then","response","status","$emit","getQuota","catch","error","list","property","fire","position","icon","title","showConfirmButton","timer","i","length","characterCounter","textArea","maxNumOfChars","numOfEnteredChars","counter","textContent","style","color","url","scheduleMessageContent","parseInt","scheduleCount","totalSent","mounted"],"sourceRoot":"","sources":["C:\\wamp64\\www\\crm\\frontend\\src\\views\\widgets\\messages.vue"],"sourcesContent":["<script>\r\n\r\nimport moment from \"moment\";\r\nimport {\r\n  SearchIcon,\r\n  InfoIcon,\r\n} from \"@zhuowenli/vue-feather-icons\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport default {\r\n  name: 'messages',\r\n  props:['messageList', 'agentID', 'idNumber'],\r\n  data () {\r\n    return {\r\n      profile: require(\"@/assets/images/users/user-dummy-img.jpg\"),\r\n      submitted: false,\r\n      userName: 0,\r\n      totalCharacters: 0,\r\n      availableMessages: 0\r\n    };\r\n  },\r\n  components: {\r\n    SearchIcon,\r\n    InfoIcon,\r\n  },\r\n  methods: {\r\n    formatDate: function (date, format) {\r\n      date = moment(date).format(format)\r\n      return date;\r\n    },\r\n    async sendMessage () {\r\n\r\n      const data = {\r\n        message: document.getElementById('userMessage'+this.idNumber).value,\r\n        agentID: localStorage.getItem('selectedUser'),\r\n        userID: localStorage.getItem('id'),\r\n        userEmail: localStorage.getItem('email'),\r\n        token: localStorage.getItem('jwt'),\r\n        isClient: 0\r\n      }\r\n\r\n      let validate = true;\r\n      let errors = [];\r\n\r\n      const pattern = '/client/';\r\n      if(window.location.href.match(pattern)) {\r\n        data.isClient = 1\r\n      } else {\r\n        data.isClient = 0\r\n      }\r\n\r\n      if(this.availableMessages <= 0){\r\n        errors.push('You reached the limit of daily messages!')\r\n        validate = false;\r\n      }\r\n\r\n      if (this.totalCharacters > 150){\r\n        errors.push(\"Your message can't be longer than 150 characters!\")\r\n        validate = false;\r\n      }\r\n\r\n      if(validate){\r\n        await axios\r\n            .post('api/client/sendSMS', data)\r\n            .then(async response => {\r\n              if (response.status === 200) {\r\n                document.getElementById('userMessage'+this.idNumber).value = ''\r\n                this.$emit('onFire', response.data)\r\n                await this.getQuota()\r\n              }\r\n\r\n            }).catch(async error => {\r\n              if (error.response) {\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  position: \"top-end\",\r\n                  icon: \"success\",\r\n                  title: \"Please check the following: \" + list,\r\n                  showConfirmButton: false,\r\n                  timer: 5000,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < errors.length; i+=1) {\r\n          list += errors[i] + ' \\n';\r\n        }\r\n\r\n        await Swal.fire(\"\" + list, '', 'info');\r\n      }\r\n\r\n    },\r\n    characterCounter(){\r\n      let textArea = document.getElementById(\"userMessage\"+this.idNumber);\r\n      let characterCounter = document.getElementById(\"char_count\");\r\n      const maxNumOfChars = 150;\r\n\r\n      let numOfEnteredChars = textArea.value.length;\r\n      let counter = maxNumOfChars - numOfEnteredChars;\r\n      characterCounter.textContent = counter + \"/150\";\r\n      this.totalCharacters = counter;\r\n\r\n      if (counter < 0) {\r\n        characterCounter.style.color = \"red\";\r\n      } else if (counter < 100) {\r\n        characterCounter.style.color = \"orange\";\r\n      } else {\r\n        characterCounter.style.color = \"black\";\r\n      }\r\n    },\r\n    async getQuota() {\r\n      let url = \"api/comm/getSMSQuota\"\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        message: this.scheduleMessageContent,\r\n        userEmail: localStorage.getItem('email'),\r\n      }\r\n\r\n      await axios\r\n          .post(url, data)\r\n          .then(response => {\r\n\r\n            this.availableMessages = parseInt(response.data.scheduleCount) + parseInt(response.data.totalSent)\r\n            this.availableMessages = 100 - this.availableMessages;\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n              Swal.fire(\"Oops!\", \"Please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getQuota()\r\n  }\r\n}\r\n\r\n</script>\r\n<template>\r\n  <div class=\"chat-wrapper\">\r\n    <!-- Start User chat -->\r\n    <div class=\"w-100 overflow-hidden\">\r\n      <div class=\"chat-content d-lg-flex\">\r\n        <!-- start chat conversation section -->\r\n        <div class=\"w-100 overflow-hidden position-relative\">\r\n          <!-- conversation user -->\r\n          <div class=\"position-relative\">\r\n            <div class=\"p-3 user-chat-topbar\" style=\"position: inherit;\">\r\n              <div class=\"row align-items-center\">\r\n                <div class=\"col-sm-4 col-8\">\r\n                  <div class=\"d-flex align-items-center\">\r\n                    <div class=\"flex-grow-1 overflow-hidden\">\r\n                      <div class=\"d-flex align-items-center\">\r\n                        <div\r\n                            class=\"\r\n                                            flex-shrink-0\r\n                                            chat-user-img\r\n                                            online\r\n                                            user-own-img\r\n                                            align-self-center\r\n                                            me-3\r\n                                            ms-0\">\r\n                          <img :src=\"profile ? profile :\r\n                                          require('@/assets/images/users/user-dummy-img.jpg')\"\r\n                               class=\"rounded-circle avatar-xs\"\r\n                               alt=\"\"/>\r\n\r\n                          <span class=\"user-status\"></span>\r\n                        </div>\r\n                        <div class=\"flex-grow-1 overflow-hidden\">\r\n                          <h5 class=\"text-truncate mb-0 fs-16\">\r\n                            <span v-for=\"messageInfo in messageList[0]\" :key=\"messageInfo.clientID\">\r\n                              <a\r\n                                  class=\"text-reset username\"\r\n                                  data-bs-toggle=\"offcanvas\"\r\n                                  href=\"#userProfileCanvasExample\"\r\n                                  aria-controls=\"userProfileCanvasExample\"\r\n                              >{{ messageInfo.chatName }}</a>\r\n                            </span>\r\n                          </h5>\r\n                          <p class=\"\r\n                                text-truncate text-muted\r\n                                fs-14\r\n                                mb-0\r\n                                userStatus\">\r\n                            <small>Messages</small>\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-sm-8 col-4\">\r\n                  <ul class=\"list-inline user-chat-nav text-end mb-0\">\r\n                    <li class=\"list-inline-item m-0\">\r\n                      <div class=\"dropdown\">\r\n                        <button\r\n                            class=\"btn btn-ghost-secondary btn-icon\"\r\n                            type=\"button\"\r\n                            data-bs-toggle=\"dropdown\"\r\n                            aria-haspopup=\"true\"\r\n                            aria-expanded=\"false\"\r\n                        >\r\n                          <search-icon class=\"icon-sm\"></search-icon>\r\n                        </button>\r\n                        <div\r\n                            class=\"\r\n                            dropdown-menu\r\n                            p-0\r\n                            dropdown-menu-end dropdown-menu-lg\r\n                          \"\r\n                        >\r\n                          <div class=\"p-2\">\r\n                            <div class=\"search-box\">\r\n                              <input\r\n                                  type=\"text\"\r\n                                  class=\"form-control bg-light border-light\"\r\n                                  placeholder=\"Search here...\"\r\n                                  onkeyup=\"searchMessages()\"\r\n                                  id=\"searchMessage\"\r\n                              />\r\n                              <i class=\"ri-search-2-line search-icon\"></i>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                    <li class=\"list-inline-item d-none d-lg-inline-block m-0\">\r\n                      <button\r\n                          type=\"button\"\r\n                          class=\"btn btn-ghost-secondary btn-icon\"\r\n                          data-bs-toggle=\"offcanvas\"\r\n                          data-bs-target=\"#userProfileCanvasExample\"\r\n                          aria-controls=\"userProfileCanvasExample\"\r\n                      >\r\n                        <info-icon class=\"icon-sm\"></info-icon>\r\n                      </button>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <!-- end chat user head -->\r\n            <div class=\"position-relative\" id=\"users-chat\">\r\n              <div\r\n                  class=\"chat-conversation p-3 p-lg-4\"\r\n                  id=\"chat-conversation\"\r\n                  data-simplebar\r\n                  ref=\"current\">\r\n                <ul class=\"list-unstyled chat-conversation-list\" id=\"list-unstyled-notes\">\r\n                  <li v-for=\"messageData in messageList[1]\"\r\n                      :key=\"messageData.messageID\" :class=\"'chat-list '+messageData.side\">\r\n                    <div class=\"conversation-list\">\r\n                      <div class=\"chat-avatar\">\r\n                        <img :src=\" profile ? profile : require('@/assets/images/users/user-dummy-img.jpg')\"\r\n                             alt=\"\"/>\r\n                      </div>\r\n                      <div class=\"user-chat-content\">\r\n                        <div class=\"ctext-wrap\">\r\n                          <div class=\"ctext-wrap-content\">\r\n                            <p class=\"mb-0 ctext-content\">\r\n\r\n                              {{ messageData.message }}\r\n                            </p>\r\n                            <div>\r\n                              <small class=\"text-muted\" style=\"font-size: 0.7em;\">{{ messageData.createdBy }}</small>\r\n                            </div>\r\n                          </div>\r\n                          <div\r\n                              class=\"dropdown align-self-start message-box-drop\"\r\n                          >\r\n                            <a\r\n                                class=\"dropdown-toggle\"\r\n                                href=\"#\"\r\n                                role=\"button\"\r\n                                data-bs-toggle=\"dropdown\"\r\n                                aria-haspopup=\"true\"\r\n                                aria-expanded=\"false\"\r\n                            >\r\n                              <i class=\"ri-more-2-fill\"></i>\r\n                            </a>\r\n                            <div class=\"dropdown-menu\">\r\n                              <a class=\"dropdown-item reply-message\" href=\"#\">\r\n                                <i class=\"\r\n                                                    ri-reply-line\r\n                                                    me-2\r\n                                                    text-muted\r\n                                                    align-bottom\"></i>Reply</a>\r\n                              <a class=\"dropdown-item\" href=\"#\">\r\n                                <i class=\"\r\n                                                  ri-share-line\r\n                                                  me-2\r\n                                                  text-muted\r\n                                                  align-bottom\"></i>Forward</a>\r\n                              <a class=\"dropdown-item copy-message\" href=\"#\">\r\n                                <i class=\"\r\n                                                  ri-file-copy-line\r\n                                                  me-2\r\n                                                  text-muted\r\n                                                  align-bottom\"></i>Copy</a>\r\n                              <a class=\"dropdown-item\" href=\"#\">\r\n                                <i class=\"\r\n                                                ri-bookmark-line\r\n                                                me-2\r\n                                                text-muted\r\n                                                align-bottom\"></i >Bookmark</a\r\n                              >\r\n                              <a class=\"dropdown-item delete-item\" href=\"#\">\r\n                                <i class=\"\r\n                                                    ri-delete-bin-5-line\r\n                                                    me-2\r\n                                                    text-muted\r\n                                                    align-bottom\"></i>Delete</a>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"conversation-name\">\r\n                            <div>\r\n                              <small class=\"text-muted time\">{{\r\n                                  this.formatDate(messageData.createdOn, 'MM/D/YYYY H:mm')\r\n                                }}</small>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                </ul>\r\n                <!-- end chat-conversation-list -->\r\n              </div>\r\n            </div>\r\n            <!-- end chat-conversation -->\r\n            <div class=\"chat-input-section p-3 p-lg-4\">\r\n              <form @submit.prevent=\"formSubmit\">\r\n                <div class=\"row g-0 align-items-center\">\r\n                  <div class=\"col-auto\">\r\n                    <div class=\"chat-input-links me-2\">\r\n                      <div class=\"links-list-item\">\r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"btn btn-link text-decoration-none emoji-btn\"\r\n                            id=\"emoji-btn\">\r\n                          <i class=\"bx bx-smile align-middle\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <div class=\"chat-input-feedback\">\r\n                      Please Enter a Note\r\n                    </div>\r\n\r\n                    <input\r\n                        type=\"text\"\r\n                        class=\"form-control chat-input bg-light border-light\"\r\n                        placeholder=\"Enter Message\"\r\n                        :id=\"'userMessage'+this.idNumber\"\r\n                        :class=\"{'is-invalid': submitted && v$.form.message.$error,}\"\r\n                        @keyup=\"characterCounter\"/>\r\n                    <span id=\"char_count\">150/150</span>\r\n                    <div class=\"align-middle \">\r\n                      <p style=\"font-size: 0.8em;\">Remaining Messages: {{ availableMessages }}</p>\r\n                    </div>\r\n                    <div\r\n                        v-if=\"submitted && v$.form.message.$error\"\r\n                        class=\"invalid-feedback\">\r\n                                    <span v-if=\"v$.form.message.required.$message\">{{\r\n                                        v$.form.message.required.$message\r\n                                      }}</span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-auto\">\r\n                    <div class=\"chat-input-links ms-2\">\r\n                      <div class=\"links-list-item\">\r\n                        <button @click=\"sendMessage\"\r\n                                type=\"submit\"\r\n                                class=\"btn btn-success\r\n                                       chat-send\r\n                                       waves-effect\r\n                                       waves-light\">\r\n                          <i class=\"ri-send-plane-2-fill align-bottom\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n\r\n            <div class=\"replyCard\">\r\n              <div class=\"card mb-0\">\r\n                <div class=\"card-body py-3\">\r\n                  <div\r\n                      class=\"replymessage-block mb-0 d-flex align-items-start\"\r\n                  >\r\n                    <div class=\"flex-grow-1\">\r\n                      <h5 class=\"conversation-name\"></h5>\r\n                      <p class=\"mb-0\"></p>\r\n                    </div>\r\n                    <div class=\"flex-shrink-0\">\r\n                      <button\r\n                          type=\"button\"\r\n                          id=\"close_toggle\"\r\n                          class=\"btn btn-sm btn-link mt-n2 me-n3 fs-18\"\r\n                      >\r\n                        <i class=\"bx bx-x align-middle\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>"]}]}