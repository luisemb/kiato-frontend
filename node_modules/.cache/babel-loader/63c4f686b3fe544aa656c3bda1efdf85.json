{"remainingRequest":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\wamp64\\www\\crm\\frontend\\src\\views\\prospects\\prospectlist.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\wamp64\\www\\crm\\frontend\\src\\views\\prospects\\prospectlist.vue","mtime":1678195897888},{"path":"C:\\wamp64\\www\\crm\\frontend\\babel.config.js","mtime":1645939880000},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1652458135842},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1668443313146}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L3dhbXA2NC93d3cvY3JtL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0IGZsYXRQaWNrciBmcm9tICJ2dWUtZmxhdHBpY2tyLWNvbXBvbmVudCI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0ICJmbGF0cGlja3IvZGlzdC9mbGF0cGlja3IuY3NzIjsKaW1wb3J0IExheW91dCBmcm9tICIuLi8uLi9sYXlvdXRzL21haW4udnVlIjsKaW1wb3J0IFBhZ2VIZWFkZXIgZnJvbSAiQC9jb21wb25lbnRzL3BhZ2UtaGVhZGVyIjsKaW1wb3J0IGFwcENvbmZpZyBmcm9tICIuLi8uLi8uLi9hcHAuY29uZmlnIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgTG90dGllIGZyb20gIkAvY29tcG9uZW50cy93aWRnZXRzL2xvdHRpZS52dWUiOwppbXBvcnQgYW5pbWF0aW9uRGF0YSBmcm9tICJAL2NvbXBvbmVudHMvd2lkZ2V0cy9tc29lYXdxbS5qc29uIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IE11bHRpc2VsZWN0IGZyb20gIkB2dWVmb3JtL211bHRpc2VsZWN0IjsKaW1wb3J0ICJAdnVlZm9ybS9tdWx0aXNlbGVjdC90aGVtZXMvZGVmYXVsdC5zY3NzIjsgLy8gY29tcG9uZW50cwoKaW1wb3J0IG5vdGVzIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvdXNlcnMvbm90ZXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgcGFnZTogewogICAgdGl0bGU6ICJQcm9zcGVjdCBMaXN0IiwKICAgIG1ldGE6IFt7CiAgICAgIG5hbWU6ICJkZXNjcmlwdGlvbiIsCiAgICAgIGNvbnRlbnQ6IGFwcENvbmZpZy5kZXNjcmlwdGlvbgogICAgfV0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIExheW91dDogTGF5b3V0LAogICAgUGFnZUhlYWRlcjogUGFnZUhlYWRlciwKICAgIGZsYXRQaWNrcjogZmxhdFBpY2tyLAogICAgTXVsdGlzZWxlY3Q6IE11bHRpc2VsZWN0LAogICAgTG90dGllOiBMb3R0aWUsCiAgICBub3Rlczogbm90ZXMKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogIlByb3NwZWN0IExpc3QiLAogICAgICBpdGVtczogW3sKICAgICAgICB0ZXh0OiAiUHJvc3BlY3RzIiwKICAgICAgICBocmVmOiAiLyIKICAgICAgfSwgewogICAgICAgIHRleHQ6ICJQcm9zcGVjdCBMaXN0IiwKICAgICAgICBhY3RpdmU6IHRydWUKICAgICAgfV0sCiAgICAgIHBhZ2U6IDEsCiAgICAgIHBlclBhZ2U6IDEwMCwKICAgICAgcGFnZXM6IFtdLAogICAgICBzZWFyY2hRdWVyeTogbnVsbCwKICAgICAgdGltZUNvbmZpZzogewogICAgICAgIGVuYWJsZVRpbWU6IGZhbHNlLAogICAgICAgIGRhdGVGb3JtYXQ6ICJkIE0sIFkiCiAgICAgIH0sCiAgICAgIGRhdGVUaW1lQ29uZmlnOiB7CiAgICAgICAgZW5hYmxlVGltZTogdHJ1ZSwKICAgICAgICBkYXRlRm9ybWF0OiAibS1kLXkgSDppIEsiCiAgICAgIH0sCiAgICAgIGh1bWFuZnJpZW5kbHlDb25maWc6IHsKICAgICAgICBkYXRlRm9ybWF0OiAiRiBqLCBZIgogICAgICB9LAogICAgICB0eXBlTGlzdDoge30sCiAgICAgIGNsaWVudERhdGE6IFtdLAogICAgICBkYXRhOiB7CiAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICBzZWFyY2hWYWx1ZXM6IHsKICAgICAgICAgIHR5cGU6ICcnLAogICAgICAgICAgbm90ZVNlYXJjaDogJycsCiAgICAgICAgICBrZXl3b3JkOiAnJywKICAgICAgICAgIGxhbmd1YWdlOiAnMycsCiAgICAgICAgICBjbGllbnRzOiAxLAogICAgICAgICAgc3RhdHVzOiAwLAogICAgICAgICAgc29ydEJ5OiAnbmFtZScsCiAgICAgICAgICBvcmRlckJ5OiAnQVNDJywKICAgICAgICAgIHRvRGF0ZTogbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLXVzJywgewogICAgICAgICAgICB5ZWFyOiAibnVtZXJpYyIsCiAgICAgICAgICAgIG1vbnRoOiAibG9uZyIsCiAgICAgICAgICAgIGRheTogIm51bWVyaWMiCiAgICAgICAgICB9KSwKICAgICAgICAgIGZyb21EYXRlOiBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldEZ1bGxZZWFyKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAtIDEpKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLXVzJywgewogICAgICAgICAgICB5ZWFyOiAibnVtZXJpYyIsCiAgICAgICAgICAgIG1vbnRoOiAibG9uZyIsCiAgICAgICAgICAgIGRheTogIm51bWVyaWMiCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVmYXVsdE9wdGlvbnM6IHsKICAgICAgICBhbmltYXRpb25EYXRhOiBhbmltYXRpb25EYXRhCiAgICAgIH0sCiAgICAgIGxpc3Q6IFtdLAogICAgICBhZ2VudERhdGE6IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIGZpcnN0TmFtZTogJycsCiAgICAgICAgbGFzdE5hbWU6ICcnLAogICAgICAgIGxhbmd1YWdlOiAnJywKICAgICAgICBzdGF0dXM6ICcnLAogICAgICAgIHBob25lOiAnJywKICAgICAgICBkZXBhcnRtZW50OiAnJywKICAgICAgICBzdGF0ZTogJycsCiAgICAgICAgYmlydGhEYXRlOiAnJywKICAgICAgICBhZGRyZXNzOiAnJywKICAgICAgICBjb3VudHJ5OiAnJywKICAgICAgICB6aXBDb2RlOiAnJywKICAgICAgICBpbnRlcnZpZXc6ICcnLAogICAgICAgIGFnZW50TnVtYmVyOiAnJywKICAgICAgICBjcmVhdGVkQnk6ICcnLAogICAgICAgIGluc3VyYW5jZUxpY2Vuc2U6ICcnLAogICAgICAgIGxpY2Vuc2VOdW1iZXI6ICcnCiAgICAgIH0sCiAgICAgIGRlcGFydG1lbnRMaXN0OiB7fSwKICAgICAgc3RhdHVzTGlzdDoge30sCiAgICAgIG5vdGVzRGF0YTogW10sCiAgICAgIHByb3NwZWN0U3RhdHVzTGlzdDoge30KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgY29tcGFuaWVzOiBmdW5jdGlvbiBjb21wYW5pZXMoKSB7CiAgICAgIHRoaXMuc2V0UGFnZXMoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNldFBhZ2VzKCk7CiAgfSwKICBmaWx0ZXJzOiB7CiAgICB0cmltV29yZHM6IGZ1bmN0aW9uIHRyaW1Xb3Jkcyh2YWx1ZSkgewogICAgICByZXR1cm4gdmFsdWUuc3BsaXQoIiAiKS5zcGxpY2UoMCwgMjApLmpvaW4oIiAiKSArICIuLi4iOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZWRpdGRhdGE6IGZ1bmN0aW9uIGVkaXRkYXRhKGRhdGEpIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkJykudmFsdWUgPSBkYXRhLmlkOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VzdG9tZXJuYW1lJykudmFsdWUgPSBkYXRhLm5hbWU7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wYW55bmFtZScpLnZhbHVlID0gZGF0YS5jb21wYW55OwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhZHNzY29yZScpLnZhbHVlID0gZGF0YS5zY29yZTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bob25lJykudmFsdWUgPSBkYXRhLnBob25lOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9jYXRpb24nKS52YWx1ZSA9IGRhdGEubG9jYXRpb247CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlJykudmFsdWUgPSBkYXRhLmRhdGU7CiAgICB9LAogICAgdXBkYXRlQ2xpZW50OiBmdW5jdGlvbiB1cGRhdGVDbGllbnQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgZGF0YSwgbGlzdCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzID0gW107CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5jbGllbnREYXRhLmZpcnN0TmFtZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnRmlyc3QgTmFtZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmNsaWVudERhdGEubGFzdE5hbWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ0xhc3QgTmFtZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY2xpZW50RGF0YS5nZW5kZXIgIT09ICdNJyAmJiBfdGhpcy5jbGllbnREYXRhLmdlbmRlciAhPT0gJ0YnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdHZW5kZXIgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzLmNsaWVudERhdGEubGFuZ3VhZ2UudG9TdHJpbmcoKSAhPT0gJzEnICYmIF90aGlzLmNsaWVudERhdGEubGFuZ3VhZ2UudG9TdHJpbmcoKSAhPT0gJzInKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdMYW5ndWFnZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmNsaWVudERhdGEuc3RhdHVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdTdGF0dXMgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5jbGllbnREYXRhLnBob25lTnVtYmVyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdQaG9uZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMudmFsaWRQaG9uZShfdGhpcy5jbGllbnREYXRhLnBob25lTnVtYmVyKSA9PT0gZmFsc2UgJiYgX3RoaXMuY2xpZW50RGF0YS5waG9uZU51bWJlciAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ1BsZWFzZSwgd3JpdGUgYSB2YWxpZCBwaG9uZSBudW1iZXIhJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5jbGllbnREYXRhLmRlcGFydG1lbnRJRCkgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnRGVwYXJ0bWVudCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY2xpZW50RGF0YS5sZWFkVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ0xlYWQvY2xpZW50IFR5cGUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzLmVycm9ycy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgICAgICAgICAgICBlbWFpbDogX3RoaXMuY2xpZW50RGF0YS5lbWFpbCwKICAgICAgICAgICAgICAgICAgY2l0eTogX3RoaXMuY2xpZW50RGF0YS5jaXR5LAogICAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IF90aGlzLmNsaWVudERhdGEuZmlyc3ROYW1lLAogICAgICAgICAgICAgICAgICBsYXN0TmFtZTogX3RoaXMuY2xpZW50RGF0YS5sYXN0TmFtZSwKICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IF90aGlzLmNsaWVudERhdGEubGFuZ3VhZ2UsCiAgICAgICAgICAgICAgICAgIHN0YXR1czogX3RoaXMuY2xpZW50RGF0YS5zdGF0dXMsCiAgICAgICAgICAgICAgICAgIGxlYWRUeXBlOiBfdGhpcy5jbGllbnREYXRhLmxlYWRUeXBlLAogICAgICAgICAgICAgICAgICBnZW5kZXI6IF90aGlzLmNsaWVudERhdGEuZ2VuZGVyLAogICAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogX3RoaXMuY2xpZW50RGF0YS5waG9uZU51bWJlciwKICAgICAgICAgICAgICAgICAgZGVwYXJ0bWVudElEOiBfdGhpcy5jbGllbnREYXRhLmRlcGFydG1lbnRJRCwKICAgICAgICAgICAgICAgICAgc3RhdGU6IF90aGlzLmNsaWVudERhdGEuc3RhdGUsCiAgICAgICAgICAgICAgICAgIGJpcnRoRGF0ZTogX3RoaXMuZm9ybWF0RGF0ZShfdGhpcy5jbGllbnREYXRhLmJpcnRoZGF5LCAnREQgTU1NLCBZWVlZJyksCiAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IF90aGlzLmNsaWVudERhdGEuYWRkcmVzcywKICAgICAgICAgICAgICAgICAgY291bnRyeTogX3RoaXMuY2xpZW50RGF0YS5jb3VudHJ5LAogICAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBfdGhpcy5jbGllbnREYXRhLnBvc3RhbENvZGUsCiAgICAgICAgICAgICAgICAgIGludGVydmlld0RhdGU6IF90aGlzLmNsaWVudERhdGEuaW50ZXJ2aWV3LAogICAgICAgICAgICAgICAgICBjcmVhdGVkQnk6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICBsaWNlbnNlTnVtYmVyOiBfdGhpcy5jbGllbnREYXRhLmxpY2Vuc2VOdW1iZXIsCiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgICAgICAgIGNsaWVudElEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2VsZWN0ZWRVc2VyJykKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnB1dCgnL2FwaS9jbGllbnQvdXBkYXRlQ2xpZW50JywgZGF0YSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2UtbW9kYWwnKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnQ2xpZW50IHVwZGF0ZSBzdWNjZXNzZnVsbHkhJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJvcGVydHkgaW4gZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSArICc8L2I+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBfdGhpcy5lcnJvcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBfdGhpcy5lcnJvcnNbaV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjb21wbGV0ZSB0aGUgZm9ybSEgIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkTmV3QWdlbnRNb2RhbDogZnVuY3Rpb24gYWRkTmV3QWdlbnRNb2RhbCgpIHsKICAgICAgdGhpcy5yZXNldEFnZW50RGF0YSgpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkZm9ybSIpLnJlc2V0KCk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZ2VudE1vZGFsTGFiZWwnKS5pbm5lckhUTUwgPSAiQWRkIFByb3NwZWN0IjsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC1idG4nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXQtYnRuJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIH0sCiAgICBjcmVhdGVDbGllbnQ6IGZ1bmN0aW9uIGNyZWF0ZUNsaWVudCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICB2YXIgYmVuZWZpY2lhcmllcywgZW1lcmdlbmN5Q29udGFjdHMsIGFkZGVkQ2hpbGRzLCBub3RlLCBmb3JtVmFsdWVzLCB2YWx1ZXMsIGRhdGEsIGxpc3QsIGk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMgPSBbXTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5jbGllbnREYXRhLmZpcnN0TmFtZSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0ZpcnN0IE5hbWUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuY2xpZW50RGF0YS5sYXN0TmFtZSkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0xhc3QgTmFtZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5jbGllbnREYXRhLnN0YXR1cykgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ1N0YXR1cyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5jbGllbnREYXRhLnBob25lTnVtYmVyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnUGhvbmUgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi52YWxpZFBob25lKF90aGlzMi5jbGllbnREYXRhLnBob25lKSA9PT0gZmFsc2UgJiYgX3RoaXMyLmNsaWVudERhdGEucGhvbmUgPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnUGxlYXNlLCB3cml0ZSBhIHZhbGlkIHBob25lIG51bWJlciEnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5jbGllbnREYXRhLmRlcGFydG1lbnRJRCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0RlcGFydG1lbnQgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi5jbGllbnREYXRhLnR5cGUgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnTGVhZC9DbGllbnQgVHlwZSBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmNsaWVudERhdGEuZ2VuZGVyICE9PSAnTScgJiYgX3RoaXMyLmNsaWVudERhdGEuZ2VuZGVyICE9PSAnRicpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdHZW5kZXIgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi5jbGllbnREYXRhLmxhbmd1YWdlICE9PSAnMScgJiYgX3RoaXMyLmNsaWVudERhdGEubGFuZ3VhZ2UgIT09ICcyJykgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ0xhbmd1YWdlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIuY2xpZW50RGF0YS5sZWFkVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdMZWFkL2NsaWVudCBUeXBlIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIuZXJyb3JzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBiZW5lZmljaWFyaWVzID0gW107CiAgICAgICAgICAgICAgICBlbWVyZ2VuY3lDb250YWN0cyA9IFtdOwogICAgICAgICAgICAgICAgYWRkZWRDaGlsZHMgPSBbXTsKICAgICAgICAgICAgICAgIG5vdGUgPSB7CiAgICAgICAgICAgICAgICAgICdub3RlJzogX3RoaXMyLmNsaWVudERhdGEubm90ZQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmNsaWVudERhdGEuaW50ZXJ2aWV3ID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmNsaWVudERhdGEuaW50ZXJ2aWV3ID0gJyc7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZm9ybVZhbHVlcyA9IHsKICAgICAgICAgICAgICAgICAgJ2FkZHJlc3MnOiBfdGhpczIuY2xpZW50RGF0YS5hZGRyZXNzLAogICAgICAgICAgICAgICAgICAnYmlydGhkYXknOiBfdGhpczIuZm9ybWF0RGF0ZShfdGhpczIuY2xpZW50RGF0YS5iaXJ0aGRheSwgJ0REIE1NTSwgWVlZWScpLAogICAgICAgICAgICAgICAgICAnY2l0eSc6IF90aGlzMi5jbGllbnREYXRhLmNpdHksCiAgICAgICAgICAgICAgICAgICdjb3VudHJ5JzogX3RoaXMyLmNsaWVudERhdGEuY291bnRyeSwKICAgICAgICAgICAgICAgICAgJ2RlcGFydG1lbnQnOiBfdGhpczIuY2xpZW50RGF0YS5kZXBhcnRtZW50SUQsCiAgICAgICAgICAgICAgICAgICdlbWFpbCc6IF90aGlzMi5jbGllbnREYXRhLmVtYWlsLAogICAgICAgICAgICAgICAgICAnZmlyc3ROYW1lJzogX3RoaXMyLmNsaWVudERhdGEuZmlyc3ROYW1lLAogICAgICAgICAgICAgICAgICAnaW50ZXJ2aWV3JzogX3RoaXMyLmNsaWVudERhdGEuaW50ZXJ2aWV3LAogICAgICAgICAgICAgICAgICAnbGFuZ3VhZ2UnOiBfdGhpczIuY2xpZW50RGF0YS5sYW5ndWFnZSwKICAgICAgICAgICAgICAgICAgJ2xhc3ROYW1lJzogX3RoaXMyLmNsaWVudERhdGEubGFzdE5hbWUsCiAgICAgICAgICAgICAgICAgICdsZWFkVHlwZSc6IF90aGlzMi5jbGllbnREYXRhLmxlYWRUeXBlLAogICAgICAgICAgICAgICAgICAnbm90ZSc6IF90aGlzMi5jbGllbnREYXRhLm5vdGUsCiAgICAgICAgICAgICAgICAgICdwaG9uZU51bWJlcic6IF90aGlzMi5jbGllbnREYXRhLnBob25lTnVtYmVyLAogICAgICAgICAgICAgICAgICAncG9zdGFsQ29kZSc6IF90aGlzMi5jbGllbnREYXRhLnBvc3RhbENvZGUsCiAgICAgICAgICAgICAgICAgICdzdGF0ZSc6IF90aGlzMi5jbGllbnREYXRhLnN0YXRlLAogICAgICAgICAgICAgICAgICAnc3RhdHVzJzogX3RoaXMyLmNsaWVudERhdGEuc3RhdHVzLAogICAgICAgICAgICAgICAgICAnbGVuZ3RoJzogX3RoaXMyLmNsaWVudERhdGEubGVuZ3RoLAogICAgICAgICAgICAgICAgICAnZ2VuZGVyJzogX3RoaXMyLmNsaWVudERhdGEuZ2VuZGVyCiAgICAgICAgICAgICAgICB9OyAvLyBsZXQgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRmb3JtIik7CiAgICAgICAgICAgICAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IGZvcm0uZWxlbWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIC8vICAgbGV0IGUgPSBmb3JtLmVsZW1lbnRzW2ldOwogICAgICAgICAgICAgICAgLy8KICAgICAgICAgICAgICAgIC8vICAgY29uc29sZS5sb2coZSkKICAgICAgICAgICAgICAgIC8vIGlmKGUubmFtZSAhPT0gJycpIHsKICAgICAgICAgICAgICAgIC8vICAgZm9ybVZhbHVlc1tlLm5hbWVdID0gZS52YWx1ZTsKICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgIC8vIGZvcm1WYWx1ZXNbJ2VkaXRHZW5kZXInXSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W3R5cGU9J3JhZGlvJ11bbmFtZT1lZGl0R2VuZGVyXTpjaGVja2VkIikudmFsdWU7CiAgICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgICAgLy8gaWYodGhpcy5pc0NsaWVudExpc3QpewogICAgICAgICAgICAgICAgLy8gICBmb3JtVmFsdWVzWydlZGl0VHlwZSddID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2VkaXRUeXBlIikudmFsdWU7CiAgICAgICAgICAgICAgICAvLyB9ZWxzZXsKICAgICAgICAgICAgICAgIC8vICAgZm9ybVZhbHVlc1snZWRpdFR5cGUnXSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNlZGl0VHlwZTEiKS52YWx1ZTsKICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgICAgICB2YWx1ZXMgPSB7CiAgICAgICAgICAgICAgICAgIDA6IHsKICAgICAgICAgICAgICAgICAgICBmb3JtVmFsdWVzOiBmb3JtVmFsdWVzLAogICAgICAgICAgICAgICAgICAgIGJlbmVmaWNpYXJpZXM6IGJlbmVmaWNpYXJpZXMsCiAgICAgICAgICAgICAgICAgICAgZW1lcmdlbmN5Q29udGFjdHM6IGVtZXJnZW5jeUNvbnRhY3RzLAogICAgICAgICAgICAgICAgICAgIGFkZGVkQ2hpbGRzOiBhZGRlZENoaWxkcywKICAgICAgICAgICAgICAgICAgICBub3RlOiBub3RlCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICBjbGllbnRzSW5mbzogdmFsdWVzLAogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICBpc1Byb3NwZWN0OiAxLAogICAgICAgICAgICAgICAgICB0b3RhbENsaWVudHM6IDEKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY2xpZW50L2NyZWF0ZUNsaWVudExpc3QnLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlLmRhdGFbJ0lEJ10gIT09IG51bGwpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlbW9kYWwnKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZGZvcm0iKS5yZXNldCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0NsaWVudCBjcmVhdGVkIHN1Y2Nlc3NmdWxseSEnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmNCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSArICc8L2I+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgX3RoaXMyLmVycm9ycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIF90aGlzMi5lcnJvcnNbaV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyODsKICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjb21wbGV0ZSB0aGUgZm9ybSEgIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0RGVwYXJ0bWVudHM6IGZ1bmN0aW9uIGdldERlcGFydG1lbnRzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9nZXREZXBhcnRtZW50cycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldFVzZXJJbmZvOiBmdW5jdGlvbiBnZXRVc2VySW5mbyhpZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHZhciBkYXRhLCBhZ2VudEluZm87CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWJ0bicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC1idG4nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FnZW50TW9kYWxMYWJlbCcpLmlubmVySFRNTCA9ICJFZGl0IEFnZW50IjsKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIElEOiBpZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2dldFVzZXInLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBhZ2VudEluZm8gPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICAgICAgX3RoaXM0LnNldEFnZW50RGF0YShhZ2VudEluZm8pOwoKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkJykudmFsdWUgPSBhZ2VudEluZm8uSUQ7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RW1haWwnKS52YWx1ZSA9IGFnZW50SW5mby5lbWFpbDsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRGaXJzdE5hbWUnKS52YWx1ZSA9IGFnZW50SW5mby5maXJzdE5hbWU7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TGFzdE5hbWUnKS52YWx1ZSA9IGFnZW50SW5mby5sYXN0TmFtZTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYW5ndWFnZScpLnZhbHVlID0gYWdlbnRJbmZvLmxhbmd1YWdlOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFN0YXR1cycpLnZhbHVlID0gYWdlbnRJbmZvLnN0YXR1czsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQaG9uZU51bWJlcicpLnZhbHVlID0gYWdlbnRJbmZvLnBob25lTnVtYmVyOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdERlcGFydG1lbnQnKS52YWx1ZSA9IGFnZW50SW5mby5kZXBhcnRtZW50SUQ7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QmlydGhEYXRlJykudmFsdWUgPSBhZ2VudEluZm8uZGF0ZU9mQmlydGg7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0QWRkcmVzcycpLnZhbHVlID0gYWdlbnRJbmZvLmFkZHJlc3M7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdGUnKS52YWx1ZSA9IGFnZW50SW5mby5zdGF0ZTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRDb3VudHJ5JykudmFsdWUgPSBhZ2VudEluZm8uY291bnRyeTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRQb3N0YWxDb2RlJykudmFsdWUgPSBhZ2VudEluZm8ucG9zdGFsQ29kZTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRBZ2VudE51bWJlcicpLnZhbHVlID0gYWdlbnRJbmZvLmFnZW50TnVtYmVyOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdENyZWF0ZWRCeScpLnZhbHVlID0gYWdlbnRJbmZvLmNyZWF0ZWRCeTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMaWNlbnNlZCcpLnZhbHVlID0gYWdlbnRJbmZvLmlzTGljZW5zZWQ7IC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0SW50ZXJ2aWV3JykudmFsdWU9YWdlbnRJbmZvLmludGVydmlld0RhdGU7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIlNvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRDbGllbnRJbmZvOiBmdW5jdGlvbiBnZXRDbGllbnRJbmZvKGlkKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgdmFyIGRhdGEsIGNsaWVudEluZm87CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWJ0bicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC1idG4nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FnZW50TW9kYWxMYWJlbCcpLmlubmVySFRNTCA9ICJFZGl0IENsaWVudCI7CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICBJRDogaWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9jbGllbnQvZ2V0Q2xpZW50JywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgY2xpZW50SW5mbyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5jbGllbnREYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmNsaWVudERhdGEuYmlydGhkYXkgPSBfdGhpczUuZm9ybWF0RGF0ZShjbGllbnRJbmZvLmRhdGVPZkJpcnRoLCAnREQgTU1NLCBZWVlZJyk7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5jbGllbnREYXRhLmludGVydmlldyA9IF90aGlzNS5mb3JtYXREYXRlKGNsaWVudEluZm8uaW50ZXJ2aWV3RGF0ZSwgJ01NTU0gRCwgWVlZWSBoOm1tIEEnKTsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3NlbGVjdGVkVXNlcicsIGNsaWVudEluZm8uSUQpOwogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc2VsZWN0ZWRVc2VyTmFtZScsIGNsaWVudEluZm8uZmlyc3ROYW1lICsgJyAnICsgY2xpZW50SW5mby5sYXN0TmFtZSk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIlNvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB2YWxpZEVtYWlsOiBmdW5jdGlvbiB2YWxpZEVtYWlsKGVtYWlsKSB7CiAgICAgIHZhciByZSA9IC9eKChbXjw+KClbXF1cXC4sOzpcc0AiXSsoXC5bXjw+KClbXF1cXC4sOzpcc0AiXSspKil8KCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVxdKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsfSkpJC87CiAgICAgIHJldHVybiByZS50ZXN0KGVtYWlsLnRyaW0oKSk7CiAgICB9LAogICAgdmFsaWRQaG9uZTogZnVuY3Rpb24gdmFsaWRQaG9uZShwaG9uZSkgewogICAgICB2YXIgaXNwaG9uZSA9IC9eKFwrezAsfSkoXGR7MCx9KShbKF17MX1cZHsxLDN9WyldezAsfSl7MCx9KFxzP1xkK3xcK1xkezIsM31cc3sxfVxkK3xcZCspezF9W1xzfC1dP1xkKyhbXHN8LV0/XGQrKXsxLDJ9KFxzKXswLH0kL2dtLnRlc3QocGhvbmUpOwogICAgICByZXR1cm4gaXNwaG9uZTsKICAgIH0sCiAgICBmb3JtYXREYXRlOiBmdW5jdGlvbiBmb3JtYXREYXRlKGRhdGUsIGZvcm1hdCkgewogICAgICBkYXRlID0gbW9tZW50KGRhdGUpLmZvcm1hdChmb3JtYXQpOwogICAgICByZXR1cm4gZGF0ZTsKICAgIH0sCiAgICBmb3JtYXRQaG9uZTogZnVuY3Rpb24gZm9ybWF0UGhvbmUocGhvbmUpIHsKICAgICAgdmFyIGZsYWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7CiAgICAgIC8vIGlmIGZsYWcgPT0gMSBwdXQgdmFsdWUgaW4gcGhvbmUgRWRpdAogICAgICBwaG9uZSA9IHBob25lLnJlcGxhY2UoL1xEL2csICcnKTsKCiAgICAgIGlmIChwaG9uZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaWYgKHBob25lLmxlbmd0aCA+IDEwKSB7CiAgICAgICAgICBwaG9uZSA9IHBob25lLnN1YnN0cmluZygxKTsKICAgICAgICB9CgogICAgICAgIHZhciB4ID0gcGhvbmUubWF0Y2goLyhcZHswLDN9KShcZHswLDN9KShcZHswLDR9KS8pOwogICAgICAgIHBob25lID0gIXhbMl0gPyB4WzFdIDogJygnICsgeFsxXSArICcpICcgKyB4WzJdICsgKHhbM10gPyAnLScgKyB4WzNdIDogJycpOwogICAgICB9IGVsc2UgewogICAgICAgIHBob25lID0gJyc7CiAgICAgIH0KCiAgICAgIGlmIChmbGFnICE9PSAxKSB7CiAgICAgICAgcmV0dXJuIHBob25lOwogICAgICB9IGVsc2UgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0UGhvbmVOdW1iZXInKS52YWx1ZSA9IHBob25lOwogICAgICB9CiAgICB9LAogICAgc2V0QWdlbnREYXRhOiBmdW5jdGlvbiBzZXRBZ2VudERhdGEoZGF0YSkgewogICAgICB0aGlzLmFnZW50RGF0YS5lbWFpbCA9IGRhdGEuZW1haWw7CiAgICAgIHRoaXMuYWdlbnREYXRhLmZpcnN0TmFtZSA9IGRhdGEuZmlyc3ROYW1lOwogICAgICB0aGlzLmFnZW50RGF0YS5sYXN0TmFtZSA9IGRhdGEubGFzdE5hbWU7CiAgICAgIHRoaXMuYWdlbnREYXRhLmxhbmd1YWdlID0gZGF0YS5sYW5ndWFnZTsKICAgICAgdGhpcy5hZ2VudERhdGEuc3RhdHVzID0gZGF0YS5zdGF0dXM7CiAgICAgIHRoaXMuYWdlbnREYXRhLnBob25lID0gZGF0YS5waG9uZU51bWJlcjsKICAgICAgdGhpcy5hZ2VudERhdGEuZGVwYXJ0bWVudCA9IGRhdGEuZGVwYXJ0bWVudElEOwogICAgICB0aGlzLmFnZW50RGF0YS5iaXJ0aERhdGUgPSB0aGlzLmZvcm1hdERhdGUoZGF0YS5kYXRlT2ZCaXJ0aCwgJ0REIE1NLCBZWVlZJyk7CiAgICAgIHRoaXMuYWdlbnREYXRhLmludGVydmlldyA9IHRoaXMuZm9ybWF0RGF0ZShkYXRhLmludGVydmlld0RhdGUsICdtLWQteSBIOmkgSycpOwogICAgICB0aGlzLmFnZW50RGF0YS5hZGRyZXNzID0gZGF0YS5hZGRyZXNzOwogICAgICB0aGlzLmFnZW50RGF0YS5zdGF0ZSA9IGRhdGEuc3RhdGU7CiAgICAgIHRoaXMuYWdlbnREYXRhLmNvdW50cnkgPSBkYXRhLmNvdW50cnk7CiAgICAgIHRoaXMuYWdlbnREYXRhLnppcENvZGUgPSBkYXRhLnBvc3RhbENvZGU7CiAgICAgIHRoaXMuYWdlbnREYXRhLmFnZW50TnVtYmVyID0gZGF0YS5hZ2VudE51bWJlcjsKICAgICAgdGhpcy5hZ2VudERhdGEuY3JlYXRlZEJ5ID0gZGF0YS5jcmVhdGVkQnk7CiAgICAgIHRoaXMuYWdlbnREYXRhLmluc3VyYW5jZUxpY2Vuc2UgPSBkYXRhLmlzTGljZW5zZWQ7CiAgICB9LAogICAgcmVzZXRBZ2VudERhdGE6IGZ1bmN0aW9uIHJlc2V0QWdlbnREYXRhKCkgewogICAgICB0aGlzLmFnZW50RGF0YSA9IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIGZpcnN0TmFtZTogJycsCiAgICAgICAgbGFzdE5hbWU6ICcnLAogICAgICAgIGxhbmd1YWdlOiAnJywKICAgICAgICBzdGF0dXM6ICcnLAogICAgICAgIHBob25lOiAnJywKICAgICAgICBkZXBhcnRtZW50OiAnJywKICAgICAgICBzdGF0ZTogJycsCiAgICAgICAgYmlydGhEYXRlOiAnJywKICAgICAgICBhZGRyZXNzOiAnJywKICAgICAgICBjb3VudHJ5OiAnJywKICAgICAgICB6aXBDb2RlOiAnJywKICAgICAgICBpbnRlcnZpZXc6ICcnLAogICAgICAgIGFnZW50TnVtYmVyOiAnJywKICAgICAgICBjcmVhdGVkQnk6ICcnLAogICAgICAgIGluc3VyYW5jZUxpY2Vuc2U6ICcnLAogICAgICAgIGxpY2Vuc2VOdW1iZXI6ICcnCiAgICAgIH07CiAgICB9LAogICAgdXBkYXRlQ2xpZW50TGlzdDogZnVuY3Rpb24gdXBkYXRlQ2xpZW50TGlzdCgpIHsKICAgICAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHMsCiAgICAgICAgICBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgIHZhciBzdGF0dXMsIHZhbGlkYXRlLCBlcnJvcnMsIGZpbHRlckxhbmd1YWdlLCBmaWx0ZXJLZXl3b3JkLCBmaWx0ZXJUeXBlLCBmaWx0ZXJOb3RlcywgZmlsdGVyRnJvbURhdGUsIGZpbHRlclRvRGF0ZSwgc3RhcnQsIGVuZCwgZGF5cywgZGF0YSwgbGlzdCwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXR1cyA9IF9hcmd1bWVudHMubGVuZ3RoID4gMCAmJiBfYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzWzBdIDogMDsKICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGVycm9ycyA9IFtdOwogICAgICAgICAgICAgICAgZmlsdGVyTGFuZ3VhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyTGFuZ3VhZ2UiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlcktleXdvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyS2V5d29yZCIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyVHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJUeXBlIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJOb3RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJOb3RlcyIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyRnJvbURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyRnJvbURhdGUiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlclRvRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJUb0RhdGUiKS52YWx1ZTsKICAgICAgICAgICAgICAgIF90aGlzNi5kYXRhLnNlYXJjaFZhbHVlcy5zdGF0dXMgPSBzdGF0dXM7CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlckxhbmd1YWdlICE9PSAnJyAmJiAoZmlsdGVyTGFuZ3VhZ2UgPT09ICcxJyB8fCBmaWx0ZXJMYW5ndWFnZSA9PT0gJzInKSkgewogICAgICAgICAgICAgICAgICBfdGhpczYuZGF0YS5zZWFyY2hWYWx1ZXMubGFuZ3VhZ2UgPSBmaWx0ZXJMYW5ndWFnZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyS2V5d29yZCAhPT0gJycgJiYgZmlsdGVyS2V5d29yZC5sZW5ndGggPj0gMykgewogICAgICAgICAgICAgICAgICBfdGhpczYuZGF0YS5zZWFyY2hWYWx1ZXMua2V5d29yZCA9IGZpbHRlcktleXdvcmQ7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlcktleXdvcmQgIT09ICcnICYmIGZpbHRlcktleXdvcmQubGVuZ3RoIDwgMykgewogICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCgnS2V5d29yZCBzZWFyY2ggc2hvdWxkIGhhdmUgMyBvciBtb3JlIGNoYXJhY3RlcnMhJyk7CiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlclR5cGUgIT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5kYXRhLnNlYXJjaFZhbHVlcy50eXBlID0gZmlsdGVyVHlwZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyTm90ZXMgIT09ICcnICYmIGZpbHRlck5vdGVzLmxlbmd0aCA+PSAzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5kYXRhLnNlYXJjaFZhbHVlcy5ub3RlU2VhcmNoID0gZmlsdGVyTm90ZXM7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbHRlck5vdGVzICE9PSAnJyAmJiBmaWx0ZXJOb3Rlcy5sZW5ndGggPCAzKSB7CiAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCdOb3RlcyBzZWFyY2ggc2hvdWxkIGhhdmUgMyBvciBtb3JlIGNoYXJhY3RlcnMhJyk7CiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc3RhcnQgPSBtb21lbnQoX3RoaXM2LmZvcm1hdERhdGUoZmlsdGVyRnJvbURhdGUsICdZWVlZLU1NLUREJykpOwogICAgICAgICAgICAgICAgZW5kID0gbW9tZW50KF90aGlzNi5mb3JtYXREYXRlKGZpbHRlclRvRGF0ZSwgJ1lZWVktTU0tREQnKSk7CiAgICAgICAgICAgICAgICBkYXlzID0gZW5kLmRpZmYoc3RhcnQsICJkYXlzIik7CgogICAgICAgICAgICAgICAgaWYgKGRheXMgPD0gMzY1KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5kYXRhLnNlYXJjaFZhbHVlcy5mcm9tRGF0ZSA9IGZpbHRlckZyb21EYXRlOwogICAgICAgICAgICAgICAgICBfdGhpczYuZGF0YS5zZWFyY2hWYWx1ZXMudG9EYXRlID0gZmlsdGVyVG9EYXRlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goIkZyb20gRGF0ZSBhbmQgVG8gRGF0ZSAocmFuZ2UpIGNvdWxkbid0IGJlIGxhcmdlciB0aGFuIGEgeWVhciAoMzY1IGRheXMpISIpOwogICAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIGlzUHJvc3BlY3Q6IDEsCiAgICAgICAgICAgICAgICAgIHNlYXJjaFZhbHVlczogX3RoaXM2LmRhdGEuc2VhcmNoVmFsdWVzLAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICBkZWxldGVkOiAwCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY2xpZW50L2xpc3RDbGllbnRzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2Lmxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgICBfdGhpczYucGFnZSA9IDE7CgogICAgICAgICAgICAgICAgICBfdGhpczYuc2V0UGFnZXMoKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAvKiBlbHNlIGlmIChlcnJvci5tZXNzYWdlKSB7DQogICAgICAgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpDQogICAgICAgICAgICAgICAgICB9Ki8KCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGVycm9ycy5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgICAgICAgICAgICBsaXN0ICs9IGVycm9yc1tpXSArICcgXG4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSgiIiArIGxpc3QsICcnLCAnaW5mbycpOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTApOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVBZ2VudExpc3Q6IGZ1bmN0aW9uIHVwZGF0ZUFnZW50TGlzdCgpIHsKICAgICAgdmFyIF9hcmd1bWVudHMyID0gYXJndW1lbnRzLAogICAgICAgICAgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICB2YXIgc3RhdHVzLCB2YWxpZGF0ZSwgZXJyb3JzLCBmaWx0ZXJMYW5ndWFnZSwgZmlsdGVyS2V5d29yZCwgZmlsdGVyTGljZW5zZWQsIGZpbHRlck5vdGVzLCBmaWx0ZXJGcm9tRGF0ZSwgZmlsdGVyVG9EYXRlLCBzdGFydCwgZW5kLCBkYXlzLCBkYXRhLCBsaXN0LCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdHVzID0gX2FyZ3VtZW50czIubGVuZ3RoID4gMCAmJiBfYXJndW1lbnRzMlswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50czJbMF0gOiAwOwogICAgICAgICAgICAgICAgdmFsaWRhdGUgPSB0cnVlOwogICAgICAgICAgICAgICAgZXJyb3JzID0gW107CiAgICAgICAgICAgICAgICBmaWx0ZXJMYW5ndWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJMYW5ndWFnZSIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyS2V5d29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJLZXl3b3JkIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJMaWNlbnNlZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJMaWNlbnNlZCIpLnZhbHVlOwogICAgICAgICAgICAgICAgZmlsdGVyTm90ZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyTm90ZXMiKS52YWx1ZTsKICAgICAgICAgICAgICAgIGZpbHRlckZyb21EYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlckZyb21EYXRlIikudmFsdWU7CiAgICAgICAgICAgICAgICBmaWx0ZXJUb0RhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyVG9EYXRlIikudmFsdWU7CiAgICAgICAgICAgICAgICBfdGhpczcuZGF0YS5zZWFyY2hWYWx1ZXMuc3RhdHVzID0gc3RhdHVzOwoKICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJMYW5ndWFnZSAhPT0gJycgJiYgKGZpbHRlckxhbmd1YWdlID09PSAnMScgfHwgZmlsdGVyTGFuZ3VhZ2UgPT09ICcyJykpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM3LmRhdGEuc2VhcmNoVmFsdWVzLmxhbmd1YWdlID0gZmlsdGVyTGFuZ3VhZ2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlcktleXdvcmQgIT09ICcnICYmIGZpbHRlcktleXdvcmQubGVuZ3RoID49IDMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM3LmRhdGEuc2VhcmNoVmFsdWVzLmtleXdvcmQgPSBmaWx0ZXJLZXl3b3JkOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJLZXl3b3JkICE9PSAnJyAmJiBmaWx0ZXJLZXl3b3JkLmxlbmd0aCA8IDMpIHsKICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goJ0tleXdvcmQgc2VhcmNoIHNob3VsZCBoYXZlIDMgb3IgbW9yZSBjaGFyYWN0ZXJzIScpOwogICAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJMaWNlbnNlZCAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM3LmRhdGEuc2VhcmNoVmFsdWVzLmxpY2Vuc2VkID0gZmlsdGVyTGljZW5zZWQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGZpbHRlck5vdGVzICE9PSAnJyAmJiBmaWx0ZXJOb3Rlcy5sZW5ndGggPj0gMykgewogICAgICAgICAgICAgICAgICBfdGhpczcuZGF0YS5zZWFyY2hWYWx1ZXMubm90ZVNlYXJjaCA9IGZpbHRlck5vdGVzOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJOb3RlcyAhPT0gJycgJiYgZmlsdGVyTm90ZXMubGVuZ3RoIDwgMykgewogICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCgnTm90ZXMgc2VhcmNoIHNob3VsZCBoYXZlIDMgb3IgbW9yZSBjaGFyYWN0ZXJzIScpOwogICAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHN0YXJ0ID0gbW9tZW50KF90aGlzNy5mb3JtYXREYXRlKGZpbHRlckZyb21EYXRlLCAnWVlZWS1NTS1ERCcpKTsKICAgICAgICAgICAgICAgIGVuZCA9IG1vbWVudChfdGhpczcuZm9ybWF0RGF0ZShmaWx0ZXJUb0RhdGUsICdZWVlZLU1NLUREJykpOwogICAgICAgICAgICAgICAgZGF5cyA9IGVuZC5kaWZmKHN0YXJ0LCAiZGF5cyIpOwoKICAgICAgICAgICAgICAgIGlmIChkYXlzIDw9IDM2NSkgewogICAgICAgICAgICAgICAgICBfdGhpczcuZGF0YS5zZWFyY2hWYWx1ZXMuZnJvbURhdGUgPSBmaWx0ZXJGcm9tRGF0ZTsKICAgICAgICAgICAgICAgICAgX3RoaXM3LmRhdGEuc2VhcmNoVmFsdWVzLnRvRGF0ZSA9IGZpbHRlclRvRGF0ZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCJGcm9tIERhdGUgYW5kIFRvIERhdGUgKHJhbmdlKSBjb3VsZG4ndCBiZSBsYXJnZXIgdGhhbiBhIHllYXIgKDM2NSBkYXlzKSEiKTsKICAgICAgICAgICAgICAgICAgdmFsaWRhdGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICBpc1Byb3NwZWN0OiAxLAogICAgICAgICAgICAgICAgICBzZWFyY2hWYWx1ZXM6IF90aGlzNy5kYXRhLnNlYXJjaFZhbHVlcywKICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgICAgdXNlcklEOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaWQnKQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkYXRlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBheGlvcy5wb3N0KCcvYXBpL2xpc3RDbGllbnRzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM3Lmxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwogICAgICAgICAgICAgICAgICAgIH0gLy8gZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5lcnJvcnMucHVzaChgJHtwcm9wZXJ0eX06ICR7ZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV19YCkKICAgICAgICAgICAgICAgICAgICAvLyB9CgogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczcuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZXJyb3JzLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICAgICAgICAgIGxpc3QgKz0gZXJyb3JzW2ldICsgJyBcbic7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKCIiICsgbGlzdCwgJycsICdpbmZvJyk7CgogICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNldFBhZ2VzOiBmdW5jdGlvbiBzZXRQYWdlcygpIHsKICAgICAgdmFyIG51bWJlck9mUGFnZXMgPSBNYXRoLmNlaWwodGhpcy5saXN0Lmxlbmd0aCAvIHRoaXMucGVyUGFnZSk7CiAgICAgIHRoaXMucGFnZXMgPSBbXTsKCiAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPD0gbnVtYmVyT2ZQYWdlczsgaW5kZXgrKykgewogICAgICAgIHRoaXMucGFnZXMucHVzaChpbmRleCk7CiAgICAgIH0KICAgIH0sCiAgICBwYWdpbmF0ZTogZnVuY3Rpb24gcGFnaW5hdGUoY29tcGFuaWVzKSB7CiAgICAgIHZhciBwYWdlID0gdGhpcy5wYWdlOwogICAgICB2YXIgcGVyUGFnZSA9IHRoaXMucGVyUGFnZTsKICAgICAgdmFyIGZyb20gPSBwYWdlICogcGVyUGFnZSAtIHBlclBhZ2U7CiAgICAgIHZhciB0byA9IHBhZ2UgKiBwZXJQYWdlOwogICAgICByZXR1cm4gY29tcGFuaWVzLnNsaWNlKGZyb20sIHRvKTsKICAgIH0sCiAgICBhZGRCZW5lZmljaWFyeTogZnVuY3Rpb24gYWRkQmVuZWZpY2lhcnkoKSB7CiAgICAgIHZhciBiZW5MaXN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTsKICAgICAgdGhpcy5iZW5lZmljaWFyeVF0eSA9IHRoaXMuYmVuZWZpY2lhcnlRdHkgKyAxOwogICAgICB2YXIgaSA9IHRoaXMuYmVuZWZpY2lhcnlRdHk7CiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkQmVuZWZpY2lhcnknKTsKICAgICAgdmFyIHNlcGFyYXRvciA9ICcnOwogICAgICB2YXIgY2hlY2tJREV4aXN0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJiZW5GaXJzdE5hbWUtMSIpOwogICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoKICAgICAgaWYgKGJlbkxpc3QubGVuZ3RoIDw9IDApIHsKICAgICAgICBiZW5MaXN0LnB1c2goYmVuTGlzdFsnZmlyc3ROYW1lJ10gPSAnJywgYmVuTGlzdFsnbGFzdE5hbWUnXSA9ICcnLCBiZW5MaXN0WydhZGRyZXNzJ10gPSAnJywgYmVuTGlzdFsncGhvbmVOdW1iZXInXSA9ICcnLCBiZW5MaXN0WydzdGF0ZSddID0gJycsIGJlbkxpc3RbJ3Bvc3RhbENvZGUnXSA9ICcnLCBiZW5MaXN0WydyZWxhdGlvbnNoaXAnXSA9ICcnLCBiZW5MaXN0WydhZ2UnXSA9ICcnKTsKICAgICAgfQoKICAgICAgaWYgKGNoZWNrSURFeGlzdHMpIHsKICAgICAgICBzZXBhcmF0b3IgPSAnPGhyIHN0eWxlPSJib3JkZXItdG9wOiAxcHggc29saWQgIzJjOWEyYTsiPic7CiAgICAgIH0KCiAgICAgIGVsZW1lbnQuaW5uZXJIVE1MICs9ICc8ZGl2IGNsYXNzPSJyb3ciIGlkPSJyb3dCZW4nICsgaSArICciPlxuJyArIHNlcGFyYXRvciArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImJlbkZpcnN0TmFtZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5GaXJzdCBOYW1lPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iYmVuRmlyc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgRmlyc3QgTmFtZSIgbmFtZT0iYmVuRmlyc3ROYW1lW10iIHJlcXVpcmVkIHZhbHVlPSInICsgYmVuTGlzdFsnZmlyc3ROYW1lJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJiZW5MYXN0TmFtZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5MYXN0IE5hbWU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJiZW5MYXN0TmFtZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIExhc3QgTmFtZSIgIG5hbWU9ImJlbkxhc3ROYW1lW10iIHJlcXVpcmVkIHZhbHVlPSInICsgYmVuTGlzdFsnbGFzdE5hbWUnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImJlbkFkZHJlc3MtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+QWRkcmVzczwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImJlbkFkZHJlc3MtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBBZGRyZXNzIiAgbmFtZT0iYmVuQWRkcmVzc1tdIiByZXF1aXJlZCB2YWx1ZT0iJyArIGJlbkxpc3RbJ2FkZHJlc3MnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImJlblBob25lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPlBob25lPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iYmVuUGhvbmUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBQaG9uZSIgIG5hbWU9ImJlblBob25lW10iIHJlcXVpcmVkIHZhbHVlPSInICsgYmVuTGlzdFsncGhvbmVOdW1iZXInXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImJlblN0YXRlLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPlN0YXRlPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iYmVuU3RhdGUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBTdGF0ZSIgIG5hbWU9ImJlblN0YXRlW10iICByZXF1aXJlZCB2YWx1ZT0iJyArIGJlbkxpc3RbJ3N0YXRlJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJiZW5Qb3N0YWxDb2RlLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPlBvc3RhbCBDb2RlPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iYmVuUG9zdGFsQ29kZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIFBvc3RhbCBDb2RlIiAgbmFtZT0iYmVuUG9zdGFsQ29kZVtdIiByZXF1aXJlZCB2YWx1ZT0iJyArIGJlbkxpc3RbJ3Bvc3RhbENvZGUnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImJlblJlbGF0aW9uLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPlJlbGF0aW9uc2hpcDwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImJlblJlbGF0aW9uLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgUmVsYXRpb25zaGlwIiAgbmFtZT0iYmVuUmVsYXRpb25bXSIgIHJlcXVpcmVkIHZhbHVlPSInICsgYmVuTGlzdFsncmVsYXRpb25zaGlwJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJiZW5BZ2UtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+QWdlPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iYmVuQWdlLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgQWdlIiAgbmFtZT0iYmVuQWdlW10iIHJlcXVpcmVkIHZhbHVlPSInICsgYmVuTGlzdFsnYWdlJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnIDxkaXYgY2xhc3M9ImNvbC1tZC02IiBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsiPlxuJyArICcgPC9kaXY+XG4nICsgJyA8ZGl2IGNsYXNzPSJjb2wtbWQtNiIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7Ij5cbicgKyAnICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBpZD0iJyArIGkgKyAnIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgcmVtb3ZlSXRlbUJlbiIgdGl0bGU9IkRlbGV0ZSI+PGkgY2xhc3M9InJpLWNsb3NlLWNpcmNsZS1saW5lIj48L2k+PC9idXR0b24+XG4nICsgJyA8L2Rpdj5cbicgKyAnPC9kaXY+JzsKICAgICAgZGl2LmFwcGVuZENoaWxkKGVsZW1lbnQpOwogICAgfSwKICAgIGFkZEVjb250YWN0OiBmdW5jdGlvbiBhZGRFY29udGFjdCgpIHsKICAgICAgdmFyIGVDb250YWN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTsKICAgICAgdGhpcy5lQ29udGFjdFF0eSA9IHRoaXMuZUNvbnRhY3RRdHkgKyAxOwogICAgICB2YXIgaSA9IHRoaXMuZUNvbnRhY3RRdHk7CiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkRWNvbnRhY3QnKTsKICAgICAgdmFyIHNlcGFyYXRvciA9ICcnOwogICAgICB2YXIgY2hlY2tJREV4aXN0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlQ29uRmlyc3ROYW1lLTEiKTsKICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCiAgICAgIGlmIChlQ29udGFjdC5sZW5ndGggPD0gMCkgewogICAgICAgIGVDb250YWN0LnB1c2goZUNvbnRhY3RbJ2ZpcnN0TmFtZSddID0gJycsIGVDb250YWN0WydsYXN0TmFtZSddID0gJycsIGVDb250YWN0WydhZGRyZXNzJ10gPSAnJywgZUNvbnRhY3RbJ3Bob25lTnVtYmVyJ10gPSAnJywgZUNvbnRhY3RbJ3N0YXRlJ10gPSAnJywgZUNvbnRhY3RbJ3Bvc3RhbENvZGUnXSA9ICcnLCBlQ29udGFjdFsncmVsYXRpb25zaGlwJ10gPSAnJywgZUNvbnRhY3RbJ2FnZSddID0gJycpOwogICAgICB9CgogICAgICBpZiAoY2hlY2tJREV4aXN0cykgewogICAgICAgIHNlcGFyYXRvciA9ICc8aHIgc3R5bGU9ImJvcmRlci10b3A6IDFweCBzb2xpZCAjMmM5YTJhOyI+JzsKICAgICAgfQoKICAgICAgZWxlbWVudC5pbm5lckhUTUwgKz0gc2VwYXJhdG9yICsgJzxkaXYgY2xhc3M9InJvdyIgaWQ9InJvd0Vjb24nICsgaSArICciPlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImVDb25GaXJzdE5hbWUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+Rmlyc3QgTmFtZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImVDb25GaXJzdE5hbWUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBGaXJzdCBOYW1lIiBuYW1lPSJlQ29uRmlyc3ROYW1lW10iIHJlcXVpcmVkIHZhbHVlPSInICsgZUNvbnRhY3RbJ2ZpcnN0TmFtZSddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iZUNvbkxhc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPkxhc3QgTmFtZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImVDb25MYXN0TmFtZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIExhc3QgTmFtZSIgIG5hbWU9ImVDb25MYXN0TmFtZVtdIiByZXF1aXJlZCAgdmFsdWU9IicgKyBlQ29udGFjdFsnbGFzdE5hbWUnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9ImVDb25BZGRyZXNzLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPkFkZHJlc3M8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJlQ29uQWRkcmVzcy0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIEFkZHJlc3MiICBuYW1lPSJlQ29uQWRkcmVzc1tdIiByZXF1aXJlZCAgdmFsdWU9IicgKyBlQ29udGFjdFsnYWRkcmVzcyddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iZUNvblBob25lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPlBob25lPC9sYWJlbD5cbicgKyAnICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZUNvblBob25lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgUGhvbmUiICBuYW1lPSJlQ29uUGhvbmVbXSIgcmVxdWlyZWQgIHZhbHVlPSInICsgZUNvbnRhY3RbJ3Bob25lTnVtYmVyJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJlQ29uU3RhdGUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+U3RhdGU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJlQ29uU3RhdGUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBTdGF0ZSIgIG5hbWU9ImVDb25TdGF0ZVtdIiAgcmVxdWlyZWQgIHZhbHVlPSInICsgZUNvbnRhY3RbJ3N0YXRlJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJlQ29uUG9zdGFsQ29kZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5Qb3N0YWwgQ29kZTwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImVDb25Qb3N0YWxDb2RlLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgUG9zdGFsIENvZGUiICBuYW1lPSJlQ29uUG9zdGFsQ29kZVtdIiByZXF1aXJlZCAgdmFsdWU9IicgKyBlQ29udGFjdFsncG9zdGFsQ29kZSddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iZUNvblJlbGF0aW9uLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPlJlbGF0aW9uc2hpcDwvbGFiZWw+XG4nICsgJyAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImVDb25SZWxhdGlvbi0nICsgaSArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wgbWItMiIgcGxhY2Vob2xkZXI9IkVudGVyIFJlbGF0aW9uc2hpcCIgIG5hbWU9ImVDb25SZWxhdGlvbltdIiAgcmVxdWlyZWQgIHZhbHVlPSInICsgZUNvbnRhY3RbJ3JlbGF0aW9uc2hpcCddICsgJyI+XG4nICsgJyAgPC9kaXY+XG4nICsgJyAgPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgICAgPGxhYmVsIGZvcj0iZUNvbkFnZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5BZ2U8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJlQ29uQWdlLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgQWdlIiAgbmFtZT0iZUNvbkFnZVtdIiByZXF1aXJlZCAgdmFsdWU9IicgKyBlQ29udGFjdFsnYWdlJ10gKyAnIj5cbicgKyAnICA8L2Rpdj5cbicgKyAnIDxkaXYgY2xhc3M9ImNvbC1tZC02IiBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsiPlxuJyArICcgPC9kaXY+XG4nICsgJyA8ZGl2IGNsYXNzPSJjb2wtbWQtNiIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7Ij5cbicgKyAnICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBpZD0iJyArIGkgKyAnIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgcmVtb3ZlSXRlbUVjb24iIHRpdGxlPSJEZWxldGUiPjxpIGNsYXNzPSJyaS1jbG9zZS1jaXJjbGUtbGluZSI+PC9pPjwvYnV0dG9uPlxuJyArICcgPC9kaXY+XG4nICsgJzwvZGl2Pic7CiAgICAgIGRpdi5hcHBlbmQoZWxlbWVudCk7CiAgICB9LAogICAgYWRkQWRkaXRhbWVudHM6IGZ1bmN0aW9uIGFkZEFkZGl0YW1lbnRzKCkgewogICAgICB2YXIgYWRkaXRhbWVudHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdOwogICAgICB0aGlzLmFkZGl0YW1lbnRzUXR5ID0gdGhpcy5hZGRpdGFtZW50c1F0eSArIDE7CiAgICAgIHZhciBpID0gdGhpcy5hZGRpdGFtZW50c1F0eTsKICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRBZGRpdGFtZW50cycpOwogICAgICB2YXIgc2VwYXJhdG9yID0gJyc7CiAgICAgIHZhciBjaGVja0lERXhpc3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVDb25GaXJzdE5hbWUtMSIpOwogICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoKICAgICAgaWYgKGFkZGl0YW1lbnRzLmxlbmd0aCA8PSAwKSB7CiAgICAgICAgYWRkaXRhbWVudHMucHVzaChhZGRpdGFtZW50c1snZmlyc3ROYW1lJ10gPSAnJywgYWRkaXRhbWVudHNbJ2xhc3ROYW1lJ10gPSAnJywgYWRkaXRhbWVudHNbJ2dlbmRlciddID0gMCwgYWRkaXRhbWVudHNbJ3JldGFsaW9uc2hpcCddID0gMCwgYWRkaXRhbWVudHNbJ2FnZSddID0gJycpOwogICAgICB9CgogICAgICBpZiAoY2hlY2tJREV4aXN0cykgewogICAgICAgIHNlcGFyYXRvciA9ICc8aHIgc3R5bGU9ImJvcmRlci10b3A6IDFweCBzb2xpZCAjMmM5YTJhOyI+JzsKICAgICAgfQoKICAgICAgZWxlbWVudC5pbm5lckhUTUwgKz0gc2VwYXJhdG9yICsgJzxkaXYgY2xhc3M9InJvdyIgaWQ9InJvd0FkZGl0YW1lbnRzJyArIGkgKyAnIj5cbicgKyAnICA8ZGl2IGNsYXNzPSJjb2wtbGctNiI+XG4nICsgJyAgICA8bGFiZWwgZm9yPSJBZGRpRmlyc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tbGFiZWwiPkZpcnN0IE5hbWU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJBZGRpRmlyc3ROYW1lLScgKyBpICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCBtYi0yIiBwbGFjZWhvbGRlcj0iRW50ZXIgRmlyc3QgTmFtZSIgbmFtZT0iQWRkaUZpcnN0TmFtZVtdIiByZXF1aXJlZCB2YWx1ZT0iJyArIGFkZGl0YW1lbnRzWydmaXJzdE5hbWUnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICcgIDxkaXYgY2xhc3M9ImNvbC1sZy02Ij5cbicgKyAnICAgIDxsYWJlbCBmb3I9IkFkZGlMYXN0TmFtZS0nICsgaSArICciIGNsYXNzPSJmb3JtLWxhYmVsIj5MYXN0IE5hbWU8L2xhYmVsPlxuJyArICcgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJBZGRpTGFzdE5hbWUtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBMYXN0IE5hbWUiICBuYW1lPSJBZGRpTGFzdE5hbWVbXSIgcmVxdWlyZWQgdmFsdWU9IicgKyBhZGRpdGFtZW50c1snbGFzdE5hbWUnXSArICciPlxuJyArICcgIDwvZGl2PlxuJyArICc8ZGl2IGNsYXNzPSJjb2wtbGctNiI+JyArICcgIDxsYWJlbCBmb3I9IkFkZGlHZW5kZXIiIGNsYXNzPSJmb3JtLWxhYmVsIj5HZW5kZXI8L2xhYmVsPicgKyAnICA8c2VsZWN0IGNsYXNzPSJmb3JtLXNlbGVjdCBtYi0yIiBhcmlhLWxhYmVsPSJHZW5kZXIiIGlkPSJBZGRpR2VuZGVyLScgKyBpICsgJyIgbmFtZT0iQWRkaUdlbmRlcltdIj4nICsgJyAgICA8b3B0aW9uIHZhbHVlPSIwIiA+U2VsZWN0Li4uPC9vcHRpb24+JyArICcgICAgPG9wdGlvbiB2YWx1ZT0iRiI+RmVtYWxlPC9vcHRpb24+JyArICcgICAgPG9wdGlvbiB2YWx1ZT0iTSI+TWFsZTwvb3B0aW9uPicgKyAnPC9zZWxlY3Q+JyArICc8L2Rpdj5cbicgKyAnPGRpdiBjbGFzcz0iY29sLWxnLTYiPlxuJyArICcgIDxsYWJlbCBmb3I9IkFkZGlBZ2UtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+QWdlPC9sYWJlbD5cbicgKyAnICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9IkFkZGlBZ2UtJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1jb250cm9sIG1iLTIiIHBsYWNlaG9sZGVyPSJFbnRlciBBZ2UiICBuYW1lPSJBZGRpQWdlW10iIHJlcXVpcmVkICB2YWx1ZT0iJyArIGFkZGl0YW1lbnRzWydhZ2UnXSArICciPlxuJyArICc8L2Rpdj5cbicgKyAnIDxkaXYgY2xhc3M9ImNvbC1tZC02Ij5cbicgKyAnICA8bGFiZWwgZm9yPSJBZGRpUmVsYXRpb24tJyArIGkgKyAnIiBjbGFzcz0iZm9ybS1sYWJlbCI+UmVsYXRpb25zaGlwPC9sYWJlbD4nICsgJyAgPHNlbGVjdCBjbGFzcz0iZm9ybS1zZWxlY3QgbWItMiIgYXJpYS1sYWJlbD0iQWRkaVJlbGF0aW9uIiBpZD0iQWRkaVJlbGF0aW9uLScgKyBpICsgJyIgbmFtZT0iQWRkaVJlbGF0aW9uW10iICB2YWx1ZT0iJyArIGFkZGl0YW1lbnRzWydyZXRhbGlvbnNoaXAnXSArICciPicgKyAnICAgIDxvcHRpb24gdmFsdWU9IjAiPlJlbGF0aW9uPC9vcHRpb24+JyArICcgICAgPG9wdGlvbiB2YWx1ZT0iQyI+Q2hpbGRyZW48L29wdGlvbj4nICsgJyAgICA8b3B0aW9uIHZhbHVlPSJTIj5TdGVwc29uPC9vcHRpb24+JyArICcgICAgPG9wdGlvbiB2YWx1ZT0iRyI+R3JhbmRzb248L29wdGlvbj4nICsgJzwvc2VsZWN0PicgKyAnIDwvZGl2PlxuJyArICcgPGRpdiBjbGFzcz0iY29sLW1kLTYiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOyI+XG4nICsgJyAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgaWQ9IicgKyBpICsgJyIgY2xhc3M9ImJ0biBidG4tZGFuZ2VyIHJlbW92ZUl0ZW1BZGRpdGFtZW50cyIgdGl0bGU9IkRlbGV0ZSI+PGkgY2xhc3M9InJpLWNsb3NlLWNpcmNsZS1saW5lIj48L2k+PC9idXR0b24+XG4nICsgJyA8L2Rpdj5cbicgKyAnPC9kaXY+JzsKICAgICAgZGl2LmFwcGVuZChlbGVtZW50KTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkFkZGlHZW5kZXItIiArIGkgKyAiIikudmFsdWUgPSBhZGRpdGFtZW50c1snZ2VuZGVyJ107CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJBZGRpUmVsYXRpb24tIiArIGkgKyAiIikudmFsdWUgPSBhZGRpdGFtZW50c1sncmV0YWxpb25zaGlwJ107CiAgICB9LAogICAgZ2V0Tm90ZXM6IGZ1bmN0aW9uIGdldE5vdGVzKCkgewogICAgICB2YXIgX2FyZ3VtZW50czMgPSBhcmd1bWVudHMsCiAgICAgICAgICBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkgewogICAgICAgIHZhciBpZCwgZGF0YSwgdXJsOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWQgPSBfYXJndW1lbnRzMy5sZW5ndGggPiAwICYmIF9hcmd1bWVudHMzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzM1swXSA6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZWxlY3RlZFVzZXInKTsKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgICAgICAgIGFnZW50SUQ6IGlkLAogICAgICAgICAgICAgICAgICBjbGllbnRJRDogaWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc2VsZWN0ZWRVc2VyJywgaWQpOwogICAgICAgICAgICAgICAgdXJsID0gJyc7CiAgICAgICAgICAgICAgICB1cmwgPSAnL2FwaS9jbGllbnQvZ2V0Q2xpZW50Tm90ZXMnOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KHVybCwgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM4Lm5vdGVzRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJOb3RlcyBjb3VsZCBub3QgYmUgbG9hZGVkLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRQcm9zcGVjdFN0YXR1czogZnVuY3Rpb24gZ2V0UHJvc3BlY3RTdGF0dXMoaWQpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc2VsZWN0ZWRVc2VyJywgaWQpOwogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgc2VhcmNoVmFsdWVzOiBfdGhpczkuZGF0YS5zZWFyY2hWYWx1ZXMsCiAgICAgICAgICAgICAgICAgIHVzZXJFbWFpbDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgICAgICAgIGlzUHJvc3BlY3Q6IDAKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY2xpZW50L2NsaWVudFN0YXR1cycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOS5wcm9zcGVjdFN0YXR1c0xpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzOS4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJDbGllbnQgdGF0dXMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbW92ZUNsaWVudDogZnVuY3Rpb24gbW92ZUNsaWVudCgpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KCkgewogICAgICAgIHZhciBjbGllbnQsIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjbGllbnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2VsZWN0ZWRVc2VyJyk7CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICBzZWFyY2hWYWx1ZXM6IF90aGlzMTAuZGF0YS5zZWFyY2hWYWx1ZXMsCiAgICAgICAgICAgICAgICAgIHVzZXJFbWFpbDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgICAgICAgIGNsaWVudDogY2xpZW50LAogICAgICAgICAgICAgICAgICBzdGF0dXM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3ZlU3RhdHVzJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGlzUHJvc3BlY3Q6IDAKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnB1dCgnL2FwaS9jbGllbnQvbW92ZUNsaWVudCcsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmNSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2VNb3ZlJykuY2xpY2soKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczEwLnVwZGF0ZUNsaWVudExpc3QoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiWW91ciBQcm9zcGVjdCB3YXMgbW92ZWQgdG8gQ2xpZW50IExpc3QiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiA1MDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTQpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJQcm9zcGVjdCBjb3VsZCBub3QgYmUgdXBkYXRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZmlsdGVyU3RhdHVzOiBmdW5jdGlvbiBmaWx0ZXJTdGF0dXMoc3RhdHVzKSB7CiAgICAgIHZhciBzdGF0dXNCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdGF0dXMpOwogICAgICBzdGF0dXNCdXR0b24uY2xpY2soKTsKICAgIH0sCiAgICBkZWxldGVjbGllbnQ6IGZ1bmN0aW9uIGRlbGV0ZWNsaWVudChJRCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICB2YXIgc3dhbFdpdGhCb290c3RyYXBCdXR0b25zID0gU3dhbC5taXhpbih7CiAgICAgICAgY3VzdG9tQ2xhc3M6IHsKICAgICAgICAgIGNvbmZpcm1CdXR0b246ICJidG4gYnRuLWRhbmdlciBtbC0yIiwKICAgICAgICAgIGNhbmNlbEJ1dHRvbjogImJ0biBidG4tc3VjY2VzcyIKICAgICAgICB9LAogICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZQogICAgICB9KTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3NlbGVjdGVkVXNlcicsIElEKTsKICAgICAgc3dhbFdpdGhCb290c3RyYXBCdXR0b25zLmZpcmUoewogICAgICAgIHRpdGxlOiAiQXJlIHlvdSBzdXJlPyIsCiAgICAgICAgdGV4dDogIllvdSB3b24ndCBiZSBhYmxlIHRvIHJldmVydCB0aGlzISIsCiAgICAgICAgaWNvbjogIndhcm5pbmciLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBkZWxldGUgaXQhIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAiTm8sIGNhbmNlbCEiLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgIHVzZXJOYW1lOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmlyc3ROYW1lJykgKyAnICcgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGFzdG5hbWUnKSwKICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgYWdlbnRJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkVXNlcicpCiAgICAgICAgICB9OwogICAgICAgICAgYXhpb3MucHV0KCcvYXBpL2NsaWVudC9kZWxldGUnLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgX3JlZjYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNihyZXNwb25zZSkgewogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTEudXBkYXRlQ2xpZW50TGlzdCgpOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN3YWxXaXRoQm9vdHN0cmFwQnV0dG9ucy5maXJlKCJEZWxldGVkISIsICJQcm9zcGVjdCBoYXMgYmVlbiBkZWxldGVkLiIsICJzdWNjZXNzIik7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwgX2NhbGxlZTE2KTsKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDYpIHsKICAgICAgICAgICAgICByZXR1cm4gX3JlZjYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfcmVmNyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KGVycm9yKSB7CiAgICAgICAgICAgICAgdmFyIGxpc3QsIHByb3BlcnR5OwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpIHsKICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTEuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjaGVjayB0aGUgZm9sbG93aW5nOiAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS5lcnJvcnMucHVzaCgnU29tZXRoaW5nIHdhcyB3cm9uZywgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4nKTsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCBfY2FsbGVlMTcpOwogICAgICAgICAgICB9KSk7CgogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NykgewogICAgICAgICAgICAgIHJldHVybiBfcmVmNy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICB9OwogICAgICAgICAgfSgpKTsKICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgIC8qIFJlYWQgbW9yZSBhYm91dCBoYW5kbGluZyBkaXNtaXNzYWxzIGJlbG93ICovCiAgICAgICAgcmVzdWx0LmRpc21pc3MgPT09IFN3YWwuRGlzbWlzc1JlYXNvbi5jYW5jZWwpIHsKICAgICAgICAgIHN3YWxXaXRoQm9vdHN0cmFwQnV0dG9ucy5maXJlKCJDYW5jZWxsZWQiLCAiUHJvc3BlY3QgaXMgaW4gYSBzYWZlIHBsYWNlIDopIiwgImVycm9yIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KCkgewogICAgICB2YXIgZmllbGQsIHVybCwgcXVlcnlTdHJpbmcsIHVybFBhcmFtcywgc3RhdHVzLCBkYXRhLCBjaGVja0FsbCwgYWRkRXZlbnQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDE4LnByZXYgPSBfY29udGV4dDE4Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGFkZEV2ZW50ID0gZnVuY3Rpb24gX2FkZEV2ZW50KHBhcmVudCwgZXZ0LCBzZWxlY3RvciwgaGFuZGxlcikgewogICAgICAgICAgICAgICAgcGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZ0LCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5tYXRjaGVzKHNlbGVjdG9yICsgJywgJyArIHNlbGVjdG9yICsgJyAqJykpIHsKICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLmFwcGx5KGV2ZW50LnRhcmdldC5jbG9zZXN0KHNlbGVjdG9yKSwgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgZmFsc2UpOwogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIGZpZWxkID0gJ24nOwogICAgICAgICAgICAgIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgICAgICAgICAgIHF1ZXJ5U3RyaW5nID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDsKICAgICAgICAgICAgICB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHF1ZXJ5U3RyaW5nKTsKICAgICAgICAgICAgICBzdGF0dXMgPSB1cmxQYXJhbXMuZ2V0KGZpZWxkKTsKICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgIHNlYXJjaFZhbHVlczogX3RoaXMxMi5kYXRhLnNlYXJjaFZhbHVlcywKICAgICAgICAgICAgICAgIHVzZXJFbWFpbDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgaXNQcm9zcGVjdDogMSwKICAgICAgICAgICAgICAgIGRlbGV0ZWQ6IDAKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvbGlzdERlcGFydG1lbnRzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzMTIuZGVwYXJ0bWVudExpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczEyLiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiRGVwYXJ0bWVudHMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAxMTsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9jbGllbnQvY2xpZW50U3RhdHVzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzMTIuc3RhdHVzTGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTIuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJTdGF0dXMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY2xpZW50L2NsaWVudFR5cGVzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzMTIudHlwZUxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczEyLiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiU3RhdHVzIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGlmICghKHVybC5pbmRleE9mKCc/JyArIGZpZWxkICsgJz0nKSAhPT0gLTEpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3RhdHVzKS5jbGljaygpOwogICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDE5OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAxOTsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9jbGllbnQvbGlzdENsaWVudHMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXMxMi5saXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzMTIucGFnZSA9IDE7CgogICAgICAgICAgICAgICAgX3RoaXMxMi5zZXRQYWdlcygpOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczEyLiRyb3V0ZXIucHVzaCgnbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICBfdGhpczEyLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBjaGVja0FsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGVja0FsbCIpOwoKICAgICAgICAgICAgICBpZiAoY2hlY2tBbGwpIHsKICAgICAgICAgICAgICAgIGNoZWNrQWxsLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBjaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0tY2hlY2stYWxsIGlucHV0W3R5cGU9ImNoZWNrYm94Il0nKTsKCiAgICAgICAgICAgICAgICAgIGlmIChjaGVja0FsbC5jaGVja2VkID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hlcy5mb3JFYWNoKGZ1bmN0aW9uIChjaGVja2JveCkgewogICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5jbG9zZXN0KCJ0ciIpLmNsYXNzTGlzdC5hZGQoInRhYmxlLWFjdGl2ZSIpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNoZWNrYm94ZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hlY2tib3gpIHsKICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNsb3Nlc3QoInRyIikuY2xhc3NMaXN0LnJlbW92ZSgidGFibGUtYWN0aXZlIik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBhZGRFdmVudChkb2N1bWVudCwgJ2NsaWNrJywgJ2J1dHRvbi5yZW1vdmVJdGVtQmVuJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIGJ1dHRvbl9pZCA9IHRoaXMuaWQ7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm93QmVuJyArIGJ1dHRvbl9pZCkucmVtb3ZlKCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgYWRkRXZlbnQoZG9jdW1lbnQsICdjbGljaycsICdidXR0b24ucmVtb3ZlSXRlbUVjb24nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgYnV0dG9uX2lkID0gdGhpcy5pZDsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb3dFY29uJyArIGJ1dHRvbl9pZCkucmVtb3ZlKCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgYWRkRXZlbnQoZG9jdW1lbnQsICdjbGljaycsICdidXR0b24ucmVtb3ZlSXRlbUFkZGl0YW1lbnRzJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIGJ1dHRvbl9pZCA9IHRoaXMuaWQ7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm93QWRkaXRhbWVudHMnICsgYnV0dG9uX2lkKS5yZW1vdmUoKTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTE4KTsKICAgIH0pKSgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRpc3BsYXllZFBvc3RzOiBmdW5jdGlvbiBkaXNwbGF5ZWRQb3N0cygpIHsKICAgICAgcmV0dXJuIHRoaXMucGFnaW5hdGUodGhpcy5saXN0KTsKICAgIH0sCiAgICByZXN1bHRRdWVyeTogZnVuY3Rpb24gcmVzdWx0UXVlcnkoKSB7CiAgICAgIGlmICh0aGlzLmRhdGEuc2VhcmNoVmFsdWVzLmtleXdvcmQubGVuZ3RoID49IDMpIHsKICAgICAgICB2YXIgc2VhcmNoID0gdGhpcy5kYXRhLnNlYXJjaFZhbHVlcy5rZXl3b3JkLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheWVkUG9zdHMuZmlsdGVyKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICByZXR1cm4gZGF0YS5hZGRyZXNzLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLmNpdHkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpIHx8IGRhdGEuRnVsbE5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpIHx8IGRhdGEucG9saWN5TnVtYmVyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLmVtYWlsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLnBob25lTnVtYmVyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSB8fCBkYXRhLmZpcnN0TmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5sYXN0TmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkgfHwgZGF0YS5wb3N0YWxDb2RlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5ZWRQb3N0czsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":"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","names":["flatPickr","moment","Layout","PageHeader","appConfig","Swal","Lottie","animationData","axios","Multiselect","notes","page","title","meta","name","content","description","components","data","items","text","href","active","perPage","pages","searchQuery","timeConfig","enableTime","dateFormat","dateTimeConfig","humanfriendlyConfig","typeList","clientData","token","localStorage","getItem","searchValues","type","noteSearch","keyword","language","clients","status","sortBy","orderBy","toDate","Date","toLocaleDateString","year","month","day","fromDate","setFullYear","getFullYear","defaultOptions","list","agentData","username","email","firstName","lastName","phone","department","state","birthDate","address","country","zipCode","interview","agentNumber","createdBy","insuranceLicense","licenseNumber","departmentList","statusList","notesData","prospectStatusList","watch","companies","setPages","created","filters","trimWords","value","split","splice","join","methods","editdata","document","getElementById","id","company","score","location","date","updateClient","errors","push","gender","toString","phoneNumber","validPhone","departmentID","leadType","length","city","formatDate","birthday","postalCode","interviewDate","userID","clientID","put","then","response","click","fire","icon","catch","error","detail","$router","property","confirmButtonClass","buttonsStyling","showCloseButton","message","i","addNewAgentModal","resetAgentData","reset","innerHTML","style","display","createClient","beneficiaries","emergencyContacts","addedChilds","note","formValues","values","clientsInfo","userEmail","isProspect","totalClients","post","getDepartments","console","log","getUserInfo","ID","agentInfo","setAgentData","dateOfBirth","isLicensed","getClientInfo","clientInfo","setItem","validEmail","re","test","trim","isphone","format","formatPhone","flag","replace","undefined","substring","x","match","updateClientList","validate","filterLanguage","filterKeyword","filterType","filterNotes","filterFromDate","filterToDate","start","end","days","diff","deleted","updateAgentList","filterLicensed","licensed","numberOfPages","Math","ceil","index","paginate","from","to","slice","addBeneficiary","benList","beneficiaryQty","div","separator","checkIDExists","element","createElement","appendChild","addEcontact","eContact","eContactQty","append","addAdditaments","additaments","additamentsQty","getNotes","agentID","url","getProspectStatus","moveClient","client","position","showConfirmButton","timer","filterStatus","statusButton","deleteclient","swalWithBootstrapButtons","mixin","customClass","confirmButton","cancelButton","confirmButtonText","cancelButtonText","showCancelButton","result","userName","dismiss","DismissReason","cancel","mounted","addEvent","parent","evt","selector","handler","addEventListener","event","target","matches","apply","closest","arguments","field","window","queryString","search","urlParams","URLSearchParams","get","indexOf","checkAll","onclick","checkboxes","querySelectorAll","checked","forEach","checkbox","classList","add","remove","button_id","computed","displayedPosts","resultQuery","toLowerCase","filter","includes","FullName","policyNumber"],"sourceRoot":"","sources":["C:\\wamp64\\www\\crm\\frontend\\src\\views\\prospects\\prospectlist.vue"],"sourcesContent":["<script>\r\nimport flatPickr from \"vue-flatpickr-component\";\r\nimport moment from \"moment\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\nimport Layout from \"../../layouts/main.vue\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport appConfig from \"../../../app.config\";\r\nimport Swal from \"sweetalert2\";\r\nimport Lottie from \"@/components/widgets/lottie.vue\";\r\nimport animationData from \"@/components/widgets/msoeawqm.json\";\r\nimport axios from \"axios\";\r\nimport Multiselect from \"@vueform/multiselect\";\r\nimport \"@vueform/multiselect/themes/default.scss\";\r\n\r\n// components\r\nimport notes from '../../components/users/notes';\r\n\r\nexport default {\r\n  page: {\r\n    title: \"Prospect List\",\r\n    meta: [{name: \"description\", content: appConfig.description}],\r\n  },\r\n  components: {\r\n    Layout,\r\n    PageHeader,\r\n    flatPickr,\r\n    Multiselect,\r\n    Lottie,\r\n    notes\r\n  },\r\n  data() {\r\n    return{\r\n      title: \"Prospect List\",\r\n      items: [\r\n        {\r\n          text: \"Prospects\",\r\n          href: \"/\",\r\n        },\r\n        {\r\n          text: \"Prospect List\",\r\n          active: true,\r\n        },\r\n      ],\r\n      page: 1,\r\n      perPage: 100,\r\n      pages: [],\r\n      searchQuery: null,\r\n      timeConfig: {\r\n        enableTime: false,\r\n        dateFormat: \"d M, Y\"\r\n      },\r\n      dateTimeConfig: {\r\n        enableTime: true,\r\n        dateFormat: \"m-d-y H:i K\"\r\n      },\r\n      humanfriendlyConfig: {\r\n        dateFormat: \"F j, Y\",\r\n      },\r\n      typeList: {},\r\n      clientData: [],\r\n      data: {\r\n        token: localStorage.getItem('jwt'),\r\n        searchValues: {\r\n          type: '',\r\n          noteSearch: '',\r\n          keyword: '',\r\n          language: '3',\r\n          clients: 1,\r\n          status: 0,\r\n          sortBy: 'name',\r\n          orderBy: 'ASC',\r\n          toDate: new Date().toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}) ,\r\n          fromDate: new Date(new Date().setFullYear(new Date().getFullYear() - 1)).toLocaleDateString('en-us', { year:\"numeric\", month:\"long\", day:\"numeric\"}),\r\n        },\r\n      },\r\n      defaultOptions: { animationData: animationData },\r\n      list: [],\r\n      agentData: {\r\n        username: '',\r\n        email: '',\r\n        firstName: '',\r\n        lastName: '',\r\n        language: '',\r\n        status: '',\r\n        phone: '',\r\n        department: '',\r\n        state: '',\r\n        birthDate: '',\r\n        address: '',\r\n        country: '',\r\n        zipCode: '',\r\n        interview: '',\r\n        agentNumber: '',\r\n        createdBy: '',\r\n        insuranceLicense: '',\r\n        licenseNumber: ''\r\n      },\r\n      departmentList: {},\r\n      statusList: {},\r\n      notesData: [],\r\n      prospectStatusList: {},\r\n    }\r\n  },\r\n  watch: {\r\n    companies() {\r\n      this.setPages();\r\n    },\r\n  },\r\n  created() {\r\n    this.setPages();\r\n  },\r\n  filters: {\r\n    trimWords(value) {\r\n      return value.split(\" \").splice(0, 20).join(\" \") + \"...\";\r\n    },\r\n  },\r\n  methods: {\r\n    editdata(data){\r\n\r\n      document.getElementById('id').value= data.id\r\n      document.getElementById('customername').value=data.name;\r\n      document.getElementById('companyname').value=data.company;\r\n      document.getElementById('leadsscore').value=data.score;\r\n      document.getElementById('phone').value=data.phone;\r\n      document.getElementById('location').value=data.location;\r\n      document.getElementById('date').value=data.date;\r\n    },\r\n    async updateClient() {\r\n\r\n      this.errors = []\r\n\r\n      if (!this.clientData.firstName) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!this.clientData.lastName) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (this.clientData.gender !== 'M' && this.clientData.gender !== 'F') {\r\n        this.errors.push('Gender is required.');\r\n      }\r\n\r\n      if (this.clientData.language.toString() !== '1' && this.clientData.language.toString() !== '2') {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (!this.clientData.status) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!this.clientData.phoneNumber) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if (this.validPhone(this.clientData.phoneNumber) === false && this.clientData.phoneNumber !== '') {\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!this.clientData.departmentID) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (this.clientData.leadType === 'undefined') {\r\n        this.errors.push('Lead/client Type is required.');\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n\r\n        const data = {\r\n          username: '',\r\n          email: this.clientData.email,\r\n          city: this.clientData.city,\r\n          firstName: this.clientData.firstName,\r\n          lastName: this.clientData.lastName,\r\n          language: this.clientData.language,\r\n          status: this.clientData.status,\r\n          leadType: this.clientData.leadType,\r\n          gender: this.clientData.gender,\r\n          phoneNumber: this.clientData.phoneNumber,\r\n          departmentID: this.clientData.departmentID,\r\n          state: this.clientData.state,\r\n          birthDate: this.formatDate(this.clientData.birthday, 'DD MMM, YYYY'),\r\n          address: this.clientData.address,\r\n          country: this.clientData.country,\r\n          postalCode: this.clientData.postalCode,\r\n          interviewDate: this.clientData.interview,\r\n          createdBy: localStorage.getItem('email'),\r\n          licenseNumber: this.clientData.licenseNumber,\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('id'),\r\n          clientID: localStorage.getItem('selectedUser')\r\n        }\r\n\r\n        await axios\r\n            .put('/api/client/updateClient', data)\r\n            .then(async response => {\r\n              if (response) {\r\n                document.getElementById('close-modal').click();\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Client update successfully!'\r\n                });\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  this.$router.push('logout')\r\n                }\r\n\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i] + '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    addNewAgentModal() {\r\n      this.resetAgentData()\r\n      document.getElementById(\"addform\").reset();\r\n      document.getElementById('agentModalLabel').innerHTML=\"Add Prospect\";\r\n      document.getElementById('add-btn').style.display='block';\r\n      document.getElementById('edit-btn').style.display='none';\r\n    },\r\n    async createClient() {\r\n      this.errors = []\r\n\r\n      if (!this.clientData.firstName) {\r\n        this.errors.push('First Name is required.');\r\n      }\r\n\r\n      if (!this.clientData.lastName) {\r\n        this.errors.push('Last Name is required.');\r\n      }\r\n\r\n      if (!this.clientData.status) {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (!this.clientData.phoneNumber) {\r\n        this.errors.push('Phone is required.');\r\n      }\r\n\r\n      if (this.validPhone(this.clientData.phone) === false && this.clientData.phone === '') {\r\n        this.errors.push('Please, write a valid phone number!');\r\n      }\r\n\r\n      if (!this.clientData.departmentID) {\r\n        this.errors.push('Department is required.');\r\n      }\r\n\r\n      if (this.clientData.type  === 'undefined') {\r\n        this.errors.push('Lead/Client Type is required.');\r\n      }\r\n\r\n      if (this.clientData.gender !== 'M' && this.clientData.gender !== 'F') {\r\n        this.errors.push('Gender is required.');\r\n      }\r\n\r\n      if (this.clientData.language !== '1' && this.clientData.language !== '2') {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (this.clientData.leadType === 'undefined') {\r\n        this.errors.push('Lead/client Type is required.');\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n        let beneficiaries = [];\r\n        let emergencyContacts = [];\r\n        let addedChilds = [];\r\n        let note = {'note': this.clientData.note};\r\n\r\n        if (this.clientData.interview == null){\r\n          this.clientData.interview = ''\r\n        }\r\n\r\n        let formValues = {'address': this.clientData.address, 'birthday': this.formatDate(this.clientData.birthday, 'DD MMM, YYYY'),\r\n          'city': this.clientData.city, 'country': this.clientData.country, 'department': this.clientData.departmentID,\r\n          'email': this.clientData.email, 'firstName': this.clientData.firstName,\r\n          'interview': this.clientData.interview, 'language': this.clientData.language, 'lastName': this.clientData.lastName,\r\n          'leadType': this.clientData.leadType, 'note': this.clientData.note, 'phoneNumber': this.clientData.phoneNumber,\r\n          'postalCode': this.clientData.postalCode,'state': this.clientData.state,'status': this.clientData.status,\r\n          'length': this.clientData.length, 'gender': this.clientData.gender};\r\n        // let form = document.getElementById(\"addform\");\r\n\r\n        // for (var i = 0; i < form.elements.length; i++) {\r\n        //   let e = form.elements[i];\r\n        //\r\n        //   console.log(e)\r\n        // if(e.name !== '') {\r\n        //   formValues[e.name] = e.value;\r\n        // }\r\n        // formValues['editGender'] = document.querySelector(\"input[type='radio'][name=editGender]:checked\").value;\r\n        //\r\n        // if(this.isClientList){\r\n        //   formValues['editType'] = document.querySelector(\"#editType\").value;\r\n        // }else{\r\n        //   formValues['editType'] = document.querySelector(\"#editType1\").value;\r\n        // }\r\n        // }\r\n\r\n        let values = {0: {formValues, beneficiaries, emergencyContacts, addedChilds, note}}\r\n\r\n        let data = {\r\n          clientsInfo: values,\r\n          token: localStorage.getItem('jwt'),\r\n          userID: localStorage.getItem('id'),\r\n          userEmail: localStorage.getItem('email'),\r\n          isProspect: 1,\r\n          totalClients: 1,\r\n        }\r\n\r\n        await axios\r\n            .post('/api/client/createClientList', data)\r\n            .then(async response => {\r\n              if (response.data['ID'] !== null) {\r\n                document.getElementById('closemodal').click();\r\n                document.getElementById(\"addform\").reset();\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Client created successfully!'\r\n                });\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i]+ '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    async getDepartments() {\r\n\r\n      await axios\r\n          .post('/api/getDepartments')\r\n          .then(response => {\r\n            console.log(response);\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async getUserInfo(id) {\r\n      document.getElementById('edit-btn').style.display='block';\r\n      document.getElementById('add-btn').style.display='none'\r\n      document.getElementById('agentModalLabel').innerHTML=\"Edit Agent\"\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        ID: id\r\n      }\r\n\r\n      let agentInfo;\r\n\r\n      await axios\r\n          .post('/api/getUser', data)\r\n          .then(response => {\r\n            agentInfo=response.data\r\n            this.setAgentData(agentInfo);\r\n            document.getElementById('id').value=agentInfo.ID\r\n            document.getElementById('editEmail').value=agentInfo.email;\r\n            document.getElementById('editFirstName').value=agentInfo.firstName;\r\n            document.getElementById('editLastName').value=agentInfo.lastName;\r\n            document.getElementById('editLanguage').value=agentInfo.language;\r\n            document.getElementById('editStatus').value=agentInfo.status\r\n            document.getElementById('editPhoneNumber').value= agentInfo.phoneNumber;\r\n            document.getElementById('editDepartment').value=agentInfo.departmentID;\r\n            document.getElementById('editBirthDate').value=agentInfo.dateOfBirth;\r\n            document.getElementById('editAddress').value=agentInfo.address;\r\n            document.getElementById('editState').value=agentInfo.state;\r\n            document.getElementById('editCountry').value=agentInfo.country;\r\n            document.getElementById('editPostalCode').value=agentInfo.postalCode;\r\n            document.getElementById('editAgentNumber').value=agentInfo.agentNumber;\r\n            document.getElementById('editCreatedBy').value=agentInfo.createdBy;\r\n            document.getElementById('editLicensed').value=agentInfo.isLicensed;\r\n            // document.getElementById('editInterview').value=agentInfo.interviewDate;\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async getClientInfo (id) {\r\n\r\n      document.getElementById('edit-btn').style.display='block';\r\n      document.getElementById('add-btn').style.display='none'\r\n      document.getElementById('agentModalLabel').innerHTML=\"Edit Client\"\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        ID: id\r\n      }\r\n\r\n      let clientInfo;\r\n\r\n      await axios\r\n          .post('/api/client/getClient', data)\r\n          .then(response => {\r\n            clientInfo = response.data\r\n            this.clientData = response.data\r\n            this.clientData.birthday = this.formatDate(clientInfo.dateOfBirth, 'DD MMM, YYYY');\r\n            this.clientData.interview = this.formatDate(clientInfo.interviewDate, 'MMMM D, YYYY h:mm A');\r\n            localStorage.setItem('selectedUser', clientInfo.ID)\r\n            localStorage.setItem('selectedUserName', clientInfo.firstName + ' ' + clientInfo.lastName)\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    validEmail: function (email) {\r\n      var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      return re.test(email.trim());\r\n    },\r\n    validPhone: function (phone) {\r\n      var isphone = /^(\\+{0,})(\\d{0,})([(]{1}\\d{1,3}[)]{0,}){0,}(\\s?\\d+|\\+\\d{2,3}\\s{1}\\d+|\\d+){1}[\\s|-]?\\d+([\\s|-]?\\d+){1,2}(\\s){0,}$/gm.test(phone);\r\n      return isphone;\r\n    },\r\n    formatDate: function(date, format){\r\n      date = moment(date).format(format)\r\n      return date;\r\n    },\r\n    formatPhone: function(phone, flag=0) {\r\n\r\n      // if flag == 1 put value in phone Edit\r\n      phone = phone.replace(/\\D/g, '')\r\n\r\n      if(phone !== undefined) {\r\n        if(phone.length > 10) {\r\n          phone = phone.substring(1)\r\n        }\r\n        const x = phone.match(/(\\d{0,3})(\\d{0,3})(\\d{0,4})/);\r\n        phone = !x[2] ? x[1] : '(' + x[1] + ') ' + x[2] + (x[3] ? '-' + x[3] : '');\r\n\r\n      } else {\r\n        phone = ''\r\n      }\r\n\r\n      if(flag !== 1){\r\n        return phone;\r\n      }else{\r\n        document.getElementById('editPhoneNumber').value = phone;\r\n      }\r\n    },\r\n    setAgentData: function(data) {\r\n      this.agentData.email=data.email;\r\n      this.agentData.firstName=data.firstName;\r\n      this.agentData.lastName=data.lastName;\r\n      this.agentData.language=data.language;\r\n      this.agentData.status=data.status\r\n      this.agentData.phone=data.phoneNumber;\r\n      this.agentData.department=data.departmentID\r\n      this.agentData.birthDate= this.formatDate(data.dateOfBirth, 'DD MM, YYYY');\r\n      this.agentData.interview= this.formatDate(data.interviewDate, 'm-d-y H:i K');\r\n      this.agentData.address=data.address;\r\n      this.agentData.state=data.state;\r\n      this.agentData.country=data.country;\r\n      this.agentData.zipCode=data.postalCode;\r\n      this.agentData.agentNumber=data.agentNumber;\r\n      this.agentData.createdBy=data.createdBy;\r\n      this.agentData.insuranceLicense=data.isLicensed;\r\n    },\r\n    resetAgentData: function(){\r\n      this.agentData =\r\n          {username: '',\r\n            email: '',\r\n            firstName: '',\r\n            lastName: '',\r\n            language: '',\r\n            status: '',\r\n            phone: '',\r\n            department: '',\r\n            state: '',\r\n            birthDate: '',\r\n            address: '',\r\n            country: '',\r\n            zipCode: '',\r\n            interview: '',\r\n            agentNumber: '',\r\n            createdBy: '',\r\n            insuranceLicense: '',\r\n            licenseNumber: ''\r\n          }\r\n    },\r\n    async updateClientList(status=0) {\r\n\r\n      let validate = true;\r\n      let errors = [];\r\n      let filterLanguage = document.getElementById(\"filterLanguage\").value;\r\n      let filterKeyword = document.getElementById(\"filterKeyword\").value;\r\n      let filterType = document.getElementById(\"filterType\").value;\r\n      let filterNotes = document.getElementById(\"filterNotes\").value;\r\n      let filterFromDate = document.getElementById(\"filterFromDate\").value;\r\n      let filterToDate = document.getElementById(\"filterToDate\").value;\r\n      this.data.searchValues.status = status;\r\n\r\n      if (filterLanguage !== '' && (filterLanguage === '1' || filterLanguage === '2')){\r\n        this.data.searchValues.language = filterLanguage;\r\n      }\r\n\r\n      if (filterKeyword !== '' && filterKeyword.length >= 3) {\r\n        this.data.searchValues.keyword = filterKeyword;\r\n      }else if(filterKeyword !== '' && filterKeyword.length < 3) {\r\n        errors.push('Keyword search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      if(filterType !== ''){\r\n        this.data.searchValues.type = filterType;\r\n      }\r\n\r\n      if (filterNotes !== '' && filterNotes.length >= 3) {\r\n        this.data.searchValues.noteSearch = filterNotes;\r\n      }else if(filterNotes !== '' && filterNotes.length < 3) {\r\n        errors.push('Notes search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      var start = moment(this.formatDate(filterFromDate, 'YYYY-MM-DD'));\r\n      var end = moment(this.formatDate(filterToDate, 'YYYY-MM-DD'));\r\n      var days = end.diff(start, \"days\");\r\n\r\n      if(days <= 365){\r\n        this.data.searchValues.fromDate = filterFromDate;\r\n        this.data.searchValues.toDate = filterToDate;\r\n      } else {\r\n        errors.push(\"From Date and To Date (range) couldn't be larger than a year (365 days)!\");\r\n        validate = false;\r\n      }\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        isProspect: 1,\r\n        searchValues: this.data.searchValues,\r\n        userEmail: localStorage.getItem('email'),\r\n        userID: localStorage.getItem('id'),\r\n        deleted: 0,\r\n      }\r\n\r\n      if(validate){\r\n        await axios\r\n            .post('/api/client/listClients', data)\r\n            .then(response => {\r\n              this.list = response.data\r\n              this.page = 1\r\n              this.setPages()\r\n            })\r\n            .catch(error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  this.$router.push('logout')\r\n                }\r\n\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                }\r\n              }/* else if (error.message) {\r\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n            }*/\r\n            })\r\n      }else{\r\n        let list = '';\r\n        for (var i = 0; i < errors.length; i+=1) {\r\n          list += errors[i] + ' \\n';\r\n        }\r\n\r\n        await Swal.fire(\"\" + list, '', 'info');\r\n\r\n      }\r\n\r\n    },\r\n    async updateAgentList(status=0) {\r\n\r\n      let validate = true;\r\n      let errors = [];\r\n      let filterLanguage = document.getElementById(\"filterLanguage\").value;\r\n      let filterKeyword = document.getElementById(\"filterKeyword\").value;\r\n      let filterLicensed = document.getElementById(\"filterLicensed\").value;\r\n      let filterNotes = document.getElementById(\"filterNotes\").value;\r\n      let filterFromDate = document.getElementById(\"filterFromDate\").value;\r\n      let filterToDate = document.getElementById(\"filterToDate\").value;\r\n      this.data.searchValues.status = status;\r\n\r\n      if (filterLanguage !== '' && (filterLanguage === '1' || filterLanguage === '2')){\r\n        this.data.searchValues.language = filterLanguage;\r\n      }\r\n\r\n      if (filterKeyword !== '' && filterKeyword.length >= 3) {\r\n        this.data.searchValues.keyword = filterKeyword;\r\n      } else if (filterKeyword !== '' && filterKeyword.length < 3) {\r\n        errors.push('Keyword search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      if(filterLicensed !== ''){\r\n        this.data.searchValues.licensed = filterLicensed;\r\n      }\r\n\r\n      if (filterNotes !== '' && filterNotes.length >= 3) {\r\n        this.data.searchValues.noteSearch = filterNotes;\r\n      }else if(filterNotes !== '' && filterNotes.length < 3) {\r\n        errors.push('Notes search should have 3 or more characters!')\r\n        validate = false;\r\n      }\r\n\r\n      var start = moment(this.formatDate(filterFromDate, 'YYYY-MM-DD'));\r\n      var end = moment(this.formatDate(filterToDate, 'YYYY-MM-DD'));\r\n      var days = end.diff(start, \"days\");\r\n\r\n      if(days <= 365){\r\n        this.data.searchValues.fromDate = filterFromDate;\r\n        this.data.searchValues.toDate = filterToDate;\r\n      } else {\r\n        errors.push(\"From Date and To Date (range) couldn't be larger than a year (365 days)!\");\r\n        validate = false;\r\n      }\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        isProspect: 1,\r\n        searchValues: this.data.searchValues,\r\n        userEmail: localStorage.getItem('email'),\r\n        userID: localStorage.getItem('id'),\r\n      }\r\n\r\n      if(validate){\r\n        axios\r\n            .post('/api/listClients', data)\r\n            .then(response => {\r\n              this.list=response.data\r\n            })\r\n            .catch(error => {\r\n              if (error.response) {\r\n\r\n                if(error.response.data.detail === 'Your session is expired!'){\r\n                  this.$router.push('logout')\r\n                }\r\n\r\n                // for (const property in error.response.data) {\r\n                // this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                // }\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      }else{\r\n        let list = '';\r\n        for (var i = 0; i < errors.length; i+=1) {\r\n          list += errors[i] + ' \\n';\r\n        }\r\n\r\n        await Swal.fire(\"\" + list, '', 'info');\r\n\r\n      }\r\n\r\n    },\r\n    setPages() {\r\n      let numberOfPages = Math.ceil(this.list.length / this.perPage);\r\n      this.pages = []\r\n      for (let index = 1; index <= numberOfPages; index++) {\r\n        this.pages.push(index);\r\n      }\r\n    },\r\n    paginate(companies) {\r\n      let page = this.page;\r\n      let perPage = this.perPage;\r\n      let from = page * perPage - perPage;\r\n      let to = page * perPage;\r\n      return companies.slice(from, to);\r\n    },\r\n    addBeneficiary( benList = [] ) {\r\n      this.beneficiaryQty = this.beneficiaryQty + 1;\r\n      let i = this.beneficiaryQty;\r\n      let div = document.getElementById('addBeneficiary');\r\n      let separator = '';\r\n      let checkIDExists = document.getElementById(\"benFirstName-1\");\r\n      var element = document.createElement('div');\r\n\r\n      if(benList.length <= 0){\r\n        benList.push(\r\n            benList['firstName'] = '',\r\n            benList['lastName'] = '',\r\n            benList['address'] = '',\r\n            benList['phoneNumber'] = '',\r\n            benList['state'] = '',\r\n            benList['postalCode'] = '',\r\n            benList['relationship'] = '',\r\n            benList['age']  = '');\r\n      }\r\n\r\n      if(checkIDExists) {\r\n        separator = '<hr style=\"border-top: 1px solid #2c9a2a;\">';\r\n      }\r\n\r\n      element.innerHTML += '<div class=\"row\" id=\"rowBen'+i+'\">\\n' + separator  +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benFirstName-'+i+'\" class=\"form-label\">First Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"benFirstName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" name=\"benFirstName[]\" required value=\"'+benList['firstName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benLastName-'+i+'\" class=\"form-label\">Last Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"benLastName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\"  name=\"benLastName[]\" required value=\"'+benList['lastName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benAddress-'+i+'\" class=\"form-label\">Address</label>\\n' +\r\n          '    <input type=\"text\" id=\"benAddress-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Address\"  name=\"benAddress[]\" required value=\"'+benList['address']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benPhone-'+i+'\" class=\"form-label\">Phone</label>\\n' +\r\n          '    <input type=\"text\" id=\"benPhone-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Phone\"  name=\"benPhone[]\" required value=\"'+benList['phoneNumber']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benState-'+i+'\" class=\"form-label\">State</label>\\n' +\r\n          '    <input type=\"text\" id=\"benState-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter State\"  name=\"benState[]\"  required value=\"'+benList['state']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benPostalCode-'+i+'\" class=\"form-label\">Postal Code</label>\\n' +\r\n          '    <input type=\"text\" id=\"benPostalCode-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Postal Code\"  name=\"benPostalCode[]\" required value=\"'+benList['postalCode']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benRelation-'+i+'\" class=\"form-label\">Relationship</label>\\n' +\r\n          '    <input type=\"text\" id=\"benRelation-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Relationship\"  name=\"benRelation[]\"  required value=\"'+benList['relationship']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"benAge-'+i+'\" class=\"form-label\">Age</label>\\n' +\r\n          '    <input type=\"text\" id=\"benAge-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Age\"  name=\"benAge[]\" required value=\"'+benList['age']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          ' </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          '    <button type=\"button\" id=\"'+i+'\" class=\"btn btn-danger removeItemBen\" title=\"Delete\"><i class=\"ri-close-circle-line\"></i></button>\\n' +\r\n          ' </div>\\n' +\r\n          '</div>';\r\n\r\n      div.appendChild(element);\r\n    },\r\n    addEcontact( eContact = [] ) {\r\n      this.eContactQty = this.eContactQty + 1;\r\n      let i = this.eContactQty;\r\n      let div = document.getElementById('addEcontact');\r\n      let separator = '';\r\n      let checkIDExists = document.getElementById(\"eConFirstName-1\");\r\n      var element = document.createElement('div');\r\n\r\n      if(eContact.length <= 0){\r\n        eContact.push(\r\n            eContact['firstName'] = '',\r\n            eContact['lastName'] = '',\r\n            eContact['address'] = '',\r\n            eContact['phoneNumber'] = '',\r\n            eContact['state'] = '',\r\n            eContact['postalCode'] = '',\r\n            eContact['relationship'] = '',\r\n            eContact['age']  = '');\r\n      }\r\n\r\n      if(checkIDExists) {\r\n        separator = '<hr style=\"border-top: 1px solid #2c9a2a;\">';\r\n      }\r\n      element.innerHTML += separator +\r\n          '<div class=\"row\" id=\"rowEcon'+i+'\">\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConFirstName-'+i+'\" class=\"form-label\">First Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConFirstName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" name=\"eConFirstName[]\" required value=\"'+eContact['firstName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConLastName-'+i+'\" class=\"form-label\">Last Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConLastName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\"  name=\"eConLastName[]\" required  value=\"'+eContact['lastName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConAddress-'+i+'\" class=\"form-label\">Address</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConAddress-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Address\"  name=\"eConAddress[]\" required  value=\"'+eContact['address']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConPhone-'+i+'\" class=\"form-label\">Phone</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConPhone-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Phone\"  name=\"eConPhone[]\" required  value=\"'+eContact['phoneNumber']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConState-'+i+'\" class=\"form-label\">State</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConState-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter State\"  name=\"eConState[]\"  required  value=\"'+eContact['state']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConPostalCode-'+i+'\" class=\"form-label\">Postal Code</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConPostalCode-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Postal Code\"  name=\"eConPostalCode[]\" required  value=\"'+eContact['postalCode']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConRelation-'+i+'\" class=\"form-label\">Relationship</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConRelation-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Relationship\"  name=\"eConRelation[]\"  required  value=\"'+eContact['relationship']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"eConAge-'+i+'\" class=\"form-label\">Age</label>\\n' +\r\n          '    <input type=\"text\" id=\"eConAge-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Age\"  name=\"eConAge[]\" required  value=\"'+eContact['age']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          ' </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          '    <button type=\"button\" id=\"'+i+'\" class=\"btn btn-danger removeItemEcon\" title=\"Delete\"><i class=\"ri-close-circle-line\"></i></button>\\n' +\r\n          ' </div>\\n' +\r\n          '</div>';\r\n\r\n      div.append(element);\r\n    },\r\n    addAdditaments( additaments = []) {\r\n      this.additamentsQty = this.additamentsQty + 1;\r\n      let i = this.additamentsQty;\r\n      let div = document.getElementById('addAdditaments');\r\n      let separator = '';\r\n      let checkIDExists = document.getElementById(\"eConFirstName-1\");\r\n      var element = document.createElement('div');\r\n\r\n      if(additaments.length <= 0){\r\n        additaments.push(\r\n            additaments['firstName'] = '',\r\n            additaments['lastName'] = '',\r\n            additaments['gender'] = 0,\r\n            additaments['retalionship'] = 0,\r\n            additaments['age']  = '');\r\n      }\r\n\r\n      if(checkIDExists) {\r\n        separator = '<hr style=\"border-top: 1px solid #2c9a2a;\">';\r\n      }\r\n\r\n      element.innerHTML += separator +\r\n          '<div class=\"row\" id=\"rowAdditaments'+i+'\">\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"AddiFirstName-'+i+'\" class=\"form-label\">First Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"AddiFirstName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" name=\"AddiFirstName[]\" required value=\"'+additaments['firstName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '  <div class=\"col-lg-6\">\\n' +\r\n          '    <label for=\"AddiLastName-'+i+'\" class=\"form-label\">Last Name</label>\\n' +\r\n          '    <input type=\"text\" id=\"AddiLastName-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\"  name=\"AddiLastName[]\" required value=\"'+additaments['lastName']+'\">\\n' +\r\n          '  </div>\\n' +\r\n          '<div class=\"col-lg-6\">'+\r\n          '  <label for=\"AddiGender\" class=\"form-label\">Gender</label>'+\r\n          '  <select class=\"form-select mb-2\" aria-label=\"Gender\" id=\"AddiGender-'+i+'\" name=\"AddiGender[]\">'+\r\n          '    <option value=\"0\" >Select...</option>'+\r\n          '    <option value=\"F\">Female</option>'+\r\n          '    <option value=\"M\">Male</option>'+\r\n          '</select>'+\r\n          '</div>\\n'+\r\n          '<div class=\"col-lg-6\">\\n' +\r\n          '  <label for=\"AddiAge-'+i+'\" class=\"form-label\">Age</label>\\n' +\r\n          '  <input type=\"text\" id=\"AddiAge-'+i+'\" class=\"form-control mb-2\" placeholder=\"Enter Age\"  name=\"AddiAge[]\" required  value=\"'+additaments['age']+'\">\\n' +\r\n          '</div>\\n' +\r\n          ' <div class=\"col-md-6\">\\n' +\r\n          '  <label for=\"AddiRelation-'+i+'\" class=\"form-label\">Relationship</label>'+\r\n          '  <select class=\"form-select mb-2\" aria-label=\"AddiRelation\" id=\"AddiRelation-'+i+'\" name=\"AddiRelation[]\"  value=\"'+additaments['retalionship']+'\">'+\r\n          '    <option value=\"0\">Relation</option>'+\r\n          '    <option value=\"C\">Children</option>'+\r\n          '    <option value=\"S\">Stepson</option>'+\r\n          '    <option value=\"G\">Grandson</option>'+\r\n          '</select>'+\r\n          ' </div>\\n' +\r\n          ' <div class=\"col-md-6\" style=\"display: flex; justify-content: flex-end;\">\\n' +\r\n          '    <button type=\"button\" id=\"'+i+'\" class=\"btn btn-danger removeItemAdditaments\" title=\"Delete\"><i class=\"ri-close-circle-line\"></i></button>\\n' +\r\n          ' </div>\\n' +\r\n          '</div>';\r\n      div.append(element);\r\n      document.getElementById(\"AddiGender-\"+i+\"\").value = additaments['gender'];\r\n      document.getElementById(\"AddiRelation-\"+i+\"\").value = additaments['retalionship'];\r\n    },\r\n    async getNotes (id = localStorage.getItem('selectedUser')) {\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        userID: localStorage.getItem('id'),\r\n        agentID: id,\r\n        clientID: id,\r\n      }\r\n\r\n      localStorage.setItem('selectedUser', id)\r\n\r\n      let url = '';\r\n      url = '/api/client/getClientNotes';\r\n\r\n      await axios\r\n          .post(url, data)\r\n          .then(response => {\r\n            this.notesData = response.data;\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n              Swal.fire(\"Oops!\", \"Notes could not be loaded, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async getProspectStatus(id) {\r\n\r\n      localStorage.setItem('selectedUser', id)\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        searchValues: this.data.searchValues,\r\n        userEmail: localStorage.getItem('email'),\r\n        userID: localStorage.getItem('id'),\r\n        isProspect: 0,\r\n      }\r\n\r\n      await axios\r\n          .post('/api/client/clientStatus', data)\r\n          .then(response => {\r\n            this.prospectStatusList = response.data\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if (error.response.data.detail === 'Your session is expired!') {\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Client tatus could not be loaded, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async moveClient() {\r\n\r\n      let client = localStorage.getItem('selectedUser');\r\n\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        searchValues: this.data.searchValues,\r\n        userEmail: localStorage.getItem('email'),\r\n        client: client,\r\n        status: document.getElementById('moveStatus').value,\r\n        isProspect: 0,\r\n      }\r\n\r\n      await axios\r\n          .put('/api/client/moveClient', data)\r\n          .then(async response => {\r\n            document.getElementById('closeMove').click();\r\n            if(response.status === 200){\r\n              await this.updateClientList();\r\n\r\n              await Swal.fire({\r\n                position: \"top-end\",\r\n                icon: \"success\",\r\n                title: \"Your Prospect was moved to Client List\",\r\n                showConfirmButton: false,\r\n                timer: 5000,\r\n              });\r\n            }\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if (error.response.data.detail === 'Your session is expired!') {\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Prospect could not be updated, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    filterStatus(status){\r\n      var statusButton= document.getElementById(status);\r\n      statusButton.click();\r\n    },\r\n    deleteclient(ID) {\r\n      const swalWithBootstrapButtons = Swal.mixin({\r\n        customClass: {\r\n          confirmButton: \"btn btn-danger ml-2\",\r\n          cancelButton: \"btn btn-success\",\r\n        },\r\n        buttonsStyling: false,\r\n      });\r\n\r\n      localStorage.setItem('selectedUser', ID)\r\n      swalWithBootstrapButtons\r\n          .fire({\r\n            title: \"Are you sure?\",\r\n            text: \"You won't be able to revert this!\",\r\n            icon: \"warning\",\r\n            confirmButtonText: \"Yes, delete it!\",\r\n            cancelButtonText: \"No, cancel!\",\r\n            showCancelButton: true,\r\n          })\r\n          .then((result) => {\r\n            if (result.value) {\r\n\r\n              const data = {\r\n                token: localStorage.getItem('jwt'),\r\n                userID: localStorage.getItem('id'),\r\n                userName: localStorage.getItem('firstName') + ' ' + localStorage.getItem('lastname'),\r\n                userEmail: localStorage.getItem('email'),\r\n                agentID: localStorage.getItem('selectedUser')\r\n              }\r\n\r\n              axios\r\n                  .put('/api/client/delete', data)\r\n                  .then(async response => {\r\n                    if (response) {\r\n                      await this.updateClientList()\r\n                      await swalWithBootstrapButtons.fire(\r\n                          \"Deleted!\",\r\n                          \"Prospect has been deleted.\",\r\n                          \"success\"\r\n                      );\r\n                    }\r\n                  })\r\n                  .catch(async error => {\r\n                    if (error.response) {\r\n                      let list = '';\r\n                      for (const property in error.response.data) {\r\n                        this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                        list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                      }\r\n\r\n                      await Swal.fire({\r\n                        title: \"Please check the following: \" + list,\r\n                        icon: 'warning',\r\n                        confirmButtonClass: \"btn btn-info\",\r\n                        buttonsStyling: false,\r\n                        showCloseButton: true,\r\n                      });\r\n\r\n                    } else if (error.message) {\r\n                      this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n                    }\r\n                  })\r\n            } else if (\r\n                /* Read more about handling dismissals below */\r\n                result.dismiss === Swal.DismissReason.cancel\r\n            ) {\r\n              swalWithBootstrapButtons.fire(\r\n                  \"Cancelled\",\r\n                  \"Prospect is in a safe place :)\",\r\n                  \"error\"\r\n              );\r\n            }\r\n          });\r\n    },\r\n  },\r\n  async mounted() {\r\n\r\n    let field = 'n';\r\n    let url = window.location.href;\r\n\r\n    const queryString = window.location.search;\r\n    const urlParams = new URLSearchParams(queryString);\r\n    const status = urlParams.get(field)\r\n\r\n    const data = {\r\n      token: localStorage.getItem('jwt'),\r\n      searchValues: this.data.searchValues,\r\n      userEmail: localStorage.getItem('email'),\r\n      userID: localStorage.getItem('id'),\r\n      isProspect: 1,\r\n      deleted: 0,\r\n    }\r\n\r\n    await axios\r\n        .post('/api/listDepartments', data)\r\n        .then(response => {\r\n          this.departmentList=response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n            Swal.fire(\"Oops!\", \"Departments could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/client/clientStatus', data)\r\n        .then(response => {\r\n          this.statusList=response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n\r\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/client/clientTypes', data)\r\n        .then(response => {\r\n          this.typeList = response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if(error.response.data.detail === 'Your session is expired!'){\r\n              this.$router.push('logout')\r\n            }\r\n\r\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    if((url.indexOf('?' + field + '=') !== -1))\r\n      document.getElementById(status).click()\r\n    else\r\n      await axios\r\n          .post('/api/client/listClients', data)\r\n          .then(response => {\r\n            this.list=response.data\r\n            this.page = 1\r\n            this.setPages()\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n              if(error.response.data.detail === 'Your session is expired!'){\r\n                this.$router.push('logout')\r\n              }\r\n            } else if (error.message) {\r\n              this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n            }\r\n          })\r\n\r\n    const checkAll = document.getElementById(\"checkAll\");\r\n\r\n    if (checkAll) {\r\n      checkAll.onclick = function () {\r\n        var checkboxes = document.querySelectorAll(\r\n            '.form-check-all input[type=\"checkbox\"]'\r\n        );\r\n        if (checkAll.checked === true) {\r\n          checkboxes.forEach(function (checkbox) {\r\n            checkbox.checked = true;\r\n            checkbox.closest(\"tr\").classList.add(\"table-active\");\r\n          });\r\n        } else {\r\n          checkboxes.forEach(function (checkbox) {\r\n            checkbox.checked = false;\r\n            checkbox.closest(\"tr\").classList.remove(\"table-active\");\r\n          });\r\n        }\r\n      };\r\n    }\r\n\r\n    function addEvent(parent, evt, selector, handler) {\r\n      parent.addEventListener(evt, function(event) {\r\n        if (event.target.matches(selector + ', ' + selector + ' *')) {\r\n          handler.apply(event.target.closest(selector), arguments);\r\n        }\r\n      }, false);\r\n    }\r\n\r\n    addEvent(document, 'click', 'button.removeItemBen', function() {\r\n      let button_id = this.id;\r\n      document.getElementById('rowBen' + button_id).remove();\r\n    });\r\n    addEvent(document, 'click', 'button.removeItemEcon', function() {\r\n      let button_id = this.id;\r\n      document.getElementById('rowEcon' + button_id).remove()\r\n    });\r\n    addEvent(document, 'click', 'button.removeItemAdditaments', function() {\r\n      let button_id = this.id;\r\n      document.getElementById('rowAdditaments' + button_id).remove()\r\n    });\r\n  },\r\n  computed: {\r\n    displayedPosts() {\r\n      return this.paginate(this.list);\r\n    },\r\n    resultQuery() {\r\n      if (this.data.searchValues.keyword.length >= 3) {\r\n        const search = this.data.searchValues.keyword.toLowerCase();\r\n        return this.displayedPosts.filter((data) => {\r\n          return (\r\n              data.address.toLowerCase().includes(search) ||\r\n              data.city.toLowerCase().includes(search) ||\r\n              data.FullName.toLowerCase().includes(search) ||\r\n              data.policyNumber.toLowerCase().includes(search) ||\r\n              data.email.toLowerCase().includes(search) ||\r\n              data.phoneNumber.toLowerCase().includes(search) ||\r\n              data.firstName.toLowerCase().includes(search) ||\r\n              data.lastName.toLowerCase().includes(search) ||\r\n              data.postalCode.toLowerCase().includes(search)\r\n          );\r\n        });\r\n      } else {\r\n        return this.displayedPosts;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\"/>\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-12\">\r\n\r\n        <div class=\"card\" id=\"leadsList\">\r\n          <div class=\"card-header border-0\">\r\n            <div class=\"row g-4 align-items-center\">\r\n              <div class=\"col-sm-3\">\r\n                <div class=\"search-box\">\r\n                  <input\r\n                      type=\"text\"\r\n                      class=\"form-control search\"\r\n                      placeholder=\"Search for...\"\r\n                      v-model=\"this.data.searchValues.keyword\"\r\n                      @change=\"this.data.searchValues.keyword.length >= 3 ? updateClientList(): ''\"\r\n                      v-on:keyup.enter=\"this.data.searchValues.keyword === '' ? updateClientList() : ''\"\r\n                  />\r\n                  <i class=\"ri-search-line search-icon\"></i>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-sm-auto ms-auto\">\r\n                <div class=\"hstack gap-2\">\r\n                <div class=\"d-flex align-items-center gap-2\">\r\n                  <span class=\"text-muted flex-shrink-0\">Sort by: </span>\r\n\r\n                  <Multiselect class=\"form-control\"\r\n                               style=\"width:150px;padding: 0px;\"\r\n                               autocomplete=\"off\"\r\n                               @focus=\"handleFocus\"\r\n                               v-model=\"this.data.searchValues.sortBy\"\r\n                               :close-on-select=\"true\"\r\n                               :searchable=\"true\"\r\n                               :options=\"[\r\n                            { value: 'name', label: 'Name' },\r\n                            { value: 'postalCode', label: 'Postal Code' },\r\n                            { value: 'modified', label: 'Modified On' },\r\n                            { value: 'created', label: 'created On' },\r\n                            ]\"\r\n                               @select=\"updateClientList()\"\r\n                  />\r\n\r\n                </div>\r\n                  <div class=\"d-flex align-items-center gap-2\">\r\n                    <span class=\"text-muted flex-shrink-0\">Order by: </span>\r\n\r\n                    <Multiselect class=\"form-control\"\r\n                                 style=\"width:150px;padding: 0px;\"\r\n                                 v-model=\"this.data.searchValues.orderBy\"\r\n                                 autocomplete=\"off\"\r\n                                 @focus=\"handleFocus\"\r\n                                 :close-on-select=\"true\"\r\n                                 :searchable=\"true\"\r\n                                 :options=\"[\r\n                            { value: 'ASC', label: 'Ascendance' },\r\n                            { value: 'DESC', label: 'Descendant' },\r\n                            ]\"\r\n                                 @select=\"updateClientList()\"\r\n                    />\r\n\r\n                  </div>\r\n                  <button type=\"button\" class=\"btn btn-soft-success add-btn\" href=\"#open-filters\" data-bs-toggle=\"modal\">\r\n                    <i class=\"ri-filter-line align-bottom me-1\"></i> Filters\r\n                  </button>\r\n                  <button type=\"button\" class=\"btn btn-soft-success add-btn\" id=\"create-btn\" data-bs-toggle=\"modal\" href=\"#agentModal\" @click=\"addNewAgentModal\">\r\n                    <i class=\"ri-add-line align-bottom me-1\"></i> Add Prospect\r\n                  </button>\r\n                  <span class=\"dropdown\">\r\n                    <button\r\n                        class=\"btn btn-soft-primary btn-icon fs-14\"\r\n                        type=\"button\"\r\n                        id=\"dropdownMenuButton1\"\r\n                        data-bs-toggle=\"dropdown\"\r\n                        aria-expanded=\"false\"\r\n                    >\r\n                      <i class=\"ri-settings-4-line\"></i>\r\n                    </button>\r\n                    <ul\r\n                        class=\"dropdown-menu\"\r\n                        aria-labelledby=\"dropdownMenuButton1\"\r\n                    >\r\n                      <li><a class=\"dropdown-item\" href=\"#\">Copy</a></li>\r\n                      <li>\r\n                        <a class=\"dropdown-item\" href=\"#\">Move to pipline</a>\r\n                      </li>\r\n                      <li>\r\n                        <a class=\"dropdown-item\" href=\"#\">Add to exceptions</a>\r\n                      </li>\r\n                      <li>\r\n                        <a class=\"dropdown-item\" href=\"#\"\r\n                        >Switch to common form view</a\r\n                        >\r\n                      </li>\r\n                      <li>\r\n                        <a class=\"dropdown-item\" href=\"#\"\r\n                        >Reset form view to default</a\r\n                        >\r\n                      </li>\r\n                    </ul>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Table Head -->\r\n          <ul\r\n              class=\"nav nav-tabs nav-tabs-custom nav-primary mb-3\"\r\n              role=\"tablist\">\r\n            <li class=\"nav-item\">\r\n              <a\r\n                  class=\"nav-link active All py-3\"\r\n                  data-bs-toggle=\"tab\"\r\n                  id=\"All\"\r\n                  href=\"#home1\"\r\n                  role=\"tab\"\r\n                  aria-selected=\"true\"\r\n                  @click=\"updateClientList(0)\"\r\n              >\r\n                <i class=\"ri-file-search-line me-1 align-bottom\"></i> All\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\" v-for=\"(data, index) of statusList\" :key=\"index\">\r\n              <a\r\n                  class=\"nav-link py-3 \"\r\n                  data-bs-toggle=\"tab\"\r\n                  v-bind:id=\"data.name\"\r\n                  v-bind:href=\"'#'+data.name\"\r\n                  role=\"tab\"\r\n                  aria-selected=\"false\"\r\n                  @click=\"updateClientList(data.statusID)\"\r\n              >\r\n                <i class=\"me-1 align-bottom\"></i>\r\n                {{ data.name }}\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          <table class=\"table align-middle table-nowrap mb-0\">\r\n            <thead class=\"table-light\">\r\n            <tr>\r\n              <th scope=\"col\" style=\"width: 50px\">\r\n                <div class=\"form-check\">\r\n                  <input\r\n                      class=\"form-check-input\"\r\n                      type=\"checkbox\"\r\n                      id=\"checkAll\"\r\n                      value=\"option\"\r\n                  />\r\n                </div>\r\n              </th>\r\n              <th scope=\"col\">Name</th>\r\n              <th scope=\"col\">Department</th>\r\n              <th scope=\"col\">Email</th>\r\n              <th scope=\"col\">Phone</th>\r\n              <th scope=\"col\">Create Date</th>\r\n              <th scope=\"col\">Status</th>\r\n              <th scope=\"col\">Actions</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr v-for=\"(data, index) of resultQuery\" :key=\"index\">\r\n              <td>\r\n                <div class=\"form-check\">\r\n                  <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"cardtableCheck01\">\r\n                  <label class=\"form-check-label\" for=\"cardtableCheck01\"></label>\r\n                </div>\r\n              </td>\r\n              <td>{{ data.firstName }} {{ data.lastName }}</td>\r\n              <td>{{ data.departmentName }}</td>\r\n              <td>{{ data.email }}</td>\r\n              <td>{{ formatPhone(data.phoneNumber) }}</td>\r\n              <td> {{ formatDate(data.createdOn, 'MMMM Do YYYY, h:mmA') }} </td>\r\n              <td><a href=\"javascript:void(0);\" v-bind:style=\"'color:'+data.colors\" @click=\"filterStatus(data.statusName)\">{{ data.statusName}}</a></td>\r\n              <td>\r\n                <ul class=\"list-inline hstack gap-2 mb-0\">\r\n                  <li class=\"list-inline-item\" data-bs-toggle=\"modal\" href=\"#agentModal\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Edit\" @click=\"getClientInfo(data.ID)\">\r\n                    <a class=\"edit-item-btn\" href=\"javascript:void(0);\"><i class=\"ri-pencil-fill align-bottom text-muted\"></i></a>\r\n                  </li>\r\n                  <li class=\"list-inline-item\" data-bs-toggle=\"modal\" href=\"#open-notes\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Notes\" @click=\"getNotes(data.ID)\">\r\n                    <a href=\"javascript:void(0);\" class=\"text-muted d-inline-block\" >\r\n                      <i class=\"ri-sticky-note-line fs-16\"></i>\r\n                    </a>\r\n                  </li>\r\n                  <li class=\"list-inline-item\" data-bs-toggle=\"modal\" data-bs-trigger=\"hover\"  href=\"#changeStatus\"  data-bs-placement=\"top\" title=\"Update Status\" @click=\"getProspectStatus(data.ID)\">\r\n                    <a href=\"javascript:void(0);\" ><i class=\"ri-refresh-fill align-bottom text-muted\"></i></a>\r\n                  </li>\r\n                  <li class=\"list-inline-item\" data-bs-toggle=\"tooltip\" data-bs-trigger=\"hover\" data-bs-placement=\"top\" title=\"Delete\" @click=\"deleteclient(data.ID)\">\r\n                    <a class=\"remove-item-btn\" data-bs-toggle=\"modal\" href=\"javascript:void(0);\">\r\n                      <i class=\"ri-delete-bin-fill align-bottom text-muted\"></i>\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              </td>\r\n            </tr>\r\n            </tbody>\r\n          </table>\r\n          <div class=\"noresult\" v-if=\"list.length <= 0\">\r\n            <div class=\"text-center\">\r\n              <lottie\r\n                  class=\"avatar-xl\"\r\n                  colors=\"primary:#121331,secondary:#08a88a\"\r\n                  :options=\"defaultOptions\"\r\n                  :height=\"75\"\r\n                  :width=\"75\"\r\n              />\r\n              <h5 class=\"mt-2\">Sorry! No Result Found</h5>\r\n              <p class=\"text-muted mb-0\">\r\n                We've searched and didn't find any\r\n                prospect for you.\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div class=\"d-flex justify-content-end mt-3\" v-if=\"resultQuery.length >= 0\">\r\n            <div class=\"pagination-wrap hstack gap-2\">\r\n              <a\r\n                  class=\"page-item pagination-prev disabled\"\r\n                  href=\"#\"\r\n                  v-if=\"page !== 1\"\r\n                  @click=\"page--\"\r\n              >\r\n                Previous\r\n              </a>\r\n              <ul class=\"pagination listjs-pagination mb-0\">\r\n                <li\r\n                    :class=\"{\r\n                      active: pageNumber === page,\r\n                      disabled: pageNumber === '...',\r\n                    }\"\r\n                    v-for=\"(pageNumber, index) in pages.slice(\r\n                      page - 1,\r\n                      page + 5\r\n                    )\"\r\n                    :key=\"index\"\r\n                    @click=\"page = pageNumber\"\r\n                >\r\n                  <a class=\"page\" href=\"#\">{{ pageNumber }}</a>\r\n                </li>\r\n              </ul>\r\n              <a\r\n                  class=\"page-item pagination-next\"\r\n                  href=\"#\"\r\n                  @click=\"page++\"\r\n                  v-if=\"page < pages.length\"\r\n              >\r\n                Next\r\n              </a>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n      <!--end col-->\r\n    </div>\r\n    <!--end row-->\r\n\r\n    <!--  Add agent modal  -->\r\n    <div class=\"modal zoomIn\" id=\"agentModal\" tabindex=\"-1\" aria-labelledby=\"agentModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\" style=\"max-width: 1000px;\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header bg-light p-3\">\r\n            <h5 class=\"modal-title\" id=\"agentModalLabel\"></h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"\r\n                    id=\"close-modal\"></button>\r\n          </div>\r\n          <form id=\"addform\" @submit.prevent=\"\">\r\n            <div class=\"modal-body\">\r\n              <h6> <span style=\"color:red; font-size: 0.7em;\">Required fields (*)</span></h6>\r\n\r\n              <input type=\"hidden\" id=\"id\"/>\r\n              <div class=\"row g-3\">\r\n                <div class=\"col-lg-12\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-8\">\r\n                      <label for=\"editEmail\" class=\"form-label\">Email</label>\r\n                      <input type=\"text\" id=\"editEmail\" name=\"editEmail\" class=\"form-control mb-2 createEmail\" placeholder=\"Enter Email\"\r\n                             v-model=\"clientData.email\">\r\n                      <div class=\"invalid-feedback\">\r\n                        This email is already in use.\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editCreatedBy\" class=\"form-label\">Created By</label>\r\n                      <input type=\"text\" id=\"editCreatedBy\" name=\"editCreatedBy\" class=\"form-control mb-2\" disabled v-model=\"this.clientData.createdBy\">\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editFirstName\" class=\"form-label\">First Name <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <input type=\"text\" id=\"editFirstName\" name=\"editFirstName\" class=\"form-control mb-2\" placeholder=\"Enter First Name\" v-model=\"this.clientData.firstName\" required>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editLastName\" class=\"form-label\">Last Name <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <input type=\"text\" id=\"editLastName\" name=\"editLastName\" class=\"form-control mb-2\" placeholder=\"Enter Last Name\" v-model=\"this.clientData.lastName\" required>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editGender\" class=\"form-label\"> Gender  <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <br>\r\n                      <div class=\"form-check-success form-check-inline\" style=\"margin-top: 0.8em;\">\r\n                        <input class=\"form-check-input\" type=\"radio\" name=\"editGender\" id=\"editGender\" value=\"M\" v-model=\"this.clientData.gender\">\r\n                        <label class=\"form-check-label\" for=\"editGender\"> &nbsp; Male</label>\r\n                      </div>\r\n                      <div class=\"form-check-success form-check-inline\" style=\"margin-top: 0.8em;\">\r\n                        <input class=\"form-check-input\" type=\"radio\" name=\"editGender\" id=\"editGender2\" value=\"F\" v-model=\"this.clientData.gender\">\r\n                        <label class=\"form-check-label\" for=\"editGender2\"> &nbsp; Female</label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editLanguage\" class=\"form-label\">Language <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"editLanguage\" name=\"editLanguage\" v-model=\"this.clientData.language\">\r\n                        <option value=\"1\" selected>English</option>\r\n                        <option value=\"2\">Spanish</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editStatus\" class=\"form-label\">Status <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editStatus\" name=\"editStatus\" v-model=\"this.clientData.status\">\r\n                        <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editType\" class=\"form-label\">Type clients</label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editType\" name=\"editType\" v-model=\"this.clientData.leadType\">\r\n                        <option v-for=\"(type, typeIndex) of typeList\" :key=\"typeIndex\" v-bind:value=\"type.name\">{{ type.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editPhoneNumber\" class=\"form-label\">Phone <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <input type=\"text\" id=\"editPhoneNumber\" name=\"editPhoneNumber\" class=\"form-control mb-2\" placeholder=\"Phone number\" required v-model=\"this.clientData.phoneNumber\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editDepartment\" class=\"form-label\">Department <span style=\"color:red; font-size: 0.7em;\">(*)</span></label>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                              v-model=\"this.clientData.departmentID\" v-if=\"(departmentList.length > 1)\">\r\n                        <option v-for=\"(department, index) of departmentList\"  :key=\"index\"\r\n                                v-bind:value=\"department.departmentID\">{{ department.name }}\r\n                        </option>\r\n                      </select>\r\n                      <select class=\"form-select mb-2\" aria-label=\"Department\" id=\"editDepartment\" name=\"editDepartment\"\r\n                              v-model=\"this.clientData.departmentID\" v-else>\r\n                        <option v-bind:value=\"departmentList.departmentID\">{{ departmentList.name }}</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editInterview\" class=\"form-label mb-2\">Interview</label>\r\n                      <flat-pickr\r\n                          v-model=\"this.clientData.interview\"\r\n                          :config=\"dateTimeConfig\"\r\n                          id=\"editInterview\"\r\n                          name=\"editInterview\"\r\n                          class=\"form-control\"\r\n                          data-provider=\"timepickr\"\r\n                          data-time-hrs=\"true\"\r\n                      ></flat-pickr>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-8\">\r\n                      <label for=\"editAddress\" class=\"form-label\">Address</label>\r\n                      <input type=\"text\" id=\"editAddress\" name=\"editAddress\" class=\"form-control mb-2\" placeholder=\"Enter Address\" required v-model=\"this.clientData.address\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editBirthdate\" class=\"form-label\"> Birthdate </label>\r\n                      <flat-pickr\r\n                          v-model=\"this.clientData.birthday\"\r\n                          :config=\"timeConfig\"\r\n                          class=\"form-control flatpickr-input\"\r\n                          id=\"editBirthdate\"\r\n                          name=\"editBirthdate\"\r\n                      ></flat-pickr>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-2\">\r\n                      <label for=\"editState\" class=\"form-label\">State</label>\r\n                      <input type=\"text\" id=\"editState\" name=\"editState\" class=\"form-control mb-2\" placeholder=\"Enter State\" required v-model=\"this.clientData.state\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editCountry\" class=\"form-label\">Country</label>\r\n                      <input type=\"text\" id=\"editCountry\" name=\"editCountry\" class=\"form-control mb-2\" placeholder=\"Enter Country\" required v-model=\"this.clientData.country\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                      <label for=\"editCity\" class=\"form-label\">City</label>\r\n                      <input type=\"text\" id=\"editCity\" name=\"editCity\" class=\"form-control mb-2\" placeholder=\"Enter City\" required v-model=\"this.clientData.city\"/>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                      <label for=\"editPostalCode\" class=\"form-label\">Postal code</label>\r\n                      <input type=\"text\" id=\"editPostalCode\" name=\"editPostalCode\" class=\"form-control mb-2\" placeholder=\"Enter Address\" required v-model=\"this.clientData.postalCode\"/>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <!--end col-->\r\n              </div>\r\n              <!--end row-->\r\n            </div>\r\n\r\n            <div class=\"modal-footer\">\r\n              <div class=\"hstack gap-2 justify-content-end\">\r\n                <button type=\"button\" class=\"btn btn-light\" id=\"closemodal\" data-bs-dismiss=\"modal\">Close</button>\r\n                <button type=\"submit\" class=\"btn btn-success\" id=\"add-btn\" @click=\"createClient\">Save</button>\r\n                <button type=\"button\" class=\"btn btn-success\" id=\"edit-btn\" @click=\"updateClient\">Update</button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Filters Modal -->\r\n    <div id=\"open-filters\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"myModalLabel\">Filters</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"> </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-12\">\r\n                <label for=\"filterKeyword\" class=\"form-label\">Keyword</label>\r\n                <input type=\"text\" id=\"filterKeyword\" name=\"filterKeyword\" class=\"form-control mb-2\" placeholder=\"Enter Keyword\" v-model=\"this.data.searchValues.keyword\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterType\" class=\"form-label\">Type</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"filterType\" name=\"filterType\" v-model=\"this.data.searchValues.type\">\r\n                  <option v-for=\"(type, typeIndex) of typeList\" :key=\"typeIndex\" v-bind:value=\"type.code\">{{ type.name }}</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterStatus\" class=\"form-label\">Status</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"filterStatus\" v-model=\"this.data.searchValues.status\">\r\n                  <option value=\"0\">All</option>\r\n                  <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editLanguage\" class=\"form-label\">Language</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"filterLanguage\" name=\"filterLanguage\" v-model=\"this.data.searchValues.language\">\r\n                  <option value=\"1\">English</option>\r\n                  <option value=\"2\">Spanish</option>\r\n                  <option value=\"3\">Both</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"editStatus\" class=\"form-label\">Search by Notes</label>\r\n                <input type=\"text\" id=\"filterNotes\" name=\"filterNotes\" class=\"form-control mb-2\" placeholder=\"Enter note\" v-model=\"this.data.searchValues.noteSearch\">\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterFromDate\" class=\"form-label\"> From date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.data.searchValues.fromDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterFromDate\"\r\n                    name=\"filterFromDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label for=\"filterToDate\" class=\"form-label\"> To Date </label>\r\n                <flat-pickr\r\n                    v-model=\"this.data.searchValues.toDate\"\r\n                    :config=\"humanfriendlyConfig\"\r\n                    class=\"form-control flatpickr-input\"\r\n                    id=\"filterToDate\"\r\n                    name=\"filterToDate\"\r\n                ></flat-pickr>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-light\" data-bs-dismiss=\"modal\">Close</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"updateClientList()\">Search</button>\r\n          </div>\r\n\r\n        </div><!-- /.modal-content -->\r\n      </div><!-- /.modal-dialog -->\r\n    </div>\r\n\r\n    <!-- Notes Modal -->\r\n    <div id=\"open-notes\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <notes :dataList=\"notesData\" @onFire=\"getNotes()\"> </notes>\r\n        </div><!-- /.modal-content -->\r\n      </div><!-- /.modal-dialog -->\r\n    </div><!-- /.modal -->\r\n\r\n    <!-- Move to Prospect Modal -->\r\n    <div id=\"changeStatus\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"display: none;\">\r\n      <div class=\"modal-dialog modal-dialog-centered\">\r\n        <div class=\"modal-content \">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"myModalLabel\">Move Prospects</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"> </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-12\">\r\n                <label for=\"filterStatus\" class=\"form-label\">Status</label>\r\n                <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"moveStatus\">\r\n                  <option value=\"0\">All</option>\r\n                  <option v-for=\"(status, statusIndex) of prospectStatusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-light\" id=\"closeMove\" data-bs-dismiss=\"modal\">Close</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"moveClient()\">Move</button>\r\n          </div>\r\n        </div><!-- /.modal-content -->\r\n      </div><!-- /.modal-dialog -->\r\n    </div><!-- /.modal -->\r\n  </Layout>\r\n</template>\r\n<style>\r\n.row-spacer{\r\n  margin-bottom: 10px;\r\n}\r\n</style>"]}]}