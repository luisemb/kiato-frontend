{"remainingRequest":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\wamp64\\www\\crm\\frontend\\src\\views\\authentication\\changePasssword.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\wamp64\\www\\crm\\frontend\\src\\views\\authentication\\changePasssword.vue","mtime":1677254282904},{"path":"C:\\wamp64\\www\\crm\\frontend\\babel.config.js","mtime":1645939880000},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1668443304941},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1652458135842},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1668443313146}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L3dhbXA2NC93d3cvY3JtL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50ZXN0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgTG90dGllIGZyb20gIkAvY29tcG9uZW50cy93aWRnZXRzL2xvdHRpZS52dWUiOwppbXBvcnQgYW5pbWF0aW9uRGF0YSBmcm9tICJAL2NvbXBvbmVudHMvd2lkZ2V0cy9wYXNzd29yZC1zZWN1cml0eS5qc29uIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgbG90dGllOiBMb3R0aWUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZWZhdWx0T3B0aW9uczogewogICAgICAgIGFuaW1hdGlvbkRhdGE6IGFuaW1hdGlvbkRhdGEKICAgICAgfSwKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBjb25maXJtUGFzc3dvcmQ6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgdmFsaWRFbWFpbDogZnVuY3Rpb24gdmFsaWRFbWFpbChlbWFpbCkgewogICAgICB2YXIgcmUgPSAvXigoW148PigpW1xdXFwuLDs6XHNAIl0rKFwuW148PigpW1xdXFwuLDs6XHNAIl0rKSopfCgiLisiKSlAKChcW1swLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cXSl8KChbYS16QS1aXC0wLTldK1wuKStbYS16QS1aXXsyLH0pKSQvOwogICAgICByZXR1cm4gcmUudGVzdChlbWFpbC50cmltKCkpOwogICAgfSwKICAgIHVwZGF0ZVVzZXJQYXNzd29yZDogZnVuY3Rpb24gdXBkYXRlVXNlclBhc3N3b3JkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHBhc3N3b3JkLCBjb25maXJtUGFzc3dvcmQsIHF1ZXJ5U3RyaW5nLCB1cmxQYXJhbXMsIHRva2VuLCBkYXRhLCBsaXN0LCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMgPSBbXTsKICAgICAgICAgICAgICAgIHBhc3N3b3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3N3b3JkJykudmFsdWU7CiAgICAgICAgICAgICAgICBjb25maXJtUGFzc3dvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybScpLnZhbHVlOwoKICAgICAgICAgICAgICAgIGlmICghcGFzc3dvcmQgfHwgY29uZmlybVBhc3N3b3JkLmxlbmd0aCA8PSAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdQYXNzd29yZCBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWNvbmZpcm1QYXNzd29yZCB8fCBjb25maXJtUGFzc3dvcmQubGVuZ3RoIDw9IDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ0NvbmZpcm0gUGFzc3dvcmQgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHBhc3N3b3JkICE9PSBjb25maXJtUGFzc3dvcmQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ1Bhc3N3b3JkcyBkb25cJ3QgbWF0Y2guJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzLmVycm9ycy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoOwogICAgICAgICAgICAgICAgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhxdWVyeVN0cmluZyk7CiAgICAgICAgICAgICAgICB0b2tlbiA9IHVybFBhcmFtcy5nZXQoJ3QnKTsKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlbiwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgICAgICAgICAgICAgICBjb25maXJtUGFzc3dvcmQ6IGNvbmZpcm1QYXNzd29yZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS91cGRhdGVVc2VyUGFzc3dvcmQnLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnUGFzc3dvcmQgdXBkYXRlZCEnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRyb3V0ZXIucHVzaCgnbG9naW4nKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKS5jYXRjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihlcnJvcikgewogICAgICAgICAgICAgICAgICAgIHZhciBsaXN0LCBwcm9wZXJ0eTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goIiIuY29uY2F0KHByb3BlcnR5LCAiOiAiKS5jb25jYXQoZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgZXJyb3IucmVzcG9uc2UuZGF0YVtwcm9wZXJ0eV0gKyAnPC9iPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNoZWNrIHRoZSBmb2xsb3dpbmc6ICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgX3RoaXMuZXJyb3JzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgX3RoaXMuZXJyb3JzW2ldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY29tcGxldGUgdGhlIGZvcm0hICIgKyBsaXN0LAogICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogImJ0biBidG4taW5mbyIsCiAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICB2YXIgcXVlcnlTdHJpbmcsIHVybFBhcmFtcywgdG9rZW4sIGRhdGE7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoOwogICAgICAgICAgICAgIHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocXVlcnlTdHJpbmcpOwogICAgICAgICAgICAgIHRva2VuID0gdXJsUGFyYW1zLmdldCgndCcpOwogICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW4KICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9jaGVja1Jlc2V0VG9rZW4nLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goJ2xvZ2luJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["Lottie","animationData","axios","Swal","components","lottie","data","defaultOptions","password","confirmPassword","methods","validEmail","email","re","test","trim","updateUserPassword","errors","document","getElementById","value","length","push","queryString","window","location","search","urlParams","URLSearchParams","token","get","post","then","response","status","fire","icon","title","text","timer","$router","catch","error","list","property","confirmButtonClass","buttonsStyling","showCloseButton","message","i","mounted"],"sourceRoot":"","sources":["C:\\wamp64\\www\\crm\\frontend\\src\\views\\authentication\\changePasssword.vue"],"sourcesContent":["<script>\r\nimport Lottie from \"@/components/widgets/lottie.vue\";\r\nimport animationData from \"@/components/widgets/password-security.json\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport default {\r\n  components: { lottie: Lottie },\r\n  data() {\r\n    return {\r\n      defaultOptions: { animationData: animationData },\r\n      password: '',\r\n      confirmPassword: '',\r\n    };\r\n  },\r\n  methods:{\r\n    validEmail: function (email) {\r\n      var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      return re.test(email.trim());\r\n    },\r\n    async updateUserPassword(){\r\n\r\n      this.errors = []\r\n      const password = document.getElementById('password').value\r\n      const confirmPassword = document.getElementById('confirm').value\r\n\r\n      if (!password || confirmPassword.length <= 0) {\r\n        this.errors.push('Password is required.');\r\n      }\r\n\r\n      if (!confirmPassword || confirmPassword.length <= 0) {\r\n        this.errors.push('Confirm Password is required.');\r\n      }\r\n\r\n      if(password !== confirmPassword){\r\n        this.errors.push('Passwords don\\'t match.');\r\n      }\r\n\r\n      if (!this.errors.length) {\r\n\r\n        const queryString = window.location.search;\r\n        const urlParams = new URLSearchParams(queryString);\r\n        const token = urlParams.get('t')\r\n\r\n        const data = {\r\n          token: token,\r\n          password: password,\r\n          confirmPassword: confirmPassword,\r\n        }\r\n\r\n        await axios\r\n            .post('/api/updateUserPassword', data)\r\n            .then(async response => {\r\n              if (response.status === 200) {\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Password updated!',\r\n                  timer: 2000,\r\n                });\r\n\r\n                await this.$router.push('login')\r\n              }\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      } else {\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i] + '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n  },\r\n  async mounted() {\r\n\r\n    const queryString = window.location.search;\r\n    const urlParams = new URLSearchParams(queryString);\r\n    const token = urlParams.get('t')\r\n\r\n    const data = {\r\n      token: token\r\n    }\r\n\r\n    await axios\r\n        .post('/api/checkResetToken', data)\r\n        .then(response => {\r\n          if (response.data === false){\r\n            this.$router.push('login')\r\n          }\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n            Swal.fire(\"Oops!\", \"Something was wrong, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"auth-page-wrapper pt-5\">\r\n    <!-- auth page bg -->\r\n    <div class=\"auth-one-bg-position auth-one-bg\"  id=\"auth-particles\">\r\n      <div class=\"bg-overlay\"></div>\r\n\r\n      <div class=\"shape\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 1440 120\">\r\n          <path d=\"M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z\"></path>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- auth page content -->\r\n    <div class=\"auth-page-content\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-12\">\r\n            <div class=\"text-center mt-sm-5 mb-4 text-white-50\">\r\n              <div>\r\n                <router-link to=\"/\" class=\"d-inline-block auth-logo\">\r\n                  <img src=\"@/assets/images/logo-light.png\" alt=\"\" height=\"140\">\r\n                </router-link>\r\n              </div>\r\n              <p class=\"mt-3 fs-15 fw-medium\">DMB Insurance Group</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- end row -->\r\n\r\n        <div class=\"row justify-content-center\">\r\n          <div class=\"col-md-8 col-lg-6 col-xl-5\">\r\n            <div class=\"card mt-4\">\r\n\r\n              <div class=\"card-body p-4\">\r\n                <div class=\"text-center mt-2\">\r\n                  <h5 class=\"text-primary\">RESET PASSWORD</h5>\r\n\r\n                  <lottie\r\n                      class=\"avatar-xl\"\r\n                      colors=\"primary:#0ab39c,secondary:#405189\"\r\n                      :options=\"defaultOptions\"\r\n                      :height=\"120\"\r\n                      :width=\"120\"\r\n                  />\r\n\r\n                </div>\r\n\r\n                <div class=\"alert alert-borderless alert-warning text-center mb-2 mx-2\" role=\"alert\">\r\n                  You will be redirect to Sign in!\r\n                </div>\r\n                <div class=\"p-2\">\r\n                  <form @submit.prevent=\"updateUserPassword\">\r\n                    <div class=\"mb-4\">\r\n                      <label class=\"form-label\">Password</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"password\" placeholder=\"Enter Password\" v-bind:value=\"this.password\">\r\n                    </div>\r\n                    <div class=\"mb-4\">\r\n                      <label class=\"form-label\">Confirm Password</label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"confirm\" placeholder=\"Confirm Password\" v-bind:value=\"this.confirmPassword\">\r\n                    </div>\r\n\r\n                    <div class=\"text-center mt-4\">\r\n                      <button class=\"btn btn-success w-100\" type=\"submit\">Set Password</button>\r\n                    </div>\r\n                  </form><!-- end form -->\r\n                </div>\r\n              </div>\r\n              <!-- end card body -->\r\n            </div>\r\n            <!-- end card -->\r\n\r\n          </div>\r\n        </div>\r\n        <!-- end row -->\r\n      </div>\r\n      <!-- end container -->\r\n    </div>\r\n    <!-- end auth page content -->\r\n\r\n    <!-- footer -->\r\n    <footer class=\"footer\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-12\">\r\n            <div class=\"text-center\">\r\n              <p class=\"mb-0\">&copy; {{new Date().getFullYear()}} DMB Insurance Agency. Crafted with <i class=\"mdi mdi-heart text-danger\"></i></p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n    <!-- end Footer -->\r\n  </div>\r\n  <!-- end auth-page-wrapper -->\r\n</template>"]}]}