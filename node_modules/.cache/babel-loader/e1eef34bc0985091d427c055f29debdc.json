{"remainingRequest":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\wamp64\\www\\crm\\frontend\\src\\views\\prospects\\uploadNtos.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\wamp64\\www\\crm\\frontend\\src\\views\\prospects\\uploadNtos.vue","mtime":1686932437122},{"path":"C:\\wamp64\\www\\crm\\frontend\\babel.config.js","mtime":1645939880000},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1652458135842},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1668443304858},{"path":"C:\\wamp64\\www\\crm\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1668443313146}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L3dhbXA2NC93d3cvY3JtL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOi93YW1wNjQvd3d3L2NybS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCB7IHJlZiwgd2F0Y2ggfSBmcm9tICJ2dWUiOwppbXBvcnQgIkB2dWVmb3JtL211bHRpc2VsZWN0L3RoZW1lcy9kZWZhdWx0LmNzcyI7CmltcG9ydCBDbGFzc2ljRWRpdG9yIGZyb20gIkBja2VkaXRvci9ja2VkaXRvcjUtYnVpbGQtY2xhc3NpYyI7IC8vIGltcG9ydCBEcm9wWm9uZSBmcm9tICJAL2NvbXBvbmVudHMvd2lkZ2V0cy9kcm9wWm9uZSI7CgppbXBvcnQgdXNlVnVlbGlkYXRlIGZyb20gIkB2dWVsaWRhdGUvY29yZSI7CmltcG9ydCAiZmxhdHBpY2tyL2Rpc3QvZmxhdHBpY2tyLmNzcyI7CmltcG9ydCBMYXlvdXQgZnJvbSAiLi4vLi4vbGF5b3V0cy9tYWluLnZ1ZSI7CmltcG9ydCBhcHBDb25maWcgZnJvbSAiLi4vLi4vLi4vYXBwLmNvbmZpZyI7CmltcG9ydCBQYWdlSGVhZGVyIGZyb20gIkAvY29tcG9uZW50cy9wYWdlLWhlYWRlciI7CmltcG9ydCBQYXBhIGZyb20gJ3BhcGFwYXJzZSc7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IFNpbXBsZVR5cGVhaGVhZCBmcm9tICd2dWUzLXNpbXBsZS10eXBlYWhlYWQnOwppbXBvcnQgJ3Z1ZTMtc2ltcGxlLXR5cGVhaGVhZC9kaXN0L3Z1ZTMtc2ltcGxlLXR5cGVhaGVhZC5jc3MnOyAvL09wdGlvbmFsIGRlZmF1bHQgQ1NTCgpleHBvcnQgZGVmYXVsdCB7CiAgcGFnZTogewogICAgdGl0bGU6ICJDcmVhdGUgUHJvZHVjdCIsCiAgICBtZXRhOiBbewogICAgICBuYW1lOiAiZGVzY3JpcHRpb24iLAogICAgICBjb250ZW50OiBhcHBDb25maWcuZGVzY3JpcHRpb24KICAgIH1dCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgZmlsZXMgPSByZWYoW10pOwogICAgdmFyIGRyb3B6b25lRmlsZSA9IHJlZigiIik7CgogICAgdmFyIGRyb3AgPSBmdW5jdGlvbiBkcm9wKGUpIHsKICAgICAgZHJvcHpvbmVGaWxlLnZhbHVlID0gZS5kYXRhVHJhbnNmZXIuZmlsZXNbMF07CiAgICAgIGZpbGVzLnZhbHVlLnB1c2goZHJvcHpvbmVGaWxlLnZhbHVlKTsKICAgIH07CgogICAgdmFyIHNlbGVjdGVkRmlsZSA9IGZ1bmN0aW9uIHNlbGVjdGVkRmlsZSgpIHsKICAgICAgZHJvcHpvbmVGaWxlLnZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpc3RGaWxlJykuZmlsZXNbMF07CiAgICAgIGZpbGVzLnZhbHVlLnB1c2goZHJvcHpvbmVGaWxlLnZhbHVlKTsKICAgIH07CgogICAgd2F0Y2goZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX3RvQ29uc3VtYWJsZUFycmF5KGZpbGVzLnZhbHVlKTsKICAgIH0sIGZ1bmN0aW9uIChjdXJyZW50VmFsdWUpIHsKICAgICAgcmV0dXJuIGN1cnJlbnRWYWx1ZTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgZHJvcHpvbmVGaWxlOiBkcm9wem9uZUZpbGUsCiAgICAgIGRyb3A6IGRyb3AsCiAgICAgIHNlbGVjdGVkRmlsZTogc2VsZWN0ZWRGaWxlLAogICAgICB2JDogdXNlVnVlbGlkYXRlKCksCiAgICAgIGZpbGVzOiBmaWxlcwogICAgfTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogIlVwbG9hZCBDbGllbnQvTGVhZCBMaXN0IiwKICAgICAgaXRlbXM6IFt7CiAgICAgICAgdGV4dDogIkRhc2hib2FyZCIsCiAgICAgICAgaHJlZjogIi8iCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiVXBsb2FkIExpc3QiLAogICAgICAgIGFjdGl2ZTogdHJ1ZQogICAgICB9XSwKICAgICAgZGF0ZTE6IG51bGwsCiAgICAgIGRhdGV0aW1lQ29uZmlnOiB7CiAgICAgICAgZW5hYmxlVGltZTogdHJ1ZSwKICAgICAgICBkYXRlRm9ybWF0OiAiZC5tLnkiLAogICAgICAgIHRpbWVfMjRocjogdHJ1ZQogICAgICB9LAogICAgICBlZGl0b3I6IENsYXNzaWNFZGl0b3IsCiAgICAgIGZpbGU6IFtdLAogICAgICBjb250ZW50OiBbXSwKICAgICAgcGFyc2VkOiBmYWxzZSwKICAgICAgc3RhdHVzTGlzdDogW10sCiAgICAgIHR5cGVMaXN0OiBbXSwKICAgICAgaXRlbXNTZWFyY2g6IFtdLAogICAgICBzcGVjdGVkQ29sdW1uc1dhbGtpbmc6IFsiTGFzdCBOYW1lIiwgIkZpcnN0IE5hbWUiLCAiQWRkcmVzcyIsICJDaXR5IiwgIlN0YXRlIiwgIlppcCIsICJEYXl0aW1lIFBob25lIiwgIkV2ZW5pbmcgUGhvbmUiLCAiQWdlIiwgIk1lZGlhIiwgIkxhbmd1YWdlIiwgIlJlY2VpdmVkIiwgIkFzc2lnbmVkIiwgIlNlY29uZCBQcmUtQXBwcm9hY2ggTGV0dGVyIl0sCiAgICAgIGxpc3RUeXBlOiAwCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgLy8gRHJvcFpvbmUsCiAgICBMYXlvdXQ6IExheW91dCwKICAgIFBhZ2VIZWFkZXI6IFBhZ2VIZWFkZXIsCiAgICBTaW1wbGVUeXBlYWhlYWQ6IFNpbXBsZVR5cGVhaGVhZAogIH0sCiAgbWV0aG9kczogewogICAgZGVsZXRlUmVjb3JkOiBmdW5jdGlvbiBkZWxldGVSZWNvcmQoZWxlKSB7CiAgICAgIGVsZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpOwogICAgfSwKICAgIHBhcnNlRmlsZTogZnVuY3Rpb24gcGFyc2VGaWxlKCkgewogICAgICBQYXBhLnBhcnNlKHRoaXMuZmlsZSwgewogICAgICAgIGhlYWRlcjogdHJ1ZSwKICAgICAgICBza2lwRW1wdHlMaW5lczogdHJ1ZSwKICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKHJlc3VsdHMpIHsKICAgICAgICAgIGlmICh0aGlzLmNvbXBhcmUodGhpcy5zcGVjdGVkQ29sdW1uc1dhbGtpbmcsIHJlc3VsdHMubWV0YS5maWVsZHMpKSB7CiAgICAgICAgICAgIHRoaXMuY29udGVudCA9IHJlc3VsdHM7CiAgICAgICAgICAgIHRoaXMucGFyc2VkID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5saXN0VHlwZSA9IDE7CiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY29tcGFyZSh0aGlzLnNwZWN0ZWRDb2x1bW5zTnRvcywgcmVzdWx0cy5tZXRhLmZpZWxkcykpIHsKICAgICAgICAgICAgdGhpcy5jb250ZW50ID0gcmVzdWx0czsKICAgICAgICAgICAgdGhpcy5wYXJzZWQgPSB0cnVlOwogICAgICAgICAgICB0aGlzLmxpc3RUeXBlID0gMjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgdGl0bGU6ICJPb3BzLCB0aGlzIGZpbGUgaXMgbm90IHdoYXQgd2Ugc3BlY3RlZCEiLAogICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSwKICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfS5iaW5kKHRoaXMpCiAgICAgIH0pOwogICAgfSwKICAgIGNvbXBhcmU6IGZ1bmN0aW9uIGNvbXBhcmUobzEsIG8yKSB7CiAgICAgIGZvciAodmFyIHAgaW4gbzEpIHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zCiAgICAgICAgaWYgKG8xLmhhc093blByb3BlcnR5KHApKSB7CiAgICAgICAgICBpZiAobzFbcF0gIT09IG8yW3BdKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZvciAodmFyIF9wIGluIG8yKSB7CiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGlucwogICAgICAgIGlmIChvMi5oYXNPd25Qcm9wZXJ0eShfcCkpIHsKICAgICAgICAgIGlmIChvMVtfcF0gIT09IG8yW19wXSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICBoYW5kbGVGaWxlVXBsb2FkOiBmdW5jdGlvbiBoYW5kbGVGaWxlVXBsb2FkKCkgewogICAgICB0aGlzLmZpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlzdEZpbGUnKS5maWxlc1swXTsKICAgICAgdGhpcy5wYXJzZUZpbGUoKTsKICAgIH0sCiAgICBjaGFuZ2VUeXBlOiBmdW5jdGlvbiBjaGFuZ2VUeXBlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpLAogICAgICAgICAgICAgICAgICB1c2VySUQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZCcpLAogICAgICAgICAgICAgICAgICBpc1Byb3NwZWN0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXNQcm9zcGVjdCcpLnZhbHVlLAogICAgICAgICAgICAgICAgICBkZWxldGVkOiAwCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2FwaS9jbGllbnQvY2xpZW50U3RhdHVzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhdHVzTGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgiT29wcyEiLCAiU3RhdHVzIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2NsaWVudC9jbGllbnRUeXBlcycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnR5cGVMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWwgPT09ICdZb3VyIHNlc3Npb24gaXMgZXhwaXJlZCEnKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJTdGF0dXMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGxvYWRGaWxlOiBmdW5jdGlvbiB1cGxvYWRGaWxlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBkYXRhLCBsaXN0LCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzID0gW107CgogICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpc1Byb3NwZWN0JykudmFsdWUgPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnSXMgcHJvc3BlY3Qgb3IgY2xpZW50PycpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdExhbmd1YWdlJykudmFsdWUgPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnTGFuZ3VhZ2UgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdHVzJykudmFsdWUgPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnU3RhdHVzIGlzIHJlcXVpcmVkLicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdFR5cGUnKS52YWx1ZSA9PT0gJycpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdTb3VyY2UgaXMgcmVxdWlyZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0eXBlYWhlYWRfaWQnKS52YWx1ZSA9PT0gJycpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCdBZ2VudCBpcyBpcyByZXF1aXJlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmNvbnRlbnQubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcnMucHVzaCgnUGxlYXNlLCB1cGxvYWQgYW5kIHByb2Nlc3MgeW91ciAuY3N2IGZpbGUuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMyLmVycm9ycy5sZW5ndGggPT09IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnand0JyksCiAgICAgICAgICAgICAgICAgIHVzZXJFbWFpbDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJyksCiAgICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgICAgICAgIGxpc3RPZkRhdGE6IF90aGlzMi5jb250ZW50LAogICAgICAgICAgICAgICAgICB1cGxvYWRUbzogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3R5cGVhaGVhZF9pZCcpLnZhbHVlLAogICAgICAgICAgICAgICAgICBpc1Byb3NwZWN0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXNQcm9zcGVjdCcpLnZhbHVlLAogICAgICAgICAgICAgICAgICBsYW5ndWFnZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRMYW5ndWFnZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICBzdGF0dXM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0U3RhdHVzJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIHNvdXJjZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRUeXBlJykudmFsdWUsCiAgICAgICAgICAgICAgICAgIGxpc3RUeXBlOiBfdGhpczIubGlzdFR5cGUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY2xpZW50L3VwbG9hZExpc3QnLCBkYXRhKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1VwbG9hZGVkIHN1Y2Nlc3NmdWxseSEnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmxpc3RUeXBlID0gMDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwMCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKS5jYXRjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhlcnJvcikgewogICAgICAgICAgICAgICAgICAgIHZhciBsaXN0LCBwcm9wZXJ0eTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9ycy5wdXNoKCIiLmNvbmNhdChwcm9wZXJ0eSwgIjogIikuY29uY2F0KGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ICs9ICdcbicgKyAnPGI+JyArIGVycm9yLnJlc3BvbnNlLmRhdGFbcHJvcGVydHldICsgJzwvYj4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSBjaGVjayB0aGUgZm9sbG93aW5nOiAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3YXMgd3JvbmcsIHBsZWFzZSBjb250YWN0IHlvdXIgU3lzQWRtaW4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgbGlzdCA9ICcnOwoKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBfdGhpczIuZXJyb3JzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIGxpc3QgKz0gJ1xuJyArICc8Yj4nICsgX3RoaXMyLmVycm9yc1tpXSArICc8L2I+JzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgcmV0dXJuIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIGNvbXBsZXRlIHRoZSBmb3JtISAiICsgbGlzdCwKICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICJidG4gYnRuLWluZm8iLAogICAgICAgICAgICAgICAgICBidXR0b25zU3R5bGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZWFyY2hBZ2VudHM6IGZ1bmN0aW9uIHNlYXJjaEFnZW50cygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKSwKICAgICAgICAgICAgICAgICAgc2VhcmNoVmFsdWU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0eXBlYWhlYWRfaWQnKS52YWx1ZQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBpZiAoIShkYXRhWydzZWFyY2hWYWx1ZSddLmxlbmd0aCA+IDMpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvdXNlckZpbmRlcicsIGRhdGEpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLml0ZW1zU2VhcmNoID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSkuY2F0Y2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmNCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCwgcHJvcGVydHk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCArPSAnXG4nICsgJzxiPicgKyBlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSArICc8L2I+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgY2hlY2sgdGhlIGZvbGxvd2luZzogIiArIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAiYnRuIGJ0bi1pbmZvIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2VCdXR0b246IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmVycm9ycy5wdXNoKCdTb21ldGhpbmcgd2FzIHdyb25nLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgIHZhciBkYXRhOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpLAogICAgICAgICAgICAgICAgdXNlckVtYWlsOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSwKICAgICAgICAgICAgICAgIHVzZXJJRDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgICAgICBpc1Byb3NwZWN0OiAxLAogICAgICAgICAgICAgICAgZGVsZXRlZDogMAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL2NsaWVudC9jbGllbnRTdGF0dXMnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXM0LnN0YXR1c0xpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbCA9PT0gJ1lvdXIgc2Vzc2lvbiBpcyBleHBpcmVkIScpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczQuJHJvdXRlci5wdXNoKCdsb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKCJPb3BzISIsICJTdGF0dXMgY291bGQgbm90IGJlIGxvYWRlZCwgcGxlYXNlIGNvbnRhY3QgeW91ciBTeXNBZG1pbi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvY2xpZW50L2NsaWVudFR5cGVzJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzNC50eXBlTGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEuZGV0YWlsID09PSAnWW91ciBzZXNzaW9uIGlzIGV4cGlyZWQhJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzNC4kcm91dGVyLnB1c2goJ2xvZ291dCcpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoIk9vcHMhIiwgIlN0YXR1cyBjb3VsZCBub3QgYmUgbG9hZGVkLCBwbGVhc2UgY29udGFjdCB5b3VyIFN5c0FkbWluLiIsICJlcnJvciIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTgpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["ref","watch","ClassicEditor","useVuelidate","Layout","appConfig","PageHeader","Papa","axios","Swal","SimpleTypeahead","page","title","meta","name","content","description","setup","files","dropzoneFile","drop","e","value","dataTransfer","push","selectedFile","document","getElementById","currentValue","v$","data","items","text","href","active","date1","datetimeConfig","enableTime","dateFormat","time_24hr","editor","file","parsed","statusList","typeList","itemsSearch","spectedColumnsWalking","listType","components","methods","deleteRecord","ele","target","parentElement","remove","parseFile","parse","header","skipEmptyLines","complete","results","compare","fields","spectedColumnsNtos","fire","icon","confirmButtonClass","buttonsStyling","showCloseButton","bind","o1","o2","p","hasOwnProperty","handleFileUpload","changeType","token","localStorage","getItem","userEmail","userID","isProspect","deleted","post","then","response","catch","error","detail","$router","uploadFile","errors","length","listOfData","uploadTo","language","status","source","setTimeout","location","reload","list","property","message","i","searchAgents","searchValue","mounted"],"sourceRoot":"","sources":["C:\\wamp64\\www\\crm\\frontend\\src\\views\\prospects\\uploadNtos.vue"],"sourcesContent":["<script>\r\nimport {\r\n  ref,\r\n  watch\r\n} from \"vue\";\r\nimport \"@vueform/multiselect/themes/default.css\";\r\n\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\n// import DropZone from \"@/components/widgets/dropZone\";\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\nimport Layout from \"../../layouts/main.vue\";\r\nimport appConfig from \"../../../app.config\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport Papa from 'papaparse';\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport SimpleTypeahead from 'vue3-simple-typeahead';\r\nimport 'vue3-simple-typeahead/dist/vue3-simple-typeahead.css'; //Optional default CSS\r\nexport default {\r\n  page: {\r\n    title: \"Create Product\",\r\n    meta: [{\r\n      name: \"description\",\r\n      content: appConfig.description,\r\n    }, ],\r\n  },\r\n  setup() {\r\n    let files = ref([]);\r\n    let dropzoneFile = ref(\"\");\r\n    const drop = (e) => {\r\n      dropzoneFile.value = e.dataTransfer.files[0];\r\n      files.value.push(dropzoneFile.value);\r\n    };\r\n    const selectedFile = (  ) => {\r\n      dropzoneFile.value = document.getElementById('listFile').files[0];\r\n      files.value.push(dropzoneFile.value);\r\n    };\r\n    watch(\r\n        () => [...files.value],\r\n        (currentValue) => {\r\n          return currentValue;\r\n        }\r\n    );\r\n    return {\r\n      dropzoneFile,\r\n      drop,\r\n      selectedFile,\r\n      v$: useVuelidate(),\r\n      files\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"Upload Client/Lead List\",\r\n      items: [{\r\n        text: \"Dashboard\",\r\n        href: \"/\",\r\n      },\r\n        {\r\n          text: \"Upload List\",\r\n          active: true,\r\n        },\r\n      ],\r\n      date1: null,\r\n      datetimeConfig: {\r\n        enableTime: true,\r\n        dateFormat: \"d.m.y\",\r\n        time_24hr: true,\r\n      },\r\n      editor: ClassicEditor,\r\n      file: [],\r\n      content: [],\r\n      parsed: false,\r\n      statusList: [],\r\n      typeList: [],\r\n      itemsSearch: [],\r\n      spectedColumnsWalking: [\r\n        \"Last Name\",\r\n        \"First Name\",\r\n        \"Address\",\r\n        \"City\",\r\n        \"State\",\r\n        \"Zip\",\r\n        \"Daytime Phone\",\r\n        \"Evening Phone\",\r\n        \"Age\",\r\n        \"Media\",\r\n        \"Language\",\r\n        \"Received\",\r\n        \"Assigned\",\r\n        \"Second Pre-Approach Letter\"\r\n      ],\r\n      listType: 0,\r\n    };\r\n  },\r\n  components: {\r\n    // DropZone,\r\n    Layout,\r\n    PageHeader,\r\n    SimpleTypeahead,\r\n  },\r\n  methods: {\r\n    deleteRecord(ele) {\r\n      ele.target.parentElement.parentElement.remove();\r\n    },\r\n    parseFile(){\r\n\r\n      Papa.parse( this.file, {\r\n        header: true,\r\n        skipEmptyLines: true,\r\n        complete: function ( results ) {\r\n          if( this.compare(this.spectedColumnsWalking, results.meta.fields)){\r\n            this.content = results;\r\n            this.parsed = true;\r\n            this.listType = 1;\r\n          } else if(this.compare(this.spectedColumnsNtos, results.meta.fields)){\r\n            this.content = results;\r\n            this.parsed = true;\r\n            this.listType = 2;\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Oops, this file is not what we spected!\",\r\n              icon: 'warning',\r\n              confirmButtonClass: \"btn btn-info\",\r\n              buttonsStyling: false,\r\n              showCloseButton: true,\r\n            });\r\n          }\r\n        }.bind(this)\r\n      } );\r\n    },\r\n    compare (o1, o2){\r\n      for(let p in o1){\r\n        // eslint-disable-next-line no-prototype-builtins\r\n        if(o1.hasOwnProperty(p)){\r\n          if(o1[p] !== o2[p]){\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n      for(let p in o2){\r\n        // eslint-disable-next-line no-prototype-builtins\r\n        if(o2.hasOwnProperty(p)){\r\n          if(o1[p] !== o2[p]){\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n      return true;\r\n    },\r\n    handleFileUpload( ){\r\n      this.file = document.getElementById('listFile').files[0];\r\n      this.parseFile();\r\n    },\r\n    async changeType() {\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        userEmail: localStorage.getItem('email'),\r\n        userID: localStorage.getItem('id'),\r\n        isProspect: document.getElementById('isProspect').value,\r\n        deleted: 0,\r\n      }\r\n\r\n      await axios\r\n          .post('/api/client/clientStatus', data)\r\n          .then(response => {\r\n            this.statusList = response.data\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if (error.response.data.detail === 'Your session is expired!') {\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n\r\n      await axios\r\n          .post('/api/client/clientTypes', data)\r\n          .then(response => {\r\n            this.typeList = response.data\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n\r\n              if (error.response.data.detail === 'Your session is expired!') {\r\n                this.$router.push('logout')\r\n              }\r\n\r\n              Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n            }\r\n          })\r\n    },\r\n    async uploadFile() {\r\n\r\n      this.errors = []\r\n\r\n      if (document.getElementById('isProspect').value === '') {\r\n        this.errors.push('Is prospect or client?');\r\n      }\r\n\r\n      if (document.getElementById('editLanguage').value === '') {\r\n        this.errors.push('Language is required.');\r\n      }\r\n\r\n      if (document.getElementById('editStatus').value === '') {\r\n        this.errors.push('Status is required.');\r\n      }\r\n\r\n      if (document.getElementById('editType').value === '') {\r\n        this.errors.push('Source is required.');\r\n      }\r\n\r\n      if (document.getElementById('typeahead_id').value === '') {\r\n        this.errors.push('Agent is is required.');\r\n      }\r\n\r\n      if (this.content.length === 0) {\r\n        this.errors.push('Please, upload and process your .csv file.');\r\n      }\r\n\r\n      if(this.errors.length === 0){\r\n\r\n        const data = {\r\n          token: localStorage.getItem('jwt'),\r\n          userEmail: localStorage.getItem('email'),\r\n          userID: localStorage.getItem('id'),\r\n          listOfData: this.content,\r\n          uploadTo: document.getElementById('typeahead_id').value,\r\n          isProspect: document.getElementById('isProspect').value,\r\n          language: document.getElementById('editLanguage').value,\r\n          status: document.getElementById('editStatus').value,\r\n          source: document.getElementById('editType').value,\r\n          listType: this.listType,\r\n        }\r\n\r\n        await axios\r\n            .post('/api/client/uploadList', data)\r\n            .then(async response => {\r\n              if (response.status === 200) {\r\n                await Swal.fire({\r\n                  icon: 'success',\r\n                  title: 'Success',\r\n                  text: 'Uploaded successfully!'\r\n                });\r\n                this.listType = 0;\r\n              }\r\n              setTimeout(function() {\r\n                location.reload()\r\n              }, 2000);\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      }else{\r\n        let list = '';\r\n        for (let i = 0; i < this.errors.length; i++)\r\n          list += '\\n' + '<b>' + this.errors[i]+ '</b>';\r\n\r\n        await Swal.fire({\r\n          title: \"Please complete the form! \" + list,\r\n          icon: 'warning',\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    async searchAgents() {\r\n      const data = {\r\n        token: localStorage.getItem('jwt'),\r\n        searchValue: document.getElementById('typeahead_id').value\r\n      }\r\n\r\n      if(data['searchValue'].length > 3) {\r\n        await axios\r\n            .post('/api/userFinder', data)\r\n            .then(async response => {\r\n              this.itemsSearch = response.data;\r\n            })\r\n            .catch(async error => {\r\n              if (error.response) {\r\n                let list = '';\r\n                for (const property in error.response.data) {\r\n                  this.errors.push(`${property}: ${error.response.data[property]}`)\r\n                  list += '\\n' + '<b>' + error.response.data[property] + '</b>';\r\n                }\r\n\r\n                await Swal.fire({\r\n                  title: \"Please check the following: \" + list,\r\n                  icon: 'warning',\r\n                  confirmButtonClass: \"btn btn-info\",\r\n                  buttonsStyling: false,\r\n                  showCloseButton: true,\r\n                });\r\n\r\n              } else if (error.message) {\r\n                this.errors.push('Something was wrong, please contact your SysAdmin.')\r\n              }\r\n            })\r\n      }\r\n\r\n\r\n    },\r\n  },\r\n  async mounted() {\r\n\r\n    const data = {\r\n      token: localStorage.getItem('jwt'),\r\n      userEmail: localStorage.getItem('email'),\r\n      userID: localStorage.getItem('id'),\r\n      isProspect: 1,\r\n      deleted: 0,\r\n    }\r\n\r\n    await axios\r\n        .post('/api/client/clientStatus', data)\r\n        .then(response => {\r\n          this.statusList = response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if (error.response.data.detail === 'Your session is expired!') {\r\n              this.$router.push('logout')\r\n            }\r\n\r\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n\r\n    await axios\r\n        .post('/api/client/clientTypes', data)\r\n        .then(response => {\r\n          this.typeList = response.data\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n\r\n            if (error.response.data.detail === 'Your session is expired!') {\r\n              this.$router.push('logout')\r\n            }\r\n\r\n            Swal.fire(\"Oops!\", \"Status could not be loaded, please contact your SysAdmin.\", \"error\")\r\n          }\r\n        })\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\" />\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-12\">\r\n        <form>\r\n          <!-- end card -->\r\n\r\n          <div class=\"card\">\r\n            <div class=\"card-body\">\r\n              <div class=\"vstack gap-2\">\r\n                <h5 class=\"fs-14 mb-1\">Upload Your List</h5>\r\n                <input class=\"form-control\" id=\"listFile\" type=\"file\"\r\n                       accept=\"csv\" @change=\"selectedFile\"/>\r\n                <div class=\"row\">\r\n                  <div class=\"col-lg-6\">\r\n                    <label for=\"isProspect\" class=\"form-label\">Is Prospect</label>\r\n                    <select class=\"form-select mb-2\" aria-label=\"isProspect\" id=\"isProspect\" name=\"isProspect\" @change=\"changeType\">\r\n                      <option value=\"\">...</option>\r\n                      <option value=\"1\">Yes</option>\r\n                      <option value=\"0\">No</option>\r\n                    </select>\r\n                  </div>\r\n                  <div class=\"col-lg-6\">\r\n                    <label for=\"editLanguage\" class=\"form-label\">Language</label>\r\n                    <select class=\"form-select mb-2\" aria-label=\"Language\" id=\"editLanguage\" name=\"editLanguage\">\r\n                      <option value=\"\">...</option>\r\n                      <option value=\"1\">English</option>\r\n                      <option value=\"2\">Spanish</option>\r\n                      <option value=\"3\">Take from List</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col-lg-6\">\r\n                    <label for=\"editStatus\" class=\"form-label\">Status</label>\r\n                    <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editStatus\" name=\"editStatus\">\r\n                      <option value=\"\">...</option>\r\n                      <option v-for=\"(status, statusIndex) of statusList\" :key=\"statusIndex\" v-bind:value=\"status.statusID\">{{ status.name }}</option>\r\n                    </select>\r\n                  </div>\r\n                  <div class=\"col-lg-6\">\r\n                    <label for=\"editType\" class=\"form-label\">Source</label>\r\n                    <select class=\"form-select mb-2\" aria-label=\"Status\" id=\"editType\" name=\"editType\">\r\n                      <option value=\"\">...</option>\r\n                      <option v-for=\"(type, typeIndex) of typeList\" :key=\"typeIndex\" v-bind:value=\"type.name\">{{ type.name }}</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col-md-6\">\r\n                    <label for=\"typeahead_id\" class=\"form-label\">Assigned To</label>\r\n                    <SimpleTypeahead\r\n                        id=\"typeahead_id\"\r\n                        placeholder=\"Type your agent search...\"\r\n                        :items=\"itemsSearch\"\r\n                        :minInputLength=\"3\"\r\n                        :class=\"'form-control mb-2'\"\r\n                        @onInput=\"searchAgents\"\r\n                        @selectItem=\"selectItemEventHandler\"\r\n                    >\r\n                    </SimpleTypeahead>\r\n                  </div>\r\n                  <div class=\"col-md-6\"></div>\r\n                </div>\r\n                <!--                <DropZone @drop.prevent=\"drop\" @change=\"selectedFile\" />-->\r\n\r\n                <div class=\"border rounded\" v-for=\"(file, index) of files\" :key=\"index\">\r\n                  <div class=\"d-flex align-items-center p-2\">\r\n                    <div class=\"flex-grow-1\">\r\n                      <div class=\"pt-1\">\r\n                        <h5 class=\"fs-14 mb-1\" data-dz-name=\"\">\r\n                          {{ file.name }}\r\n                        </h5>\r\n                        <p class=\"fs-13 text-muted mb-0\" data-dz-size=\"\">\r\n                          <strong>{{ file.size / 1024 }}</strong> KB\r\n                        </p>\r\n                        <strong class=\"error text-danger\" data-dz-errormessage=\"\"></strong>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"flex-shrink-0 ms-3\">\r\n                      <button data-dz-remove=\"\" class=\"btn btn-sm btn-danger\" @click=\"deleteRecord\">\r\n                        Delete\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"text-end mb-3\">\r\n                  <button type=\"button\" class=\"btn btn-success w-sm\" @click=\"handleFileUpload\">Process File</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- end card -->\r\n        </form>\r\n      </div>\r\n      <!-- end col -->\r\n\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n\r\n          <!-- Tables Border Colors -->\r\n          <table class=\"table table-bordered border-secondary table-nowrap\" v-if=\"parsed\">\r\n            <thead>\r\n            <tr>\r\n              <th scope=\"col\">\r\n                ID\r\n              </th>\r\n              <th v-for=\"(header, key) in content.meta.fields\"\r\n                  v-bind:key=\"'header-'+key\" scope=\"col\">{{ header }}\r\n              </th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr v-for=\"(row, rowKey) in content.data\"\r\n                v-bind:key=\"'row-'+rowKey\">\r\n              <td>\r\n                <b>{{ (rowKey+1) }}</b>\r\n              </td>\r\n              <td v-for=\"(column, columnKey) in content.meta.fields\"\r\n                  v-bind:key=\"'row-'+rowKey+'-column-'+columnKey\">\r\n                {{ content.data[rowKey][column] }}\r\n              </td>\r\n            </tr>\r\n            </tbody>\r\n          </table>\r\n\r\n        </div>\r\n      </div>\r\n      <div class=\"text-end mb-3\">\r\n        <button type=\"button\" class=\"btn btn-success w-sm\" @click=\"uploadFile\">Upload File</button>\r\n      </div>\r\n\r\n    </div>\r\n    <!-- end row -->\r\n  </Layout>\r\n</template>"]}]}